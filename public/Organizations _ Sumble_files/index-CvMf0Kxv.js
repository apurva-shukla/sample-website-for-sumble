import{r as mse,j as l,a as Ck,f as es,h as N0,z as A0,L as Mk,u as T0,b as xB,c as bB,d as vB,e as SB,g as yse,i as wB,F as zg,o as CB,k as MB,s as jB,l as NB,m as Qw,n as jk,y as Nk,p as AB,q as Ak,t as xse,w as bse,v as Ro,V as TB,x as vse,A as Sse,B as wse,C as Cse,D as Mse,E as jse,G as Nse,H as Ase,I as tS,J as Ky,K as Tse,M as Ese,N as Dse,O as EB,P as DB,Q as kB,R as IB,S as Fg,T as gi,U as qi,W as Ca,X as kse,Y as Ise,Z as Lse,_ as Ose,$ as LB,a0 as Rse,a1 as _se,a2 as OB,a3 as RB,a4 as _B,a5 as gE,a6 as sn,a7 as Pse,a8 as PB,a9 as zse,aa as tP,ab as Fse,ac as $se,ad as nP,ae as Bse,af as Vse,ag as E0,ah as Use,ai as Hse,aj as Gse,ak as Wse,al as Yse,am as Kse,an as qse,ao as Tk,ap as Ek,aq as Xw,ar as Zse,as as Qse,at as Xse}from"./utils-CXlDSvAP.js";import{r as Dk,g as $g,a as w,R as Xe,s as zB,c as c1,d as FB,i as Jse,e as eie,f as tie,h as nie}from"./sentry-CWHMB8BE.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var yN={exports:{}},fy={},xN={exports:{}},bN={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP;function sie(){return sP||(sP=1,(function(e){function t(P,B){var Y=P.length;P.push(B);e:for(;0<Y;){var K=Y-1>>>1,te=P[K];if(0<i(te,B))P[K]=B,P[Y]=te,Y=K;else break e}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var B=P[0],Y=P.pop();if(Y!==B){P[0]=Y;e:for(var K=0,te=P.length,se=te>>>1;K<se;){var fe=2*(K+1)-1,oe=P[fe],Ee=fe+1,ye=P[Ee];if(0>i(oe,Y))Ee<te&&0>i(ye,oe)?(P[K]=ye,P[Ee]=Y,K=Ee):(P[K]=oe,P[fe]=Y,K=fe);else if(Ee<te&&0>i(ye,Y))P[K]=ye,P[Ee]=Y,K=Ee;else break e}}return B}function i(P,B){var Y=P.sortIndex-B.sortIndex;return Y!==0?Y:P.id-B.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],h=1,f=null,g=3,m=!1,y=!1,b=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function T(P){for(var B=n(u);B!==null;){if(B.callback===null)s(u);else if(B.startTime<=P)s(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function E(P){if(b=!1,T(P),!y)if(n(c)!==null)y=!0,k||(k=!0,U());else{var B=n(u);B!==null&&$(E,B.startTime-P)}}var k=!1,L=-1,I=5,_=-1;function F(){return S?!0:!(e.unstable_now()-_<I)}function G(){if(S=!1,k){var P=e.unstable_now();_=P;var B=!0;try{e:{y=!1,b&&(b=!1,M(L),L=-1),m=!0;var Y=g;try{t:{for(T(P),f=n(c);f!==null&&!(f.expirationTime>P&&F());){var K=f.callback;if(typeof K=="function"){f.callback=null,g=f.priorityLevel;var te=K(f.expirationTime<=P);if(P=e.unstable_now(),typeof te=="function"){f.callback=te,T(P),B=!0;break t}f===n(c)&&s(c),T(P)}else s(c);f=n(c)}if(f!==null)B=!0;else{var se=n(u);se!==null&&$(E,se.startTime-P),B=!1}}break e}finally{f=null,g=Y,m=!1}B=void 0}}finally{B?U():k=!1}}}var U;if(typeof N=="function")U=function(){N(G)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,z=H.port2;H.port1.onmessage=G,U=function(){z.postMessage(null)}}else U=function(){C(G,0)};function $(P,B){L=C(function(){P(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(P){switch(g){case 1:case 2:case 3:var B=3;break;default:B=g}var Y=g;g=B;try{return P()}finally{g=Y}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(P,B){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var Y=g;g=P;try{return B()}finally{g=Y}},e.unstable_scheduleCallback=function(P,B,Y){var K=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?K+Y:K):Y=K,P){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=Y+te,P={id:h++,callback:B,priorityLevel:P,startTime:Y,expirationTime:te,sortIndex:-1},Y>K?(P.sortIndex=Y,t(u,P),n(c)===null&&P===n(u)&&(b?(M(L),L=-1):b=!0,$(E,Y-K))):(P.sortIndex=te,t(c,P),y||m||(y=!0,k||(k=!0,U()))),P},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(P){var B=g;return function(){var Y=g;g=B;try{return P.apply(this,arguments)}finally{g=Y}}}})(bN)),bN}var iP;function iie(){return iP||(iP=1,xN.exports=sie()),xN.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP;function rie(){if(rP)return fy;rP=1;var e=iie(),t=Dk(),n=mse();function s(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)p+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function r(d){var p=d,x=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,(p.flags&4098)!==0&&(x=p.return),d=p.return;while(d)}return p.tag===3?x:null}function a(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function o(d){if(d.tag===31){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function c(d){if(r(d)!==d)throw Error(s(188))}function u(d){var p=d.alternate;if(!p){if(p=r(d),p===null)throw Error(s(188));return p!==d?null:d}for(var x=d,v=p;;){var j=x.return;if(j===null)break;var A=j.alternate;if(A===null){if(v=j.return,v!==null){x=v;continue}break}if(j.child===A.child){for(A=j.child;A;){if(A===x)return c(j),d;if(A===v)return c(j),p;A=A.sibling}throw Error(s(188))}if(x.return!==v.return)x=j,v=A;else{for(var R=!1,V=j.child;V;){if(V===x){R=!0,x=j,v=A;break}if(V===v){R=!0,v=j,x=A;break}V=V.sibling}if(!R){for(V=A.child;V;){if(V===x){R=!0,x=A,v=j;break}if(V===v){R=!0,v=A,x=j;break}V=V.sibling}if(!R)throw Error(s(189))}}if(x.alternate!==v)throw Error(s(190))}if(x.tag!==3)throw Error(s(188));return x.stateNode.current===x?d:p}function h(d){var p=d.tag;if(p===5||p===26||p===27||p===6)return d;for(d=d.child;d!==null;){if(p=h(d),p!==null)return p;d=d.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function U(d){return d===null||typeof d!="object"?null:(d=G&&d[G]||d["@@iterator"],typeof d=="function"?d:null)}var H=Symbol.for("react.client.reference");function z(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===H?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case b:return"Fragment";case C:return"Profiler";case S:return"StrictMode";case E:return"Suspense";case k:return"SuspenseList";case _:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case y:return"Portal";case N:return d.displayName||"Context";case M:return(d._context.displayName||"Context")+".Consumer";case T:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case L:return p=d.displayName||null,p!==null?p:z(d.type)||"Memo";case I:p=d._payload,d=d._init;try{return z(d(p))}catch{}}return null}var $=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},K=[],te=-1;function se(d){return{current:d}}function fe(d){0>te||(d.current=K[te],K[te]=null,te--)}function oe(d,p){te++,K[te]=d.current,d.current=p}var Ee=se(null),ye=se(null),je=se(null),me=se(null);function be(d,p){switch(oe(je,p),oe(ye,d),oe(Ee,null),p.nodeType){case 9:case 11:d=(d=p.documentElement)&&(d=d.namespaceURI)?M_(d):0;break;default:if(d=p.tagName,p=p.namespaceURI)p=M_(p),d=j_(p,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}fe(Ee),oe(Ee,d)}function Ae(){fe(Ee),fe(ye),fe(je)}function Te(d){d.memoizedState!==null&&oe(me,d);var p=Ee.current,x=j_(p,d.type);p!==x&&(oe(ye,d),oe(Ee,x))}function Be(d){ye.current===d&&(fe(Ee),fe(ye)),me.current===d&&(fe(me),cy._currentValue=Y)}var Ge,Je;function et(d){if(Ge===void 0)try{throw Error()}catch(x){var p=x.stack.trim().match(/\n( *(at )?)/);Ge=p&&p[1]||"",Je=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+d+Je}var lt=!1;function pt(d,p){if(!d||lt)return"";lt=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(p){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(ue){var ae=ue}Reflect.construct(d,[],ve)}else{try{ve.call()}catch(ue){ae=ue}d.call(ve.prototype)}}else{try{throw Error()}catch(ue){ae=ue}(ve=d())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(ue){if(ue&&ae&&typeof ue.stack=="string")return[ue.stack,ae.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=v.DetermineComponentFrameRoot(),R=A[0],V=A[1];if(R&&V){var q=R.split(`
`),re=V.split(`
`);for(j=v=0;v<q.length&&!q[v].includes("DetermineComponentFrameRoot");)v++;for(;j<re.length&&!re[j].includes("DetermineComponentFrameRoot");)j++;if(v===q.length||j===re.length)for(v=q.length-1,j=re.length-1;1<=v&&0<=j&&q[v]!==re[j];)j--;for(;1<=v&&0<=j;v--,j--)if(q[v]!==re[j]){if(v!==1||j!==1)do if(v--,j--,0>j||q[v]!==re[j]){var pe=`
`+q[v].replace(" at new "," at ");return d.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",d.displayName)),pe}while(1<=v&&0<=j);break}}}finally{lt=!1,Error.prepareStackTrace=x}return(x=d?d.displayName||d.name:"")?et(x):""}function it(d,p){switch(d.tag){case 26:case 27:case 5:return et(d.type);case 16:return et("Lazy");case 13:return d.child!==p&&p!==null?et("Suspense Fallback"):et("Suspense");case 19:return et("SuspenseList");case 0:case 15:return pt(d.type,!1);case 11:return pt(d.type.render,!1);case 1:return pt(d.type,!0);case 31:return et("Activity");default:return""}}function dn(d){try{var p="",x=null;do p+=it(d,x),x=d,d=d.return;while(d);return p}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var kt=Object.prototype.hasOwnProperty,Lt=e.unstable_scheduleCallback,Ye=e.unstable_cancelCallback,Yt=e.unstable_shouldYield,An=e.unstable_requestPaint,Xt=e.unstable_now,Jt=e.unstable_getCurrentPriorityLevel,le=e.unstable_ImmediatePriority,ge=e.unstable_UserBlockingPriority,Qe=e.unstable_NormalPriority,De=e.unstable_LowPriority,Ze=e.unstable_IdlePriority,gn=e.log,$t=e.unstable_setDisableYieldValue,Wn=null,Xn=null;function ai(d){if(typeof gn=="function"&&$t(d),Xn&&typeof Xn.setStrictMode=="function")try{Xn.setStrictMode(Wn,d)}catch{}}var Sn=Math.clz32?Math.clz32:_f,Xr=Math.log,bi=Math.LN2;function _f(d){return d>>>=0,d===0?32:31-(Xr(d)/bi|0)|0}var il=256,uu=262144,ql=4194304;function Jr(d){var p=d&42;if(p!==0)return p;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function Zl(d,p,x){var v=d.pendingLanes;if(v===0)return 0;var j=0,A=d.suspendedLanes,R=d.pingedLanes;d=d.warmLanes;var V=v&134217727;return V!==0?(v=V&~A,v!==0?j=Jr(v):(R&=V,R!==0?j=Jr(R):x||(x=V&~d,x!==0&&(j=Jr(x))))):(V=v&~A,V!==0?j=Jr(V):R!==0?j=Jr(R):x||(x=v&~d,x!==0&&(j=Jr(x)))),j===0?0:p!==0&&p!==j&&(p&A)===0&&(A=j&-j,x=p&-p,A>=x||A===32&&(x&4194048)!==0)?p:j}function Aa(d,p){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&p)===0}function du(d,p){switch(d){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pf(){var d=ql;return ql<<=1,(ql&62914560)===0&&(ql=4194304),d}function Gd(d){for(var p=[],x=0;31>x;x++)p.push(d);return p}function Z(d,p){d.pendingLanes|=p,p!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function ne(d,p,x,v,j,A){var R=d.pendingLanes;d.pendingLanes=x,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=x,d.entangledLanes&=x,d.errorRecoveryDisabledLanes&=x,d.shellSuspendCounter=0;var V=d.entanglements,q=d.expirationTimes,re=d.hiddenUpdates;for(x=R&~x;0<x;){var pe=31-Sn(x),ve=1<<pe;V[pe]=0,q[pe]=-1;var ae=re[pe];if(ae!==null)for(re[pe]=null,pe=0;pe<ae.length;pe++){var ue=ae[pe];ue!==null&&(ue.lane&=-536870913)}x&=~ve}v!==0&&W(d,v,0),A!==0&&j===0&&d.tag!==0&&(d.suspendedLanes|=A&~(R&~p))}function W(d,p,x){d.pendingLanes|=p,d.suspendedLanes&=~p;var v=31-Sn(p);d.entangledLanes|=p,d.entanglements[v]=d.entanglements[v]|1073741824|x&261930}function ce(d,p){var x=d.entangledLanes|=p;for(d=d.entanglements;x;){var v=31-Sn(x),j=1<<v;j&p|d[v]&p&&(d[v]|=p),x&=~j}}function we(d,p){var x=p&-p;return x=(x&42)!==0?1:Ve(x),(x&(d.suspendedLanes|p))!==0?0:x}function Ve(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function at(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function st(){var d=B.p;return d!==0?d:(d=window.event,d===void 0?32:K_(d.type))}function ct(d,p){var x=B.p;try{return B.p=d,p()}finally{B.p=x}}var ut=Math.random().toString(36).slice(2),We="__reactFiber$"+ut,Ke="__reactProps$"+ut,Bt="__reactContainer$"+ut,$n="__reactEvents$"+ut,Hs="__reactListeners$"+ut,Ti="__reactHandles$"+ut,Jn="__reactResources$"+ut,wn="__reactMarker$"+ut;function Co(d){delete d[We],delete d[Ke],delete d[$n],delete d[Hs],delete d[Ti]}function Ta(d){var p=d[We];if(p)return p;for(var x=d.parentNode;x;){if(p=x[Bt]||x[We]){if(x=p.alternate,p.child!==null||x!==null&&x.child!==null)for(d=I_(d);d!==null;){if(x=d[We])return x;d=I_(d)}return p}d=x,x=d.parentNode}return null}function gr(d){if(d=d[We]||d[Bt]){var p=d.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return d}return null}function Xi(d){var p=d.tag;if(p===5||p===26||p===27||p===6)return d.stateNode;throw Error(s(33))}function rl(d){var p=d[Jn];return p||(p=d[Jn]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function rs(d){d[wn]=!0}var al=new Set,Wd={};function Ea(d,p){Vt(d,p),Vt(d+"Capture",p)}function Vt(d,p){for(Wd[d]=p,d=0;d<p.length;d++)al.add(p[d])}var vi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},ol={};function Ls(d){return kt.call(ol,d)?!0:kt.call(Ql,d)?!1:vi.test(d)?ol[d]=!0:(Ql[d]=!0,!1)}function Xl(d,p,x){if(Ls(p))if(x===null)d.removeAttribute(p);else{switch(typeof x){case"undefined":case"function":case"symbol":d.removeAttribute(p);return;case"boolean":var v=p.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){d.removeAttribute(p);return}}d.setAttribute(p,""+x)}}function Yd(d,p,x){if(x===null)d.removeAttribute(p);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(p);return}d.setAttribute(p,""+x)}}function Mo(d,p,x,v){if(v===null)d.removeAttribute(x);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(x);return}d.setAttributeNS(p,x,""+v)}}function Da(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function m3(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function cte(d,p,x){var v=Object.getOwnPropertyDescriptor(d.constructor.prototype,p);if(!d.hasOwnProperty(p)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var j=v.get,A=v.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return j.call(this)},set:function(R){x=""+R,A.call(this,R)}}),Object.defineProperty(d,p,{enumerable:v.enumerable}),{getValue:function(){return x},setValue:function(R){x=""+R},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function uM(d){if(!d._valueTracker){var p=m3(d)?"checked":"value";d._valueTracker=cte(d,p,""+d[p])}}function y3(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var x=p.getValue(),v="";return d&&(v=m3(d)?d.checked?"true":"false":d.value),d=v,d!==x?(p.setValue(d),!0):!1}function Jb(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var ute=/[\n"\\]/g;function ka(d){return d.replace(ute,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function dM(d,p,x,v,j,A,R,V){d.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?d.type=R:d.removeAttribute("type"),p!=null?R==="number"?(p===0&&d.value===""||d.value!=p)&&(d.value=""+Da(p)):d.value!==""+Da(p)&&(d.value=""+Da(p)):R!=="submit"&&R!=="reset"||d.removeAttribute("value"),p!=null?hM(d,R,Da(p)):x!=null?hM(d,R,Da(x)):v!=null&&d.removeAttribute("value"),j==null&&A!=null&&(d.defaultChecked=!!A),j!=null&&(d.checked=j&&typeof j!="function"&&typeof j!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?d.name=""+Da(V):d.removeAttribute("name")}function x3(d,p,x,v,j,A,R,V){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(d.type=A),p!=null||x!=null){if(!(A!=="submit"&&A!=="reset"||p!=null)){uM(d);return}x=x!=null?""+Da(x):"",p=p!=null?""+Da(p):x,V||p===d.value||(d.value=p),d.defaultValue=p}v=v??j,v=typeof v!="function"&&typeof v!="symbol"&&!!v,d.checked=V?d.checked:!!v,d.defaultChecked=!!v,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(d.name=R),uM(d)}function hM(d,p,x){p==="number"&&Jb(d.ownerDocument)===d||d.defaultValue===""+x||(d.defaultValue=""+x)}function zf(d,p,x,v){if(d=d.options,p){p={};for(var j=0;j<x.length;j++)p["$"+x[j]]=!0;for(x=0;x<d.length;x++)j=p.hasOwnProperty("$"+d[x].value),d[x].selected!==j&&(d[x].selected=j),j&&v&&(d[x].defaultSelected=!0)}else{for(x=""+Da(x),p=null,j=0;j<d.length;j++){if(d[j].value===x){d[j].selected=!0,v&&(d[j].defaultSelected=!0);return}p!==null||d[j].disabled||(p=d[j])}p!==null&&(p.selected=!0)}}function b3(d,p,x){if(p!=null&&(p=""+Da(p),p!==d.value&&(d.value=p),x==null)){d.defaultValue!==p&&(d.defaultValue=p);return}d.defaultValue=x!=null?""+Da(x):""}function v3(d,p,x,v){if(p==null){if(v!=null){if(x!=null)throw Error(s(92));if($(v)){if(1<v.length)throw Error(s(93));v=v[0]}x=v}x==null&&(x=""),p=x}x=Da(p),d.defaultValue=x,v=d.textContent,v===x&&v!==""&&v!==null&&(d.value=v),uM(d)}function Ff(d,p){if(p){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=p;return}}d.textContent=p}var dte=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function S3(d,p,x){var v=p.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?v?d.setProperty(p,""):p==="float"?d.cssFloat="":d[p]="":v?d.setProperty(p,x):typeof x!="number"||x===0||dte.has(p)?p==="float"?d.cssFloat=x:d[p]=(""+x).trim():d[p]=x+"px"}function w3(d,p,x){if(p!=null&&typeof p!="object")throw Error(s(62));if(d=d.style,x!=null){for(var v in x)!x.hasOwnProperty(v)||p!=null&&p.hasOwnProperty(v)||(v.indexOf("--")===0?d.setProperty(v,""):v==="float"?d.cssFloat="":d[v]="");for(var j in p)v=p[j],p.hasOwnProperty(j)&&x[j]!==v&&S3(d,j,v)}else for(var A in p)p.hasOwnProperty(A)&&S3(d,A,p[A])}function fM(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hte=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fte=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ev(d){return fte.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function Jl(){}var pM=null;function gM(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var $f=null,Bf=null;function C3(d){var p=gr(d);if(p&&(d=p.stateNode)){var x=d[Ke]||null;e:switch(d=p.stateNode,p.type){case"input":if(dM(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),p=x.name,x.type==="radio"&&p!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+ka(""+p)+'"][type="radio"]'),p=0;p<x.length;p++){var v=x[p];if(v!==d&&v.form===d.form){var j=v[Ke]||null;if(!j)throw Error(s(90));dM(v,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(p=0;p<x.length;p++)v=x[p],v.form===d.form&&y3(v)}break e;case"textarea":b3(d,x.value,x.defaultValue);break e;case"select":p=x.value,p!=null&&zf(d,!!x.multiple,p,!1)}}}var mM=!1;function M3(d,p,x){if(mM)return d(p,x);mM=!0;try{var v=d(p);return v}finally{if(mM=!1,($f!==null||Bf!==null)&&(Bv(),$f&&(p=$f,d=Bf,Bf=$f=null,C3(p),d)))for(p=0;p<d.length;p++)C3(d[p])}}function Nm(d,p){var x=d.stateNode;if(x===null)return null;var v=x[Ke]||null;if(v===null)return null;x=v[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(d=d.type,v=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!v;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(s(231,p,typeof x));return x}var ec=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yM=!1;if(ec)try{var Am={};Object.defineProperty(Am,"passive",{get:function(){yM=!0}}),window.addEventListener("test",Am,Am),window.removeEventListener("test",Am,Am)}catch{yM=!1}var hu=null,xM=null,tv=null;function j3(){if(tv)return tv;var d,p=xM,x=p.length,v,j="value"in hu?hu.value:hu.textContent,A=j.length;for(d=0;d<x&&p[d]===j[d];d++);var R=x-d;for(v=1;v<=R&&p[x-v]===j[A-v];v++);return tv=j.slice(d,1<v?1-v:void 0)}function nv(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function sv(){return!0}function N3(){return!1}function Nr(d){function p(x,v,j,A,R){this._reactName=x,this._targetInst=j,this.type=v,this.nativeEvent=A,this.target=R,this.currentTarget=null;for(var V in d)d.hasOwnProperty(V)&&(x=d[V],this[V]=x?x(A):A[V]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?sv:N3,this.isPropagationStopped=N3,this}return f(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=sv)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=sv)},persist:function(){},isPersistent:sv}),p}var Kd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iv=Nr(Kd),Tm=f({},Kd,{view:0,detail:0}),pte=Nr(Tm),bM,vM,Em,rv=f({},Tm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wM,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Em&&(Em&&d.type==="mousemove"?(bM=d.screenX-Em.screenX,vM=d.screenY-Em.screenY):vM=bM=0,Em=d),bM)},movementY:function(d){return"movementY"in d?d.movementY:vM}}),A3=Nr(rv),gte=f({},rv,{dataTransfer:0}),mte=Nr(gte),yte=f({},Tm,{relatedTarget:0}),SM=Nr(yte),xte=f({},Kd,{animationName:0,elapsedTime:0,pseudoElement:0}),bte=Nr(xte),vte=f({},Kd,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Ste=Nr(vte),wte=f({},Kd,{data:0}),T3=Nr(wte),Cte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nte(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=jte[d])?!!p[d]:!1}function wM(){return Nte}var Ate=f({},Tm,{key:function(d){if(d.key){var p=Cte[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=nv(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Mte[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wM,charCode:function(d){return d.type==="keypress"?nv(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?nv(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Tte=Nr(Ate),Ete=f({},rv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E3=Nr(Ete),Dte=f({},Tm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wM}),kte=Nr(Dte),Ite=f({},Kd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lte=Nr(Ite),Ote=f({},rv,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Rte=Nr(Ote),_te=f({},Kd,{newState:0,oldState:0}),Pte=Nr(_te),zte=[9,13,27,32],CM=ec&&"CompositionEvent"in window,Dm=null;ec&&"documentMode"in document&&(Dm=document.documentMode);var Fte=ec&&"TextEvent"in window&&!Dm,D3=ec&&(!CM||Dm&&8<Dm&&11>=Dm),k3=" ",I3=!1;function L3(d,p){switch(d){case"keyup":return zte.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function O3(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Vf=!1;function $te(d,p){switch(d){case"compositionend":return O3(p);case"keypress":return p.which!==32?null:(I3=!0,k3);case"textInput":return d=p.data,d===k3&&I3?null:d;default:return null}}function Bte(d,p){if(Vf)return d==="compositionend"||!CM&&L3(d,p)?(d=j3(),tv=xM=hu=null,Vf=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return D3&&p.locale!=="ko"?null:p.data;default:return null}}var Vte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R3(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!Vte[d.type]:p==="textarea"}function _3(d,p,x,v){$f?Bf?Bf.push(v):Bf=[v]:$f=v,p=Kv(p,"onChange"),0<p.length&&(x=new iv("onChange","change",null,x,v),d.push({event:x,listeners:p}))}var km=null,Im=null;function Ute(d){x_(d,0)}function av(d){var p=Xi(d);if(y3(p))return d}function P3(d,p){if(d==="change")return p}var z3=!1;if(ec){var MM;if(ec){var jM="oninput"in document;if(!jM){var F3=document.createElement("div");F3.setAttribute("oninput","return;"),jM=typeof F3.oninput=="function"}MM=jM}else MM=!1;z3=MM&&(!document.documentMode||9<document.documentMode)}function $3(){km&&(km.detachEvent("onpropertychange",B3),Im=km=null)}function B3(d){if(d.propertyName==="value"&&av(Im)){var p=[];_3(p,Im,d,gM(d)),M3(Ute,p)}}function Hte(d,p,x){d==="focusin"?($3(),km=p,Im=x,km.attachEvent("onpropertychange",B3)):d==="focusout"&&$3()}function Gte(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return av(Im)}function Wte(d,p){if(d==="click")return av(p)}function Yte(d,p){if(d==="input"||d==="change")return av(p)}function Kte(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var ea=typeof Object.is=="function"?Object.is:Kte;function Lm(d,p){if(ea(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var x=Object.keys(d),v=Object.keys(p);if(x.length!==v.length)return!1;for(v=0;v<x.length;v++){var j=x[v];if(!kt.call(p,j)||!ea(d[j],p[j]))return!1}return!0}function V3(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function U3(d,p){var x=V3(d);d=0;for(var v;x;){if(x.nodeType===3){if(v=d+x.textContent.length,d<=p&&v>=p)return{node:x,offset:p-d};d=v}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=V3(x)}}function H3(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?H3(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function G3(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var p=Jb(d.document);p instanceof d.HTMLIFrameElement;){try{var x=typeof p.contentWindow.location.href=="string"}catch{x=!1}if(x)d=p.contentWindow;else break;p=Jb(d.document)}return p}function NM(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}var qte=ec&&"documentMode"in document&&11>=document.documentMode,Uf=null,AM=null,Om=null,TM=!1;function W3(d,p,x){var v=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;TM||Uf==null||Uf!==Jb(v)||(v=Uf,"selectionStart"in v&&NM(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Om&&Lm(Om,v)||(Om=v,v=Kv(AM,"onSelect"),0<v.length&&(p=new iv("onSelect","select",null,p,x),d.push({event:p,listeners:v}),p.target=Uf)))}function qd(d,p){var x={};return x[d.toLowerCase()]=p.toLowerCase(),x["Webkit"+d]="webkit"+p,x["Moz"+d]="moz"+p,x}var Hf={animationend:qd("Animation","AnimationEnd"),animationiteration:qd("Animation","AnimationIteration"),animationstart:qd("Animation","AnimationStart"),transitionrun:qd("Transition","TransitionRun"),transitionstart:qd("Transition","TransitionStart"),transitioncancel:qd("Transition","TransitionCancel"),transitionend:qd("Transition","TransitionEnd")},EM={},Y3={};ec&&(Y3=document.createElement("div").style,"AnimationEvent"in window||(delete Hf.animationend.animation,delete Hf.animationiteration.animation,delete Hf.animationstart.animation),"TransitionEvent"in window||delete Hf.transitionend.transition);function Zd(d){if(EM[d])return EM[d];if(!Hf[d])return d;var p=Hf[d],x;for(x in p)if(p.hasOwnProperty(x)&&x in Y3)return EM[d]=p[x];return d}var K3=Zd("animationend"),q3=Zd("animationiteration"),Z3=Zd("animationstart"),Zte=Zd("transitionrun"),Qte=Zd("transitionstart"),Xte=Zd("transitioncancel"),Q3=Zd("transitionend"),X3=new Map,DM="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");DM.push("scrollEnd");function jo(d,p){X3.set(d,p),Ea(p,[d])}var ov=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(p))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},Ia=[],Gf=0,kM=0;function lv(){for(var d=Gf,p=kM=Gf=0;p<d;){var x=Ia[p];Ia[p++]=null;var v=Ia[p];Ia[p++]=null;var j=Ia[p];Ia[p++]=null;var A=Ia[p];if(Ia[p++]=null,v!==null&&j!==null){var R=v.pending;R===null?j.next=j:(j.next=R.next,R.next=j),v.pending=j}A!==0&&J3(x,j,A)}}function cv(d,p,x,v){Ia[Gf++]=d,Ia[Gf++]=p,Ia[Gf++]=x,Ia[Gf++]=v,kM|=v,d.lanes|=v,d=d.alternate,d!==null&&(d.lanes|=v)}function IM(d,p,x,v){return cv(d,p,x,v),uv(d)}function Qd(d,p){return cv(d,null,null,p),uv(d)}function J3(d,p,x){d.lanes|=x;var v=d.alternate;v!==null&&(v.lanes|=x);for(var j=!1,A=d.return;A!==null;)A.childLanes|=x,v=A.alternate,v!==null&&(v.childLanes|=x),A.tag===22&&(d=A.stateNode,d===null||d._visibility&1||(j=!0)),d=A,A=A.return;return d.tag===3?(A=d.stateNode,j&&p!==null&&(j=31-Sn(x),d=A.hiddenUpdates,v=d[j],v===null?d[j]=[p]:v.push(p),p.lane=x|536870912),A):null}function uv(d){if(50<ny)throw ny=0,Bj=null,Error(s(185));for(var p=d.return;p!==null;)d=p,p=d.return;return d.tag===3?d.stateNode:null}var Wf={};function Jte(d,p,x,v){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(d,p,x,v){return new Jte(d,p,x,v)}function LM(d){return d=d.prototype,!(!d||!d.isReactComponent)}function tc(d,p){var x=d.alternate;return x===null?(x=ta(d.tag,p,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=p,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&65011712,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,p=d.dependencies,x.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x.refCleanup=d.refCleanup,x}function e5(d,p){d.flags&=65011714;var x=d.alternate;return x===null?(d.childLanes=0,d.lanes=p,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,p=x.dependencies,d.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),d}function dv(d,p,x,v,j,A){var R=0;if(v=d,typeof d=="function")LM(d)&&(R=1);else if(typeof d=="string")R=ise(d,x,Ee.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case _:return d=ta(31,x,p,j),d.elementType=_,d.lanes=A,d;case b:return Xd(x.children,j,A,p);case S:R=8,j|=24;break;case C:return d=ta(12,x,p,j|2),d.elementType=C,d.lanes=A,d;case E:return d=ta(13,x,p,j),d.elementType=E,d.lanes=A,d;case k:return d=ta(19,x,p,j),d.elementType=k,d.lanes=A,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case N:R=10;break e;case M:R=9;break e;case T:R=11;break e;case L:R=14;break e;case I:R=16,v=null;break e}R=29,x=Error(s(130,d===null?"null":typeof d,"")),v=null}return p=ta(R,x,p,j),p.elementType=d,p.type=v,p.lanes=A,p}function Xd(d,p,x,v){return d=ta(7,d,v,p),d.lanes=x,d}function OM(d,p,x){return d=ta(6,d,null,p),d.lanes=x,d}function t5(d){var p=ta(18,null,null,0);return p.stateNode=d,p}function RM(d,p,x){return p=ta(4,d.children!==null?d.children:[],d.key,p),p.lanes=x,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}var n5=new WeakMap;function La(d,p){if(typeof d=="object"&&d!==null){var x=n5.get(d);return x!==void 0?x:(p={value:d,source:p,stack:dn(p)},n5.set(d,p),p)}return{value:d,source:p,stack:dn(p)}}var Yf=[],Kf=0,hv=null,Rm=0,Oa=[],Ra=0,fu=null,ll=1,cl="";function nc(d,p){Yf[Kf++]=Rm,Yf[Kf++]=hv,hv=d,Rm=p}function s5(d,p,x){Oa[Ra++]=ll,Oa[Ra++]=cl,Oa[Ra++]=fu,fu=d;var v=ll;d=cl;var j=32-Sn(v)-1;v&=~(1<<j),x+=1;var A=32-Sn(p)+j;if(30<A){var R=j-j%5;A=(v&(1<<R)-1).toString(32),v>>=R,j-=R,ll=1<<32-Sn(p)+j|x<<j|v,cl=A+d}else ll=1<<A|x<<j|v,cl=d}function _M(d){d.return!==null&&(nc(d,1),s5(d,1,0))}function PM(d){for(;d===hv;)hv=Yf[--Kf],Yf[Kf]=null,Rm=Yf[--Kf],Yf[Kf]=null;for(;d===fu;)fu=Oa[--Ra],Oa[Ra]=null,cl=Oa[--Ra],Oa[Ra]=null,ll=Oa[--Ra],Oa[Ra]=null}function i5(d,p){Oa[Ra++]=ll,Oa[Ra++]=cl,Oa[Ra++]=fu,ll=p.id,cl=p.overflow,fu=d}var Ei=null,ns=null,an=!1,pu=null,_a=!1,zM=Error(s(519));function gu(d){var p=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _m(La(p,d)),zM}function r5(d){var p=d.stateNode,x=d.type,v=d.memoizedProps;switch(p[We]=d,p[Ke]=v,x){case"dialog":qt("cancel",p),qt("close",p);break;case"iframe":case"object":case"embed":qt("load",p);break;case"video":case"audio":for(x=0;x<iy.length;x++)qt(iy[x],p);break;case"source":qt("error",p);break;case"img":case"image":case"link":qt("error",p),qt("load",p);break;case"details":qt("toggle",p);break;case"input":qt("invalid",p),x3(p,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":qt("invalid",p);break;case"textarea":qt("invalid",p),v3(p,v.value,v.defaultValue,v.children)}x=v.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||p.textContent===""+x||v.suppressHydrationWarning===!0||w_(p.textContent,x)?(v.popover!=null&&(qt("beforetoggle",p),qt("toggle",p)),v.onScroll!=null&&qt("scroll",p),v.onScrollEnd!=null&&qt("scrollend",p),v.onClick!=null&&(p.onclick=Jl),p=!0):p=!1,p||gu(d,!0)}function a5(d){for(Ei=d.return;Ei;)switch(Ei.tag){case 5:case 31:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:Ei=Ei.return}}function qf(d){if(d!==Ei)return!1;if(!an)return a5(d),an=!0,!1;var p=d.tag,x;if((x=p!==3&&p!==27)&&((x=p===5)&&(x=d.type,x=!(x!=="form"&&x!=="button")||nN(d.type,d.memoizedProps)),x=!x),x&&ns&&gu(d),a5(d),p===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));ns=k_(d)}else if(p===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));ns=k_(d)}else p===27?(p=ns,Eu(d.type)?(d=oN,oN=null,ns=d):ns=p):ns=Ei?za(d.stateNode.nextSibling):null;return!0}function Jd(){ns=Ei=null,an=!1}function FM(){var d=pu;return d!==null&&(Dr===null?Dr=d:Dr.push.apply(Dr,d),pu=null),d}function _m(d){pu===null?pu=[d]:pu.push(d)}var $M=se(null),eh=null,sc=null;function mu(d,p,x){oe($M,p._currentValue),p._currentValue=x}function ic(d){d._currentValue=$M.current,fe($M)}function BM(d,p,x){for(;d!==null;){var v=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,v!==null&&(v.childLanes|=p)):v!==null&&(v.childLanes&p)!==p&&(v.childLanes|=p),d===x)break;d=d.return}}function VM(d,p,x,v){var j=d.child;for(j!==null&&(j.return=d);j!==null;){var A=j.dependencies;if(A!==null){var R=j.child;A=A.firstContext;e:for(;A!==null;){var V=A;A=j;for(var q=0;q<p.length;q++)if(V.context===p[q]){A.lanes|=x,V=A.alternate,V!==null&&(V.lanes|=x),BM(A.return,x,d),v||(R=null);break e}A=V.next}}else if(j.tag===18){if(R=j.return,R===null)throw Error(s(341));R.lanes|=x,A=R.alternate,A!==null&&(A.lanes|=x),BM(R,x,d),R=null}else R=j.child;if(R!==null)R.return=j;else for(R=j;R!==null;){if(R===d){R=null;break}if(j=R.sibling,j!==null){j.return=R.return,R=j;break}R=R.return}j=R}}function Zf(d,p,x,v){d=null;for(var j=p,A=!1;j!==null;){if(!A){if((j.flags&524288)!==0)A=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var R=j.alternate;if(R===null)throw Error(s(387));if(R=R.memoizedProps,R!==null){var V=j.type;ea(j.pendingProps.value,R.value)||(d!==null?d.push(V):d=[V])}}else if(j===me.current){if(R=j.alternate,R===null)throw Error(s(387));R.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(d!==null?d.push(cy):d=[cy])}j=j.return}d!==null&&VM(p,d,x,v),p.flags|=262144}function fv(d){for(d=d.firstContext;d!==null;){if(!ea(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function th(d){eh=d,sc=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function Di(d){return o5(eh,d)}function pv(d,p){return eh===null&&th(d),o5(d,p)}function o5(d,p){var x=p._currentValue;if(p={context:p,memoizedValue:x,next:null},sc===null){if(d===null)throw Error(s(308));sc=p,d.dependencies={lanes:0,firstContext:p},d.flags|=524288}else sc=sc.next=p;return x}var ene=typeof AbortController<"u"?AbortController:function(){var d=[],p=this.signal={aborted:!1,addEventListener:function(x,v){d.push(v)}};this.abort=function(){p.aborted=!0,d.forEach(function(x){return x()})}},tne=e.unstable_scheduleCallback,nne=e.unstable_NormalPriority,Gs={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function UM(){return{controller:new ene,data:new Map,refCount:0}}function Pm(d){d.refCount--,d.refCount===0&&tne(nne,function(){d.controller.abort()})}var zm=null,HM=0,Qf=0,Xf=null;function sne(d,p){if(zm===null){var x=zm=[];HM=0,Qf=Yj(),Xf={status:"pending",value:void 0,then:function(v){x.push(v)}}}return HM++,p.then(l5,l5),p}function l5(){if(--HM===0&&zm!==null){Xf!==null&&(Xf.status="fulfilled");var d=zm;zm=null,Qf=0,Xf=null;for(var p=0;p<d.length;p++)(0,d[p])()}}function ine(d,p){var x=[],v={status:"pending",value:null,reason:null,then:function(j){x.push(j)}};return d.then(function(){v.status="fulfilled",v.value=p;for(var j=0;j<x.length;j++)(0,x[j])(p)},function(j){for(v.status="rejected",v.reason=j,j=0;j<x.length;j++)(0,x[j])(void 0)}),v}var c5=P.S;P.S=function(d,p){WR=Xt(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&sne(d,p),c5!==null&&c5(d,p)};var nh=se(null);function GM(){var d=nh.current;return d!==null?d:Yn.pooledCache}function gv(d,p){p===null?oe(nh,nh.current):oe(nh,p.pool)}function u5(){var d=GM();return d===null?null:{parent:Gs._currentValue,pool:d}}var Jf=Error(s(460)),WM=Error(s(474)),mv=Error(s(542)),yv={then:function(){}};function d5(d){return d=d.status,d==="fulfilled"||d==="rejected"}function h5(d,p,x){switch(x=d[x],x===void 0?d.push(p):x!==p&&(p.then(Jl,Jl),p=x),p.status){case"fulfilled":return p.value;case"rejected":throw d=p.reason,p5(d),d;default:if(typeof p.status=="string")p.then(Jl,Jl);else{if(d=Yn,d!==null&&100<d.shellSuspendCounter)throw Error(s(482));d=p,d.status="pending",d.then(function(v){if(p.status==="pending"){var j=p;j.status="fulfilled",j.value=v}},function(v){if(p.status==="pending"){var j=p;j.status="rejected",j.reason=v}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw d=p.reason,p5(d),d}throw ih=p,Jf}}function sh(d){try{var p=d._init;return p(d._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(ih=x,Jf):x}}var ih=null;function f5(){if(ih===null)throw Error(s(459));var d=ih;return ih=null,d}function p5(d){if(d===Jf||d===mv)throw Error(s(483))}var ep=null,Fm=0;function xv(d){var p=Fm;return Fm+=1,ep===null&&(ep=[]),h5(ep,d,p)}function $m(d,p){p=p.props.ref,d.ref=p!==void 0?p:null}function bv(d,p){throw p.$$typeof===g?Error(s(525)):(d=Object.prototype.toString.call(p),Error(s(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d)))}function g5(d){function p(ee,Q){if(d){var ie=ee.deletions;ie===null?(ee.deletions=[Q],ee.flags|=16):ie.push(Q)}}function x(ee,Q){if(!d)return null;for(;Q!==null;)p(ee,Q),Q=Q.sibling;return null}function v(ee){for(var Q=new Map;ee!==null;)ee.key!==null?Q.set(ee.key,ee):Q.set(ee.index,ee),ee=ee.sibling;return Q}function j(ee,Q){return ee=tc(ee,Q),ee.index=0,ee.sibling=null,ee}function A(ee,Q,ie){return ee.index=ie,d?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<Q?(ee.flags|=67108866,Q):ie):(ee.flags|=67108866,Q)):(ee.flags|=1048576,Q)}function R(ee){return d&&ee.alternate===null&&(ee.flags|=67108866),ee}function V(ee,Q,ie,xe){return Q===null||Q.tag!==6?(Q=OM(ie,ee.mode,xe),Q.return=ee,Q):(Q=j(Q,ie),Q.return=ee,Q)}function q(ee,Q,ie,xe){var ht=ie.type;return ht===b?pe(ee,Q,ie.props.children,xe,ie.key):Q!==null&&(Q.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===I&&sh(ht)===Q.type)?(Q=j(Q,ie.props),$m(Q,ie),Q.return=ee,Q):(Q=dv(ie.type,ie.key,ie.props,null,ee.mode,xe),$m(Q,ie),Q.return=ee,Q)}function re(ee,Q,ie,xe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=RM(ie,ee.mode,xe),Q.return=ee,Q):(Q=j(Q,ie.children||[]),Q.return=ee,Q)}function pe(ee,Q,ie,xe,ht){return Q===null||Q.tag!==7?(Q=Xd(ie,ee.mode,xe,ht),Q.return=ee,Q):(Q=j(Q,ie),Q.return=ee,Q)}function ve(ee,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=OM(""+Q,ee.mode,ie),Q.return=ee,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case m:return ie=dv(Q.type,Q.key,Q.props,null,ee.mode,ie),$m(ie,Q),ie.return=ee,ie;case y:return Q=RM(Q,ee.mode,ie),Q.return=ee,Q;case I:return Q=sh(Q),ve(ee,Q,ie)}if($(Q)||U(Q))return Q=Xd(Q,ee.mode,ie,null),Q.return=ee,Q;if(typeof Q.then=="function")return ve(ee,xv(Q),ie);if(Q.$$typeof===N)return ve(ee,pv(ee,Q),ie);bv(ee,Q)}return null}function ae(ee,Q,ie,xe){var ht=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ht!==null?null:V(ee,Q,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case m:return ie.key===ht?q(ee,Q,ie,xe):null;case y:return ie.key===ht?re(ee,Q,ie,xe):null;case I:return ie=sh(ie),ae(ee,Q,ie,xe)}if($(ie)||U(ie))return ht!==null?null:pe(ee,Q,ie,xe,null);if(typeof ie.then=="function")return ae(ee,Q,xv(ie),xe);if(ie.$$typeof===N)return ae(ee,Q,pv(ee,ie),xe);bv(ee,ie)}return null}function ue(ee,Q,ie,xe,ht){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return ee=ee.get(ie)||null,V(Q,ee,""+xe,ht);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case m:return ee=ee.get(xe.key===null?ie:xe.key)||null,q(Q,ee,xe,ht);case y:return ee=ee.get(xe.key===null?ie:xe.key)||null,re(Q,ee,xe,ht);case I:return xe=sh(xe),ue(ee,Q,ie,xe,ht)}if($(xe)||U(xe))return ee=ee.get(ie)||null,pe(Q,ee,xe,ht,null);if(typeof xe.then=="function")return ue(ee,Q,ie,xv(xe),ht);if(xe.$$typeof===N)return ue(ee,Q,ie,pv(Q,xe),ht);bv(Q,xe)}return null}function tt(ee,Q,ie,xe){for(var ht=null,mn=null,rt=Q,Ft=Q=0,tn=null;rt!==null&&Ft<ie.length;Ft++){rt.index>Ft?(tn=rt,rt=null):tn=rt.sibling;var yn=ae(ee,rt,ie[Ft],xe);if(yn===null){rt===null&&(rt=tn);break}d&&rt&&yn.alternate===null&&p(ee,rt),Q=A(yn,Q,Ft),mn===null?ht=yn:mn.sibling=yn,mn=yn,rt=tn}if(Ft===ie.length)return x(ee,rt),an&&nc(ee,Ft),ht;if(rt===null){for(;Ft<ie.length;Ft++)rt=ve(ee,ie[Ft],xe),rt!==null&&(Q=A(rt,Q,Ft),mn===null?ht=rt:mn.sibling=rt,mn=rt);return an&&nc(ee,Ft),ht}for(rt=v(rt);Ft<ie.length;Ft++)tn=ue(rt,ee,Ft,ie[Ft],xe),tn!==null&&(d&&tn.alternate!==null&&rt.delete(tn.key===null?Ft:tn.key),Q=A(tn,Q,Ft),mn===null?ht=tn:mn.sibling=tn,mn=tn);return d&&rt.forEach(function(Ou){return p(ee,Ou)}),an&&nc(ee,Ft),ht}function xt(ee,Q,ie,xe){if(ie==null)throw Error(s(151));for(var ht=null,mn=null,rt=Q,Ft=Q=0,tn=null,yn=ie.next();rt!==null&&!yn.done;Ft++,yn=ie.next()){rt.index>Ft?(tn=rt,rt=null):tn=rt.sibling;var Ou=ae(ee,rt,yn.value,xe);if(Ou===null){rt===null&&(rt=tn);break}d&&rt&&Ou.alternate===null&&p(ee,rt),Q=A(Ou,Q,Ft),mn===null?ht=Ou:mn.sibling=Ou,mn=Ou,rt=tn}if(yn.done)return x(ee,rt),an&&nc(ee,Ft),ht;if(rt===null){for(;!yn.done;Ft++,yn=ie.next())yn=ve(ee,yn.value,xe),yn!==null&&(Q=A(yn,Q,Ft),mn===null?ht=yn:mn.sibling=yn,mn=yn);return an&&nc(ee,Ft),ht}for(rt=v(rt);!yn.done;Ft++,yn=ie.next())yn=ue(rt,ee,Ft,yn.value,xe),yn!==null&&(d&&yn.alternate!==null&&rt.delete(yn.key===null?Ft:yn.key),Q=A(yn,Q,Ft),mn===null?ht=yn:mn.sibling=yn,mn=yn);return d&&rt.forEach(function(gse){return p(ee,gse)}),an&&nc(ee,Ft),ht}function Un(ee,Q,ie,xe){if(typeof ie=="object"&&ie!==null&&ie.type===b&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case m:e:{for(var ht=ie.key;Q!==null;){if(Q.key===ht){if(ht=ie.type,ht===b){if(Q.tag===7){x(ee,Q.sibling),xe=j(Q,ie.props.children),xe.return=ee,ee=xe;break e}}else if(Q.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===I&&sh(ht)===Q.type){x(ee,Q.sibling),xe=j(Q,ie.props),$m(xe,ie),xe.return=ee,ee=xe;break e}x(ee,Q);break}else p(ee,Q);Q=Q.sibling}ie.type===b?(xe=Xd(ie.props.children,ee.mode,xe,ie.key),xe.return=ee,ee=xe):(xe=dv(ie.type,ie.key,ie.props,null,ee.mode,xe),$m(xe,ie),xe.return=ee,ee=xe)}return R(ee);case y:e:{for(ht=ie.key;Q!==null;){if(Q.key===ht)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){x(ee,Q.sibling),xe=j(Q,ie.children||[]),xe.return=ee,ee=xe;break e}else{x(ee,Q);break}else p(ee,Q);Q=Q.sibling}xe=RM(ie,ee.mode,xe),xe.return=ee,ee=xe}return R(ee);case I:return ie=sh(ie),Un(ee,Q,ie,xe)}if($(ie))return tt(ee,Q,ie,xe);if(U(ie)){if(ht=U(ie),typeof ht!="function")throw Error(s(150));return ie=ht.call(ie),xt(ee,Q,ie,xe)}if(typeof ie.then=="function")return Un(ee,Q,xv(ie),xe);if(ie.$$typeof===N)return Un(ee,Q,pv(ee,ie),xe);bv(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,Q!==null&&Q.tag===6?(x(ee,Q.sibling),xe=j(Q,ie),xe.return=ee,ee=xe):(x(ee,Q),xe=OM(ie,ee.mode,xe),xe.return=ee,ee=xe),R(ee)):x(ee,Q)}return function(ee,Q,ie,xe){try{Fm=0;var ht=Un(ee,Q,ie,xe);return ep=null,ht}catch(rt){if(rt===Jf||rt===mv)throw rt;var mn=ta(29,rt,null,ee.mode);return mn.lanes=xe,mn.return=ee,mn}finally{}}}var rh=g5(!0),m5=g5(!1),yu=!1;function YM(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function KM(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function xu(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function bu(d,p,x){var v=d.updateQueue;if(v===null)return null;if(v=v.shared,(Cn&2)!==0){var j=v.pending;return j===null?p.next=p:(p.next=j.next,j.next=p),v.pending=p,p=uv(d),J3(d,null,x),p}return cv(d,v,p,x),uv(d)}function Bm(d,p,x){if(p=p.updateQueue,p!==null&&(p=p.shared,(x&4194048)!==0)){var v=p.lanes;v&=d.pendingLanes,x|=v,p.lanes=x,ce(d,x)}}function qM(d,p){var x=d.updateQueue,v=d.alternate;if(v!==null&&(v=v.updateQueue,x===v)){var j=null,A=null;if(x=x.firstBaseUpdate,x!==null){do{var R={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};A===null?j=A=R:A=A.next=R,x=x.next}while(x!==null);A===null?j=A=p:A=A.next=p}else j=A=p;x={baseState:v.baseState,firstBaseUpdate:j,lastBaseUpdate:A,shared:v.shared,callbacks:v.callbacks},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=p:d.next=p,x.lastBaseUpdate=p}var ZM=!1;function Vm(){if(ZM){var d=Xf;if(d!==null)throw d}}function Um(d,p,x,v){ZM=!1;var j=d.updateQueue;yu=!1;var A=j.firstBaseUpdate,R=j.lastBaseUpdate,V=j.shared.pending;if(V!==null){j.shared.pending=null;var q=V,re=q.next;q.next=null,R===null?A=re:R.next=re,R=q;var pe=d.alternate;pe!==null&&(pe=pe.updateQueue,V=pe.lastBaseUpdate,V!==R&&(V===null?pe.firstBaseUpdate=re:V.next=re,pe.lastBaseUpdate=q))}if(A!==null){var ve=j.baseState;R=0,pe=re=q=null,V=A;do{var ae=V.lane&-536870913,ue=ae!==V.lane;if(ue?(en&ae)===ae:(v&ae)===ae){ae!==0&&ae===Qf&&(ZM=!0),pe!==null&&(pe=pe.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var tt=d,xt=V;ae=p;var Un=x;switch(xt.tag){case 1:if(tt=xt.payload,typeof tt=="function"){ve=tt.call(Un,ve,ae);break e}ve=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=xt.payload,ae=typeof tt=="function"?tt.call(Un,ve,ae):tt,ae==null)break e;ve=f({},ve,ae);break e;case 2:yu=!0}}ae=V.callback,ae!==null&&(d.flags|=64,ue&&(d.flags|=8192),ue=j.callbacks,ue===null?j.callbacks=[ae]:ue.push(ae))}else ue={lane:ae,tag:V.tag,payload:V.payload,callback:V.callback,next:null},pe===null?(re=pe=ue,q=ve):pe=pe.next=ue,R|=ae;if(V=V.next,V===null){if(V=j.shared.pending,V===null)break;ue=V,V=ue.next,ue.next=null,j.lastBaseUpdate=ue,j.shared.pending=null}}while(!0);pe===null&&(q=ve),j.baseState=q,j.firstBaseUpdate=re,j.lastBaseUpdate=pe,A===null&&(j.shared.lanes=0),Mu|=R,d.lanes=R,d.memoizedState=ve}}function y5(d,p){if(typeof d!="function")throw Error(s(191,d));d.call(p)}function x5(d,p){var x=d.callbacks;if(x!==null)for(d.callbacks=null,d=0;d<x.length;d++)y5(x[d],p)}var tp=se(null),vv=se(0);function b5(d,p){d=fc,oe(vv,d),oe(tp,p),fc=d|p.baseLanes}function QM(){oe(vv,fc),oe(tp,tp.current)}function XM(){fc=vv.current,fe(tp),fe(vv)}var na=se(null),Pa=null;function vu(d){var p=d.alternate;oe(Os,Os.current&1),oe(na,d),Pa===null&&(p===null||tp.current!==null||p.memoizedState!==null)&&(Pa=d)}function JM(d){oe(Os,Os.current),oe(na,d),Pa===null&&(Pa=d)}function v5(d){d.tag===22?(oe(Os,Os.current),oe(na,d),Pa===null&&(Pa=d)):Su()}function Su(){oe(Os,Os.current),oe(na,na.current)}function sa(d){fe(na),Pa===d&&(Pa=null),fe(Os)}var Os=se(0);function Sv(d){for(var p=d;p!==null;){if(p.tag===13){var x=p.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||rN(x)||aN(x)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var rc=0,zt=null,Bn=null,Ws=null,wv=!1,np=!1,ah=!1,Cv=0,Hm=0,sp=null,rne=0;function Ns(){throw Error(s(321))}function ej(d,p){if(p===null)return!1;for(var x=0;x<p.length&&x<d.length;x++)if(!ea(d[x],p[x]))return!1;return!0}function tj(d,p,x,v,j,A){return rc=A,zt=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,P.H=d===null||d.memoizedState===null?sR:mj,ah=!1,A=x(v,j),ah=!1,np&&(A=w5(p,x,v,j)),S5(d),A}function S5(d){P.H=Ym;var p=Bn!==null&&Bn.next!==null;if(rc=0,Ws=Bn=zt=null,wv=!1,Hm=0,sp=null,p)throw Error(s(300));d===null||Ys||(d=d.dependencies,d!==null&&fv(d)&&(Ys=!0))}function w5(d,p,x,v){zt=d;var j=0;do{if(np&&(sp=null),Hm=0,np=!1,25<=j)throw Error(s(301));if(j+=1,Ws=Bn=null,d.updateQueue!=null){var A=d.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}P.H=iR,A=p(x,v)}while(np);return A}function ane(){var d=P.H,p=d.useState()[0];return p=typeof p.then=="function"?Gm(p):p,d=d.useState()[0],(Bn!==null?Bn.memoizedState:null)!==d&&(zt.flags|=1024),p}function nj(){var d=Cv!==0;return Cv=0,d}function sj(d,p,x){p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~x}function ij(d){if(wv){for(d=d.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}wv=!1}rc=0,Ws=Bn=zt=null,np=!1,Hm=Cv=0,sp=null}function mr(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ws===null?zt.memoizedState=Ws=d:Ws=Ws.next=d,Ws}function Rs(){if(Bn===null){var d=zt.alternate;d=d!==null?d.memoizedState:null}else d=Bn.next;var p=Ws===null?zt.memoizedState:Ws.next;if(p!==null)Ws=p,Bn=d;else{if(d===null)throw zt.alternate===null?Error(s(467)):Error(s(310));Bn=d,d={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},Ws===null?zt.memoizedState=Ws=d:Ws=Ws.next=d}return Ws}function Mv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gm(d){var p=Hm;return Hm+=1,sp===null&&(sp=[]),d=h5(sp,d,p),p=zt,(Ws===null?p.memoizedState:Ws.next)===null&&(p=p.alternate,P.H=p===null||p.memoizedState===null?sR:mj),d}function jv(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return Gm(d);if(d.$$typeof===N)return Di(d)}throw Error(s(438,String(d)))}function rj(d){var p=null,x=zt.updateQueue;if(x!==null&&(p=x.memoCache),p==null){var v=zt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(p={data:v.data.map(function(j){return j.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),x===null&&(x=Mv(),zt.updateQueue=x),x.memoCache=p,x=p.data[p.index],x===void 0)for(x=p.data[p.index]=Array(d),v=0;v<d;v++)x[v]=F;return p.index++,x}function ac(d,p){return typeof p=="function"?p(d):p}function Nv(d){var p=Rs();return aj(p,Bn,d)}function aj(d,p,x){var v=d.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=x;var j=d.baseQueue,A=v.pending;if(A!==null){if(j!==null){var R=j.next;j.next=A.next,A.next=R}p.baseQueue=j=A,v.pending=null}if(A=d.baseState,j===null)d.memoizedState=A;else{p=j.next;var V=R=null,q=null,re=p,pe=!1;do{var ve=re.lane&-536870913;if(ve!==re.lane?(en&ve)===ve:(rc&ve)===ve){var ae=re.revertLane;if(ae===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),ve===Qf&&(pe=!0);else if((rc&ae)===ae){re=re.next,ae===Qf&&(pe=!0);continue}else ve={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},q===null?(V=q=ve,R=A):q=q.next=ve,zt.lanes|=ae,Mu|=ae;ve=re.action,ah&&x(A,ve),A=re.hasEagerState?re.eagerState:x(A,ve)}else ae={lane:ve,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},q===null?(V=q=ae,R=A):q=q.next=ae,zt.lanes|=ve,Mu|=ve;re=re.next}while(re!==null&&re!==p);if(q===null?R=A:q.next=V,!ea(A,d.memoizedState)&&(Ys=!0,pe&&(x=Xf,x!==null)))throw x;d.memoizedState=A,d.baseState=R,d.baseQueue=q,v.lastRenderedState=A}return j===null&&(v.lanes=0),[d.memoizedState,v.dispatch]}function oj(d){var p=Rs(),x=p.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=d;var v=x.dispatch,j=x.pending,A=p.memoizedState;if(j!==null){x.pending=null;var R=j=j.next;do A=d(A,R.action),R=R.next;while(R!==j);ea(A,p.memoizedState)||(Ys=!0),p.memoizedState=A,p.baseQueue===null&&(p.baseState=A),x.lastRenderedState=A}return[A,v]}function C5(d,p,x){var v=zt,j=Rs(),A=an;if(A){if(x===void 0)throw Error(s(407));x=x()}else x=p();var R=!ea((Bn||j).memoizedState,x);if(R&&(j.memoizedState=x,Ys=!0),j=j.queue,uj(N5.bind(null,v,j,d),[d]),j.getSnapshot!==p||R||Ws!==null&&Ws.memoizedState.tag&1){if(v.flags|=2048,ip(9,{destroy:void 0},j5.bind(null,v,j,x,p),null),Yn===null)throw Error(s(349));A||(rc&127)!==0||M5(v,p,x)}return x}function M5(d,p,x){d.flags|=16384,d={getSnapshot:p,value:x},p=zt.updateQueue,p===null?(p=Mv(),zt.updateQueue=p,p.stores=[d]):(x=p.stores,x===null?p.stores=[d]:x.push(d))}function j5(d,p,x,v){p.value=x,p.getSnapshot=v,A5(p)&&T5(d)}function N5(d,p,x){return x(function(){A5(p)&&T5(d)})}function A5(d){var p=d.getSnapshot;d=d.value;try{var x=p();return!ea(d,x)}catch{return!0}}function T5(d){var p=Qd(d,2);p!==null&&kr(p,d,2)}function lj(d){var p=mr();if(typeof d=="function"){var x=d;if(d=x(),ah){ai(!0);try{x()}finally{ai(!1)}}}return p.memoizedState=p.baseState=d,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:d},p}function E5(d,p,x,v){return d.baseState=x,aj(d,Bn,typeof v=="function"?v:ac)}function one(d,p,x,v,j){if(Ev(d))throw Error(s(485));if(d=p.action,d!==null){var A={payload:j,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){A.listeners.push(R)}};P.T!==null?x(!0):A.isTransition=!1,v(A),x=p.pending,x===null?(A.next=p.pending=A,D5(p,A)):(A.next=x.next,p.pending=x.next=A)}}function D5(d,p){var x=p.action,v=p.payload,j=d.state;if(p.isTransition){var A=P.T,R={};P.T=R;try{var V=x(j,v),q=P.S;q!==null&&q(R,V),k5(d,p,V)}catch(re){cj(d,p,re)}finally{A!==null&&R.types!==null&&(A.types=R.types),P.T=A}}else try{A=x(j,v),k5(d,p,A)}catch(re){cj(d,p,re)}}function k5(d,p,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(v){I5(d,p,v)},function(v){return cj(d,p,v)}):I5(d,p,x)}function I5(d,p,x){p.status="fulfilled",p.value=x,L5(p),d.state=x,p=d.pending,p!==null&&(x=p.next,x===p?d.pending=null:(x=x.next,p.next=x,D5(d,x)))}function cj(d,p,x){var v=d.pending;if(d.pending=null,v!==null){v=v.next;do p.status="rejected",p.reason=x,L5(p),p=p.next;while(p!==v)}d.action=null}function L5(d){d=d.listeners;for(var p=0;p<d.length;p++)(0,d[p])()}function O5(d,p){return p}function R5(d,p){if(an){var x=Yn.formState;if(x!==null){e:{var v=zt;if(an){if(ns){t:{for(var j=ns,A=_a;j.nodeType!==8;){if(!A){j=null;break t}if(j=za(j.nextSibling),j===null){j=null;break t}}A=j.data,j=A==="F!"||A==="F"?j:null}if(j){ns=za(j.nextSibling),v=j.data==="F!";break e}}gu(v)}v=!1}v&&(p=x[0])}}return x=mr(),x.memoizedState=x.baseState=p,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O5,lastRenderedState:p},x.queue=v,x=eR.bind(null,zt,v),v.dispatch=x,v=lj(!1),A=gj.bind(null,zt,!1,v.queue),v=mr(),j={state:p,dispatch:null,action:d,pending:null},v.queue=j,x=one.bind(null,zt,j,A,x),j.dispatch=x,v.memoizedState=d,[p,x,!1]}function _5(d){var p=Rs();return P5(p,Bn,d)}function P5(d,p,x){if(p=aj(d,p,O5)[0],d=Nv(ac)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var v=Gm(p)}catch(R){throw R===Jf?mv:R}else v=p;p=Rs();var j=p.queue,A=j.dispatch;return x!==p.memoizedState&&(zt.flags|=2048,ip(9,{destroy:void 0},lne.bind(null,j,x),null)),[v,A,d]}function lne(d,p){d.action=p}function z5(d){var p=Rs(),x=Bn;if(x!==null)return P5(p,x,d);Rs(),p=p.memoizedState,x=Rs();var v=x.queue.dispatch;return x.memoizedState=d,[p,v,!1]}function ip(d,p,x,v){return d={tag:d,create:x,deps:v,inst:p,next:null},p=zt.updateQueue,p===null&&(p=Mv(),zt.updateQueue=p),x=p.lastEffect,x===null?p.lastEffect=d.next=d:(v=x.next,x.next=d,d.next=v,p.lastEffect=d),d}function F5(){return Rs().memoizedState}function Av(d,p,x,v){var j=mr();zt.flags|=d,j.memoizedState=ip(1|p,{destroy:void 0},x,v===void 0?null:v)}function Tv(d,p,x,v){var j=Rs();v=v===void 0?null:v;var A=j.memoizedState.inst;Bn!==null&&v!==null&&ej(v,Bn.memoizedState.deps)?j.memoizedState=ip(p,A,x,v):(zt.flags|=d,j.memoizedState=ip(1|p,A,x,v))}function $5(d,p){Av(8390656,8,d,p)}function uj(d,p){Tv(2048,8,d,p)}function cne(d){zt.flags|=4;var p=zt.updateQueue;if(p===null)p=Mv(),zt.updateQueue=p,p.events=[d];else{var x=p.events;x===null?p.events=[d]:x.push(d)}}function B5(d){var p=Rs().memoizedState;return cne({ref:p,nextImpl:d}),function(){if((Cn&2)!==0)throw Error(s(440));return p.impl.apply(void 0,arguments)}}function V5(d,p){return Tv(4,2,d,p)}function U5(d,p){return Tv(4,4,d,p)}function H5(d,p){if(typeof p=="function"){d=d();var x=p(d);return function(){typeof x=="function"?x():p(null)}}if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function G5(d,p,x){x=x!=null?x.concat([d]):null,Tv(4,4,H5.bind(null,p,d),x)}function dj(){}function W5(d,p){var x=Rs();p=p===void 0?null:p;var v=x.memoizedState;return p!==null&&ej(p,v[1])?v[0]:(x.memoizedState=[d,p],d)}function Y5(d,p){var x=Rs();p=p===void 0?null:p;var v=x.memoizedState;if(p!==null&&ej(p,v[1]))return v[0];if(v=d(),ah){ai(!0);try{d()}finally{ai(!1)}}return x.memoizedState=[v,p],v}function hj(d,p,x){return x===void 0||(rc&1073741824)!==0&&(en&261930)===0?d.memoizedState=p:(d.memoizedState=x,d=KR(),zt.lanes|=d,Mu|=d,x)}function K5(d,p,x,v){return ea(x,p)?x:tp.current!==null?(d=hj(d,x,v),ea(d,p)||(Ys=!0),d):(rc&42)===0||(rc&1073741824)!==0&&(en&261930)===0?(Ys=!0,d.memoizedState=x):(d=KR(),zt.lanes|=d,Mu|=d,p)}function q5(d,p,x,v,j){var A=B.p;B.p=A!==0&&8>A?A:8;var R=P.T,V={};P.T=V,gj(d,!1,p,x);try{var q=j(),re=P.S;if(re!==null&&re(V,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var pe=ine(q,v);Wm(d,p,pe,aa(d))}else Wm(d,p,v,aa(d))}catch(ve){Wm(d,p,{then:function(){},status:"rejected",reason:ve},aa())}finally{B.p=A,R!==null&&V.types!==null&&(R.types=V.types),P.T=R}}function une(){}function fj(d,p,x,v){if(d.tag!==5)throw Error(s(476));var j=Z5(d).queue;q5(d,j,p,Y,x===null?une:function(){return Q5(d),x(v)})}function Z5(d){var p=d.memoizedState;if(p!==null)return p;p={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:Y},next:null};var x={};return p.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:x},next:null},d.memoizedState=p,d=d.alternate,d!==null&&(d.memoizedState=p),p}function Q5(d){var p=Z5(d);p.next===null&&(p=d.alternate.memoizedState),Wm(d,p.next.queue,{},aa())}function pj(){return Di(cy)}function X5(){return Rs().memoizedState}function J5(){return Rs().memoizedState}function dne(d){for(var p=d.return;p!==null;){switch(p.tag){case 24:case 3:var x=aa();d=xu(x);var v=bu(p,d,x);v!==null&&(kr(v,p,x),Bm(v,p,x)),p={cache:UM()},d.payload=p;return}p=p.return}}function hne(d,p,x){var v=aa();x={lane:v,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Ev(d)?tR(p,x):(x=IM(d,p,x,v),x!==null&&(kr(x,d,v),nR(x,p,v)))}function eR(d,p,x){var v=aa();Wm(d,p,x,v)}function Wm(d,p,x,v){var j={lane:v,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(Ev(d))tR(p,j);else{var A=d.alternate;if(d.lanes===0&&(A===null||A.lanes===0)&&(A=p.lastRenderedReducer,A!==null))try{var R=p.lastRenderedState,V=A(R,x);if(j.hasEagerState=!0,j.eagerState=V,ea(V,R))return cv(d,p,j,0),Yn===null&&lv(),!1}catch{}finally{}if(x=IM(d,p,j,v),x!==null)return kr(x,d,v),nR(x,p,v),!0}return!1}function gj(d,p,x,v){if(v={lane:2,revertLane:Yj(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Ev(d)){if(p)throw Error(s(479))}else p=IM(d,x,v,2),p!==null&&kr(p,d,2)}function Ev(d){var p=d.alternate;return d===zt||p!==null&&p===zt}function tR(d,p){np=wv=!0;var x=d.pending;x===null?p.next=p:(p.next=x.next,x.next=p),d.pending=p}function nR(d,p,x){if((x&4194048)!==0){var v=p.lanes;v&=d.pendingLanes,x|=v,p.lanes=x,ce(d,x)}}var Ym={readContext:Di,use:jv,useCallback:Ns,useContext:Ns,useEffect:Ns,useImperativeHandle:Ns,useLayoutEffect:Ns,useInsertionEffect:Ns,useMemo:Ns,useReducer:Ns,useRef:Ns,useState:Ns,useDebugValue:Ns,useDeferredValue:Ns,useTransition:Ns,useSyncExternalStore:Ns,useId:Ns,useHostTransitionStatus:Ns,useFormState:Ns,useActionState:Ns,useOptimistic:Ns,useMemoCache:Ns,useCacheRefresh:Ns};Ym.useEffectEvent=Ns;var sR={readContext:Di,use:jv,useCallback:function(d,p){return mr().memoizedState=[d,p===void 0?null:p],d},useContext:Di,useEffect:$5,useImperativeHandle:function(d,p,x){x=x!=null?x.concat([d]):null,Av(4194308,4,H5.bind(null,p,d),x)},useLayoutEffect:function(d,p){return Av(4194308,4,d,p)},useInsertionEffect:function(d,p){Av(4,2,d,p)},useMemo:function(d,p){var x=mr();p=p===void 0?null:p;var v=d();if(ah){ai(!0);try{d()}finally{ai(!1)}}return x.memoizedState=[v,p],v},useReducer:function(d,p,x){var v=mr();if(x!==void 0){var j=x(p);if(ah){ai(!0);try{x(p)}finally{ai(!1)}}}else j=p;return v.memoizedState=v.baseState=j,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:j},v.queue=d,d=d.dispatch=hne.bind(null,zt,d),[v.memoizedState,d]},useRef:function(d){var p=mr();return d={current:d},p.memoizedState=d},useState:function(d){d=lj(d);var p=d.queue,x=eR.bind(null,zt,p);return p.dispatch=x,[d.memoizedState,x]},useDebugValue:dj,useDeferredValue:function(d,p){var x=mr();return hj(x,d,p)},useTransition:function(){var d=lj(!1);return d=q5.bind(null,zt,d.queue,!0,!1),mr().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,p,x){var v=zt,j=mr();if(an){if(x===void 0)throw Error(s(407));x=x()}else{if(x=p(),Yn===null)throw Error(s(349));(en&127)!==0||M5(v,p,x)}j.memoizedState=x;var A={value:x,getSnapshot:p};return j.queue=A,$5(N5.bind(null,v,A,d),[d]),v.flags|=2048,ip(9,{destroy:void 0},j5.bind(null,v,A,x,p),null),x},useId:function(){var d=mr(),p=Yn.identifierPrefix;if(an){var x=cl,v=ll;x=(v&~(1<<32-Sn(v)-1)).toString(32)+x,p="_"+p+"R_"+x,x=Cv++,0<x&&(p+="H"+x.toString(32)),p+="_"}else x=rne++,p="_"+p+"r_"+x.toString(32)+"_";return d.memoizedState=p},useHostTransitionStatus:pj,useFormState:R5,useActionState:R5,useOptimistic:function(d){var p=mr();p.memoizedState=p.baseState=d;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=x,p=gj.bind(null,zt,!0,x),x.dispatch=p,[d,p]},useMemoCache:rj,useCacheRefresh:function(){return mr().memoizedState=dne.bind(null,zt)},useEffectEvent:function(d){var p=mr(),x={impl:d};return p.memoizedState=x,function(){if((Cn&2)!==0)throw Error(s(440));return x.impl.apply(void 0,arguments)}}},mj={readContext:Di,use:jv,useCallback:W5,useContext:Di,useEffect:uj,useImperativeHandle:G5,useInsertionEffect:V5,useLayoutEffect:U5,useMemo:Y5,useReducer:Nv,useRef:F5,useState:function(){return Nv(ac)},useDebugValue:dj,useDeferredValue:function(d,p){var x=Rs();return K5(x,Bn.memoizedState,d,p)},useTransition:function(){var d=Nv(ac)[0],p=Rs().memoizedState;return[typeof d=="boolean"?d:Gm(d),p]},useSyncExternalStore:C5,useId:X5,useHostTransitionStatus:pj,useFormState:_5,useActionState:_5,useOptimistic:function(d,p){var x=Rs();return E5(x,Bn,d,p)},useMemoCache:rj,useCacheRefresh:J5};mj.useEffectEvent=B5;var iR={readContext:Di,use:jv,useCallback:W5,useContext:Di,useEffect:uj,useImperativeHandle:G5,useInsertionEffect:V5,useLayoutEffect:U5,useMemo:Y5,useReducer:oj,useRef:F5,useState:function(){return oj(ac)},useDebugValue:dj,useDeferredValue:function(d,p){var x=Rs();return Bn===null?hj(x,d,p):K5(x,Bn.memoizedState,d,p)},useTransition:function(){var d=oj(ac)[0],p=Rs().memoizedState;return[typeof d=="boolean"?d:Gm(d),p]},useSyncExternalStore:C5,useId:X5,useHostTransitionStatus:pj,useFormState:z5,useActionState:z5,useOptimistic:function(d,p){var x=Rs();return Bn!==null?E5(x,Bn,d,p):(x.baseState=d,[d,x.queue.dispatch])},useMemoCache:rj,useCacheRefresh:J5};iR.useEffectEvent=B5;function yj(d,p,x,v){p=d.memoizedState,x=x(v,p),x=x==null?p:f({},p,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var xj={enqueueSetState:function(d,p,x){d=d._reactInternals;var v=aa(),j=xu(v);j.payload=p,x!=null&&(j.callback=x),p=bu(d,j,v),p!==null&&(kr(p,d,v),Bm(p,d,v))},enqueueReplaceState:function(d,p,x){d=d._reactInternals;var v=aa(),j=xu(v);j.tag=1,j.payload=p,x!=null&&(j.callback=x),p=bu(d,j,v),p!==null&&(kr(p,d,v),Bm(p,d,v))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var x=aa(),v=xu(x);v.tag=2,p!=null&&(v.callback=p),p=bu(d,v,x),p!==null&&(kr(p,d,x),Bm(p,d,x))}};function rR(d,p,x,v,j,A,R){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(v,A,R):p.prototype&&p.prototype.isPureReactComponent?!Lm(x,v)||!Lm(j,A):!0}function aR(d,p,x,v){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(x,v),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(x,v),p.state!==d&&xj.enqueueReplaceState(p,p.state,null)}function oh(d,p){var x=p;if("ref"in p){x={};for(var v in p)v!=="ref"&&(x[v]=p[v])}if(d=d.defaultProps){x===p&&(x=f({},x));for(var j in d)x[j]===void 0&&(x[j]=d[j])}return x}function oR(d){ov(d)}function lR(d){console.error(d)}function cR(d){ov(d)}function Dv(d,p){try{var x=d.onUncaughtError;x(p.value,{componentStack:p.stack})}catch(v){setTimeout(function(){throw v})}}function uR(d,p,x){try{var v=d.onCaughtError;v(x.value,{componentStack:x.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function bj(d,p,x){return x=xu(x),x.tag=3,x.payload={element:null},x.callback=function(){Dv(d,p)},x}function dR(d){return d=xu(d),d.tag=3,d}function hR(d,p,x,v){var j=x.type.getDerivedStateFromError;if(typeof j=="function"){var A=v.value;d.payload=function(){return j(A)},d.callback=function(){uR(p,x,v)}}var R=x.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(d.callback=function(){uR(p,x,v),typeof j!="function"&&(ju===null?ju=new Set([this]):ju.add(this));var V=v.stack;this.componentDidCatch(v.value,{componentStack:V!==null?V:""})})}function fne(d,p,x,v,j){if(x.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(p=x.alternate,p!==null&&Zf(p,x,j,!0),x=na.current,x!==null){switch(x.tag){case 31:case 13:return Pa===null?Vv():x.alternate===null&&As===0&&(As=3),x.flags&=-257,x.flags|=65536,x.lanes=j,v===yv?x.flags|=16384:(p=x.updateQueue,p===null?x.updateQueue=new Set([v]):p.add(v),Hj(d,v,j)),!1;case 22:return x.flags|=65536,v===yv?x.flags|=16384:(p=x.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([v])},x.updateQueue=p):(x=p.retryQueue,x===null?p.retryQueue=new Set([v]):x.add(v)),Hj(d,v,j)),!1}throw Error(s(435,x.tag))}return Hj(d,v,j),Vv(),!1}if(an)return p=na.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=j,v!==zM&&(d=Error(s(422),{cause:v}),_m(La(d,x)))):(v!==zM&&(p=Error(s(423),{cause:v}),_m(La(p,x))),d=d.current.alternate,d.flags|=65536,j&=-j,d.lanes|=j,v=La(v,x),j=bj(d.stateNode,v,j),qM(d,j),As!==4&&(As=2)),!1;var A=Error(s(520),{cause:v});if(A=La(A,x),ty===null?ty=[A]:ty.push(A),As!==4&&(As=2),p===null)return!0;v=La(v,x),x=p;do{switch(x.tag){case 3:return x.flags|=65536,d=j&-j,x.lanes|=d,d=bj(x.stateNode,v,d),qM(x,d),!1;case 1:if(p=x.type,A=x.stateNode,(x.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ju===null||!ju.has(A))))return x.flags|=65536,j&=-j,x.lanes|=j,j=dR(j),hR(j,d,x,v),qM(x,j),!1}x=x.return}while(x!==null);return!1}var vj=Error(s(461)),Ys=!1;function ki(d,p,x,v){p.child=d===null?m5(p,null,x,v):rh(p,d.child,x,v)}function fR(d,p,x,v,j){x=x.render;var A=p.ref;if("ref"in v){var R={};for(var V in v)V!=="ref"&&(R[V]=v[V])}else R=v;return th(p),v=tj(d,p,x,R,A,j),V=nj(),d!==null&&!Ys?(sj(d,p,j),oc(d,p,j)):(an&&V&&_M(p),p.flags|=1,ki(d,p,v,j),p.child)}function pR(d,p,x,v,j){if(d===null){var A=x.type;return typeof A=="function"&&!LM(A)&&A.defaultProps===void 0&&x.compare===null?(p.tag=15,p.type=A,gR(d,p,A,v,j)):(d=dv(x.type,null,v,p,p.mode,j),d.ref=p.ref,d.return=p,p.child=d)}if(A=d.child,!Tj(d,j)){var R=A.memoizedProps;if(x=x.compare,x=x!==null?x:Lm,x(R,v)&&d.ref===p.ref)return oc(d,p,j)}return p.flags|=1,d=tc(A,v),d.ref=p.ref,d.return=p,p.child=d}function gR(d,p,x,v,j){if(d!==null){var A=d.memoizedProps;if(Lm(A,v)&&d.ref===p.ref)if(Ys=!1,p.pendingProps=v=A,Tj(d,j))(d.flags&131072)!==0&&(Ys=!0);else return p.lanes=d.lanes,oc(d,p,j)}return Sj(d,p,x,v,j)}function mR(d,p,x,v){var j=v.children,A=d!==null?d.memoizedState:null;if(d===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((p.flags&128)!==0){if(A=A!==null?A.baseLanes|x:x,d!==null){for(v=p.child=d.child,j=0;v!==null;)j=j|v.lanes|v.childLanes,v=v.sibling;v=j&~A}else v=0,p.child=null;return yR(d,p,A,x,v)}if((x&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},d!==null&&gv(p,A!==null?A.cachePool:null),A!==null?b5(p,A):QM(),v5(p);else return v=p.lanes=536870912,yR(d,p,A!==null?A.baseLanes|x:x,x,v)}else A!==null?(gv(p,A.cachePool),b5(p,A),Su(),p.memoizedState=null):(d!==null&&gv(p,null),QM(),Su());return ki(d,p,j,x),p.child}function Km(d,p){return d!==null&&d.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function yR(d,p,x,v,j){var A=GM();return A=A===null?null:{parent:Gs._currentValue,pool:A},p.memoizedState={baseLanes:x,cachePool:A},d!==null&&gv(p,null),QM(),v5(p),d!==null&&Zf(d,p,v,!0),p.childLanes=j,null}function kv(d,p){return p=Lv({mode:p.mode,children:p.children},d.mode),p.ref=d.ref,d.child=p,p.return=d,p}function xR(d,p,x){return rh(p,d.child,null,x),d=kv(p,p.pendingProps),d.flags|=2,sa(p),p.memoizedState=null,d}function pne(d,p,x){var v=p.pendingProps,j=(p.flags&128)!==0;if(p.flags&=-129,d===null){if(an){if(v.mode==="hidden")return d=kv(p,v),p.lanes=536870912,Km(null,d);if(JM(p),(d=ns)?(d=D_(d,_a),d=d!==null&&d.data==="&"?d:null,d!==null&&(p.memoizedState={dehydrated:d,treeContext:fu!==null?{id:ll,overflow:cl}:null,retryLane:536870912,hydrationErrors:null},x=t5(d),x.return=p,p.child=x,Ei=p,ns=null)):d=null,d===null)throw gu(p);return p.lanes=536870912,null}return kv(p,v)}var A=d.memoizedState;if(A!==null){var R=A.dehydrated;if(JM(p),j)if(p.flags&256)p.flags&=-257,p=xR(d,p,x);else if(p.memoizedState!==null)p.child=d.child,p.flags|=128,p=null;else throw Error(s(558));else if(Ys||Zf(d,p,x,!1),j=(x&d.childLanes)!==0,Ys||j){if(v=Yn,v!==null&&(R=we(v,x),R!==0&&R!==A.retryLane))throw A.retryLane=R,Qd(d,R),kr(v,d,R),vj;Vv(),p=xR(d,p,x)}else d=A.treeContext,ns=za(R.nextSibling),Ei=p,an=!0,pu=null,_a=!1,d!==null&&i5(p,d),p=kv(p,v),p.flags|=4096;return p}return d=tc(d.child,{mode:v.mode,children:v.children}),d.ref=p.ref,p.child=d,d.return=p,d}function Iv(d,p){var x=p.ref;if(x===null)d!==null&&d.ref!==null&&(p.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(s(284));(d===null||d.ref!==x)&&(p.flags|=4194816)}}function Sj(d,p,x,v,j){return th(p),x=tj(d,p,x,v,void 0,j),v=nj(),d!==null&&!Ys?(sj(d,p,j),oc(d,p,j)):(an&&v&&_M(p),p.flags|=1,ki(d,p,x,j),p.child)}function bR(d,p,x,v,j,A){return th(p),p.updateQueue=null,x=w5(p,v,x,j),S5(d),v=nj(),d!==null&&!Ys?(sj(d,p,A),oc(d,p,A)):(an&&v&&_M(p),p.flags|=1,ki(d,p,x,A),p.child)}function vR(d,p,x,v,j){if(th(p),p.stateNode===null){var A=Wf,R=x.contextType;typeof R=="object"&&R!==null&&(A=Di(R)),A=new x(v,A),p.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=xj,p.stateNode=A,A._reactInternals=p,A=p.stateNode,A.props=v,A.state=p.memoizedState,A.refs={},YM(p),R=x.contextType,A.context=typeof R=="object"&&R!==null?Di(R):Wf,A.state=p.memoizedState,R=x.getDerivedStateFromProps,typeof R=="function"&&(yj(p,x,R,v),A.state=p.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(R=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),R!==A.state&&xj.enqueueReplaceState(A,A.state,null),Um(p,v,A,j),Vm(),A.state=p.memoizedState),typeof A.componentDidMount=="function"&&(p.flags|=4194308),v=!0}else if(d===null){A=p.stateNode;var V=p.memoizedProps,q=oh(x,V);A.props=q;var re=A.context,pe=x.contextType;R=Wf,typeof pe=="object"&&pe!==null&&(R=Di(pe));var ve=x.getDerivedStateFromProps;pe=typeof ve=="function"||typeof A.getSnapshotBeforeUpdate=="function",V=p.pendingProps!==V,pe||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(V||re!==R)&&aR(p,A,v,R),yu=!1;var ae=p.memoizedState;A.state=ae,Um(p,v,A,j),Vm(),re=p.memoizedState,V||ae!==re||yu?(typeof ve=="function"&&(yj(p,x,ve,v),re=p.memoizedState),(q=yu||rR(p,x,q,v,ae,re,R))?(pe||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(p.flags|=4194308)):(typeof A.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=v,p.memoizedState=re),A.props=v,A.state=re,A.context=R,v=q):(typeof A.componentDidMount=="function"&&(p.flags|=4194308),v=!1)}else{A=p.stateNode,KM(d,p),R=p.memoizedProps,pe=oh(x,R),A.props=pe,ve=p.pendingProps,ae=A.context,re=x.contextType,q=Wf,typeof re=="object"&&re!==null&&(q=Di(re)),V=x.getDerivedStateFromProps,(re=typeof V=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(R!==ve||ae!==q)&&aR(p,A,v,q),yu=!1,ae=p.memoizedState,A.state=ae,Um(p,v,A,j),Vm();var ue=p.memoizedState;R!==ve||ae!==ue||yu||d!==null&&d.dependencies!==null&&fv(d.dependencies)?(typeof V=="function"&&(yj(p,x,V,v),ue=p.memoizedState),(pe=yu||rR(p,x,pe,v,ae,ue,q)||d!==null&&d.dependencies!==null&&fv(d.dependencies))?(re||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(v,ue,q),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(v,ue,q)),typeof A.componentDidUpdate=="function"&&(p.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof A.componentDidUpdate!="function"||R===d.memoizedProps&&ae===d.memoizedState||(p.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||R===d.memoizedProps&&ae===d.memoizedState||(p.flags|=1024),p.memoizedProps=v,p.memoizedState=ue),A.props=v,A.state=ue,A.context=q,v=pe):(typeof A.componentDidUpdate!="function"||R===d.memoizedProps&&ae===d.memoizedState||(p.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||R===d.memoizedProps&&ae===d.memoizedState||(p.flags|=1024),v=!1)}return A=v,Iv(d,p),v=(p.flags&128)!==0,A||v?(A=p.stateNode,x=v&&typeof x.getDerivedStateFromError!="function"?null:A.render(),p.flags|=1,d!==null&&v?(p.child=rh(p,d.child,null,j),p.child=rh(p,null,x,j)):ki(d,p,x,j),p.memoizedState=A.state,d=p.child):d=oc(d,p,j),d}function SR(d,p,x,v){return Jd(),p.flags|=256,ki(d,p,x,v),p.child}var wj={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cj(d){return{baseLanes:d,cachePool:u5()}}function Mj(d,p,x){return d=d!==null?d.childLanes&~x:0,p&&(d|=ra),d}function wR(d,p,x){var v=p.pendingProps,j=!1,A=(p.flags&128)!==0,R;if((R=A)||(R=d!==null&&d.memoizedState===null?!1:(Os.current&2)!==0),R&&(j=!0,p.flags&=-129),R=(p.flags&32)!==0,p.flags&=-33,d===null){if(an){if(j?vu(p):Su(),(d=ns)?(d=D_(d,_a),d=d!==null&&d.data!=="&"?d:null,d!==null&&(p.memoizedState={dehydrated:d,treeContext:fu!==null?{id:ll,overflow:cl}:null,retryLane:536870912,hydrationErrors:null},x=t5(d),x.return=p,p.child=x,Ei=p,ns=null)):d=null,d===null)throw gu(p);return aN(d)?p.lanes=32:p.lanes=536870912,null}var V=v.children;return v=v.fallback,j?(Su(),j=p.mode,V=Lv({mode:"hidden",children:V},j),v=Xd(v,j,x,null),V.return=p,v.return=p,V.sibling=v,p.child=V,v=p.child,v.memoizedState=Cj(x),v.childLanes=Mj(d,R,x),p.memoizedState=wj,Km(null,v)):(vu(p),jj(p,V))}var q=d.memoizedState;if(q!==null&&(V=q.dehydrated,V!==null)){if(A)p.flags&256?(vu(p),p.flags&=-257,p=Nj(d,p,x)):p.memoizedState!==null?(Su(),p.child=d.child,p.flags|=128,p=null):(Su(),V=v.fallback,j=p.mode,v=Lv({mode:"visible",children:v.children},j),V=Xd(V,j,x,null),V.flags|=2,v.return=p,V.return=p,v.sibling=V,p.child=v,rh(p,d.child,null,x),v=p.child,v.memoizedState=Cj(x),v.childLanes=Mj(d,R,x),p.memoizedState=wj,p=Km(null,v));else if(vu(p),aN(V)){if(R=V.nextSibling&&V.nextSibling.dataset,R)var re=R.dgst;R=re,v=Error(s(419)),v.stack="",v.digest=R,_m({value:v,source:null,stack:null}),p=Nj(d,p,x)}else if(Ys||Zf(d,p,x,!1),R=(x&d.childLanes)!==0,Ys||R){if(R=Yn,R!==null&&(v=we(R,x),v!==0&&v!==q.retryLane))throw q.retryLane=v,Qd(d,v),kr(R,d,v),vj;rN(V)||Vv(),p=Nj(d,p,x)}else rN(V)?(p.flags|=192,p.child=d.child,p=null):(d=q.treeContext,ns=za(V.nextSibling),Ei=p,an=!0,pu=null,_a=!1,d!==null&&i5(p,d),p=jj(p,v.children),p.flags|=4096);return p}return j?(Su(),V=v.fallback,j=p.mode,q=d.child,re=q.sibling,v=tc(q,{mode:"hidden",children:v.children}),v.subtreeFlags=q.subtreeFlags&65011712,re!==null?V=tc(re,V):(V=Xd(V,j,x,null),V.flags|=2),V.return=p,v.return=p,v.sibling=V,p.child=v,Km(null,v),v=p.child,V=d.child.memoizedState,V===null?V=Cj(x):(j=V.cachePool,j!==null?(q=Gs._currentValue,j=j.parent!==q?{parent:q,pool:q}:j):j=u5(),V={baseLanes:V.baseLanes|x,cachePool:j}),v.memoizedState=V,v.childLanes=Mj(d,R,x),p.memoizedState=wj,Km(d.child,v)):(vu(p),x=d.child,d=x.sibling,x=tc(x,{mode:"visible",children:v.children}),x.return=p,x.sibling=null,d!==null&&(R=p.deletions,R===null?(p.deletions=[d],p.flags|=16):R.push(d)),p.child=x,p.memoizedState=null,x)}function jj(d,p){return p=Lv({mode:"visible",children:p},d.mode),p.return=d,d.child=p}function Lv(d,p){return d=ta(22,d,null,p),d.lanes=0,d}function Nj(d,p,x){return rh(p,d.child,null,x),d=jj(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function CR(d,p,x){d.lanes|=p;var v=d.alternate;v!==null&&(v.lanes|=p),BM(d.return,p,x)}function Aj(d,p,x,v,j,A){var R=d.memoizedState;R===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:v,tail:x,tailMode:j,treeForkCount:A}:(R.isBackwards=p,R.rendering=null,R.renderingStartTime=0,R.last=v,R.tail=x,R.tailMode=j,R.treeForkCount=A)}function MR(d,p,x){var v=p.pendingProps,j=v.revealOrder,A=v.tail;v=v.children;var R=Os.current,V=(R&2)!==0;if(V?(R=R&1|2,p.flags|=128):R&=1,oe(Os,R),ki(d,p,v,x),v=an?Rm:0,!V&&d!==null&&(d.flags&128)!==0)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&CR(d,x,p);else if(d.tag===19)CR(d,x,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(j){case"forwards":for(x=p.child,j=null;x!==null;)d=x.alternate,d!==null&&Sv(d)===null&&(j=x),x=x.sibling;x=j,x===null?(j=p.child,p.child=null):(j=x.sibling,x.sibling=null),Aj(p,!1,j,x,A,v);break;case"backwards":case"unstable_legacy-backwards":for(x=null,j=p.child,p.child=null;j!==null;){if(d=j.alternate,d!==null&&Sv(d)===null){p.child=j;break}d=j.sibling,j.sibling=x,x=j,j=d}Aj(p,!0,x,null,A,v);break;case"together":Aj(p,!1,null,null,void 0,v);break;default:p.memoizedState=null}return p.child}function oc(d,p,x){if(d!==null&&(p.dependencies=d.dependencies),Mu|=p.lanes,(x&p.childLanes)===0)if(d!==null){if(Zf(d,p,x,!1),(x&p.childLanes)===0)return null}else return null;if(d!==null&&p.child!==d.child)throw Error(s(153));if(p.child!==null){for(d=p.child,x=tc(d,d.pendingProps),p.child=x,x.return=p;d.sibling!==null;)d=d.sibling,x=x.sibling=tc(d,d.pendingProps),x.return=p;x.sibling=null}return p.child}function Tj(d,p){return(d.lanes&p)!==0?!0:(d=d.dependencies,!!(d!==null&&fv(d)))}function gne(d,p,x){switch(p.tag){case 3:be(p,p.stateNode.containerInfo),mu(p,Gs,d.memoizedState.cache),Jd();break;case 27:case 5:Te(p);break;case 4:be(p,p.stateNode.containerInfo);break;case 10:mu(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,JM(p),null;break;case 13:var v=p.memoizedState;if(v!==null)return v.dehydrated!==null?(vu(p),p.flags|=128,null):(x&p.child.childLanes)!==0?wR(d,p,x):(vu(p),d=oc(d,p,x),d!==null?d.sibling:null);vu(p);break;case 19:var j=(d.flags&128)!==0;if(v=(x&p.childLanes)!==0,v||(Zf(d,p,x,!1),v=(x&p.childLanes)!==0),j){if(v)return MR(d,p,x);p.flags|=128}if(j=p.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),oe(Os,Os.current),v)break;return null;case 22:return p.lanes=0,mR(d,p,x,p.pendingProps);case 24:mu(p,Gs,d.memoizedState.cache)}return oc(d,p,x)}function jR(d,p,x){if(d!==null)if(d.memoizedProps!==p.pendingProps)Ys=!0;else{if(!Tj(d,x)&&(p.flags&128)===0)return Ys=!1,gne(d,p,x);Ys=(d.flags&131072)!==0}else Ys=!1,an&&(p.flags&1048576)!==0&&s5(p,Rm,p.index);switch(p.lanes=0,p.tag){case 16:e:{var v=p.pendingProps;if(d=sh(p.elementType),p.type=d,typeof d=="function")LM(d)?(v=oh(d,v),p.tag=1,p=vR(null,p,d,v,x)):(p.tag=0,p=Sj(null,p,d,v,x));else{if(d!=null){var j=d.$$typeof;if(j===T){p.tag=11,p=fR(null,p,d,v,x);break e}else if(j===L){p.tag=14,p=pR(null,p,d,v,x);break e}}throw p=z(d)||d,Error(s(306,p,""))}}return p;case 0:return Sj(d,p,p.type,p.pendingProps,x);case 1:return v=p.type,j=oh(v,p.pendingProps),vR(d,p,v,j,x);case 3:e:{if(be(p,p.stateNode.containerInfo),d===null)throw Error(s(387));v=p.pendingProps;var A=p.memoizedState;j=A.element,KM(d,p),Um(p,v,null,x);var R=p.memoizedState;if(v=R.cache,mu(p,Gs,v),v!==A.cache&&VM(p,[Gs],x,!0),Vm(),v=R.element,A.isDehydrated)if(A={element:v,isDehydrated:!1,cache:R.cache},p.updateQueue.baseState=A,p.memoizedState=A,p.flags&256){p=SR(d,p,v,x);break e}else if(v!==j){j=La(Error(s(424)),p),_m(j),p=SR(d,p,v,x);break e}else{switch(d=p.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(ns=za(d.firstChild),Ei=p,an=!0,pu=null,_a=!0,x=m5(p,null,v,x),p.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Jd(),v===j){p=oc(d,p,x);break e}ki(d,p,v,x)}p=p.child}return p;case 26:return Iv(d,p),d===null?(x=__(p.type,null,p.pendingProps,null))?p.memoizedState=x:an||(x=p.type,d=p.pendingProps,v=qv(je.current).createElement(x),v[We]=p,v[Ke]=d,Ii(v,x,d),rs(v),p.stateNode=v):p.memoizedState=__(p.type,d.memoizedProps,p.pendingProps,d.memoizedState),null;case 27:return Te(p),d===null&&an&&(v=p.stateNode=L_(p.type,p.pendingProps,je.current),Ei=p,_a=!0,j=ns,Eu(p.type)?(oN=j,ns=za(v.firstChild)):ns=j),ki(d,p,p.pendingProps.children,x),Iv(d,p),d===null&&(p.flags|=4194304),p.child;case 5:return d===null&&an&&((j=v=ns)&&(v=Gne(v,p.type,p.pendingProps,_a),v!==null?(p.stateNode=v,Ei=p,ns=za(v.firstChild),_a=!1,j=!0):j=!1),j||gu(p)),Te(p),j=p.type,A=p.pendingProps,R=d!==null?d.memoizedProps:null,v=A.children,nN(j,A)?v=null:R!==null&&nN(j,R)&&(p.flags|=32),p.memoizedState!==null&&(j=tj(d,p,ane,null,null,x),cy._currentValue=j),Iv(d,p),ki(d,p,v,x),p.child;case 6:return d===null&&an&&((d=x=ns)&&(x=Wne(x,p.pendingProps,_a),x!==null?(p.stateNode=x,Ei=p,ns=null,d=!0):d=!1),d||gu(p)),null;case 13:return wR(d,p,x);case 4:return be(p,p.stateNode.containerInfo),v=p.pendingProps,d===null?p.child=rh(p,null,v,x):ki(d,p,v,x),p.child;case 11:return fR(d,p,p.type,p.pendingProps,x);case 7:return ki(d,p,p.pendingProps,x),p.child;case 8:return ki(d,p,p.pendingProps.children,x),p.child;case 12:return ki(d,p,p.pendingProps.children,x),p.child;case 10:return v=p.pendingProps,mu(p,p.type,v.value),ki(d,p,v.children,x),p.child;case 9:return j=p.type._context,v=p.pendingProps.children,th(p),j=Di(j),v=v(j),p.flags|=1,ki(d,p,v,x),p.child;case 14:return pR(d,p,p.type,p.pendingProps,x);case 15:return gR(d,p,p.type,p.pendingProps,x);case 19:return MR(d,p,x);case 31:return pne(d,p,x);case 22:return mR(d,p,x,p.pendingProps);case 24:return th(p),v=Di(Gs),d===null?(j=GM(),j===null&&(j=Yn,A=UM(),j.pooledCache=A,A.refCount++,A!==null&&(j.pooledCacheLanes|=x),j=A),p.memoizedState={parent:v,cache:j},YM(p),mu(p,Gs,j)):((d.lanes&x)!==0&&(KM(d,p),Um(p,null,null,x),Vm()),j=d.memoizedState,A=p.memoizedState,j.parent!==v?(j={parent:v,cache:v},p.memoizedState=j,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=j),mu(p,Gs,v)):(v=A.cache,mu(p,Gs,v),v!==j.cache&&VM(p,[Gs],x,!0))),ki(d,p,p.pendingProps.children,x),p.child;case 29:throw p.pendingProps}throw Error(s(156,p.tag))}function lc(d){d.flags|=4}function Ej(d,p,x,v,j){if((p=(d.mode&32)!==0)&&(p=!1),p){if(d.flags|=16777216,(j&335544128)===j)if(d.stateNode.complete)d.flags|=8192;else if(XR())d.flags|=8192;else throw ih=yv,WM}else d.flags&=-16777217}function NR(d,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!B_(p))if(XR())d.flags|=8192;else throw ih=yv,WM}function Ov(d,p){p!==null&&(d.flags|=4),d.flags&16384&&(p=d.tag!==22?Pf():536870912,d.lanes|=p,lp|=p)}function qm(d,p){if(!an)switch(d.tailMode){case"hidden":p=d.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var v=null;x!==null;)x.alternate!==null&&(v=x),x=x.sibling;v===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:v.sibling=null}}function ss(d){var p=d.alternate!==null&&d.alternate.child===d.child,x=0,v=0;if(p)for(var j=d.child;j!==null;)x|=j.lanes|j.childLanes,v|=j.subtreeFlags&65011712,v|=j.flags&65011712,j.return=d,j=j.sibling;else for(j=d.child;j!==null;)x|=j.lanes|j.childLanes,v|=j.subtreeFlags,v|=j.flags,j.return=d,j=j.sibling;return d.subtreeFlags|=v,d.childLanes=x,p}function mne(d,p,x){var v=p.pendingProps;switch(PM(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ss(p),null;case 1:return ss(p),null;case 3:return x=p.stateNode,v=null,d!==null&&(v=d.memoizedState.cache),p.memoizedState.cache!==v&&(p.flags|=2048),ic(Gs),Ae(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(d===null||d.child===null)&&(qf(p)?lc(p):d===null||d.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,FM())),ss(p),null;case 26:var j=p.type,A=p.memoizedState;return d===null?(lc(p),A!==null?(ss(p),NR(p,A)):(ss(p),Ej(p,j,null,v,x))):A?A!==d.memoizedState?(lc(p),ss(p),NR(p,A)):(ss(p),p.flags&=-16777217):(d=d.memoizedProps,d!==v&&lc(p),ss(p),Ej(p,j,d,v,x)),null;case 27:if(Be(p),x=je.current,j=p.type,d!==null&&p.stateNode!=null)d.memoizedProps!==v&&lc(p);else{if(!v){if(p.stateNode===null)throw Error(s(166));return ss(p),null}d=Ee.current,qf(p)?r5(p):(d=L_(j,v,x),p.stateNode=d,lc(p))}return ss(p),null;case 5:if(Be(p),j=p.type,d!==null&&p.stateNode!=null)d.memoizedProps!==v&&lc(p);else{if(!v){if(p.stateNode===null)throw Error(s(166));return ss(p),null}if(A=Ee.current,qf(p))r5(p);else{var R=qv(je.current);switch(A){case 1:A=R.createElementNS("http://www.w3.org/2000/svg",j);break;case 2:A=R.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;default:switch(j){case"svg":A=R.createElementNS("http://www.w3.org/2000/svg",j);break;case"math":A=R.createElementNS("http://www.w3.org/1998/Math/MathML",j);break;case"script":A=R.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof v.is=="string"?R.createElement("select",{is:v.is}):R.createElement("select"),v.multiple?A.multiple=!0:v.size&&(A.size=v.size);break;default:A=typeof v.is=="string"?R.createElement(j,{is:v.is}):R.createElement(j)}}A[We]=p,A[Ke]=v;e:for(R=p.child;R!==null;){if(R.tag===5||R.tag===6)A.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===p)break e;for(;R.sibling===null;){if(R.return===null||R.return===p)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}p.stateNode=A;e:switch(Ii(A,j,v),j){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&lc(p)}}return ss(p),Ej(p,p.type,d===null?null:d.memoizedProps,p.pendingProps,x),null;case 6:if(d&&p.stateNode!=null)d.memoizedProps!==v&&lc(p);else{if(typeof v!="string"&&p.stateNode===null)throw Error(s(166));if(d=je.current,qf(p)){if(d=p.stateNode,x=p.memoizedProps,v=null,j=Ei,j!==null)switch(j.tag){case 27:case 5:v=j.memoizedProps}d[We]=p,d=!!(d.nodeValue===x||v!==null&&v.suppressHydrationWarning===!0||w_(d.nodeValue,x)),d||gu(p,!0)}else d=qv(d).createTextNode(v),d[We]=p,p.stateNode=d}return ss(p),null;case 31:if(x=p.memoizedState,d===null||d.memoizedState!==null){if(v=qf(p),x!==null){if(d===null){if(!v)throw Error(s(318));if(d=p.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(557));d[We]=p}else Jd(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ss(p),d=!1}else x=FM(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=x),d=!0;if(!d)return p.flags&256?(sa(p),p):(sa(p),null);if((p.flags&128)!==0)throw Error(s(558))}return ss(p),null;case 13:if(v=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(j=qf(p),v!==null&&v.dehydrated!==null){if(d===null){if(!j)throw Error(s(318));if(j=p.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(s(317));j[We]=p}else Jd(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ss(p),j=!1}else j=FM(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=j),j=!0;if(!j)return p.flags&256?(sa(p),p):(sa(p),null)}return sa(p),(p.flags&128)!==0?(p.lanes=x,p):(x=v!==null,d=d!==null&&d.memoizedState!==null,x&&(v=p.child,j=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(j=v.alternate.memoizedState.cachePool.pool),A=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(A=v.memoizedState.cachePool.pool),A!==j&&(v.flags|=2048)),x!==d&&x&&(p.child.flags|=8192),Ov(p,p.updateQueue),ss(p),null);case 4:return Ae(),d===null&&Qj(p.stateNode.containerInfo),ss(p),null;case 10:return ic(p.type),ss(p),null;case 19:if(fe(Os),v=p.memoizedState,v===null)return ss(p),null;if(j=(p.flags&128)!==0,A=v.rendering,A===null)if(j)qm(v,!1);else{if(As!==0||d!==null&&(d.flags&128)!==0)for(d=p.child;d!==null;){if(A=Sv(d),A!==null){for(p.flags|=128,qm(v,!1),d=A.updateQueue,p.updateQueue=d,Ov(p,d),p.subtreeFlags=0,d=x,x=p.child;x!==null;)e5(x,d),x=x.sibling;return oe(Os,Os.current&1|2),an&&nc(p,v.treeForkCount),p.child}d=d.sibling}v.tail!==null&&Xt()>Fv&&(p.flags|=128,j=!0,qm(v,!1),p.lanes=4194304)}else{if(!j)if(d=Sv(A),d!==null){if(p.flags|=128,j=!0,d=d.updateQueue,p.updateQueue=d,Ov(p,d),qm(v,!0),v.tail===null&&v.tailMode==="hidden"&&!A.alternate&&!an)return ss(p),null}else 2*Xt()-v.renderingStartTime>Fv&&x!==536870912&&(p.flags|=128,j=!0,qm(v,!1),p.lanes=4194304);v.isBackwards?(A.sibling=p.child,p.child=A):(d=v.last,d!==null?d.sibling=A:p.child=A,v.last=A)}return v.tail!==null?(d=v.tail,v.rendering=d,v.tail=d.sibling,v.renderingStartTime=Xt(),d.sibling=null,x=Os.current,oe(Os,j?x&1|2:x&1),an&&nc(p,v.treeForkCount),d):(ss(p),null);case 22:case 23:return sa(p),XM(),v=p.memoizedState!==null,d!==null?d.memoizedState!==null!==v&&(p.flags|=8192):v&&(p.flags|=8192),v?(x&536870912)!==0&&(p.flags&128)===0&&(ss(p),p.subtreeFlags&6&&(p.flags|=8192)):ss(p),x=p.updateQueue,x!==null&&Ov(p,x.retryQueue),x=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),v=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(v=p.memoizedState.cachePool.pool),v!==x&&(p.flags|=2048),d!==null&&fe(nh),null;case 24:return x=null,d!==null&&(x=d.memoizedState.cache),p.memoizedState.cache!==x&&(p.flags|=2048),ic(Gs),ss(p),null;case 25:return null;case 30:return null}throw Error(s(156,p.tag))}function yne(d,p){switch(PM(p),p.tag){case 1:return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return ic(Gs),Ae(),d=p.flags,(d&65536)!==0&&(d&128)===0?(p.flags=d&-65537|128,p):null;case 26:case 27:case 5:return Be(p),null;case 31:if(p.memoizedState!==null){if(sa(p),p.alternate===null)throw Error(s(340));Jd()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 13:if(sa(p),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(s(340));Jd()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return fe(Os),null;case 4:return Ae(),null;case 10:return ic(p.type),null;case 22:case 23:return sa(p),XM(),d!==null&&fe(nh),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 24:return ic(Gs),null;case 25:return null;default:return null}}function AR(d,p){switch(PM(p),p.tag){case 3:ic(Gs),Ae();break;case 26:case 27:case 5:Be(p);break;case 4:Ae();break;case 31:p.memoizedState!==null&&sa(p);break;case 13:sa(p);break;case 19:fe(Os);break;case 10:ic(p.type);break;case 22:case 23:sa(p),XM(),d!==null&&fe(nh);break;case 24:ic(Gs)}}function Zm(d,p){try{var x=p.updateQueue,v=x!==null?x.lastEffect:null;if(v!==null){var j=v.next;x=j;do{if((x.tag&d)===d){v=void 0;var A=x.create,R=x.inst;v=A(),R.destroy=v}x=x.next}while(x!==j)}}catch(V){Rn(p,p.return,V)}}function wu(d,p,x){try{var v=p.updateQueue,j=v!==null?v.lastEffect:null;if(j!==null){var A=j.next;v=A;do{if((v.tag&d)===d){var R=v.inst,V=R.destroy;if(V!==void 0){R.destroy=void 0,j=p;var q=x,re=V;try{re()}catch(pe){Rn(j,q,pe)}}}v=v.next}while(v!==A)}}catch(pe){Rn(p,p.return,pe)}}function TR(d){var p=d.updateQueue;if(p!==null){var x=d.stateNode;try{x5(p,x)}catch(v){Rn(d,d.return,v)}}}function ER(d,p,x){x.props=oh(d.type,d.memoizedProps),x.state=d.memoizedState;try{x.componentWillUnmount()}catch(v){Rn(d,p,v)}}function Qm(d,p){try{var x=d.ref;if(x!==null){switch(d.tag){case 26:case 27:case 5:var v=d.stateNode;break;case 30:v=d.stateNode;break;default:v=d.stateNode}typeof x=="function"?d.refCleanup=x(v):x.current=v}}catch(j){Rn(d,p,j)}}function ul(d,p){var x=d.ref,v=d.refCleanup;if(x!==null)if(typeof v=="function")try{v()}catch(j){Rn(d,p,j)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(j){Rn(d,p,j)}else x.current=null}function DR(d){var p=d.type,x=d.memoizedProps,v=d.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":x.autoFocus&&v.focus();break e;case"img":x.src?v.src=x.src:x.srcSet&&(v.srcset=x.srcSet)}}catch(j){Rn(d,d.return,j)}}function Dj(d,p,x){try{var v=d.stateNode;Fne(v,d.type,x,p),v[Ke]=p}catch(j){Rn(d,d.return,j)}}function kR(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&Eu(d.type)||d.tag===4}function kj(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||kR(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&Eu(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Ij(d,p,x){var v=d.tag;if(v===5||v===6)d=d.stateNode,p?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(d,p):(p=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,p.appendChild(d),x=x._reactRootContainer,x!=null||p.onclick!==null||(p.onclick=Jl));else if(v!==4&&(v===27&&Eu(d.type)&&(x=d.stateNode,p=null),d=d.child,d!==null))for(Ij(d,p,x),d=d.sibling;d!==null;)Ij(d,p,x),d=d.sibling}function Rv(d,p,x){var v=d.tag;if(v===5||v===6)d=d.stateNode,p?x.insertBefore(d,p):x.appendChild(d);else if(v!==4&&(v===27&&Eu(d.type)&&(x=d.stateNode),d=d.child,d!==null))for(Rv(d,p,x),d=d.sibling;d!==null;)Rv(d,p,x),d=d.sibling}function IR(d){var p=d.stateNode,x=d.memoizedProps;try{for(var v=d.type,j=p.attributes;j.length;)p.removeAttributeNode(j[0]);Ii(p,v,x),p[We]=d,p[Ke]=x}catch(A){Rn(d,d.return,A)}}var cc=!1,Ks=!1,Lj=!1,LR=typeof WeakSet=="function"?WeakSet:Set,Si=null;function xne(d,p){if(d=d.containerInfo,eN=n1,d=G3(d),NM(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var v=x.getSelection&&x.getSelection();if(v&&v.rangeCount!==0){x=v.anchorNode;var j=v.anchorOffset,A=v.focusNode;v=v.focusOffset;try{x.nodeType,A.nodeType}catch{x=null;break e}var R=0,V=-1,q=-1,re=0,pe=0,ve=d,ae=null;t:for(;;){for(var ue;ve!==x||j!==0&&ve.nodeType!==3||(V=R+j),ve!==A||v!==0&&ve.nodeType!==3||(q=R+v),ve.nodeType===3&&(R+=ve.nodeValue.length),(ue=ve.firstChild)!==null;)ae=ve,ve=ue;for(;;){if(ve===d)break t;if(ae===x&&++re===j&&(V=R),ae===A&&++pe===v&&(q=R),(ue=ve.nextSibling)!==null)break;ve=ae,ae=ve.parentNode}ve=ue}x=V===-1||q===-1?null:{start:V,end:q}}else x=null}x=x||{start:0,end:0}}else x=null;for(tN={focusedElem:d,selectionRange:x},n1=!1,Si=p;Si!==null;)if(p=Si,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,Si=d;else for(;Si!==null;){switch(p=Si,A=p.alternate,d=p.flags,p.tag){case 0:if((d&4)!==0&&(d=p.updateQueue,d=d!==null?d.events:null,d!==null))for(x=0;x<d.length;x++)j=d[x],j.ref.impl=j.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&A!==null){d=void 0,x=p,j=A.memoizedProps,A=A.memoizedState,v=x.stateNode;try{var tt=oh(x.type,j);d=v.getSnapshotBeforeUpdate(tt,A),v.__reactInternalSnapshotBeforeUpdate=d}catch(xt){Rn(x,x.return,xt)}}break;case 3:if((d&1024)!==0){if(d=p.stateNode.containerInfo,x=d.nodeType,x===9)iN(d);else if(x===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":iN(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(s(163))}if(d=p.sibling,d!==null){d.return=p.return,Si=d;break}Si=p.return}}function OR(d,p,x){var v=x.flags;switch(x.tag){case 0:case 11:case 15:dc(d,x),v&4&&Zm(5,x);break;case 1:if(dc(d,x),v&4)if(d=x.stateNode,p===null)try{d.componentDidMount()}catch(R){Rn(x,x.return,R)}else{var j=oh(x.type,p.memoizedProps);p=p.memoizedState;try{d.componentDidUpdate(j,p,d.__reactInternalSnapshotBeforeUpdate)}catch(R){Rn(x,x.return,R)}}v&64&&TR(x),v&512&&Qm(x,x.return);break;case 3:if(dc(d,x),v&64&&(d=x.updateQueue,d!==null)){if(p=null,x.child!==null)switch(x.child.tag){case 27:case 5:p=x.child.stateNode;break;case 1:p=x.child.stateNode}try{x5(d,p)}catch(R){Rn(x,x.return,R)}}break;case 27:p===null&&v&4&&IR(x);case 26:case 5:dc(d,x),p===null&&v&4&&DR(x),v&512&&Qm(x,x.return);break;case 12:dc(d,x);break;case 31:dc(d,x),v&4&&PR(d,x);break;case 13:dc(d,x),v&4&&zR(d,x),v&64&&(d=x.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(x=Ane.bind(null,x),Yne(d,x))));break;case 22:if(v=x.memoizedState!==null||cc,!v){p=p!==null&&p.memoizedState!==null||Ks,j=cc;var A=Ks;cc=v,(Ks=p)&&!A?hc(d,x,(x.subtreeFlags&8772)!==0):dc(d,x),cc=j,Ks=A}break;case 30:break;default:dc(d,x)}}function RR(d){var p=d.alternate;p!==null&&(d.alternate=null,RR(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&Co(p)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var as=null,Ar=!1;function uc(d,p,x){for(x=x.child;x!==null;)_R(d,p,x),x=x.sibling}function _R(d,p,x){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Wn,x)}catch{}switch(x.tag){case 26:Ks||ul(x,p),uc(d,p,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Ks||ul(x,p);var v=as,j=Ar;Eu(x.type)&&(as=x.stateNode,Ar=!1),uc(d,p,x),ay(x.stateNode),as=v,Ar=j;break;case 5:Ks||ul(x,p);case 6:if(v=as,j=Ar,as=null,uc(d,p,x),as=v,Ar=j,as!==null)if(Ar)try{(as.nodeType===9?as.body:as.nodeName==="HTML"?as.ownerDocument.body:as).removeChild(x.stateNode)}catch(A){Rn(x,p,A)}else try{as.removeChild(x.stateNode)}catch(A){Rn(x,p,A)}break;case 18:as!==null&&(Ar?(d=as,T_(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,x.stateNode),mp(d)):T_(as,x.stateNode));break;case 4:v=as,j=Ar,as=x.stateNode.containerInfo,Ar=!0,uc(d,p,x),as=v,Ar=j;break;case 0:case 11:case 14:case 15:wu(2,x,p),Ks||wu(4,x,p),uc(d,p,x);break;case 1:Ks||(ul(x,p),v=x.stateNode,typeof v.componentWillUnmount=="function"&&ER(x,p,v)),uc(d,p,x);break;case 21:uc(d,p,x);break;case 22:Ks=(v=Ks)||x.memoizedState!==null,uc(d,p,x),Ks=v;break;default:uc(d,p,x)}}function PR(d,p){if(p.memoizedState===null&&(d=p.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{mp(d)}catch(x){Rn(p,p.return,x)}}}function zR(d,p){if(p.memoizedState===null&&(d=p.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{mp(d)}catch(x){Rn(p,p.return,x)}}function bne(d){switch(d.tag){case 31:case 13:case 19:var p=d.stateNode;return p===null&&(p=d.stateNode=new LR),p;case 22:return d=d.stateNode,p=d._retryCache,p===null&&(p=d._retryCache=new LR),p;default:throw Error(s(435,d.tag))}}function _v(d,p){var x=bne(d);p.forEach(function(v){if(!x.has(v)){x.add(v);var j=Tne.bind(null,d,v);v.then(j,j)}})}function Tr(d,p){var x=p.deletions;if(x!==null)for(var v=0;v<x.length;v++){var j=x[v],A=d,R=p,V=R;e:for(;V!==null;){switch(V.tag){case 27:if(Eu(V.type)){as=V.stateNode,Ar=!1;break e}break;case 5:as=V.stateNode,Ar=!1;break e;case 3:case 4:as=V.stateNode.containerInfo,Ar=!0;break e}V=V.return}if(as===null)throw Error(s(160));_R(A,R,j),as=null,Ar=!1,A=j.alternate,A!==null&&(A.return=null),j.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)FR(p,d),p=p.sibling}var No=null;function FR(d,p){var x=d.alternate,v=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:Tr(p,d),Er(d),v&4&&(wu(3,d,d.return),Zm(3,d),wu(5,d,d.return));break;case 1:Tr(p,d),Er(d),v&512&&(Ks||x===null||ul(x,x.return)),v&64&&cc&&(d=d.updateQueue,d!==null&&(v=d.callbacks,v!==null&&(x=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=x===null?v:x.concat(v))));break;case 26:var j=No;if(Tr(p,d),Er(d),v&512&&(Ks||x===null||ul(x,x.return)),v&4){var A=x!==null?x.memoizedState:null;if(v=d.memoizedState,x===null)if(v===null)if(d.stateNode===null){e:{v=d.type,x=d.memoizedProps,j=j.ownerDocument||j;t:switch(v){case"title":A=j.getElementsByTagName("title")[0],(!A||A[wn]||A[We]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=j.createElement(v),j.head.insertBefore(A,j.querySelector("head > title"))),Ii(A,v,x),A[We]=d,rs(A),v=A;break e;case"link":var R=F_("link","href",j).get(v+(x.href||""));if(R){for(var V=0;V<R.length;V++)if(A=R[V],A.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&A.getAttribute("rel")===(x.rel==null?null:x.rel)&&A.getAttribute("title")===(x.title==null?null:x.title)&&A.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){R.splice(V,1);break t}}A=j.createElement(v),Ii(A,v,x),j.head.appendChild(A);break;case"meta":if(R=F_("meta","content",j).get(v+(x.content||""))){for(V=0;V<R.length;V++)if(A=R[V],A.getAttribute("content")===(x.content==null?null:""+x.content)&&A.getAttribute("name")===(x.name==null?null:x.name)&&A.getAttribute("property")===(x.property==null?null:x.property)&&A.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&A.getAttribute("charset")===(x.charSet==null?null:x.charSet)){R.splice(V,1);break t}}A=j.createElement(v),Ii(A,v,x),j.head.appendChild(A);break;default:throw Error(s(468,v))}A[We]=d,rs(A),v=A}d.stateNode=v}else $_(j,d.type,d.stateNode);else d.stateNode=z_(j,v,d.memoizedProps);else A!==v?(A===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):A.count--,v===null?$_(j,d.type,d.stateNode):z_(j,v,d.memoizedProps)):v===null&&d.stateNode!==null&&Dj(d,d.memoizedProps,x.memoizedProps)}break;case 27:Tr(p,d),Er(d),v&512&&(Ks||x===null||ul(x,x.return)),x!==null&&v&4&&Dj(d,d.memoizedProps,x.memoizedProps);break;case 5:if(Tr(p,d),Er(d),v&512&&(Ks||x===null||ul(x,x.return)),d.flags&32){j=d.stateNode;try{Ff(j,"")}catch(tt){Rn(d,d.return,tt)}}v&4&&d.stateNode!=null&&(j=d.memoizedProps,Dj(d,j,x!==null?x.memoizedProps:j)),v&1024&&(Lj=!0);break;case 6:if(Tr(p,d),Er(d),v&4){if(d.stateNode===null)throw Error(s(162));v=d.memoizedProps,x=d.stateNode;try{x.nodeValue=v}catch(tt){Rn(d,d.return,tt)}}break;case 3:if(Xv=null,j=No,No=Zv(p.containerInfo),Tr(p,d),No=j,Er(d),v&4&&x!==null&&x.memoizedState.isDehydrated)try{mp(p.containerInfo)}catch(tt){Rn(d,d.return,tt)}Lj&&(Lj=!1,$R(d));break;case 4:v=No,No=Zv(d.stateNode.containerInfo),Tr(p,d),Er(d),No=v;break;case 12:Tr(p,d),Er(d);break;case 31:Tr(p,d),Er(d),v&4&&(v=d.updateQueue,v!==null&&(d.updateQueue=null,_v(d,v)));break;case 13:Tr(p,d),Er(d),d.child.flags&8192&&d.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(zv=Xt()),v&4&&(v=d.updateQueue,v!==null&&(d.updateQueue=null,_v(d,v)));break;case 22:j=d.memoizedState!==null;var q=x!==null&&x.memoizedState!==null,re=cc,pe=Ks;if(cc=re||j,Ks=pe||q,Tr(p,d),Ks=pe,cc=re,Er(d),v&8192)e:for(p=d.stateNode,p._visibility=j?p._visibility&-2:p._visibility|1,j&&(x===null||q||cc||Ks||lh(d)),x=null,p=d;;){if(p.tag===5||p.tag===26){if(x===null){q=x=p;try{if(A=q.stateNode,j)R=A.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{V=q.stateNode;var ve=q.memoizedProps.style,ae=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;V.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(tt){Rn(q,q.return,tt)}}}else if(p.tag===6){if(x===null){q=p;try{q.stateNode.nodeValue=j?"":q.memoizedProps}catch(tt){Rn(q,q.return,tt)}}}else if(p.tag===18){if(x===null){q=p;try{var ue=q.stateNode;j?E_(ue,!0):E_(q.stateNode,!1)}catch(tt){Rn(q,q.return,tt)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===d)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break e;for(;p.sibling===null;){if(p.return===null||p.return===d)break e;x===p&&(x=null),p=p.return}x===p&&(x=null),p.sibling.return=p.return,p=p.sibling}v&4&&(v=d.updateQueue,v!==null&&(x=v.retryQueue,x!==null&&(v.retryQueue=null,_v(d,x))));break;case 19:Tr(p,d),Er(d),v&4&&(v=d.updateQueue,v!==null&&(d.updateQueue=null,_v(d,v)));break;case 30:break;case 21:break;default:Tr(p,d),Er(d)}}function Er(d){var p=d.flags;if(p&2){try{for(var x,v=d.return;v!==null;){if(kR(v)){x=v;break}v=v.return}if(x==null)throw Error(s(160));switch(x.tag){case 27:var j=x.stateNode,A=kj(d);Rv(d,A,j);break;case 5:var R=x.stateNode;x.flags&32&&(Ff(R,""),x.flags&=-33);var V=kj(d);Rv(d,V,R);break;case 3:case 4:var q=x.stateNode.containerInfo,re=kj(d);Ij(d,re,q);break;default:throw Error(s(161))}}catch(pe){Rn(d,d.return,pe)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function $R(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var p=d;$R(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),d=d.sibling}}function dc(d,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)OR(d,p.alternate,p),p=p.sibling}function lh(d){for(d=d.child;d!==null;){var p=d;switch(p.tag){case 0:case 11:case 14:case 15:wu(4,p,p.return),lh(p);break;case 1:ul(p,p.return);var x=p.stateNode;typeof x.componentWillUnmount=="function"&&ER(p,p.return,x),lh(p);break;case 27:ay(p.stateNode);case 26:case 5:ul(p,p.return),lh(p);break;case 22:p.memoizedState===null&&lh(p);break;case 30:lh(p);break;default:lh(p)}d=d.sibling}}function hc(d,p,x){for(x=x&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var v=p.alternate,j=d,A=p,R=A.flags;switch(A.tag){case 0:case 11:case 15:hc(j,A,x),Zm(4,A);break;case 1:if(hc(j,A,x),v=A,j=v.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(re){Rn(v,v.return,re)}if(v=A,j=v.updateQueue,j!==null){var V=v.stateNode;try{var q=j.shared.hiddenCallbacks;if(q!==null)for(j.shared.hiddenCallbacks=null,j=0;j<q.length;j++)y5(q[j],V)}catch(re){Rn(v,v.return,re)}}x&&R&64&&TR(A),Qm(A,A.return);break;case 27:IR(A);case 26:case 5:hc(j,A,x),x&&v===null&&R&4&&DR(A),Qm(A,A.return);break;case 12:hc(j,A,x);break;case 31:hc(j,A,x),x&&R&4&&PR(j,A);break;case 13:hc(j,A,x),x&&R&4&&zR(j,A);break;case 22:A.memoizedState===null&&hc(j,A,x),Qm(A,A.return);break;case 30:break;default:hc(j,A,x)}p=p.sibling}}function Oj(d,p){var x=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),d=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(d=p.memoizedState.cachePool.pool),d!==x&&(d!=null&&d.refCount++,x!=null&&Pm(x))}function Rj(d,p){d=null,p.alternate!==null&&(d=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==d&&(p.refCount++,d!=null&&Pm(d))}function Ao(d,p,x,v){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)BR(d,p,x,v),p=p.sibling}function BR(d,p,x,v){var j=p.flags;switch(p.tag){case 0:case 11:case 15:Ao(d,p,x,v),j&2048&&Zm(9,p);break;case 1:Ao(d,p,x,v);break;case 3:Ao(d,p,x,v),j&2048&&(d=null,p.alternate!==null&&(d=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==d&&(p.refCount++,d!=null&&Pm(d)));break;case 12:if(j&2048){Ao(d,p,x,v),d=p.stateNode;try{var A=p.memoizedProps,R=A.id,V=A.onPostCommit;typeof V=="function"&&V(R,p.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(q){Rn(p,p.return,q)}}else Ao(d,p,x,v);break;case 31:Ao(d,p,x,v);break;case 13:Ao(d,p,x,v);break;case 23:break;case 22:A=p.stateNode,R=p.alternate,p.memoizedState!==null?A._visibility&2?Ao(d,p,x,v):Xm(d,p):A._visibility&2?Ao(d,p,x,v):(A._visibility|=2,rp(d,p,x,v,(p.subtreeFlags&10256)!==0||!1)),j&2048&&Oj(R,p);break;case 24:Ao(d,p,x,v),j&2048&&Rj(p.alternate,p);break;default:Ao(d,p,x,v)}}function rp(d,p,x,v,j){for(j=j&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var A=d,R=p,V=x,q=v,re=R.flags;switch(R.tag){case 0:case 11:case 15:rp(A,R,V,q,j),Zm(8,R);break;case 23:break;case 22:var pe=R.stateNode;R.memoizedState!==null?pe._visibility&2?rp(A,R,V,q,j):Xm(A,R):(pe._visibility|=2,rp(A,R,V,q,j)),j&&re&2048&&Oj(R.alternate,R);break;case 24:rp(A,R,V,q,j),j&&re&2048&&Rj(R.alternate,R);break;default:rp(A,R,V,q,j)}p=p.sibling}}function Xm(d,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var x=d,v=p,j=v.flags;switch(v.tag){case 22:Xm(x,v),j&2048&&Oj(v.alternate,v);break;case 24:Xm(x,v),j&2048&&Rj(v.alternate,v);break;default:Xm(x,v)}p=p.sibling}}var Jm=8192;function ap(d,p,x){if(d.subtreeFlags&Jm)for(d=d.child;d!==null;)VR(d,p,x),d=d.sibling}function VR(d,p,x){switch(d.tag){case 26:ap(d,p,x),d.flags&Jm&&d.memoizedState!==null&&rse(x,No,d.memoizedState,d.memoizedProps);break;case 5:ap(d,p,x);break;case 3:case 4:var v=No;No=Zv(d.stateNode.containerInfo),ap(d,p,x),No=v;break;case 22:d.memoizedState===null&&(v=d.alternate,v!==null&&v.memoizedState!==null?(v=Jm,Jm=16777216,ap(d,p,x),Jm=v):ap(d,p,x));break;default:ap(d,p,x)}}function UR(d){var p=d.alternate;if(p!==null&&(d=p.child,d!==null)){p.child=null;do p=d.sibling,d.sibling=null,d=p;while(d!==null)}}function ey(d){var p=d.deletions;if((d.flags&16)!==0){if(p!==null)for(var x=0;x<p.length;x++){var v=p[x];Si=v,GR(v,d)}UR(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)HR(d),d=d.sibling}function HR(d){switch(d.tag){case 0:case 11:case 15:ey(d),d.flags&2048&&wu(9,d,d.return);break;case 3:ey(d);break;case 12:ey(d);break;case 22:var p=d.stateNode;d.memoizedState!==null&&p._visibility&2&&(d.return===null||d.return.tag!==13)?(p._visibility&=-3,Pv(d)):ey(d);break;default:ey(d)}}function Pv(d){var p=d.deletions;if((d.flags&16)!==0){if(p!==null)for(var x=0;x<p.length;x++){var v=p[x];Si=v,GR(v,d)}UR(d)}for(d=d.child;d!==null;){switch(p=d,p.tag){case 0:case 11:case 15:wu(8,p,p.return),Pv(p);break;case 22:x=p.stateNode,x._visibility&2&&(x._visibility&=-3,Pv(p));break;default:Pv(p)}d=d.sibling}}function GR(d,p){for(;Si!==null;){var x=Si;switch(x.tag){case 0:case 11:case 15:wu(8,x,p);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var v=x.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Pm(x.memoizedState.cache)}if(v=x.child,v!==null)v.return=x,Si=v;else e:for(x=d;Si!==null;){v=Si;var j=v.sibling,A=v.return;if(RR(v),v===x){Si=null;break e}if(j!==null){j.return=A,Si=j;break e}Si=A}}}var vne={getCacheForType:function(d){var p=Di(Gs),x=p.data.get(d);return x===void 0&&(x=d(),p.data.set(d,x)),x},cacheSignal:function(){return Di(Gs).controller.signal}},Sne=typeof WeakMap=="function"?WeakMap:Map,Cn=0,Yn=null,Kt=null,en=0,On=0,ia=null,Cu=!1,op=!1,_j=!1,fc=0,As=0,Mu=0,ch=0,Pj=0,ra=0,lp=0,ty=null,Dr=null,zj=!1,zv=0,WR=0,Fv=1/0,$v=null,ju=null,oi=0,Nu=null,cp=null,pc=0,Fj=0,$j=null,YR=null,ny=0,Bj=null;function aa(){return(Cn&2)!==0&&en!==0?en&-en:P.T!==null?Yj():st()}function KR(){if(ra===0)if((en&536870912)===0||an){var d=uu;uu<<=1,(uu&3932160)===0&&(uu=262144),ra=d}else ra=536870912;return d=na.current,d!==null&&(d.flags|=32),ra}function kr(d,p,x){(d===Yn&&(On===2||On===9)||d.cancelPendingCommit!==null)&&(up(d,0),Au(d,en,ra,!1)),Z(d,x),((Cn&2)===0||d!==Yn)&&(d===Yn&&((Cn&2)===0&&(ch|=x),As===4&&Au(d,en,ra,!1)),dl(d))}function qR(d,p,x){if((Cn&6)!==0)throw Error(s(327));var v=!x&&(p&127)===0&&(p&d.expiredLanes)===0||Aa(d,p),j=v?Mne(d,p):Uj(d,p,!0),A=v;do{if(j===0){op&&!v&&Au(d,p,0,!1);break}else{if(x=d.current.alternate,A&&!wne(x)){j=Uj(d,p,!1),A=!1;continue}if(j===2){if(A=p,d.errorRecoveryDisabledLanes&A)var R=0;else R=d.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){p=R;e:{var V=d;j=ty;var q=V.current.memoizedState.isDehydrated;if(q&&(up(V,R).flags|=256),R=Uj(V,R,!1),R!==2){if(_j&&!q){V.errorRecoveryDisabledLanes|=A,ch|=A,j=4;break e}A=Dr,Dr=j,A!==null&&(Dr===null?Dr=A:Dr.push.apply(Dr,A))}j=R}if(A=!1,j!==2)continue}}if(j===1){up(d,0),Au(d,p,0,!0);break}e:{switch(v=d,A=j,A){case 0:case 1:throw Error(s(345));case 4:if((p&4194048)!==p)break;case 6:Au(v,p,ra,!Cu);break e;case 2:Dr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((p&62914560)===p&&(j=zv+300-Xt(),10<j)){if(Au(v,p,ra,!Cu),Zl(v,0,!0)!==0)break e;pc=p,v.timeoutHandle=N_(ZR.bind(null,v,x,Dr,$v,zj,p,ra,ch,lp,Cu,A,"Throttled",-0,0),j);break e}ZR(v,x,Dr,$v,zj,p,ra,ch,lp,Cu,A,null,-0,0)}}break}while(!0);dl(d)}function ZR(d,p,x,v,j,A,R,V,q,re,pe,ve,ae,ue){if(d.timeoutHandle=-1,ve=p.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jl},VR(p,A,ve);var tt=(A&62914560)===A?zv-Xt():(A&4194048)===A?WR-Xt():0;if(tt=ase(ve,tt),tt!==null){pc=A,d.cancelPendingCommit=tt(i_.bind(null,d,p,A,x,v,j,R,V,q,pe,ve,null,ae,ue)),Au(d,A,R,!re);return}}i_(d,p,A,x,v,j,R,V,q)}function wne(d){for(var p=d;;){var x=p.tag;if((x===0||x===11||x===15)&&p.flags&16384&&(x=p.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var v=0;v<x.length;v++){var j=x[v],A=j.getSnapshot;j=j.value;try{if(!ea(A(),j))return!1}catch{return!1}}if(x=p.child,p.subtreeFlags&16384&&x!==null)x.return=p,p=x;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Au(d,p,x,v){p&=~Pj,p&=~ch,d.suspendedLanes|=p,d.pingedLanes&=~p,v&&(d.warmLanes|=p),v=d.expirationTimes;for(var j=p;0<j;){var A=31-Sn(j),R=1<<A;v[A]=-1,j&=~R}x!==0&&W(d,x,p)}function Bv(){return(Cn&6)===0?(sy(0),!1):!0}function Vj(){if(Kt!==null){if(On===0)var d=Kt.return;else d=Kt,sc=eh=null,ij(d),ep=null,Fm=0,d=Kt;for(;d!==null;)AR(d.alternate,d),d=d.return;Kt=null}}function up(d,p){var x=d.timeoutHandle;x!==-1&&(d.timeoutHandle=-1,Vne(x)),x=d.cancelPendingCommit,x!==null&&(d.cancelPendingCommit=null,x()),pc=0,Vj(),Yn=d,Kt=x=tc(d.current,null),en=p,On=0,ia=null,Cu=!1,op=Aa(d,p),_j=!1,lp=ra=Pj=ch=Mu=As=0,Dr=ty=null,zj=!1,(p&8)!==0&&(p|=p&32);var v=d.entangledLanes;if(v!==0)for(d=d.entanglements,v&=p;0<v;){var j=31-Sn(v),A=1<<j;p|=d[j],v&=~A}return fc=p,lv(),x}function QR(d,p){zt=null,P.H=Ym,p===Jf||p===mv?(p=f5(),On=3):p===WM?(p=f5(),On=4):On=p===vj?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,ia=p,Kt===null&&(As=1,Dv(d,La(p,d.current)))}function XR(){var d=na.current;return d===null?!0:(en&4194048)===en?Pa===null:(en&62914560)===en||(en&536870912)!==0?d===Pa:!1}function JR(){var d=P.H;return P.H=Ym,d===null?Ym:d}function e_(){var d=P.A;return P.A=vne,d}function Vv(){As=4,Cu||(en&4194048)!==en&&na.current!==null||(op=!0),(Mu&134217727)===0&&(ch&134217727)===0||Yn===null||Au(Yn,en,ra,!1)}function Uj(d,p,x){var v=Cn;Cn|=2;var j=JR(),A=e_();(Yn!==d||en!==p)&&($v=null,up(d,p)),p=!1;var R=As;e:do try{if(On!==0&&Kt!==null){var V=Kt,q=ia;switch(On){case 8:Vj(),R=6;break e;case 3:case 2:case 9:case 6:na.current===null&&(p=!0);var re=On;if(On=0,ia=null,dp(d,V,q,re),x&&op){R=0;break e}break;default:re=On,On=0,ia=null,dp(d,V,q,re)}}Cne(),R=As;break}catch(pe){QR(d,pe)}while(!0);return p&&d.shellSuspendCounter++,sc=eh=null,Cn=v,P.H=j,P.A=A,Kt===null&&(Yn=null,en=0,lv()),R}function Cne(){for(;Kt!==null;)t_(Kt)}function Mne(d,p){var x=Cn;Cn|=2;var v=JR(),j=e_();Yn!==d||en!==p?($v=null,Fv=Xt()+500,up(d,p)):op=Aa(d,p);e:do try{if(On!==0&&Kt!==null){p=Kt;var A=ia;t:switch(On){case 1:On=0,ia=null,dp(d,p,A,1);break;case 2:case 9:if(d5(A)){On=0,ia=null,n_(p);break}p=function(){On!==2&&On!==9||Yn!==d||(On=7),dl(d)},A.then(p,p);break e;case 3:On=7;break e;case 4:On=5;break e;case 7:d5(A)?(On=0,ia=null,n_(p)):(On=0,ia=null,dp(d,p,A,7));break;case 5:var R=null;switch(Kt.tag){case 26:R=Kt.memoizedState;case 5:case 27:var V=Kt;if(R?B_(R):V.stateNode.complete){On=0,ia=null;var q=V.sibling;if(q!==null)Kt=q;else{var re=V.return;re!==null?(Kt=re,Uv(re)):Kt=null}break t}}On=0,ia=null,dp(d,p,A,5);break;case 6:On=0,ia=null,dp(d,p,A,6);break;case 8:Vj(),As=6;break e;default:throw Error(s(462))}}jne();break}catch(pe){QR(d,pe)}while(!0);return sc=eh=null,P.H=v,P.A=j,Cn=x,Kt!==null?0:(Yn=null,en=0,lv(),As)}function jne(){for(;Kt!==null&&!Yt();)t_(Kt)}function t_(d){var p=jR(d.alternate,d,fc);d.memoizedProps=d.pendingProps,p===null?Uv(d):Kt=p}function n_(d){var p=d,x=p.alternate;switch(p.tag){case 15:case 0:p=bR(x,p,p.pendingProps,p.type,void 0,en);break;case 11:p=bR(x,p,p.pendingProps,p.type.render,p.ref,en);break;case 5:ij(p);default:AR(x,p),p=Kt=e5(p,fc),p=jR(x,p,fc)}d.memoizedProps=d.pendingProps,p===null?Uv(d):Kt=p}function dp(d,p,x,v){sc=eh=null,ij(p),ep=null,Fm=0;var j=p.return;try{if(fne(d,j,p,x,en)){As=1,Dv(d,La(x,d.current)),Kt=null;return}}catch(A){if(j!==null)throw Kt=j,A;As=1,Dv(d,La(x,d.current)),Kt=null;return}p.flags&32768?(an||v===1?d=!0:op||(en&536870912)!==0?d=!1:(Cu=d=!0,(v===2||v===9||v===3||v===6)&&(v=na.current,v!==null&&v.tag===13&&(v.flags|=16384))),s_(p,d)):Uv(p)}function Uv(d){var p=d;do{if((p.flags&32768)!==0){s_(p,Cu);return}d=p.return;var x=mne(p.alternate,p,fc);if(x!==null){Kt=x;return}if(p=p.sibling,p!==null){Kt=p;return}Kt=p=d}while(p!==null);As===0&&(As=5)}function s_(d,p){do{var x=yne(d.alternate,d);if(x!==null){x.flags&=32767,Kt=x;return}if(x=d.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!p&&(d=d.sibling,d!==null)){Kt=d;return}Kt=d=x}while(d!==null);As=6,Kt=null}function i_(d,p,x,v,j,A,R,V,q){d.cancelPendingCommit=null;do Hv();while(oi!==0);if((Cn&6)!==0)throw Error(s(327));if(p!==null){if(p===d.current)throw Error(s(177));if(A=p.lanes|p.childLanes,A|=kM,ne(d,x,A,R,V,q),d===Yn&&(Kt=Yn=null,en=0),cp=p,Nu=d,pc=x,Fj=A,$j=j,YR=v,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Ene(Qe,function(){return c_(),null})):(d.callbackNode=null,d.callbackPriority=0),v=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||v){v=P.T,P.T=null,j=B.p,B.p=2,R=Cn,Cn|=4;try{xne(d,p,x)}finally{Cn=R,B.p=j,P.T=v}}oi=1,r_(),a_(),o_()}}function r_(){if(oi===1){oi=0;var d=Nu,p=cp,x=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||x){x=P.T,P.T=null;var v=B.p;B.p=2;var j=Cn;Cn|=4;try{FR(p,d);var A=tN,R=G3(d.containerInfo),V=A.focusedElem,q=A.selectionRange;if(R!==V&&V&&V.ownerDocument&&H3(V.ownerDocument.documentElement,V)){if(q!==null&&NM(V)){var re=q.start,pe=q.end;if(pe===void 0&&(pe=re),"selectionStart"in V)V.selectionStart=re,V.selectionEnd=Math.min(pe,V.value.length);else{var ve=V.ownerDocument||document,ae=ve&&ve.defaultView||window;if(ae.getSelection){var ue=ae.getSelection(),tt=V.textContent.length,xt=Math.min(q.start,tt),Un=q.end===void 0?xt:Math.min(q.end,tt);!ue.extend&&xt>Un&&(R=Un,Un=xt,xt=R);var ee=U3(V,xt),Q=U3(V,Un);if(ee&&Q&&(ue.rangeCount!==1||ue.anchorNode!==ee.node||ue.anchorOffset!==ee.offset||ue.focusNode!==Q.node||ue.focusOffset!==Q.offset)){var ie=ve.createRange();ie.setStart(ee.node,ee.offset),ue.removeAllRanges(),xt>Un?(ue.addRange(ie),ue.extend(Q.node,Q.offset)):(ie.setEnd(Q.node,Q.offset),ue.addRange(ie))}}}}for(ve=[],ue=V;ue=ue.parentNode;)ue.nodeType===1&&ve.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<ve.length;V++){var xe=ve[V];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}n1=!!eN,tN=eN=null}finally{Cn=j,B.p=v,P.T=x}}d.current=p,oi=2}}function a_(){if(oi===2){oi=0;var d=Nu,p=cp,x=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||x){x=P.T,P.T=null;var v=B.p;B.p=2;var j=Cn;Cn|=4;try{OR(d,p.alternate,p)}finally{Cn=j,B.p=v,P.T=x}}oi=3}}function o_(){if(oi===4||oi===3){oi=0,An();var d=Nu,p=cp,x=pc,v=YR;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?oi=5:(oi=0,cp=Nu=null,l_(d,d.pendingLanes));var j=d.pendingLanes;if(j===0&&(ju=null),at(x),p=p.stateNode,Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Wn,p,void 0,(p.current.flags&128)===128)}catch{}if(v!==null){p=P.T,j=B.p,B.p=2,P.T=null;try{for(var A=d.onRecoverableError,R=0;R<v.length;R++){var V=v[R];A(V.value,{componentStack:V.stack})}}finally{P.T=p,B.p=j}}(pc&3)!==0&&Hv(),dl(d),j=d.pendingLanes,(x&261930)!==0&&(j&42)!==0?d===Bj?ny++:(ny=0,Bj=d):ny=0,sy(0)}}function l_(d,p){(d.pooledCacheLanes&=p)===0&&(p=d.pooledCache,p!=null&&(d.pooledCache=null,Pm(p)))}function Hv(){return r_(),a_(),o_(),c_()}function c_(){if(oi!==5)return!1;var d=Nu,p=Fj;Fj=0;var x=at(pc),v=P.T,j=B.p;try{B.p=32>x?32:x,P.T=null,x=$j,$j=null;var A=Nu,R=pc;if(oi=0,cp=Nu=null,pc=0,(Cn&6)!==0)throw Error(s(331));var V=Cn;if(Cn|=4,HR(A.current),BR(A,A.current,R,x),Cn=V,sy(0,!1),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Wn,A)}catch{}return!0}finally{B.p=j,P.T=v,l_(d,p)}}function u_(d,p,x){p=La(x,p),p=bj(d.stateNode,p,2),d=bu(d,p,2),d!==null&&(Z(d,2),dl(d))}function Rn(d,p,x){if(d.tag===3)u_(d,d,x);else for(;p!==null;){if(p.tag===3){u_(p,d,x);break}else if(p.tag===1){var v=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(ju===null||!ju.has(v))){d=La(x,d),x=dR(2),v=bu(p,x,2),v!==null&&(hR(x,v,p,d),Z(v,2),dl(v));break}}p=p.return}}function Hj(d,p,x){var v=d.pingCache;if(v===null){v=d.pingCache=new Sne;var j=new Set;v.set(p,j)}else j=v.get(p),j===void 0&&(j=new Set,v.set(p,j));j.has(x)||(_j=!0,j.add(x),d=Nne.bind(null,d,p,x),p.then(d,d))}function Nne(d,p,x){var v=d.pingCache;v!==null&&v.delete(p),d.pingedLanes|=d.suspendedLanes&x,d.warmLanes&=~x,Yn===d&&(en&x)===x&&(As===4||As===3&&(en&62914560)===en&&300>Xt()-zv?(Cn&2)===0&&up(d,0):Pj|=x,lp===en&&(lp=0)),dl(d)}function d_(d,p){p===0&&(p=Pf()),d=Qd(d,p),d!==null&&(Z(d,p),dl(d))}function Ane(d){var p=d.memoizedState,x=0;p!==null&&(x=p.retryLane),d_(d,x)}function Tne(d,p){var x=0;switch(d.tag){case 31:case 13:var v=d.stateNode,j=d.memoizedState;j!==null&&(x=j.retryLane);break;case 19:v=d.stateNode;break;case 22:v=d.stateNode._retryCache;break;default:throw Error(s(314))}v!==null&&v.delete(p),d_(d,x)}function Ene(d,p){return Lt(d,p)}var Gv=null,hp=null,Gj=!1,Wv=!1,Wj=!1,Tu=0;function dl(d){d!==hp&&d.next===null&&(hp===null?Gv=hp=d:hp=hp.next=d),Wv=!0,Gj||(Gj=!0,kne())}function sy(d,p){if(!Wj&&Wv){Wj=!0;do for(var x=!1,v=Gv;v!==null;){if(d!==0){var j=v.pendingLanes;if(j===0)var A=0;else{var R=v.suspendedLanes,V=v.pingedLanes;A=(1<<31-Sn(42|d)+1)-1,A&=j&~(R&~V),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(x=!0,g_(v,A))}else A=en,A=Zl(v,v===Yn?A:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(A&3)===0||Aa(v,A)||(x=!0,g_(v,A));v=v.next}while(x);Wj=!1}}function Dne(){h_()}function h_(){Wv=Gj=!1;var d=0;Tu!==0&&Bne()&&(d=Tu);for(var p=Xt(),x=null,v=Gv;v!==null;){var j=v.next,A=f_(v,p);A===0?(v.next=null,x===null?Gv=j:x.next=j,j===null&&(hp=x)):(x=v,(d!==0||(A&3)!==0)&&(Wv=!0)),v=j}oi!==0&&oi!==5||sy(d),Tu!==0&&(Tu=0)}function f_(d,p){for(var x=d.suspendedLanes,v=d.pingedLanes,j=d.expirationTimes,A=d.pendingLanes&-62914561;0<A;){var R=31-Sn(A),V=1<<R,q=j[R];q===-1?((V&x)===0||(V&v)!==0)&&(j[R]=du(V,p)):q<=p&&(d.expiredLanes|=V),A&=~V}if(p=Yn,x=en,x=Zl(d,d===p?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),v=d.callbackNode,x===0||d===p&&(On===2||On===9)||d.cancelPendingCommit!==null)return v!==null&&v!==null&&Ye(v),d.callbackNode=null,d.callbackPriority=0;if((x&3)===0||Aa(d,x)){if(p=x&-x,p===d.callbackPriority)return p;switch(v!==null&&Ye(v),at(x)){case 2:case 8:x=ge;break;case 32:x=Qe;break;case 268435456:x=Ze;break;default:x=Qe}return v=p_.bind(null,d),x=Lt(x,v),d.callbackPriority=p,d.callbackNode=x,p}return v!==null&&v!==null&&Ye(v),d.callbackPriority=2,d.callbackNode=null,2}function p_(d,p){if(oi!==0&&oi!==5)return d.callbackNode=null,d.callbackPriority=0,null;var x=d.callbackNode;if(Hv()&&d.callbackNode!==x)return null;var v=en;return v=Zl(d,d===Yn?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),v===0?null:(qR(d,v,p),f_(d,Xt()),d.callbackNode!=null&&d.callbackNode===x?p_.bind(null,d):null)}function g_(d,p){if(Hv())return null;qR(d,p,!0)}function kne(){Une(function(){(Cn&6)!==0?Lt(le,Dne):h_()})}function Yj(){if(Tu===0){var d=Qf;d===0&&(d=il,il<<=1,(il&261888)===0&&(il=256)),Tu=d}return Tu}function m_(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:ev(""+d)}function y_(d,p){var x=p.ownerDocument.createElement("input");return x.name=p.name,x.value=p.value,d.id&&x.setAttribute("form",d.id),p.parentNode.insertBefore(x,p),d=new FormData(d),x.parentNode.removeChild(x),d}function Ine(d,p,x,v,j){if(p==="submit"&&x&&x.stateNode===j){var A=m_((j[Ke]||null).action),R=v.submitter;R&&(p=(p=R[Ke]||null)?m_(p.formAction):R.getAttribute("formAction"),p!==null&&(A=p,R=null));var V=new iv("action","action",null,v,j);d.push({event:V,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Tu!==0){var q=R?y_(j,R):new FormData(j);fj(x,{pending:!0,data:q,method:j.method,action:A},null,q)}}else typeof A=="function"&&(V.preventDefault(),q=R?y_(j,R):new FormData(j),fj(x,{pending:!0,data:q,method:j.method,action:A},A,q))},currentTarget:j}]})}}for(var Kj=0;Kj<DM.length;Kj++){var qj=DM[Kj],Lne=qj.toLowerCase(),One=qj[0].toUpperCase()+qj.slice(1);jo(Lne,"on"+One)}jo(K3,"onAnimationEnd"),jo(q3,"onAnimationIteration"),jo(Z3,"onAnimationStart"),jo("dblclick","onDoubleClick"),jo("focusin","onFocus"),jo("focusout","onBlur"),jo(Zte,"onTransitionRun"),jo(Qte,"onTransitionStart"),jo(Xte,"onTransitionCancel"),jo(Q3,"onTransitionEnd"),Vt("onMouseEnter",["mouseout","mouseover"]),Vt("onMouseLeave",["mouseout","mouseover"]),Vt("onPointerEnter",["pointerout","pointerover"]),Vt("onPointerLeave",["pointerout","pointerover"]),Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rne=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(iy));function x_(d,p){p=(p&4)!==0;for(var x=0;x<d.length;x++){var v=d[x],j=v.event;v=v.listeners;e:{var A=void 0;if(p)for(var R=v.length-1;0<=R;R--){var V=v[R],q=V.instance,re=V.currentTarget;if(V=V.listener,q!==A&&j.isPropagationStopped())break e;A=V,j.currentTarget=re;try{A(j)}catch(pe){ov(pe)}j.currentTarget=null,A=q}else for(R=0;R<v.length;R++){if(V=v[R],q=V.instance,re=V.currentTarget,V=V.listener,q!==A&&j.isPropagationStopped())break e;A=V,j.currentTarget=re;try{A(j)}catch(pe){ov(pe)}j.currentTarget=null,A=q}}}}function qt(d,p){var x=p[$n];x===void 0&&(x=p[$n]=new Set);var v=d+"__bubble";x.has(v)||(b_(p,d,2,!1),x.add(v))}function Zj(d,p,x){var v=0;p&&(v|=4),b_(x,d,v,p)}var Yv="_reactListening"+Math.random().toString(36).slice(2);function Qj(d){if(!d[Yv]){d[Yv]=!0,al.forEach(function(x){x!=="selectionchange"&&(Rne.has(x)||Zj(x,!1,d),Zj(x,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[Yv]||(p[Yv]=!0,Zj("selectionchange",!1,p))}}function b_(d,p,x,v){switch(K_(p)){case 2:var j=cse;break;case 8:j=use;break;default:j=hN}x=j.bind(null,p,x,d),j=void 0,!yM||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(j=!0),v?j!==void 0?d.addEventListener(p,x,{capture:!0,passive:j}):d.addEventListener(p,x,!0):j!==void 0?d.addEventListener(p,x,{passive:j}):d.addEventListener(p,x,!1)}function Xj(d,p,x,v,j){var A=v;if((p&1)===0&&(p&2)===0&&v!==null)e:for(;;){if(v===null)return;var R=v.tag;if(R===3||R===4){var V=v.stateNode.containerInfo;if(V===j)break;if(R===4)for(R=v.return;R!==null;){var q=R.tag;if((q===3||q===4)&&R.stateNode.containerInfo===j)return;R=R.return}for(;V!==null;){if(R=Ta(V),R===null)return;if(q=R.tag,q===5||q===6||q===26||q===27){v=A=R;continue e}V=V.parentNode}}v=v.return}M3(function(){var re=A,pe=gM(x),ve=[];e:{var ae=X3.get(d);if(ae!==void 0){var ue=iv,tt=d;switch(d){case"keypress":if(nv(x)===0)break e;case"keydown":case"keyup":ue=Tte;break;case"focusin":tt="focus",ue=SM;break;case"focusout":tt="blur",ue=SM;break;case"beforeblur":case"afterblur":ue=SM;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=A3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=mte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=kte;break;case K3:case q3:case Z3:ue=bte;break;case Q3:ue=Lte;break;case"scroll":case"scrollend":ue=pte;break;case"wheel":ue=Rte;break;case"copy":case"cut":case"paste":ue=Ste;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=E3;break;case"toggle":case"beforetoggle":ue=Pte}var xt=(p&4)!==0,Un=!xt&&(d==="scroll"||d==="scrollend"),ee=xt?ae!==null?ae+"Capture":null:ae;xt=[];for(var Q=re,ie;Q!==null;){var xe=Q;if(ie=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||ie===null||ee===null||(xe=Nm(Q,ee),xe!=null&&xt.push(ry(Q,xe,ie))),Un)break;Q=Q.return}0<xt.length&&(ae=new ue(ae,tt,null,x,pe),ve.push({event:ae,listeners:xt}))}}if((p&7)===0){e:{if(ae=d==="mouseover"||d==="pointerover",ue=d==="mouseout"||d==="pointerout",ae&&x!==pM&&(tt=x.relatedTarget||x.fromElement)&&(Ta(tt)||tt[Bt]))break e;if((ue||ae)&&(ae=pe.window===pe?pe:(ae=pe.ownerDocument)?ae.defaultView||ae.parentWindow:window,ue?(tt=x.relatedTarget||x.toElement,ue=re,tt=tt?Ta(tt):null,tt!==null&&(Un=r(tt),xt=tt.tag,tt!==Un||xt!==5&&xt!==27&&xt!==6)&&(tt=null)):(ue=null,tt=re),ue!==tt)){if(xt=A3,xe="onMouseLeave",ee="onMouseEnter",Q="mouse",(d==="pointerout"||d==="pointerover")&&(xt=E3,xe="onPointerLeave",ee="onPointerEnter",Q="pointer"),Un=ue==null?ae:Xi(ue),ie=tt==null?ae:Xi(tt),ae=new xt(xe,Q+"leave",ue,x,pe),ae.target=Un,ae.relatedTarget=ie,xe=null,Ta(pe)===re&&(xt=new xt(ee,Q+"enter",tt,x,pe),xt.target=ie,xt.relatedTarget=Un,xe=xt),Un=xe,ue&&tt)t:{for(xt=_ne,ee=ue,Q=tt,ie=0,xe=ee;xe;xe=xt(xe))ie++;xe=0;for(var ht=Q;ht;ht=xt(ht))xe++;for(;0<ie-xe;)ee=xt(ee),ie--;for(;0<xe-ie;)Q=xt(Q),xe--;for(;ie--;){if(ee===Q||Q!==null&&ee===Q.alternate){xt=ee;break t}ee=xt(ee),Q=xt(Q)}xt=null}else xt=null;ue!==null&&v_(ve,ae,ue,xt,!1),tt!==null&&Un!==null&&v_(ve,Un,tt,xt,!0)}}e:{if(ae=re?Xi(re):window,ue=ae.nodeName&&ae.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ae.type==="file")var mn=P3;else if(R3(ae))if(z3)mn=Yte;else{mn=Gte;var rt=Hte}else ue=ae.nodeName,!ue||ue.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?re&&fM(re.elementType)&&(mn=P3):mn=Wte;if(mn&&(mn=mn(d,re))){_3(ve,mn,x,pe);break e}rt&&rt(d,ae,re),d==="focusout"&&re&&ae.type==="number"&&re.memoizedProps.value!=null&&hM(ae,"number",ae.value)}switch(rt=re?Xi(re):window,d){case"focusin":(R3(rt)||rt.contentEditable==="true")&&(Uf=rt,AM=re,Om=null);break;case"focusout":Om=AM=Uf=null;break;case"mousedown":TM=!0;break;case"contextmenu":case"mouseup":case"dragend":TM=!1,W3(ve,x,pe);break;case"selectionchange":if(qte)break;case"keydown":case"keyup":W3(ve,x,pe)}var Ft;if(CM)e:{switch(d){case"compositionstart":var tn="onCompositionStart";break e;case"compositionend":tn="onCompositionEnd";break e;case"compositionupdate":tn="onCompositionUpdate";break e}tn=void 0}else Vf?L3(d,x)&&(tn="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(tn="onCompositionStart");tn&&(D3&&x.locale!=="ko"&&(Vf||tn!=="onCompositionStart"?tn==="onCompositionEnd"&&Vf&&(Ft=j3()):(hu=pe,xM="value"in hu?hu.value:hu.textContent,Vf=!0)),rt=Kv(re,tn),0<rt.length&&(tn=new T3(tn,d,null,x,pe),ve.push({event:tn,listeners:rt}),Ft?tn.data=Ft:(Ft=O3(x),Ft!==null&&(tn.data=Ft)))),(Ft=Fte?$te(d,x):Bte(d,x))&&(tn=Kv(re,"onBeforeInput"),0<tn.length&&(rt=new T3("onBeforeInput","beforeinput",null,x,pe),ve.push({event:rt,listeners:tn}),rt.data=Ft)),Ine(ve,d,re,x,pe)}x_(ve,p)})}function ry(d,p,x){return{instance:d,listener:p,currentTarget:x}}function Kv(d,p){for(var x=p+"Capture",v=[];d!==null;){var j=d,A=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||A===null||(j=Nm(d,x),j!=null&&v.unshift(ry(d,j,A)),j=Nm(d,p),j!=null&&v.push(ry(d,j,A))),d.tag===3)return v;d=d.return}return[]}function _ne(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function v_(d,p,x,v,j){for(var A=p._reactName,R=[];x!==null&&x!==v;){var V=x,q=V.alternate,re=V.stateNode;if(V=V.tag,q!==null&&q===v)break;V!==5&&V!==26&&V!==27||re===null||(q=re,j?(re=Nm(x,A),re!=null&&R.unshift(ry(x,re,q))):j||(re=Nm(x,A),re!=null&&R.push(ry(x,re,q)))),x=x.return}R.length!==0&&d.push({event:p,listeners:R})}var Pne=/\r\n?/g,zne=/\u0000|\uFFFD/g;function S_(d){return(typeof d=="string"?d:""+d).replace(Pne,`
`).replace(zne,"")}function w_(d,p){return p=S_(p),S_(d)===p}function Vn(d,p,x,v,j,A){switch(x){case"children":typeof v=="string"?p==="body"||p==="textarea"&&v===""||Ff(d,v):(typeof v=="number"||typeof v=="bigint")&&p!=="body"&&Ff(d,""+v);break;case"className":Yd(d,"class",v);break;case"tabIndex":Yd(d,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Yd(d,x,v);break;case"style":w3(d,v,A);break;case"data":if(p!=="object"){Yd(d,"data",v);break}case"src":case"href":if(v===""&&(p!=="a"||x!=="href")){d.removeAttribute(x);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){d.removeAttribute(x);break}v=ev(""+v),d.setAttribute(x,v);break;case"action":case"formAction":if(typeof v=="function"){d.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(x==="formAction"?(p!=="input"&&Vn(d,p,"name",j.name,j,null),Vn(d,p,"formEncType",j.formEncType,j,null),Vn(d,p,"formMethod",j.formMethod,j,null),Vn(d,p,"formTarget",j.formTarget,j,null)):(Vn(d,p,"encType",j.encType,j,null),Vn(d,p,"method",j.method,j,null),Vn(d,p,"target",j.target,j,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){d.removeAttribute(x);break}v=ev(""+v),d.setAttribute(x,v);break;case"onClick":v!=null&&(d.onclick=Jl);break;case"onScroll":v!=null&&qt("scroll",d);break;case"onScrollEnd":v!=null&&qt("scrollend",d);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(s(61));if(x=v.__html,x!=null){if(j.children!=null)throw Error(s(60));d.innerHTML=x}}break;case"multiple":d.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":d.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){d.removeAttribute("xlink:href");break}x=ev(""+v),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?d.setAttribute(x,""+v):d.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?d.setAttribute(x,""):d.removeAttribute(x);break;case"capture":case"download":v===!0?d.setAttribute(x,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?d.setAttribute(x,v):d.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?d.setAttribute(x,v):d.removeAttribute(x);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?d.removeAttribute(x):d.setAttribute(x,v);break;case"popover":qt("beforetoggle",d),qt("toggle",d),Xl(d,"popover",v);break;case"xlinkActuate":Mo(d,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Mo(d,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Mo(d,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Mo(d,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Mo(d,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Mo(d,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Mo(d,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Mo(d,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Mo(d,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Xl(d,"is",v);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=hte.get(x)||x,Xl(d,x,v))}}function Jj(d,p,x,v,j,A){switch(x){case"style":w3(d,v,A);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(s(61));if(x=v.__html,x!=null){if(j.children!=null)throw Error(s(60));d.innerHTML=x}}break;case"children":typeof v=="string"?Ff(d,v):(typeof v=="number"||typeof v=="bigint")&&Ff(d,""+v);break;case"onScroll":v!=null&&qt("scroll",d);break;case"onScrollEnd":v!=null&&qt("scrollend",d);break;case"onClick":v!=null&&(d.onclick=Jl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wd.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(j=x.endsWith("Capture"),p=x.slice(2,j?x.length-7:void 0),A=d[Ke]||null,A=A!=null?A[x]:null,typeof A=="function"&&d.removeEventListener(p,A,j),typeof v=="function")){typeof A!="function"&&A!==null&&(x in d?d[x]=null:d.hasAttribute(x)&&d.removeAttribute(x)),d.addEventListener(p,v,j);break e}x in d?d[x]=v:v===!0?d.setAttribute(x,""):Xl(d,x,v)}}}function Ii(d,p,x){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",d),qt("load",d);var v=!1,j=!1,A;for(A in x)if(x.hasOwnProperty(A)){var R=x[A];if(R!=null)switch(A){case"src":v=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,p));default:Vn(d,p,A,R,x,null)}}j&&Vn(d,p,"srcSet",x.srcSet,x,null),v&&Vn(d,p,"src",x.src,x,null);return;case"input":qt("invalid",d);var V=A=R=j=null,q=null,re=null;for(v in x)if(x.hasOwnProperty(v)){var pe=x[v];if(pe!=null)switch(v){case"name":j=pe;break;case"type":R=pe;break;case"checked":q=pe;break;case"defaultChecked":re=pe;break;case"value":A=pe;break;case"defaultValue":V=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,p));break;default:Vn(d,p,v,pe,x,null)}}x3(d,A,V,q,re,R,j,!1);return;case"select":qt("invalid",d),v=R=A=null;for(j in x)if(x.hasOwnProperty(j)&&(V=x[j],V!=null))switch(j){case"value":A=V;break;case"defaultValue":R=V;break;case"multiple":v=V;default:Vn(d,p,j,V,x,null)}p=A,x=R,d.multiple=!!v,p!=null?zf(d,!!v,p,!1):x!=null&&zf(d,!!v,x,!0);return;case"textarea":qt("invalid",d),A=j=v=null;for(R in x)if(x.hasOwnProperty(R)&&(V=x[R],V!=null))switch(R){case"value":v=V;break;case"defaultValue":j=V;break;case"children":A=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(91));break;default:Vn(d,p,R,V,x,null)}v3(d,v,j,A);return;case"option":for(q in x)if(x.hasOwnProperty(q)&&(v=x[q],v!=null))switch(q){case"selected":d.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Vn(d,p,q,v,x,null)}return;case"dialog":qt("beforetoggle",d),qt("toggle",d),qt("cancel",d),qt("close",d);break;case"iframe":case"object":qt("load",d);break;case"video":case"audio":for(v=0;v<iy.length;v++)qt(iy[v],d);break;case"image":qt("error",d),qt("load",d);break;case"details":qt("toggle",d);break;case"embed":case"source":case"link":qt("error",d),qt("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in x)if(x.hasOwnProperty(re)&&(v=x[re],v!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,p));default:Vn(d,p,re,v,x,null)}return;default:if(fM(p)){for(pe in x)x.hasOwnProperty(pe)&&(v=x[pe],v!==void 0&&Jj(d,p,pe,v,x,void 0));return}}for(V in x)x.hasOwnProperty(V)&&(v=x[V],v!=null&&Vn(d,p,V,v,x,null))}function Fne(d,p,x,v){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,A=null,R=null,V=null,q=null,re=null,pe=null;for(ue in x){var ve=x[ue];if(x.hasOwnProperty(ue)&&ve!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":q=ve;default:v.hasOwnProperty(ue)||Vn(d,p,ue,null,v,ve)}}for(var ae in v){var ue=v[ae];if(ve=x[ae],v.hasOwnProperty(ae)&&(ue!=null||ve!=null))switch(ae){case"type":A=ue;break;case"name":j=ue;break;case"checked":re=ue;break;case"defaultChecked":pe=ue;break;case"value":R=ue;break;case"defaultValue":V=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(s(137,p));break;default:ue!==ve&&Vn(d,p,ae,ue,v,ve)}}dM(d,R,V,q,re,pe,A,j);return;case"select":ue=R=V=ae=null;for(A in x)if(q=x[A],x.hasOwnProperty(A)&&q!=null)switch(A){case"value":break;case"multiple":ue=q;default:v.hasOwnProperty(A)||Vn(d,p,A,null,v,q)}for(j in v)if(A=v[j],q=x[j],v.hasOwnProperty(j)&&(A!=null||q!=null))switch(j){case"value":ae=A;break;case"defaultValue":V=A;break;case"multiple":R=A;default:A!==q&&Vn(d,p,j,A,v,q)}p=V,x=R,v=ue,ae!=null?zf(d,!!x,ae,!1):!!v!=!!x&&(p!=null?zf(d,!!x,p,!0):zf(d,!!x,x?[]:"",!1));return;case"textarea":ue=ae=null;for(V in x)if(j=x[V],x.hasOwnProperty(V)&&j!=null&&!v.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Vn(d,p,V,null,v,j)}for(R in v)if(j=v[R],A=x[R],v.hasOwnProperty(R)&&(j!=null||A!=null))switch(R){case"value":ae=j;break;case"defaultValue":ue=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:j!==A&&Vn(d,p,R,j,v,A)}b3(d,ae,ue);return;case"option":for(var tt in x)if(ae=x[tt],x.hasOwnProperty(tt)&&ae!=null&&!v.hasOwnProperty(tt))switch(tt){case"selected":d.selected=!1;break;default:Vn(d,p,tt,null,v,ae)}for(q in v)if(ae=v[q],ue=x[q],v.hasOwnProperty(q)&&ae!==ue&&(ae!=null||ue!=null))switch(q){case"selected":d.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Vn(d,p,q,ae,v,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in x)ae=x[xt],x.hasOwnProperty(xt)&&ae!=null&&!v.hasOwnProperty(xt)&&Vn(d,p,xt,null,v,ae);for(re in v)if(ae=v[re],ue=x[re],v.hasOwnProperty(re)&&ae!==ue&&(ae!=null||ue!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,p));break;default:Vn(d,p,re,ae,v,ue)}return;default:if(fM(p)){for(var Un in x)ae=x[Un],x.hasOwnProperty(Un)&&ae!==void 0&&!v.hasOwnProperty(Un)&&Jj(d,p,Un,void 0,v,ae);for(pe in v)ae=v[pe],ue=x[pe],!v.hasOwnProperty(pe)||ae===ue||ae===void 0&&ue===void 0||Jj(d,p,pe,ae,v,ue);return}}for(var ee in x)ae=x[ee],x.hasOwnProperty(ee)&&ae!=null&&!v.hasOwnProperty(ee)&&Vn(d,p,ee,null,v,ae);for(ve in v)ae=v[ve],ue=x[ve],!v.hasOwnProperty(ve)||ae===ue||ae==null&&ue==null||Vn(d,p,ve,ae,v,ue)}function C_(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $ne(){if(typeof performance.getEntriesByType=="function"){for(var d=0,p=0,x=performance.getEntriesByType("resource"),v=0;v<x.length;v++){var j=x[v],A=j.transferSize,R=j.initiatorType,V=j.duration;if(A&&V&&C_(R)){for(R=0,V=j.responseEnd,v+=1;v<x.length;v++){var q=x[v],re=q.startTime;if(re>V)break;var pe=q.transferSize,ve=q.initiatorType;pe&&C_(ve)&&(q=q.responseEnd,R+=pe*(q<V?1:(V-re)/(q-re)))}if(--v,p+=8*(A+R)/(j.duration/1e3),d++,10<d)break}}if(0<d)return p/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var eN=null,tN=null;function qv(d){return d.nodeType===9?d:d.ownerDocument}function M_(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j_(d,p){if(d===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&p==="foreignObject"?0:d}function nN(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var sN=null;function Bne(){var d=window.event;return d&&d.type==="popstate"?d===sN?!1:(sN=d,!0):(sN=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,Vne=typeof clearTimeout=="function"?clearTimeout:void 0,A_=typeof Promise=="function"?Promise:void 0,Une=typeof queueMicrotask=="function"?queueMicrotask:typeof A_<"u"?function(d){return A_.resolve(null).then(d).catch(Hne)}:N_;function Hne(d){setTimeout(function(){throw d})}function Eu(d){return d==="head"}function T_(d,p){var x=p,v=0;do{var j=x.nextSibling;if(d.removeChild(x),j&&j.nodeType===8)if(x=j.data,x==="/$"||x==="/&"){if(v===0){d.removeChild(j),mp(p);return}v--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")v++;else if(x==="html")ay(d.ownerDocument.documentElement);else if(x==="head"){x=d.ownerDocument.head,ay(x);for(var A=x.firstChild;A;){var R=A.nextSibling,V=A.nodeName;A[wn]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&A.rel.toLowerCase()==="stylesheet"||x.removeChild(A),A=R}}else x==="body"&&ay(d.ownerDocument.body);x=j}while(x);mp(p)}function E_(d,p){var x=d;d=0;do{var v=x.nextSibling;if(x.nodeType===1?p?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(p?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),v&&v.nodeType===8)if(x=v.data,x==="/$"){if(d===0)break;d--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||d++;x=v}while(x)}function iN(d){var p=d.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var x=p;switch(p=p.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":iN(x),Co(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}d.removeChild(x)}}function Gne(d,p,x,v){for(;d.nodeType===1;){var j=x;if(d.nodeName.toLowerCase()!==p.toLowerCase()){if(!v&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(v){if(!d[wn])switch(p){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(A=d.getAttribute("rel"),A==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(A!==j.rel||d.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||d.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||d.getAttribute("title")!==(j.title==null?null:j.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(A=d.getAttribute("src"),(A!==(j.src==null?null:j.src)||d.getAttribute("type")!==(j.type==null?null:j.type)||d.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&A&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(p==="input"&&d.type==="hidden"){var A=j.name==null?null:""+j.name;if(j.type==="hidden"&&d.getAttribute("name")===A)return d}else return d;if(d=za(d.nextSibling),d===null)break}return null}function Wne(d,p,x){if(p==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!x||(d=za(d.nextSibling),d===null))return null;return d}function D_(d,p){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!p||(d=za(d.nextSibling),d===null))return null;return d}function rN(d){return d.data==="$?"||d.data==="$~"}function aN(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function Yne(d,p){var x=d.ownerDocument;if(d.data==="$~")d._reactRetry=p;else if(d.data!=="$?"||x.readyState!=="loading")p();else{var v=function(){p(),x.removeEventListener("DOMContentLoaded",v)};x.addEventListener("DOMContentLoaded",v),d._reactRetry=v}}function za(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return d}var oN=null;function k_(d){d=d.nextSibling;for(var p=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"||x==="/&"){if(p===0)return za(d.nextSibling);p--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||p++}d=d.nextSibling}return null}function I_(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(p===0)return d;p--}else x!=="/$"&&x!=="/&"||p++}d=d.previousSibling}return null}function L_(d,p,x){switch(p=qv(x),d){case"html":if(d=p.documentElement,!d)throw Error(s(452));return d;case"head":if(d=p.head,!d)throw Error(s(453));return d;case"body":if(d=p.body,!d)throw Error(s(454));return d;default:throw Error(s(451))}}function ay(d){for(var p=d.attributes;p.length;)d.removeAttributeNode(p[0]);Co(d)}var Fa=new Map,O_=new Set;function Zv(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var gc=B.d;B.d={f:Kne,r:qne,D:Zne,C:Qne,L:Xne,m:Jne,X:tse,S:ese,M:nse};function Kne(){var d=gc.f(),p=Bv();return d||p}function qne(d){var p=gr(d);p!==null&&p.tag===5&&p.type==="form"?Q5(p):gc.r(d)}var fp=typeof document>"u"?null:document;function R_(d,p,x){var v=fp;if(v&&typeof p=="string"&&p){var j=ka(p);j='link[rel="'+d+'"][href="'+j+'"]',typeof x=="string"&&(j+='[crossorigin="'+x+'"]'),O_.has(j)||(O_.add(j),d={rel:d,crossOrigin:x,href:p},v.querySelector(j)===null&&(p=v.createElement("link"),Ii(p,"link",d),rs(p),v.head.appendChild(p)))}}function Zne(d){gc.D(d),R_("dns-prefetch",d,null)}function Qne(d,p){gc.C(d,p),R_("preconnect",d,p)}function Xne(d,p,x){gc.L(d,p,x);var v=fp;if(v&&d&&p){var j='link[rel="preload"][as="'+ka(p)+'"]';p==="image"&&x&&x.imageSrcSet?(j+='[imagesrcset="'+ka(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(j+='[imagesizes="'+ka(x.imageSizes)+'"]')):j+='[href="'+ka(d)+'"]';var A=j;switch(p){case"style":A=pp(d);break;case"script":A=gp(d)}Fa.has(A)||(d=f({rel:"preload",href:p==="image"&&x&&x.imageSrcSet?void 0:d,as:p},x),Fa.set(A,d),v.querySelector(j)!==null||p==="style"&&v.querySelector(oy(A))||p==="script"&&v.querySelector(ly(A))||(p=v.createElement("link"),Ii(p,"link",d),rs(p),v.head.appendChild(p)))}}function Jne(d,p){gc.m(d,p);var x=fp;if(x&&d){var v=p&&typeof p.as=="string"?p.as:"script",j='link[rel="modulepreload"][as="'+ka(v)+'"][href="'+ka(d)+'"]',A=j;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=gp(d)}if(!Fa.has(A)&&(d=f({rel:"modulepreload",href:d},p),Fa.set(A,d),x.querySelector(j)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(ly(A)))return}v=x.createElement("link"),Ii(v,"link",d),rs(v),x.head.appendChild(v)}}}function ese(d,p,x){gc.S(d,p,x);var v=fp;if(v&&d){var j=rl(v).hoistableStyles,A=pp(d);p=p||"default";var R=j.get(A);if(!R){var V={loading:0,preload:null};if(R=v.querySelector(oy(A)))V.loading=5;else{d=f({rel:"stylesheet",href:d,"data-precedence":p},x),(x=Fa.get(A))&&lN(d,x);var q=R=v.createElement("link");rs(q),Ii(q,"link",d),q._p=new Promise(function(re,pe){q.onload=re,q.onerror=pe}),q.addEventListener("load",function(){V.loading|=1}),q.addEventListener("error",function(){V.loading|=2}),V.loading|=4,Qv(R,p,v)}R={type:"stylesheet",instance:R,count:1,state:V},j.set(A,R)}}}function tse(d,p){gc.X(d,p);var x=fp;if(x&&d){var v=rl(x).hoistableScripts,j=gp(d),A=v.get(j);A||(A=x.querySelector(ly(j)),A||(d=f({src:d,async:!0},p),(p=Fa.get(j))&&cN(d,p),A=x.createElement("script"),rs(A),Ii(A,"link",d),x.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},v.set(j,A))}}function nse(d,p){gc.M(d,p);var x=fp;if(x&&d){var v=rl(x).hoistableScripts,j=gp(d),A=v.get(j);A||(A=x.querySelector(ly(j)),A||(d=f({src:d,async:!0,type:"module"},p),(p=Fa.get(j))&&cN(d,p),A=x.createElement("script"),rs(A),Ii(A,"link",d),x.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},v.set(j,A))}}function __(d,p,x,v){var j=(j=je.current)?Zv(j):null;if(!j)throw Error(s(446));switch(d){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(p=pp(x.href),x=rl(j).hoistableStyles,v=x.get(p),v||(v={type:"style",instance:null,count:0,state:null},x.set(p,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){d=pp(x.href);var A=rl(j).hoistableStyles,R=A.get(d);if(R||(j=j.ownerDocument||j,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(d,R),(A=j.querySelector(oy(d)))&&!A._p&&(R.instance=A,R.state.loading=5),Fa.has(d)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Fa.set(d,x),A||sse(j,d,x,R.state))),p&&v===null)throw Error(s(528,""));return R}if(p&&v!==null)throw Error(s(529,""));return null;case"script":return p=x.async,x=x.src,typeof x=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=gp(x),x=rl(j).hoistableScripts,v=x.get(p),v||(v={type:"script",instance:null,count:0,state:null},x.set(p,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,d))}}function pp(d){return'href="'+ka(d)+'"'}function oy(d){return'link[rel="stylesheet"]['+d+"]"}function P_(d){return f({},d,{"data-precedence":d.precedence,precedence:null})}function sse(d,p,x,v){d.querySelector('link[rel="preload"][as="style"]['+p+"]")?v.loading=1:(p=d.createElement("link"),v.preload=p,p.addEventListener("load",function(){return v.loading|=1}),p.addEventListener("error",function(){return v.loading|=2}),Ii(p,"link",x),rs(p),d.head.appendChild(p))}function gp(d){return'[src="'+ka(d)+'"]'}function ly(d){return"script[async]"+d}function z_(d,p,x){if(p.count++,p.instance===null)switch(p.type){case"style":var v=d.querySelector('style[data-href~="'+ka(x.href)+'"]');if(v)return p.instance=v,rs(v),v;var j=f({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return v=(d.ownerDocument||d).createElement("style"),rs(v),Ii(v,"style",j),Qv(v,x.precedence,d),p.instance=v;case"stylesheet":j=pp(x.href);var A=d.querySelector(oy(j));if(A)return p.state.loading|=4,p.instance=A,rs(A),A;v=P_(x),(j=Fa.get(j))&&lN(v,j),A=(d.ownerDocument||d).createElement("link"),rs(A);var R=A;return R._p=new Promise(function(V,q){R.onload=V,R.onerror=q}),Ii(A,"link",v),p.state.loading|=4,Qv(A,x.precedence,d),p.instance=A;case"script":return A=gp(x.src),(j=d.querySelector(ly(A)))?(p.instance=j,rs(j),j):(v=x,(j=Fa.get(A))&&(v=f({},x),cN(v,j)),d=d.ownerDocument||d,j=d.createElement("script"),rs(j),Ii(j,"link",v),d.head.appendChild(j),p.instance=j);case"void":return null;default:throw Error(s(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(v=p.instance,p.state.loading|=4,Qv(v,x.precedence,d));return p.instance}function Qv(d,p,x){for(var v=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=v.length?v[v.length-1]:null,A=j,R=0;R<v.length;R++){var V=v[R];if(V.dataset.precedence===p)A=V;else if(A!==j)break}A?A.parentNode.insertBefore(d,A.nextSibling):(p=x.nodeType===9?x.head:x,p.insertBefore(d,p.firstChild))}function lN(d,p){d.crossOrigin==null&&(d.crossOrigin=p.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=p.referrerPolicy),d.title==null&&(d.title=p.title)}function cN(d,p){d.crossOrigin==null&&(d.crossOrigin=p.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=p.referrerPolicy),d.integrity==null&&(d.integrity=p.integrity)}var Xv=null;function F_(d,p,x){if(Xv===null){var v=new Map,j=Xv=new Map;j.set(x,v)}else j=Xv,v=j.get(x),v||(v=new Map,j.set(x,v));if(v.has(d))return v;for(v.set(d,null),x=x.getElementsByTagName(d),j=0;j<x.length;j++){var A=x[j];if(!(A[wn]||A[We]||d==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var R=A.getAttribute(p)||"";R=d+R;var V=v.get(R);V?V.push(A):v.set(R,[A])}}return v}function $_(d,p,x){d=d.ownerDocument||d,d.head.insertBefore(x,p==="title"?d.querySelector("head > title"):null)}function ise(d,p,x){if(x===1||p.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return d=p.disabled,typeof p.precedence=="string"&&d==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function B_(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function rse(d,p,x,v){if(x.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var j=pp(v.href),A=p.querySelector(oy(j));if(A){p=A._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(d.count++,d=Jv.bind(d),p.then(d,d)),x.state.loading|=4,x.instance=A,rs(A);return}A=p.ownerDocument||p,v=P_(v),(j=Fa.get(j))&&lN(v,j),A=A.createElement("link"),rs(A);var R=A;R._p=new Promise(function(V,q){R.onload=V,R.onerror=q}),Ii(A,"link",v),x.instance=A}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(x,p),(p=x.state.preload)&&(x.state.loading&3)===0&&(d.count++,x=Jv.bind(d),p.addEventListener("load",x),p.addEventListener("error",x))}}var uN=0;function ase(d,p){return d.stylesheets&&d.count===0&&t1(d,d.stylesheets),0<d.count||0<d.imgCount?function(x){var v=setTimeout(function(){if(d.stylesheets&&t1(d,d.stylesheets),d.unsuspend){var A=d.unsuspend;d.unsuspend=null,A()}},6e4+p);0<d.imgBytes&&uN===0&&(uN=62500*$ne());var j=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&t1(d,d.stylesheets),d.unsuspend)){var A=d.unsuspend;d.unsuspend=null,A()}},(d.imgBytes>uN?50:800)+p);return d.unsuspend=x,function(){d.unsuspend=null,clearTimeout(v),clearTimeout(j)}}:null}function Jv(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)t1(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var e1=null;function t1(d,p){d.stylesheets=null,d.unsuspend!==null&&(d.count++,e1=new Map,p.forEach(ose,d),e1=null,Jv.call(d))}function ose(d,p){if(!(p.state.loading&4)){var x=e1.get(d);if(x)var v=x.get(null);else{x=new Map,e1.set(d,x);for(var j=d.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<j.length;A++){var R=j[A];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(x.set(R.dataset.precedence,R),v=R)}v&&x.set(null,v)}j=p.instance,R=j.getAttribute("data-precedence"),A=x.get(R)||v,A===v&&x.set(null,j),x.set(R,j),this.count++,v=Jv.bind(this),j.addEventListener("load",v),j.addEventListener("error",v),A?A.parentNode.insertBefore(j,A.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(j,d.firstChild)),p.state.loading|=4}}var cy={$$typeof:N,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function lse(d,p,x,v,j,A,R,V,q){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gd(0),this.hiddenUpdates=Gd(null),this.identifierPrefix=v,this.onUncaughtError=j,this.onCaughtError=A,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function V_(d,p,x,v,j,A,R,V,q,re,pe,ve){return d=new lse(d,p,x,R,q,re,pe,ve,V),p=1,A===!0&&(p|=24),A=ta(3,null,null,p),d.current=A,A.stateNode=d,p=UM(),p.refCount++,d.pooledCache=p,p.refCount++,A.memoizedState={element:v,isDehydrated:x,cache:p},YM(A),d}function U_(d){return d?(d=Wf,d):Wf}function H_(d,p,x,v,j,A){j=U_(j),v.context===null?v.context=j:v.pendingContext=j,v=xu(p),v.payload={element:x},A=A===void 0?null:A,A!==null&&(v.callback=A),x=bu(d,v,p),x!==null&&(kr(x,d,p),Bm(x,d,p))}function G_(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<p?x:p}}function dN(d,p){G_(d,p),(d=d.alternate)&&G_(d,p)}function W_(d){if(d.tag===13||d.tag===31){var p=Qd(d,67108864);p!==null&&kr(p,d,67108864),dN(d,67108864)}}function Y_(d){if(d.tag===13||d.tag===31){var p=aa();p=Ve(p);var x=Qd(d,p);x!==null&&kr(x,d,p),dN(d,p)}}var n1=!0;function cse(d,p,x,v){var j=P.T;P.T=null;var A=B.p;try{B.p=2,hN(d,p,x,v)}finally{B.p=A,P.T=j}}function use(d,p,x,v){var j=P.T;P.T=null;var A=B.p;try{B.p=8,hN(d,p,x,v)}finally{B.p=A,P.T=j}}function hN(d,p,x,v){if(n1){var j=fN(v);if(j===null)Xj(d,p,v,s1,x),q_(d,v);else if(hse(j,d,p,x,v))v.stopPropagation();else if(q_(d,v),p&4&&-1<dse.indexOf(d)){for(;j!==null;){var A=gr(j);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var R=Jr(A.pendingLanes);if(R!==0){var V=A;for(V.pendingLanes|=2,V.entangledLanes|=2;R;){var q=1<<31-Sn(R);V.entanglements[1]|=q,R&=~q}dl(A),(Cn&6)===0&&(Fv=Xt()+500,sy(0))}}break;case 31:case 13:V=Qd(A,2),V!==null&&kr(V,A,2),Bv(),dN(A,2)}if(A=fN(v),A===null&&Xj(d,p,v,s1,x),A===j)break;j=A}j!==null&&v.stopPropagation()}else Xj(d,p,v,null,x)}}function fN(d){return d=gM(d),pN(d)}var s1=null;function pN(d){if(s1=null,d=Ta(d),d!==null){var p=r(d);if(p===null)d=null;else{var x=p.tag;if(x===13){if(d=a(p),d!==null)return d;d=null}else if(x===31){if(d=o(p),d!==null)return d;d=null}else if(x===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null)}}return s1=d,null}function K_(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case le:return 2;case ge:return 8;case Qe:case De:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var gN=!1,Du=null,ku=null,Iu=null,uy=new Map,dy=new Map,Lu=[],dse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(d,p){switch(d){case"focusin":case"focusout":Du=null;break;case"dragenter":case"dragleave":ku=null;break;case"mouseover":case"mouseout":Iu=null;break;case"pointerover":case"pointerout":uy.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":dy.delete(p.pointerId)}}function hy(d,p,x,v,j,A){return d===null||d.nativeEvent!==A?(d={blockedOn:p,domEventName:x,eventSystemFlags:v,nativeEvent:A,targetContainers:[j]},p!==null&&(p=gr(p),p!==null&&W_(p)),d):(d.eventSystemFlags|=v,p=d.targetContainers,j!==null&&p.indexOf(j)===-1&&p.push(j),d)}function hse(d,p,x,v,j){switch(p){case"focusin":return Du=hy(Du,d,p,x,v,j),!0;case"dragenter":return ku=hy(ku,d,p,x,v,j),!0;case"mouseover":return Iu=hy(Iu,d,p,x,v,j),!0;case"pointerover":var A=j.pointerId;return uy.set(A,hy(uy.get(A)||null,d,p,x,v,j)),!0;case"gotpointercapture":return A=j.pointerId,dy.set(A,hy(dy.get(A)||null,d,p,x,v,j)),!0}return!1}function Z_(d){var p=Ta(d.target);if(p!==null){var x=r(p);if(x!==null){if(p=x.tag,p===13){if(p=a(x),p!==null){d.blockedOn=p,ct(d.priority,function(){Y_(x)});return}}else if(p===31){if(p=o(x),p!==null){d.blockedOn=p,ct(d.priority,function(){Y_(x)});return}}else if(p===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function i1(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var x=fN(d.nativeEvent);if(x===null){x=d.nativeEvent;var v=new x.constructor(x.type,x);pM=v,x.target.dispatchEvent(v),pM=null}else return p=gr(x),p!==null&&W_(p),d.blockedOn=x,!1;p.shift()}return!0}function Q_(d,p,x){i1(d)&&x.delete(p)}function fse(){gN=!1,Du!==null&&i1(Du)&&(Du=null),ku!==null&&i1(ku)&&(ku=null),Iu!==null&&i1(Iu)&&(Iu=null),uy.forEach(Q_),dy.forEach(Q_)}function r1(d,p){d.blockedOn===p&&(d.blockedOn=null,gN||(gN=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fse)))}var a1=null;function X_(d){a1!==d&&(a1=d,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){a1===d&&(a1=null);for(var p=0;p<d.length;p+=3){var x=d[p],v=d[p+1],j=d[p+2];if(typeof v!="function"){if(pN(v||x)===null)continue;break}var A=gr(x);A!==null&&(d.splice(p,3),p-=3,fj(A,{pending:!0,data:j,method:x.method,action:v},v,j))}}))}function mp(d){function p(q){return r1(q,d)}Du!==null&&r1(Du,d),ku!==null&&r1(ku,d),Iu!==null&&r1(Iu,d),uy.forEach(p),dy.forEach(p);for(var x=0;x<Lu.length;x++){var v=Lu[x];v.blockedOn===d&&(v.blockedOn=null)}for(;0<Lu.length&&(x=Lu[0],x.blockedOn===null);)Z_(x),x.blockedOn===null&&Lu.shift();if(x=(d.ownerDocument||d).$$reactFormReplay,x!=null)for(v=0;v<x.length;v+=3){var j=x[v],A=x[v+1],R=j[Ke]||null;if(typeof A=="function")R||X_(x);else if(R){var V=null;if(A&&A.hasAttribute("formAction")){if(j=A,R=A[Ke]||null)V=R.formAction;else if(pN(j)!==null)continue}else V=R.action;typeof V=="function"?x[v+1]=V:(x.splice(v,3),v-=3),X_(x)}}}function J_(){function d(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(R){return j=R})},focusReset:"manual",scroll:"manual"})}function p(){j!==null&&(j(),j=null),v||setTimeout(x,20)}function x(){if(!v&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,j=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(x,100),function(){v=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),j!==null&&(j(),j=null)}}}function mN(d){this._internalRoot=d}o1.prototype.render=mN.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(s(409));var x=p.current,v=aa();H_(x,v,d,p,null,null)},o1.prototype.unmount=mN.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;H_(d.current,2,null,d,null,null),Bv(),p[Bt]=null}};function o1(d){this._internalRoot=d}o1.prototype.unstable_scheduleHydration=function(d){if(d){var p=st();d={blockedOn:null,target:d,priority:p};for(var x=0;x<Lu.length&&p!==0&&p<Lu[x].priority;x++);Lu.splice(x,0,d),x===0&&Z_(d)}};var eP=t.version;if(eP!=="19.2.0")throw Error(s(527,eP,"19.2.0"));B.findDOMNode=function(d){var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(s(188)):(d=Object.keys(d).join(","),Error(s(268,d)));return d=u(p),d=d!==null?h(d):null,d=d===null?null:d.stateNode,d};var pse={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var l1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!l1.isDisabled&&l1.supportsFiber)try{Wn=l1.inject(pse),Xn=l1}catch{}}return fy.createRoot=function(d,p){if(!i(d))throw Error(s(299));var x=!1,v="",j=oR,A=lR,R=cR;return p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(v=p.identifierPrefix),p.onUncaughtError!==void 0&&(j=p.onUncaughtError),p.onCaughtError!==void 0&&(A=p.onCaughtError),p.onRecoverableError!==void 0&&(R=p.onRecoverableError)),p=V_(d,1,!1,null,null,x,v,null,j,A,R,J_),d[Bt]=p.current,Qj(d),new mN(p)},fy.hydrateRoot=function(d,p,x){if(!i(d))throw Error(s(299));var v=!1,j="",A=oR,R=lR,V=cR,q=null;return x!=null&&(x.unstable_strictMode===!0&&(v=!0),x.identifierPrefix!==void 0&&(j=x.identifierPrefix),x.onUncaughtError!==void 0&&(A=x.onUncaughtError),x.onCaughtError!==void 0&&(R=x.onCaughtError),x.onRecoverableError!==void 0&&(V=x.onRecoverableError),x.formState!==void 0&&(q=x.formState)),p=V_(d,1,!0,p,x??null,v,j,q,A,R,V,J_),p.context=U_(null),x=p.current,v=aa(),v=Ve(v),j=xu(v),j.callback=null,bu(x,j,v),x=v,p.current.lanes=x,Z(p,x),dl(p),d[Bt]=p.current,Qj(d),new o1(p)},fy.version="19.2.0",fy}var aP;function aie(){if(aP)return yN.exports;aP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yN.exports=rie(),yN.exports}var oie=aie();const lie=$g(oie);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $B=e=>{throw TypeError(e)},cie=(e,t,n)=>t.has(e)||$B("Cannot "+n),vN=(e,t,n)=>(cie(e,t,"read from private field"),n?n.call(e):t.get(e)),uie=(e,t,n)=>t.has(e)?$B("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),oP="popstate";function die(e={}){function t(s,i){let{pathname:r,search:a,hash:o}=s.location;return bx("",{pathname:r,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:pd(i)}return fie(t,n,null,e)}function _t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bs(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hie(){return Math.random().toString(36).substring(2,10)}function lP(e,t){return{usr:e.state,key:e.key,idx:t}}function bx(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?qc(t):t,state:n,key:t&&t.key||s||hie()}}function pd({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function qc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function fie(e,t,n,s={}){let{window:i=document.defaultView,v5Compat:r=!1}=s,a=i.history,o="POP",c=null,u=h();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function h(){return(a.state||{idx:null}).idx}function f(){o="POP";let S=h(),C=S==null?null:S-u;u=S,c&&c({action:o,location:b.location,delta:C})}function g(S,C){o="PUSH";let M=bx(b.location,S,C);u=h()+1;let N=lP(M,u),T=b.createHref(M);try{a.pushState(N,"",T)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(T)}r&&c&&c({action:o,location:b.location,delta:1})}function m(S,C){o="REPLACE";let M=bx(b.location,S,C);u=h();let N=lP(M,u),T=b.createHref(M);a.replaceState(N,"",T),r&&c&&c({action:o,location:b.location,delta:0})}function y(S){return BB(S)}let b={get action(){return o},get location(){return e(i,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(oP,f),c=S,()=>{i.removeEventListener(oP,f),c=null}},createHref(S){return t(i,S)},createURL:y,encodeLocation(S){let C=y(S);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:m,go(S){return a.go(S)}};return b}function BB(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_t(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:pd(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}var Py,cP=class{constructor(e){if(uie(this,Py,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(vN(this,Py).has(e))return vN(this,Py).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){vN(this,Py).set(e,t)}};Py=new WeakMap;var pie=new Set(["lazy","caseSensitive","path","id","index","children"]);function gie(e){return pie.has(e)}var mie=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function yie(e){return mie.has(e)}function xie(e){return e.index===!0}function vx(e,t,n=[],s={},i=!1){return e.map((r,a)=>{let o=[...n,String(a)],c=typeof r.id=="string"?r.id:o.join("-");if(_t(r.index!==!0||!r.children,"Cannot specify children on an index route"),_t(i||!s[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),xie(r)){let u={...r,...t(r),id:c};return s[c]=u,u}else{let u={...r,...t(r),id:c,children:void 0};return s[c]=u,r.children&&(u.children=vx(r.children,t,o,s,i)),u}})}function Ec(e,t,n="/"){return nS(e,t,n,!1)}function nS(e,t,n,s){let i=typeof t=="string"?qc(t):t,r=Wr(i.pathname||"/",n);if(r==null)return null;let a=VB(e);vie(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=Iie(r);o=Eie(a[c],u,s)}return o}function bie(e,t){let{route:n,pathname:s,params:i}=e;return{id:n.id,pathname:s,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function VB(e,t=[],n=[],s="",i=!1){let r=(a,o,c=i,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(s)&&c)return;_t(h.relativePath.startsWith(s),`Absolute route path "${h.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(s.length)}let f=Cl([s,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(_t(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),VB(a.children,t,g,f,c)),!(a.path==null&&!a.index)&&t.push({path:f,score:Aie(f,a.index),routesMeta:g})};return e.forEach((a,o)=>{if(a.path===""||!a.path?.includes("?"))r(a,o);else for(let c of UB(a.path))r(a,o,!0,c)}),t}function UB(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(s.length===0)return i?[r,""]:[r];let a=UB(s.join("/")),o=[];return o.push(...a.map(c=>c===""?r:[r,c].join("/"))),i&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function vie(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Tie(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Sie=/^:[\w-]+$/,wie=3,Cie=2,Mie=1,jie=10,Nie=-2,uP=e=>e==="*";function Aie(e,t){let n=e.split("/"),s=n.length;return n.some(uP)&&(s+=Nie),t&&(s+=Cie),n.filter(i=>!uP(i)).reduce((i,r)=>i+(Sie.test(r)?wie:r===""?Mie:jie),s)}function Tie(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function Eie(e,t,n=!1){let{routesMeta:s}=e,i={},r="/",a=[];for(let o=0;o<s.length;++o){let c=s[o],u=o===s.length-1,h=r==="/"?t:t.slice(r.length)||"/",f=US({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),g=c.route;if(!f&&u&&n&&!s[s.length-1].route.index&&(f=US({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Cl([r,f.pathname]),pathnameBase:_ie(Cl([r,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(r=Cl([r,f.pathnameBase]))}return a}function Die(e,t={}){let n=e;n.endsWith("*")&&n!=="*"&&!n.endsWith("/*")&&(bs(!1,`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`),n=n.replace(/\*$/,"/*"));const s=n.startsWith("/")?"/":"",i=a=>a==null?"":typeof a=="string"?a:String(a),r=n.split(/\/+/).map((a,o,c)=>{if(o===c.length-1&&a==="*")return i(t["*"]);const h=a.match(/^:([\w-]+)(\??)$/);if(h){const[,f,g]=h;let m=t[f];return _t(g==="?"||m!=null,`Missing ":${f}" param`),encodeURIComponent(i(m))}return a.replace(/\?$/g,"")}).filter(a=>!!a);return s+r.join("/")}function US(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=kie(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let r=i[0],a=r.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:s.reduce((u,{paramName:h,isOptional:f},g)=>{if(h==="*"){let y=o[g]||"";a=r.slice(0,r.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[g];return f&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:r,pathnameBase:a,pattern:e}}function kie(e,t=!1,n=!0){bs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function Iie(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Wr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Lie({basename:e,pathname:t}){return t==="/"?e:Cl([e,t])}function Oie(e,t="/"){let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?qc(e):e;return{pathname:n?n.startsWith("/")?n:Rie(n,t):t,search:Pie(s),hash:zie(i)}}function Rie(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function SN(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HB(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Jw(e){let t=HB(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function e2(e,t,n,s=!1){let i;typeof e=="string"?i=qc(e):(i={...e},_t(!i.pathname||!i.pathname.includes("?"),SN("?","pathname","search",i)),_t(!i.pathname||!i.pathname.includes("#"),SN("#","pathname","hash",i)),_t(!i.search||!i.search.includes("#"),SN("#","search","hash",i)));let r=e===""||i.pathname==="",a=r?"/":i.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!s&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}o=f>=0?t[f]:"/"}let c=Oie(i,o),u=a&&a!=="/"&&a.endsWith("/"),h=(r||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var Cl=e=>e.join("/").replace(/\/\/+/g,"/"),_ie=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Pie=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zie=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,HS=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function hg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var GB=["POST","PUT","PATCH","DELETE"],Fie=new Set(GB),$ie=["GET",...GB],Bie=new Set($ie),Vie=new Set([301,302,303,307,308]),Uie=new Set([307,308]),wN={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Hie={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Dp={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Gie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kk=e=>Gie.test(e),Wie=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),WB="remix-router-transitions",YB=Symbol("ResetLoaderData");function Yie(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";_t(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=e.hydrationRouteProperties||[],i=e.mapRouteProperties||Wie,r={},a=vx(e.routes,i,void 0,r),o,c=e.basename||"/";c.startsWith("/")||(c=`/${c}`);let u=e.dataStrategy||Xie,h={...e.future},f=null,g=new Set,m=null,y=null,b=null,S=e.hydrationData!=null,C=Ec(a,e.history.location,c),M=!1,N=null,T;if(C==null&&!e.patchRoutesOnNavigation){let Z=Ka(404,{pathname:e.history.location.pathname}),{matches:ne,route:W}=u1(a);T=!0,C=ne,N={[W.id]:Z}}else if(C&&!e.hydrationData&&Aa(C,a,e.history.location.pathname).active&&(C=null),C)if(C.some(Z=>Z.route.lazy))T=!1;else if(!C.some(Z=>Ik(Z.route)))T=!0;else{let Z=e.hydrationData?e.hydrationData.loaderData:null,ne=e.hydrationData?e.hydrationData.errors:null;if(ne){let W=C.findIndex(ce=>ne[ce.route.id]!==void 0);T=C.slice(0,W+1).every(ce=>!yE(ce.route,Z,ne))}else T=C.every(W=>!yE(W.route,Z,ne))}else{T=!1,C=[];let Z=Aa(null,a,e.history.location.pathname);Z.active&&Z.matches&&(M=!0,C=Z.matches)}let E,k={historyAction:e.history.action,location:e.history.location,matches:C,initialized:T,navigation:wN,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||N,fetchers:new Map,blockers:new Map},L="POP",I=!1,_,F=!1,G=new Map,U=null,H=!1,z=!1,$=new Set,P=new Map,B=0,Y=-1,K=new Map,te=new Set,se=new Map,fe=new Map,oe=new Set,Ee=new Map,ye,je=null;function me(){if(f=e.history.listen(({action:Z,location:ne,delta:W})=>{if(ye){ye(),ye=void 0;return}bs(Ee.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ce=_f({currentLocation:k.location,nextLocation:ne,historyAction:Z});if(ce&&W!=null){let we=new Promise(Ve=>{ye=Ve});e.history.go(W*-1),bi(ce,{state:"blocked",location:ne,proceed(){bi(ce,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),we.then(()=>e.history.go(W))},reset(){let Ve=new Map(k.blockers);Ve.set(ce,Dp),Te({blockers:Ve})}});return}return et(Z,ne)}),n){fre(t,G);let Z=()=>pre(t,G);t.addEventListener("pagehide",Z),U=()=>t.removeEventListener("pagehide",Z)}return k.initialized||et("POP",k.location,{initialHydration:!0}),E}function be(){f&&f(),U&&U(),g.clear(),_&&_.abort(),k.fetchers.forEach((Z,ne)=>Ze(ne)),k.blockers.forEach((Z,ne)=>Xr(ne))}function Ae(Z){return g.add(Z),()=>g.delete(Z)}function Te(Z,ne={}){Z.matches&&(Z.matches=Z.matches.map(we=>{let Ve=r[we.route.id],at=we.route;return at.element!==Ve.element||at.errorElement!==Ve.errorElement||at.hydrateFallbackElement!==Ve.hydrateFallbackElement?{...we,route:Ve}:we})),k={...k,...Z};let W=[],ce=[];k.fetchers.forEach((we,Ve)=>{we.state==="idle"&&(oe.has(Ve)?W.push(Ve):ce.push(Ve))}),oe.forEach(we=>{!k.fetchers.has(we)&&!P.has(we)&&W.push(we)}),[...g].forEach(we=>we(k,{deletedFetchers:W,viewTransitionOpts:ne.viewTransitionOpts,flushSync:ne.flushSync===!0})),W.forEach(we=>Ze(we)),ce.forEach(we=>k.fetchers.delete(we))}function Be(Z,ne,{flushSync:W}={}){let ce=k.actionData!=null&&k.navigation.formMethod!=null&&zr(k.navigation.formMethod)&&k.navigation.state==="loading"&&Z.state?._isRedirect!==!0,we;ne.actionData?Object.keys(ne.actionData).length>0?we=ne.actionData:we=null:ce?we=k.actionData:we=null;let Ve=ne.loaderData?vP(k.loaderData,ne.loaderData,ne.matches||[],ne.errors):k.loaderData,at=k.blockers;at.size>0&&(at=new Map(at),at.forEach((We,Ke)=>at.set(Ke,Dp)));let st=H?!1:Zl(Z,ne.matches||k.matches),ct=I===!0||k.navigation.formMethod!=null&&zr(k.navigation.formMethod)&&Z.state?._isRedirect!==!0;o&&(a=o,o=void 0),H||L==="POP"||(L==="PUSH"?e.history.push(Z,Z.state):L==="REPLACE"&&e.history.replace(Z,Z.state));let ut;if(L==="POP"){let We=G.get(k.location.pathname);We&&We.has(Z.pathname)?ut={currentLocation:k.location,nextLocation:Z}:G.has(Z.pathname)&&(ut={currentLocation:Z,nextLocation:k.location})}else if(F){let We=G.get(k.location.pathname);We?We.add(Z.pathname):(We=new Set([Z.pathname]),G.set(k.location.pathname,We)),ut={currentLocation:k.location,nextLocation:Z}}Te({...ne,actionData:we,loaderData:Ve,historyAction:L,location:Z,initialized:!0,navigation:wN,revalidation:"idle",restoreScrollPosition:st,preventScrollReset:ct,blockers:at},{viewTransitionOpts:ut,flushSync:W===!0}),L="POP",I=!1,F=!1,H=!1,z=!1,je?.resolve(),je=null}async function Ge(Z,ne){if(typeof Z=="number"){e.history.go(Z);return}let W=mE(k.location,k.matches,c,Z,ne?.fromRouteId,ne?.relative),{path:ce,submission:we,error:Ve}=dP(!1,W,ne),at=k.location,st=bx(k.location,ce,ne&&ne.state);st={...st,...e.history.encodeLocation(st)};let ct=ne&&ne.replace!=null?ne.replace:void 0,ut="PUSH";ct===!0?ut="REPLACE":ct===!1||we!=null&&zr(we.formMethod)&&we.formAction===k.location.pathname+k.location.search&&(ut="REPLACE");let We=ne&&"preventScrollReset"in ne?ne.preventScrollReset===!0:void 0,Ke=(ne&&ne.flushSync)===!0,Bt=_f({currentLocation:at,nextLocation:st,historyAction:ut});if(Bt){bi(Bt,{state:"blocked",location:st,proceed(){bi(Bt,{state:"proceeding",proceed:void 0,reset:void 0,location:st}),Ge(Z,ne)},reset(){let $n=new Map(k.blockers);$n.set(Bt,Dp),Te({blockers:$n})}});return}await et(ut,st,{submission:we,pendingError:Ve,preventScrollReset:We,replace:ne&&ne.replace,enableViewTransition:ne&&ne.viewTransition,flushSync:Ke})}function Je(){je||(je=gre()),Jt(),Te({revalidation:"loading"});let Z=je.promise;return k.navigation.state==="submitting"?Z:k.navigation.state==="idle"?(et(k.historyAction,k.location,{startUninterruptedRevalidation:!0}),Z):(et(L||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:F===!0}),Z)}async function et(Z,ne,W){_&&_.abort(),_=null,L=Z,H=(W&&W.startUninterruptedRevalidation)===!0,Jr(k.location,k.matches),I=(W&&W.preventScrollReset)===!0,F=(W&&W.enableViewTransition)===!0;let ce=o||a,we=W&&W.overrideNavigation,Ve=W?.initialHydration&&k.matches&&k.matches.length>0&&!M?k.matches:Ec(ce,ne,c),at=(W&&W.flushSync)===!0;if(Ve&&k.initialized&&!z&&are(k.location,ne)&&!(W&&W.submission&&zr(W.submission.formMethod))){Be(ne,{matches:Ve},{flushSync:at});return}let st=Aa(Ve,ce,ne.pathname);if(st.active&&st.matches&&(Ve=st.matches),!Ve){let{error:Ti,notFoundMatches:Jn,route:wn}=il(ne.pathname);Be(ne,{matches:Jn,loaderData:{},errors:{[wn.id]:Ti}},{flushSync:at});return}_=new AbortController;let ct=kp(e.history,ne,_.signal,W&&W.submission),ut=e.getContext?await e.getContext():new cP,We;if(W&&W.pendingError)We=[Ku(Ve).route.id,{type:"error",error:W.pendingError}];else if(W&&W.submission&&zr(W.submission.formMethod)){let Ti=await lt(ct,ne,W.submission,Ve,ut,st.active,W&&W.initialHydration===!0,{replace:W.replace,flushSync:at});if(Ti.shortCircuited)return;if(Ti.pendingActionResult){let[Jn,wn]=Ti.pendingActionResult;if(ua(wn)&&hg(wn.error)&&wn.error.status===404){_=null,Be(ne,{matches:Ti.matches,loaderData:{},errors:{[Jn]:wn.error}});return}}Ve=Ti.matches||Ve,We=Ti.pendingActionResult,we=CN(ne,W.submission),at=!1,st.active=!1,ct=kp(e.history,ct.url,ct.signal)}let{shortCircuited:Ke,matches:Bt,loaderData:$n,errors:Hs}=await pt(ct,ne,Ve,ut,st.active,we,W&&W.submission,W&&W.fetcherSubmission,W&&W.replace,W&&W.initialHydration===!0,at,We);Ke||(_=null,Be(ne,{matches:Bt||Ve,...SP(We),loaderData:$n,errors:Hs}))}async function lt(Z,ne,W,ce,we,Ve,at,st={}){Jt();let ct=dre(ne,W);if(Te({navigation:ct},{flushSync:st.flushSync===!0}),Ve){let Ke=await du(ce,ne.pathname,Z.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){if(Ke.partialMatches.length===0){let{matches:$n,route:Hs}=u1(a);return{matches:$n,pendingActionResult:[Hs.id,{type:"error",error:Ke.error}]}}let Bt=Ku(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,pendingActionResult:[Bt,{type:"error",error:Ke.error}]}}else if(Ke.matches)ce=Ke.matches;else{let{notFoundMatches:Bt,error:$n,route:Hs}=il(ne.pathname);return{matches:Bt,pendingActionResult:[Hs.id,{type:"error",error:$n}]}}}let ut,We=sS(ce,ne);if(!We.route.action&&!We.route.lazy)ut={type:"error",error:Ka(405,{method:Z.method,pathname:ne.pathname,routeId:We.route.id})};else{let Ke=eg(i,r,Z,ce,We,at?[]:s,we),Bt=await An(Z,Ke,we,null);if(ut=Bt[We.route.id],!ut){for(let $n of ce)if(Bt[$n.route.id]){ut=Bt[$n.route.id];break}}if(Z.signal.aborted)return{shortCircuited:!0}}if(kh(ut)){let Ke;return st&&st.replace!=null?Ke=st.replace:Ke=yP(ut.response.headers.get("Location"),new URL(Z.url),c)===k.location.pathname+k.location.search,await Yt(Z,ut,!0,{submission:W,replace:Ke}),{shortCircuited:!0}}if(ua(ut)){let Ke=Ku(ce,We.route.id);return(st&&st.replace)!==!0&&(L="PUSH"),{matches:ce,pendingActionResult:[Ke.route.id,ut,We.route.id]}}return{matches:ce,pendingActionResult:[We.route.id,ut]}}async function pt(Z,ne,W,ce,we,Ve,at,st,ct,ut,We,Ke){let Bt=Ve||CN(ne,at),$n=at||st||CP(Bt),Hs=!H&&!ut;if(we){if(Hs){let vi=it(Ke);Te({navigation:Bt,...vi!==void 0?{actionData:vi}:{}},{flushSync:We})}let Vt=await du(W,ne.pathname,Z.signal);if(Vt.type==="aborted")return{shortCircuited:!0};if(Vt.type==="error"){if(Vt.partialMatches.length===0){let{matches:Ql,route:ol}=u1(a);return{matches:Ql,loaderData:{},errors:{[ol.id]:Vt.error}}}let vi=Ku(Vt.partialMatches).route.id;return{matches:Vt.partialMatches,loaderData:{},errors:{[vi]:Vt.error}}}else if(Vt.matches)W=Vt.matches;else{let{error:vi,notFoundMatches:Ql,route:ol}=il(ne.pathname);return{matches:Ql,loaderData:{},errors:{[ol.id]:vi}}}}let Ti=o||a,{dsMatches:Jn,revalidatingFetchers:wn}=hP(Z,ce,i,r,e.history,k,W,$n,ne,ut?[]:s,ut===!0,z,$,oe,se,te,Ti,c,e.patchRoutesOnNavigation!=null,Ke);if(Y=++B,!e.dataStrategy&&!Jn.some(Vt=>Vt.shouldLoad)&&!Jn.some(Vt=>Vt.route.middleware&&Vt.route.middleware.length>0)&&wn.length===0){let Vt=Xn();return Be(ne,{matches:W,loaderData:{},errors:Ke&&ua(Ke[1])?{[Ke[0]]:Ke[1].error}:null,...SP(Ke),...Vt?{fetchers:new Map(k.fetchers)}:{}},{flushSync:We}),{shortCircuited:!0}}if(Hs){let Vt={};if(!we){Vt.navigation=Bt;let vi=it(Ke);vi!==void 0&&(Vt.actionData=vi)}wn.length>0&&(Vt.fetchers=dn(wn)),Te(Vt,{flushSync:We})}wn.forEach(Vt=>{$t(Vt.key),Vt.controller&&P.set(Vt.key,Vt.controller)});let Co=()=>wn.forEach(Vt=>$t(Vt.key));_&&_.signal.addEventListener("abort",Co);let{loaderResults:Ta,fetcherResults:gr}=await Xt(Jn,wn,Z,ce);if(Z.signal.aborted)return{shortCircuited:!0};_&&_.signal.removeEventListener("abort",Co),wn.forEach(Vt=>P.delete(Vt.key));let Xi=d1(Ta);if(Xi)return await Yt(Z,Xi.result,!0,{replace:ct}),{shortCircuited:!0};if(Xi=d1(gr),Xi)return te.add(Xi.key),await Yt(Z,Xi.result,!0,{replace:ct}),{shortCircuited:!0};let{loaderData:rl,errors:rs}=bP(k,W,Ta,Ke,wn,gr);ut&&k.errors&&(rs={...k.errors,...rs});let al=Xn(),Wd=ai(Y),Ea=al||Wd||wn.length>0;return{matches:W,loaderData:rl,errors:rs,...Ea?{fetchers:new Map(k.fetchers)}:{}}}function it(Z){if(Z&&!ua(Z[1]))return{[Z[0]]:Z[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function dn(Z){return Z.forEach(ne=>{let W=k.fetchers.get(ne.key),ce=py(void 0,W?W.data:void 0);k.fetchers.set(ne.key,ce)}),new Map(k.fetchers)}async function kt(Z,ne,W,ce){$t(Z);let we=(ce&&ce.flushSync)===!0,Ve=o||a,at=mE(k.location,k.matches,c,W,ne,ce?.relative),st=Ec(Ve,at,c),ct=Aa(st,Ve,at);if(ct.active&&ct.matches&&(st=ct.matches),!st){ge(Z,ne,Ka(404,{pathname:at}),{flushSync:we});return}let{path:ut,submission:We,error:Ke}=dP(!0,at,ce);if(Ke){ge(Z,ne,Ke,{flushSync:we});return}let Bt=e.getContext?await e.getContext():new cP,$n=(ce&&ce.preventScrollReset)===!0;if(We&&zr(We.formMethod)){await Lt(Z,ne,ut,st,Bt,ct.active,we,$n,We);return}se.set(Z,{routeId:ne,path:ut}),await Ye(Z,ne,ut,st,Bt,ct.active,we,$n,We)}async function Lt(Z,ne,W,ce,we,Ve,at,st,ct){Jt(),se.delete(Z);let ut=k.fetchers.get(Z);le(Z,hre(ct,ut),{flushSync:at});let We=new AbortController,Ke=kp(e.history,W,We.signal,ct);if(Ve){let Ls=await du(ce,new URL(Ke.url).pathname,Ke.signal,Z);if(Ls.type==="aborted")return;if(Ls.type==="error"){ge(Z,ne,Ls.error,{flushSync:at});return}else if(Ls.matches)ce=Ls.matches;else{ge(Z,ne,Ka(404,{pathname:W}),{flushSync:at});return}}let Bt=sS(ce,W);if(!Bt.route.action&&!Bt.route.lazy){let Ls=Ka(405,{method:ct.formMethod,pathname:W,routeId:ne});ge(Z,ne,Ls,{flushSync:at});return}P.set(Z,We);let $n=B,Hs=eg(i,r,Ke,ce,Bt,s,we),Jn=(await An(Ke,Hs,we,Z))[Bt.route.id];if(Ke.signal.aborted){P.get(Z)===We&&P.delete(Z);return}if(oe.has(Z)){if(kh(Jn)||ua(Jn)){le(Z,vc(void 0));return}}else{if(kh(Jn))if(P.delete(Z),Y>$n){le(Z,vc(void 0));return}else return te.add(Z),le(Z,py(ct)),Yt(Ke,Jn,!1,{fetcherSubmission:ct,preventScrollReset:st});if(ua(Jn)){ge(Z,ne,Jn.error);return}}let wn=k.navigation.location||k.location,Co=kp(e.history,wn,We.signal),Ta=o||a,gr=k.navigation.state!=="idle"?Ec(Ta,k.navigation.location,c):k.matches;_t(gr,"Didn't find any matches after fetcher action");let Xi=++B;K.set(Z,Xi);let rl=py(ct,Jn.data);k.fetchers.set(Z,rl);let{dsMatches:rs,revalidatingFetchers:al}=hP(Co,we,i,r,e.history,k,gr,ct,wn,s,!1,z,$,oe,se,te,Ta,c,e.patchRoutesOnNavigation!=null,[Bt.route.id,Jn]);al.filter(Ls=>Ls.key!==Z).forEach(Ls=>{let Xl=Ls.key,Yd=k.fetchers.get(Xl),Mo=py(void 0,Yd?Yd.data:void 0);k.fetchers.set(Xl,Mo),$t(Xl),Ls.controller&&P.set(Xl,Ls.controller)}),Te({fetchers:new Map(k.fetchers)});let Wd=()=>al.forEach(Ls=>$t(Ls.key));We.signal.addEventListener("abort",Wd);let{loaderResults:Ea,fetcherResults:Vt}=await Xt(rs,al,Co,we);if(We.signal.aborted)return;if(We.signal.removeEventListener("abort",Wd),K.delete(Z),P.delete(Z),al.forEach(Ls=>P.delete(Ls.key)),k.fetchers.has(Z)){let Ls=vc(Jn.data);k.fetchers.set(Z,Ls)}let vi=d1(Ea);if(vi)return Yt(Co,vi.result,!1,{preventScrollReset:st});if(vi=d1(Vt),vi)return te.add(vi.key),Yt(Co,vi.result,!1,{preventScrollReset:st});let{loaderData:Ql,errors:ol}=bP(k,gr,Ea,void 0,al,Vt);ai(Xi),k.navigation.state==="loading"&&Xi>Y?(_t(L,"Expected pending action"),_&&_.abort(),Be(k.navigation.location,{matches:gr,loaderData:Ql,errors:ol,fetchers:new Map(k.fetchers)})):(Te({errors:ol,loaderData:vP(k.loaderData,Ql,gr,ol),fetchers:new Map(k.fetchers)}),z=!1)}async function Ye(Z,ne,W,ce,we,Ve,at,st,ct){let ut=k.fetchers.get(Z);le(Z,py(ct,ut?ut.data:void 0),{flushSync:at});let We=new AbortController,Ke=kp(e.history,W,We.signal);if(Ve){let wn=await du(ce,new URL(Ke.url).pathname,Ke.signal,Z);if(wn.type==="aborted")return;if(wn.type==="error"){ge(Z,ne,wn.error,{flushSync:at});return}else if(wn.matches)ce=wn.matches;else{ge(Z,ne,Ka(404,{pathname:W}),{flushSync:at});return}}let Bt=sS(ce,W);P.set(Z,We);let $n=B,Hs=eg(i,r,Ke,ce,Bt,s,we),Jn=(await An(Ke,Hs,we,Z))[Bt.route.id];if(P.get(Z)===We&&P.delete(Z),!Ke.signal.aborted){if(oe.has(Z)){le(Z,vc(void 0));return}if(kh(Jn))if(Y>$n){le(Z,vc(void 0));return}else{te.add(Z),await Yt(Ke,Jn,!1,{preventScrollReset:st});return}if(ua(Jn)){ge(Z,ne,Jn.error);return}le(Z,vc(Jn.data))}}async function Yt(Z,ne,W,{submission:ce,fetcherSubmission:we,preventScrollReset:Ve,replace:at}={}){ne.response.headers.has("X-Remix-Revalidate")&&(z=!0);let st=ne.response.headers.get("Location");_t(st,"Expected a Location header on the redirect Response"),st=yP(st,new URL(Z.url),c);let ct=bx(k.location,st,{_isRedirect:!0});if(n){let Hs=!1;if(ne.response.headers.has("X-Remix-Reload-Document"))Hs=!0;else if(kk(st)){const Ti=BB(st,!0);Hs=Ti.origin!==t.location.origin||Wr(Ti.pathname,c)==null}if(Hs){at?t.location.replace(st):t.location.assign(st);return}}_=null;let ut=at===!0||ne.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:We,formAction:Ke,formEncType:Bt}=k.navigation;!ce&&!we&&We&&Ke&&Bt&&(ce=CP(k.navigation));let $n=ce||we;if(Uie.has(ne.response.status)&&$n&&zr($n.formMethod))await et(ut,ct,{submission:{...$n,formAction:st},preventScrollReset:Ve||I,enableViewTransition:W?F:void 0});else{let Hs=CN(ct,ce);await et(ut,ct,{overrideNavigation:Hs,fetcherSubmission:we,preventScrollReset:Ve||I,enableViewTransition:W?F:void 0})}}async function An(Z,ne,W,ce){let we,Ve={};try{we=await ere(u,Z,ne,ce,W,!1)}catch(at){return ne.filter(st=>st.shouldLoad).forEach(st=>{Ve[st.route.id]={type:"error",error:at}}),Ve}if(Z.signal.aborted)return Ve;for(let[at,st]of Object.entries(we))if(cre(st)){let ct=st.result;Ve[at]={type:"redirect",response:ire(ct,Z,at,ne,c)}}else Ve[at]=await sre(st);return Ve}async function Xt(Z,ne,W,ce){let we=An(W,Z,ce,null),Ve=Promise.all(ne.map(async ct=>{if(ct.matches&&ct.match&&ct.request&&ct.controller){let We=(await An(ct.request,ct.matches,ce,ct.key))[ct.match.route.id];return{[ct.key]:We}}else return Promise.resolve({[ct.key]:{type:"error",error:Ka(404,{pathname:ct.path})}})})),at=await we,st=(await Ve).reduce((ct,ut)=>Object.assign(ct,ut),{});return{loaderResults:at,fetcherResults:st}}function Jt(){z=!0,se.forEach((Z,ne)=>{P.has(ne)&&$.add(ne),$t(ne)})}function le(Z,ne,W={}){k.fetchers.set(Z,ne),Te({fetchers:new Map(k.fetchers)},{flushSync:(W&&W.flushSync)===!0})}function ge(Z,ne,W,ce={}){let we=Ku(k.matches,ne);Ze(Z),Te({errors:{[we.route.id]:W},fetchers:new Map(k.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function Qe(Z){return fe.set(Z,(fe.get(Z)||0)+1),oe.has(Z)&&oe.delete(Z),k.fetchers.get(Z)||Hie}function De(Z,ne){$t(Z,ne?.reason),le(Z,vc(null))}function Ze(Z){let ne=k.fetchers.get(Z);P.has(Z)&&!(ne&&ne.state==="loading"&&K.has(Z))&&$t(Z),se.delete(Z),K.delete(Z),te.delete(Z),oe.delete(Z),$.delete(Z),k.fetchers.delete(Z)}function gn(Z){let ne=(fe.get(Z)||0)-1;ne<=0?(fe.delete(Z),oe.add(Z)):fe.set(Z,ne),Te({fetchers:new Map(k.fetchers)})}function $t(Z,ne){let W=P.get(Z);W&&(W.abort(ne),P.delete(Z))}function Wn(Z){for(let ne of Z){let W=Qe(ne),ce=vc(W.data);k.fetchers.set(ne,ce)}}function Xn(){let Z=[],ne=!1;for(let W of te){let ce=k.fetchers.get(W);_t(ce,`Expected fetcher: ${W}`),ce.state==="loading"&&(te.delete(W),Z.push(W),ne=!0)}return Wn(Z),ne}function ai(Z){let ne=[];for(let[W,ce]of K)if(ce<Z){let we=k.fetchers.get(W);_t(we,`Expected fetcher: ${W}`),we.state==="loading"&&($t(W),K.delete(W),ne.push(W))}return Wn(ne),ne.length>0}function Sn(Z,ne){let W=k.blockers.get(Z)||Dp;return Ee.get(Z)!==ne&&Ee.set(Z,ne),W}function Xr(Z){k.blockers.delete(Z),Ee.delete(Z)}function bi(Z,ne){let W=k.blockers.get(Z)||Dp;_t(W.state==="unblocked"&&ne.state==="blocked"||W.state==="blocked"&&ne.state==="blocked"||W.state==="blocked"&&ne.state==="proceeding"||W.state==="blocked"&&ne.state==="unblocked"||W.state==="proceeding"&&ne.state==="unblocked",`Invalid blocker state transition: ${W.state} -> ${ne.state}`);let ce=new Map(k.blockers);ce.set(Z,ne),Te({blockers:ce})}function _f({currentLocation:Z,nextLocation:ne,historyAction:W}){if(Ee.size===0)return;Ee.size>1&&bs(!1,"A router only supports one blocker at a time");let ce=Array.from(Ee.entries()),[we,Ve]=ce[ce.length-1],at=k.blockers.get(we);if(!(at&&at.state==="proceeding")&&Ve({currentLocation:Z,nextLocation:ne,historyAction:W}))return we}function il(Z){let ne=Ka(404,{pathname:Z}),W=o||a,{matches:ce,route:we}=u1(W);return{notFoundMatches:ce,route:we,error:ne}}function uu(Z,ne,W){if(m=Z,b=ne,y=W||null,!S&&k.navigation===wN){S=!0;let ce=Zl(k.location,k.matches);ce!=null&&Te({restoreScrollPosition:ce})}return()=>{m=null,b=null,y=null}}function ql(Z,ne){return y&&y(Z,ne.map(ce=>bie(ce,k.loaderData)))||Z.key}function Jr(Z,ne){if(m&&b){let W=ql(Z,ne);m[W]=b()}}function Zl(Z,ne){if(m){let W=ql(Z,ne),ce=m[W];if(typeof ce=="number")return ce}return null}function Aa(Z,ne,W){if(e.patchRoutesOnNavigation)if(Z){if(Object.keys(Z[0].params).length>0)return{active:!0,matches:nS(ne,W,c,!0)}}else return{active:!0,matches:nS(ne,W,c,!0)||[]};return{active:!1,matches:null}}async function du(Z,ne,W,ce){if(!e.patchRoutesOnNavigation)return{type:"success",matches:Z};let we=Z;for(;;){let Ve=o==null,at=o||a,st=r;try{await e.patchRoutesOnNavigation({signal:W,path:ne,matches:we,fetcherKey:ce,patch:(We,Ke)=>{W.aborted||fP(We,Ke,at,st,i,!1)}})}catch(We){return{type:"error",error:We,partialMatches:we}}finally{Ve&&!W.aborted&&(a=[...a])}if(W.aborted)return{type:"aborted"};let ct=Ec(at,ne,c);if(ct)return{type:"success",matches:ct};let ut=nS(at,ne,c,!0);if(!ut||we.length===ut.length&&we.every((We,Ke)=>We.route.id===ut[Ke].route.id))return{type:"success",matches:null};we=ut}}function Pf(Z){r={},o=vx(Z,i,void 0,r)}function Gd(Z,ne,W=!1){let ce=o==null;fP(Z,ne,o||a,r,i,W),ce&&(a=[...a],Te({}))}return E={get basename(){return c},get future(){return h},get state(){return k},get routes(){return a},get window(){return t},initialize:me,subscribe:Ae,enableScrollRestoration:uu,navigate:Ge,fetch:kt,revalidate:Je,createHref:Z=>e.history.createHref(Z),encodeLocation:Z=>e.history.encodeLocation(Z),getFetcher:Qe,resetFetcher:De,deleteFetcher:gn,dispose:be,getBlocker:Sn,deleteBlocker:Xr,patchRoutes:Gd,_internalFetchControllers:P,_internalSetRoutes:Pf,_internalSetStateDoNotUseOrYouWillBreakYourApp(Z){Te(Z)}},E}function Kie(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function mE(e,t,n,s,i,r){let a,o;if(i){a=[];for(let u of t)if(a.push(u),u.route.id===i){o=u;break}}else a=t,o=t[t.length-1];let c=e2(s||".",Jw(a),Wr(e.pathname,n)||e.pathname,r==="path");if(s==null&&(c.search=e.search,c.hash=e.hash),(s==null||s===""||s===".")&&o){let u=Lk(c.search);if(o.route.index&&!u)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let h=new URLSearchParams(c.search),f=h.getAll("index");h.delete("index"),f.filter(m=>m).forEach(m=>h.append("index",m));let g=h.toString();c.search=g?`?${g}`:""}}return n!=="/"&&(c.pathname=Lie({basename:n,pathname:c.pathname})),pd(c)}function dP(e,t,n){if(!n||!Kie(n))return{path:t};if(n.formMethod&&!ure(n.formMethod))return{path:t,error:Ka(405,{method:n.formMethod})};let s=()=>({path:t,error:Ka(400,{type:"invalid-body"})}),r=(n.formMethod||"get").toUpperCase(),a=JB(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!zr(r))return s();let f=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[m,y])=>`${g}${m}=${y}
`,""):String(n.body);return{path:t,submission:{formMethod:r,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:f}}}else if(n.formEncType==="application/json"){if(!zr(r))return s();try{let f=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:r,formAction:a,formEncType:n.formEncType,formData:void 0,json:f,text:void 0}}}catch{return s()}}}_t(typeof FormData=="function","FormData is not available in this environment");let o,c;if(n.formData)o=bE(n.formData),c=n.formData;else if(n.body instanceof FormData)o=bE(n.body),c=n.body;else if(n.body instanceof URLSearchParams)o=n.body,c=xP(o);else if(n.body==null)o=new URLSearchParams,c=new FormData;else try{o=new URLSearchParams(n.body),c=xP(o)}catch{return s()}let u={formMethod:r,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(zr(u.formMethod))return{path:t,submission:u};let h=qc(t);return e&&h.search&&Lk(h.search)&&o.append("index",""),h.search=`?${o}`,{path:pd(h),submission:u}}function hP(e,t,n,s,i,r,a,o,c,u,h,f,g,m,y,b,S,C,M,N){let T=N?ua(N[1])?N[1].error:N[1].data:void 0,E=i.createURL(r.location),k=i.createURL(c),L;if(h&&r.errors){let H=Object.keys(r.errors)[0];L=a.findIndex(z=>z.route.id===H)}else if(N&&ua(N[1])){let H=N[0];L=a.findIndex(z=>z.route.id===H)-1}let I=N?N[1].statusCode:void 0,_=I&&I>=400,F={currentUrl:E,currentParams:r.matches[0]?.params||{},nextUrl:k,nextParams:a[0].params,...o,actionResult:T,actionStatus:I},G=a.map((H,z)=>{let{route:$}=H,P=null;if(L!=null&&z>L?P=!1:$.lazy?P=!0:Ik($)?h?P=yE($,r.loaderData,r.errors):qie(r.loaderData,r.matches[z],H)&&(P=!0):P=!1,P!==null)return xE(n,s,e,H,u,t,P);let B=_?!1:f||E.pathname+E.search===k.pathname+k.search||E.search!==k.search||Zie(r.matches[z],H),Y={...F,defaultShouldRevalidate:B},K=GS(H,Y);return xE(n,s,e,H,u,t,K,Y)}),U=[];return y.forEach((H,z)=>{if(h||!a.some(fe=>fe.route.id===H.routeId)||m.has(z))return;let $=r.fetchers.get(z),P=$&&$.state!=="idle"&&$.data===void 0,B=Ec(S,H.path,C);if(!B){if(M&&P)return;U.push({key:z,routeId:H.routeId,path:H.path,matches:null,match:null,request:null,controller:null});return}if(b.has(z))return;let Y=sS(B,H.path),K=new AbortController,te=kp(i,H.path,K.signal),se=null;if(g.has(z))g.delete(z),se=eg(n,s,te,B,Y,u,t);else if(P)f&&(se=eg(n,s,te,B,Y,u,t));else{let fe={...F,defaultShouldRevalidate:_?!1:f};GS(Y,fe)&&(se=eg(n,s,te,B,Y,u,t,fe))}se&&U.push({key:z,routeId:H.routeId,path:H.path,matches:se,match:Y,request:te,controller:K})}),{dsMatches:G,revalidatingFetchers:U}}function Ik(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function yE(e,t,n){if(e.lazy)return!0;if(!Ik(e))return!1;let s=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!s&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!s&&!i}function qie(e,t,n){let s=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return s||i}function Zie(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function GS(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function fP(e,t,n,s,i,r){let a;if(e){let u=s[e];_t(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),a=u.children}else a=n;let o=[],c=[];if(t.forEach(u=>{let h=a.find(f=>KB(u,f));h?c.push({existingRoute:h,newRoute:u}):o.push(u)}),o.length>0){let u=vx(o,i,[e||"_","patch",String(a?.length||"0")],s);a.push(...u)}if(r&&c.length>0)for(let u=0;u<c.length;u++){let{existingRoute:h,newRoute:f}=c[u],g=h,[m]=vx([f],i,[],{},!0);Object.assign(g,{element:m.element?m.element:g.element,errorElement:m.errorElement?m.errorElement:g.errorElement,hydrateFallbackElement:m.hydrateFallbackElement?m.hydrateFallbackElement:g.hydrateFallbackElement})}}function KB(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,s)=>t.children?.some(i=>KB(n,i))):!1}var pP=new WeakMap,qB=({key:e,route:t,manifest:n,mapRouteProperties:s})=>{let i=n[t.id];if(_t(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let r=i.lazy[e];if(!r)return;let a=pP.get(i);a||(a={},pP.set(i,a));let o=a[e];if(o)return o;let c=(async()=>{let u=gie(e),f=i[e]!==void 0&&e!=="hasErrorBoundary";if(u)bs(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(f)bs(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await r();g!=null&&(Object.assign(i,{[e]:g}),Object.assign(i,s(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return a[e]=c,c},gP=new WeakMap;function Qie(e,t,n,s,i){let r=n[e.id];if(_t(r,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let h=gP.get(r);if(h)return{lazyRoutePromise:h,lazyHandlerPromise:h};let f=(async()=>{_t(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),m={};for(let y in g){let b=g[y];if(b===void 0)continue;let S=yie(y),M=r[y]!==void 0&&y!=="hasErrorBoundary";S?bs(!S,"Route property "+y+" is not a supported property to be returned from a lazy route function. This property will be ignored."):M?bs(!M,`Route "${r.id}" has a static property "${y}" defined but its lazy function is also returning a value for this property. The lazy route property "${y}" will be ignored.`):m[y]=b}Object.assign(r,m),Object.assign(r,{...s(r),lazy:void 0})})();return gP.set(r,f),f.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:f}}let a=Object.keys(e.lazy),o=[],c;for(let h of a){if(i&&i.includes(h))continue;let f=qB({key:h,route:e,manifest:n,mapRouteProperties:s});f&&(o.push(f),h===t&&(c=f))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u?.catch(()=>{}),c?.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:c}}async function mP(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,r)=>{n[t[r].route.id]=i}),n}async function Xie(e){return e.matches.some(t=>t.route.middleware)?ZB(e,()=>mP(e)):mP(e)}function ZB(e,t){return Jie(e,t,s=>s,ore,n);function n(s,i,r){if(r)return Promise.resolve(Object.assign(r.value,{[i]:{type:"error",result:s}}));{let{matches:a}=e,o=Math.min(Math.max(a.findIndex(u=>u.route.id===i),0),Math.max(a.findIndex(u=>u.unstable_shouldCallHandler()),0)),c=Ku(a,a[o].route.id).route.id;return Promise.resolve({[c]:{type:"error",result:s}})}}}async function Jie(e,t,n,s,i){let{matches:r,request:a,params:o,context:c}=e,u=r.flatMap(f=>f.route.middleware?f.route.middleware.map(g=>[f.route.id,g]):[]);return await QB({request:a,params:o,context:c},u,t,n,s,i)}async function QB(e,t,n,s,i,r,a=0){let{request:o}=e;if(o.signal.aborted)throw o.signal.reason??new Error(`Request aborted: ${o.method} ${o.url}`);let c=t[a];if(!c)return await n();let[u,h]=c,f,g=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");try{return f={value:await QB(e,t,n,s,i,r,a+1)},f.value}catch(m){return f={value:await r(m,u,f)},f.value}};try{let m=await h(e,g),y=m!=null?s(m):void 0;return i(y)?y:f?y??f.value:(f={value:await g()},f.value)}catch(m){return await r(m,u,f)}}function XB(e,t,n,s,i){let r=qB({key:"middleware",route:s.route,manifest:t,mapRouteProperties:e}),a=Qie(s.route,zr(n.method)?"action":"loader",t,e,i);return{middleware:r,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function xE(e,t,n,s,i,r,a,o=null){let c=!1,u=XB(e,t,n,s,i);return{...s,_lazyPromises:u,shouldLoad:a,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler(h){return c=!0,o?typeof h=="boolean"?GS(s,{...o,defaultShouldRevalidate:h}):GS(s,o):a},resolve(h){let{lazy:f,loader:g,middleware:m}=s.route,y=c||a||h&&!zr(n.method)&&(f||g),b=m&&m.length>0&&!g&&!f;return y&&!b?tre({request:n,match:s,lazyHandlerPromise:u?.handler,lazyRoutePromise:u?.route,handlerOverride:h,scopedContext:r}):Promise.resolve({type:"data",result:void 0})}}}function eg(e,t,n,s,i,r,a,o=null){return s.map(c=>c.route.id!==i.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:XB(e,t,n,c,r),resolve:()=>Promise.resolve({type:"data",result:void 0})}:xE(e,t,n,c,r,a,!0,o))}async function ere(e,t,n,s,i,r){n.some(u=>u._lazyPromises?.middleware)&&await Promise.all(n.map(u=>u._lazyPromises?.middleware));let a={request:t,params:n[0].params,context:i,matches:n},c=await e({...a,fetcherKey:s,runClientMiddleware:u=>{let h=a;return ZB(h,()=>u({...h,fetcherKey:s,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(u=>[u._lazyPromises?.handler,u._lazyPromises?.route]))}catch{}return c}async function tre({request:e,match:t,lazyHandlerPromise:n,lazyRoutePromise:s,handlerOverride:i,scopedContext:r}){let a,o,c=zr(e.method),u=c?"action":"loader",h=f=>{let g,m=new Promise((S,C)=>g=C);o=()=>g(),e.signal.addEventListener("abort",o);let y=S=>typeof f!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${t.route.id}]`)):f({request:e,params:t.params,context:r},...S!==void 0?[S]:[]),b=(async()=>{try{return{type:"data",result:await(i?i(C=>y(C)):y())}}catch(S){return{type:"error",result:S}}})();return Promise.race([b,m])};try{let f=c?t.route.action:t.route.loader;if(n||s)if(f){let g,[m]=await Promise.all([h(f).catch(y=>{g=y}),n,s]);if(g!==void 0)throw g;a=m}else{await n;let g=c?t.route.action:t.route.loader;if(g)[a]=await Promise.all([h(g),s]);else if(u==="action"){let m=new URL(e.url),y=m.pathname+m.search;throw Ka(405,{method:e.method,pathname:y,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(f)a=await h(f);else{let g=new URL(e.url),m=g.pathname+g.search;throw Ka(404,{pathname:m})}}catch(f){return{type:"error",result:f}}finally{o&&e.signal.removeEventListener("abort",o)}return a}async function nre(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function sre(e){let{result:t,type:n}=e;if(eV(t)){let s;try{s=await nre(t)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new HS(t.status,t.statusText,s),statusCode:t.status,headers:t.headers}:{type:"data",data:s,statusCode:t.status,headers:t.headers}}return n==="error"?wP(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new HS(t.init?.status||500,void 0,t.data),statusCode:hg(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:hg(t)?t.status:void 0}:wP(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function ire(e,t,n,s,i){let r=e.headers.get("Location");if(_t(r,"Redirects returned/thrown from loaders/actions must have a Location header"),!kk(r)){let a=s.slice(0,s.findIndex(o=>o.route.id===n)+1);r=mE(new URL(t.url),a,i,r),e.headers.set("Location",r)}return e}function yP(e,t,n){if(kk(e)){let s=e,i=s.startsWith("//")?new URL(t.protocol+s):new URL(s),r=Wr(i.pathname,n)!=null;if(i.origin===t.origin&&r)return i.pathname+i.search+i.hash}return e}function kp(e,t,n,s){let i=e.createURL(JB(t)).toString(),r={signal:n};if(s&&zr(s.formMethod)){let{formMethod:a,formEncType:o}=s;r.method=a.toUpperCase(),o==="application/json"?(r.headers=new Headers({"Content-Type":o}),r.body=JSON.stringify(s.json)):o==="text/plain"?r.body=s.text:o==="application/x-www-form-urlencoded"&&s.formData?r.body=bE(s.formData):r.body=s.formData}return new Request(i,r)}function bE(e){let t=new URLSearchParams;for(let[n,s]of e.entries())t.append(n,typeof s=="string"?s:s.name);return t}function xP(e){let t=new FormData;for(let[n,s]of e.entries())t.append(n,s);return t}function rre(e,t,n,s=!1,i=!1){let r={},a=null,o,c=!1,u={},h=n&&ua(n[1])?n[1].error:void 0;return e.forEach(f=>{if(!(f.route.id in t))return;let g=f.route.id,m=t[g];if(_t(!kh(m),"Cannot handle redirect results in processLoaderData"),ua(m)){let y=m.error;if(h!==void 0&&(y=h,h=void 0),a=a||{},i)a[g]=y;else{let b=Ku(e,g);a[b.route.id]==null&&(a[b.route.id]=y)}s||(r[g]=YB),c||(c=!0,o=hg(m.error)?m.error.status:500),m.headers&&(u[g]=m.headers)}else r[g]=m.data,m.statusCode&&m.statusCode!==200&&!c&&(o=m.statusCode),m.headers&&(u[g]=m.headers)}),h!==void 0&&n&&(a={[n[0]]:h},n[2]&&(r[n[2]]=void 0)),{loaderData:r,errors:a,statusCode:o||200,loaderHeaders:u}}function bP(e,t,n,s,i,r){let{loaderData:a,errors:o}=rre(t,n,s);return i.filter(c=>!c.matches||c.matches.some(u=>u.shouldLoad)).forEach(c=>{let{key:u,match:h,controller:f}=c;if(f&&f.signal.aborted)return;let g=r[u];if(_t(g,"Did not find corresponding fetcher result"),ua(g)){let m=Ku(e.matches,h?.route.id);o&&o[m.route.id]||(o={...o,[m.route.id]:g.error}),e.fetchers.delete(u)}else if(kh(g))_t(!1,"Unhandled fetcher revalidation redirect");else{let m=vc(g.data);e.fetchers.set(u,m)}}),{loaderData:a,errors:o}}function vP(e,t,n,s){let i=Object.entries(t).filter(([,r])=>r!==YB).reduce((r,[a,o])=>(r[a]=o,r),{});for(let r of n){let a=r.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&r.route.loader&&(i[a]=e[a]),s&&s.hasOwnProperty(a))break}return i}function SP(e){return e?ua(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ku(e,t){return(t?e.slice(0,e.findIndex(s=>s.route.id===t)+1):[...e]).reverse().find(s=>s.route.hasErrorBoundary===!0)||e[0]}function u1(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ka(e,{pathname:t,routeId:n,method:s,type:i,message:r}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return e===400?(a="Bad Request",s&&t&&n?o=`You made a ${s} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(o="Unable to encode submission body")):e===403?(a="Forbidden",o=`Route "${n}" does not match URL "${t}"`):e===404?(a="Not Found",o=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",s&&t&&n?o=`You made a ${s.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(o=`Invalid request method "${s.toUpperCase()}"`)),new HS(e||500,a,new Error(o),!0)}function d1(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[s,i]=t[n];if(kh(i))return{key:s,result:i}}}function JB(e){let t=typeof e=="string"?qc(e):e;return pd({...t,hash:""})}function are(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function ore(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&lre(n))}function lre(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function cre(e){return eV(e.result)&&Vie.has(e.result.status)}function ua(e){return e.type==="error"}function kh(e){return(e&&e.type)==="redirect"}function wP(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function eV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function ure(e){return Bie.has(e.toUpperCase())}function zr(e){return Fie.has(e.toUpperCase())}function Lk(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function sS(e,t){let n=typeof t=="string"?qc(t).search:t.search;if(e[e.length-1].route.index&&Lk(n||""))return e[e.length-1];let s=HB(e);return s[s.length-1]}function CP(e){let{formMethod:t,formAction:n,formEncType:s,text:i,formData:r,json:a}=e;if(!(!t||!n||!s)){if(i!=null)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:void 0,text:i};if(r!=null)return{formMethod:t,formAction:n,formEncType:s,formData:r,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:s,formData:void 0,json:a,text:void 0}}}function CN(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dre(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function py(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function hre(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function vc(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function fre(e,t){try{let n=e.sessionStorage.getItem(WB);if(n){let s=JSON.parse(n);for(let[i,r]of Object.entries(s||{}))r&&Array.isArray(r)&&t.set(i,new Set(r||[]))}}catch{}}function pre(e,t){if(t.size>0){let n={};for(let[s,i]of t)n[s]=[...i];try{e.sessionStorage.setItem(WB,JSON.stringify(n))}catch(s){bs(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function gre(){let e,t,n=new Promise((s,i)=>{e=async r=>{s(r);try{await n}catch{}},t=async r=>{i(r);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var Ad=w.createContext(null);Ad.displayName="DataRouter";var D0=w.createContext(null);D0.displayName="DataRouterState";w.createContext(!1);var Ok=w.createContext({isTransitioning:!1});Ok.displayName="ViewTransition";var tV=w.createContext(new Map);tV.displayName="Fetchers";var mre=w.createContext(null);mre.displayName="Await";var Ko=w.createContext(null);Ko.displayName="Navigation";var Bg=w.createContext(null);Bg.displayName="Location";var po=w.createContext({outlet:null,matches:[],isDataRoute:!1});po.displayName="Route";var Rk=w.createContext(null);Rk.displayName="RouteError";function yre(e,{relative:t}={}){_t(Vg(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=w.useContext(Ko),{hash:i,pathname:r,search:a}=k0(e,{relative:t}),o=r;return n!=="/"&&(o=r==="/"?n:Cl([n,r])),s.createHref({pathname:o,search:a,hash:i})}function Vg(){return w.useContext(Bg)!=null}function Rt(){return _t(Vg(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Bg).location}function xre(){return w.useContext(Bg).navigationType}var nV="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sV(e){w.useContext(Ko).static||w.useLayoutEffect(e)}function Qt(){let{isDataRoute:e}=w.useContext(po);return e?Ire():bre()}function bre(){_t(Vg(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Ad),{basename:t,navigator:n}=w.useContext(Ko),{matches:s}=w.useContext(po),{pathname:i}=Rt(),r=JSON.stringify(Jw(s)),a=w.useRef(!1);return sV(()=>{a.current=!0}),w.useCallback((c,u={})=>{if(bs(a.current,nV),!a.current)return;if(typeof c=="number"){n.go(c);return}let h=e2(c,JSON.parse(r),i,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Cl([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,r,i,e])}var iV=w.createContext(null);function vre(){return w.useContext(iV)}function Sre(e){let t=w.useContext(po).outlet;return w.useMemo(()=>t&&w.createElement(iV.Provider,{value:e},t),[t,e])}function He(){let{matches:e}=w.useContext(po),t=e[e.length-1];return t?t.params:{}}function k0(e,{relative:t}={}){let{matches:n}=w.useContext(po),{pathname:s}=Rt(),i=JSON.stringify(Jw(n));return w.useMemo(()=>e2(e,JSON.parse(i),s,t==="path"),[e,i,s,t])}function wre(e,t){return rV(e,t)}function rV(e,t,n,s,i){_t(Vg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=w.useContext(Ko),{matches:a}=w.useContext(po),o=a[a.length-1],c=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",f=o&&o.route;{let M=f&&f.path||"";cV(u,!f||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let g=Rt(),m;if(t){let M=typeof t=="string"?qc(t):t;_t(h==="/"||M.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${M.pathname}" was given in the \`location\` prop.`),m=M}else m=g;let y=m.pathname||"/",b=y;if(h!=="/"){let M=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(M.length).join("/")}let S=Ec(e,{pathname:b});bs(f||S!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),bs(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Are(S&&S.map(M=>Object.assign({},M,{params:Object.assign({},c,M.params),pathname:Cl([h,r.encodeLocation?r.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?h:Cl([h,r.encodeLocation?r.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),a,n,s,i);return t&&C?w.createElement(Bg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},C):C}function Cre(){let e=lV(),t=hg(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},r={padding:"2px 4px",backgroundColor:s},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:r},"ErrorBoundary")," or"," ",w.createElement("code",{style:r},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:i},n):null,a)}var Mre=w.createElement(Cre,null),jre=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(po.Provider,{value:this.props.routeContext},w.createElement(Rk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Nre({routeContext:e,match:t,children:n}){let s=w.useContext(Ad);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(po.Provider,{value:e},n)}function Are(e,t=[],n=null,s=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,a=n?.errors;if(a!=null){let u=r.findIndex(h=>h.route.id&&a?.[h.route.id]!==void 0);_t(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let o=!1,c=-1;if(n)for(let u=0;u<r.length;u++){let h=r[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:g}=n,m=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||m){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((u,h,f)=>{let g,m=!1,y=null,b=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||Mre,o&&(c<0&&f===0?(cV("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):c===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let S=t.concat(r.slice(0,f+1)),C=()=>{let M;return g?M=y:m?M=b:h.route.Component?M=w.createElement(h.route.Component,null):h.route.element?M=h.route.element:M=u,w.createElement(Nre,{match:h,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:M})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(jre,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:s}):C()},null)}function _k(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aV(e){let t=w.useContext(Ad);return _t(t,_k(e)),t}function oV(e){let t=w.useContext(D0);return _t(t,_k(e)),t}function Tre(e){let t=w.useContext(po);return _t(t,_k(e)),t}function Pk(e){let t=Tre(e),n=t.matches[t.matches.length-1];return _t(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Ere(){return Pk("useRouteId")}function lV(){let e=w.useContext(Rk),t=oV("useRouteError"),n=Pk("useRouteError");return e!==void 0?e:t.errors?.[n]}var Dre=0;function kre(e){let{router:t,basename:n}=aV("useBlocker"),s=oV("useBlocker"),[i,r]=w.useState(""),a=w.useCallback(o=>{if(typeof e!="function")return!!e;if(n==="/")return e(o);let{currentLocation:c,nextLocation:u,historyAction:h}=o;return e({currentLocation:{...c,pathname:Wr(c.pathname,n)||c.pathname},nextLocation:{...u,pathname:Wr(u.pathname,n)||u.pathname},historyAction:h})},[n,e]);return w.useEffect(()=>{let o=String(++Dre);return r(o),()=>t.deleteBlocker(o)},[t]),w.useEffect(()=>{i!==""&&t.getBlocker(i,a)},[t,i,a]),i&&s.blockers.has(i)?s.blockers.get(i):Dp}function Ire(){let{router:e}=aV("useNavigate"),t=Pk("useNavigate"),n=w.useRef(!1);return sV(()=>{n.current=!0}),w.useCallback(async(i,r={})=>{bs(n.current,nV),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...r}))},[e,t])}var MP={};function cV(e,t,n){!t&&!MP[e]&&(MP[e]=!0,bs(!1,n))}var jP={};function NP(e,t){!e&&!jP[t]&&(jP[t]=!0,console.warn(t))}function Lre(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&bs(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:w.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&bs(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:w.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&bs(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:w.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var Ore=["HydrateFallback","hydrateFallbackElement"],Rre=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function _re({router:e,flushSync:t,unstable_onError:n}){let[s,i]=w.useState(e.state),[r,a]=w.useState(),[o,c]=w.useState({isTransitioning:!1}),[u,h]=w.useState(),[f,g]=w.useState(),[m,y]=w.useState(),b=w.useRef(new Map),S=w.useCallback(E=>{i(k=>(E.errors&&n&&Object.entries(E.errors).forEach(([L,I])=>{k.errors?.[L]!==I&&n(I)}),E))},[n]),C=w.useCallback((E,{deletedFetchers:k,flushSync:L,viewTransitionOpts:I})=>{E.fetchers.forEach((F,G)=>{F.data!==void 0&&b.current.set(G,F.data)}),k.forEach(F=>b.current.delete(F)),NP(L===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let _=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(NP(I==null||_,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!I||!_){t&&L?t(()=>S(E)):w.startTransition(()=>S(E));return}if(t&&L){t(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let F=e.window.document.startViewTransition(()=>{t(()=>S(E))});F.finished.finally(()=>{t(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})})}),t(()=>g(F));return}f?(u&&u.resolve(),f.skipTransition(),y({state:E,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(a(E),c({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[e.window,t,f,u,S]);w.useLayoutEffect(()=>e.subscribe(C),[e,C]),w.useEffect(()=>{o.isTransitioning&&!o.flushSync&&h(new Rre)},[o]),w.useEffect(()=>{if(u&&r&&e.window){let E=r,k=u.promise,L=e.window.document.startViewTransition(async()=>{w.startTransition(()=>S(E)),await k});L.finished.finally(()=>{h(void 0),g(void 0),a(void 0),c({isTransitioning:!1})}),g(L)}},[r,u,e.window,S]),w.useEffect(()=>{u&&r&&s.location.key===r.location.key&&u.resolve()},[u,f,s.location,r]),w.useEffect(()=>{!o.isTransitioning&&m&&(a(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),y(void 0))},[o.isTransitioning,m]);let M=w.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:E=>e.navigate(E),push:(E,k,L)=>e.navigate(E,{state:k,preventScrollReset:L?.preventScrollReset}),replace:(E,k,L)=>e.navigate(E,{replace:!0,state:k,preventScrollReset:L?.preventScrollReset})}),[e]),N=e.basename||"/",T=w.useMemo(()=>({router:e,navigator:M,static:!1,basename:N,unstable_onError:n}),[e,M,N,n]);return w.createElement(w.Fragment,null,w.createElement(Ad.Provider,{value:T},w.createElement(D0.Provider,{value:s},w.createElement(tV.Provider,{value:b.current},w.createElement(Ok.Provider,{value:o},w.createElement(Fre,{basename:N,location:s.location,navigationType:s.historyAction,navigator:M},w.createElement(Pre,{routes:e.routes,future:e.future,state:s,unstable_onError:n})))))),null)}var Pre=w.memo(zre);function zre({routes:e,future:t,state:n,unstable_onError:s}){return rV(e,void 0,n,s,t)}function of({to:e,replace:t,state:n,relative:s}){_t(Vg(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=w.useContext(Ko);bs(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=w.useContext(po),{pathname:a}=Rt(),o=Qt(),c=e2(e,Jw(r),a,s==="path"),u=JSON.stringify(c);return w.useEffect(()=>{o(JSON.parse(u),{replace:t,state:n,relative:s})},[o,u,s,t,n]),null}function sd(e){return Sre(e.context)}function rn(e){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fre({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:i,static:r=!1}){_t(!Vg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),o=w.useMemo(()=>({basename:a,navigator:i,static:r,future:{}}),[a,i,r]);typeof n=="string"&&(n=qc(n));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:g="default"}=n,m=w.useMemo(()=>{let y=Wr(c,a);return y==null?null:{location:{pathname:y,search:u,hash:h,state:f,key:g},navigationType:s}},[a,c,u,h,f,g,s]);return bs(m!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:w.createElement(Ko.Provider,{value:o},w.createElement(Bg.Provider,{children:t,value:m}))}function Pc({children:e,location:t}){return wre(WS(e),t)}function WS(e,t=[]){let n=[];return w.Children.forEach(e,(s,i)=>{if(!w.isValidElement(s))return;let r=[...t,i];if(s.type===w.Fragment){n.push.apply(n,WS(s.props.children,r));return}_t(s.type===rn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let a={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=WS(s.props.children,r)),n.push(a)}),n}var iS="get",rS="application/x-www-form-urlencoded";function t2(e){return e!=null&&typeof e.tagName=="string"}function $re(e){return t2(e)&&e.tagName.toLowerCase()==="button"}function Bre(e){return t2(e)&&e.tagName.toLowerCase()==="form"}function Vre(e){return t2(e)&&e.tagName.toLowerCase()==="input"}function Ure(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Hre(e,t){return e.button===0&&(!t||t==="_self")&&!Ure(e)}function vE(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(i=>[n,i]):[[n,s]])},[]))}function Gre(e,t){let n=vE(e);return t&&t.forEach((s,i)=>{n.has(i)||t.getAll(i).forEach(r=>{n.append(i,r)})}),n}var h1=null;function Wre(){if(h1===null)try{new FormData(document.createElement("form"),0),h1=!1}catch{h1=!0}return h1}var Yre=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function MN(e){return e!=null&&!Yre.has(e)?(bs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rS}"`),null):e}function Kre(e,t){let n,s,i,r,a;if(Bre(e)){let o=e.getAttribute("action");s=o?Wr(o,t):null,n=e.getAttribute("method")||iS,i=MN(e.getAttribute("enctype"))||rS,r=new FormData(e)}else if($re(e)||Vre(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||o.getAttribute("action");if(s=c?Wr(c,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||iS,i=MN(e.getAttribute("formenctype"))||MN(o.getAttribute("enctype"))||rS,r=new FormData(o,e),!Wre()){let{name:u,type:h,value:f}=e;if(h==="image"){let g=u?`${u}.`:"";r.append(`${g}x`,"0"),r.append(`${g}y`,"0")}else u&&r.append(u,f)}}else{if(t2(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=iS,s=null,i=rS,a=e}return r&&i==="text/plain"&&(a=r,r=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:r,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zk(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qre(e,t,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Wr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Zre(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qre(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Xre(e,t,n){let s=await Promise.all(e.map(async i=>{let r=t.routes[i.route.id];if(r){let a=await Zre(r,n);return a.links?a.links():[]}return[]}));return nae(s.flat(1).filter(Qre).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function AP(e,t,n,s,i,r){let a=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,o=(c,u)=>n[u].pathname!==c.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==c.params["*"];return r==="assets"?t.filter((c,u)=>a(c,u)||o(c,u)):r==="data"?t.filter((c,u)=>{let h=s.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(a(c,u)||o(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Jre(e,t,{includeHydrateFallback:n}={}){return eae(e.map(s=>{let i=t.routes[s.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function eae(e){return[...new Set(e)]}function tae(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function nae(e,t){let n=new Set;return new Set(t),e.reduce((s,i)=>{let r=JSON.stringify(tae(i));return n.has(r)||(n.add(r),s.push({key:r,link:i})),s},[])}function uV(){let e=w.useContext(Ad);return zk(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function sae(){let e=w.useContext(D0);return zk(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Fk=w.createContext(void 0);Fk.displayName="FrameworkContext";function dV(){let e=w.useContext(Fk);return zk(e,"You must render this element inside a <HydratedRouter> element"),e}function iae(e,t){let n=w.useContext(Fk),[s,i]=w.useState(!1),[r,a]=w.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:f}=t,g=w.useRef(null);w.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let b=C=>{C.forEach(M=>{a(M.isIntersecting)})},S=new IntersectionObserver(b,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[e]),w.useEffect(()=>{if(s){let b=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(b)}}},[s]);let m=()=>{i(!0)},y=()=>{i(!1),a(!1)};return n?e!=="intent"?[r,g,{}]:[r,g,{onFocus:gy(o,m),onBlur:gy(c,y),onMouseEnter:gy(u,m),onMouseLeave:gy(h,y),onTouchStart:gy(f,m)}]:[!1,g,{}]}function gy(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function rae({page:e,...t}){let{router:n}=uV(),s=w.useMemo(()=>Ec(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?w.createElement(oae,{page:e,matches:s,...t}):null}function aae(e){let{manifest:t,routeModules:n}=dV(),[s,i]=w.useState([]);return w.useEffect(()=>{let r=!1;return Xre(e,t,n).then(a=>{r||i(a)}),()=>{r=!0}},[e,t,n]),s}function oae({page:e,matches:t,...n}){let s=Rt(),{manifest:i,routeModules:r}=dV(),{basename:a}=uV(),{loaderData:o,matches:c}=sae(),u=w.useMemo(()=>AP(e,t,c,i,s,"data"),[e,t,c,i,s]),h=w.useMemo(()=>AP(e,t,c,i,s,"assets"),[e,t,c,i,s]),f=w.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let y=new Set,b=!1;if(t.forEach(C=>{let M=i.routes[C.route.id];!M||!M.hasLoader||(!u.some(N=>N.route.id===C.route.id)&&C.route.id in o&&r[C.route.id]?.shouldRevalidate||M.hasClientLoader?b=!0:y.add(C.route.id))}),y.size===0)return[];let S=qre(e,a,"data");return b&&y.size>0&&S.searchParams.set("_routes",t.filter(C=>y.has(C.route.id)).map(C=>C.route.id).join(",")),[S.pathname+S.search]},[a,o,s,i,u,t,e,r]),g=w.useMemo(()=>Jre(h,i),[h,i]),m=aae(h);return w.createElement(w.Fragment,null,f.map(y=>w.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...n})),g.map(y=>w.createElement("link",{key:y,rel:"modulepreload",href:y,...n})),m.map(({key:y,link:b})=>w.createElement("link",{key:y,nonce:n.nonce,...b})))}function lae(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var hV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hV&&(window.__reactRouterVersion="7.9.4")}catch{}function cae(e,t){return Yie({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:die({window:t?.window}),hydrationData:uae(),routes:e,mapRouteProperties:Lre,hydrationRouteProperties:Ore,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window}).initialize()}function uae(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:dae(e.errors)}),e}function dae(e){if(!e)return null;let t=Object.entries(e),n={};for(let[s,i]of t)if(i&&i.__type==="RouteErrorResponse")n[s]=new HS(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let r=window[i.__subType];if(typeof r=="function")try{let a=new r(i.message);a.stack="",n[s]=a}catch{}}if(n[s]==null){let r=new Error(i.message);r.stack="",n[s]=r}}else n[s]=i;return n}var fV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Td=w.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:i,reloadDocument:r,replace:a,state:o,target:c,to:u,preventScrollReset:h,viewTransition:f,...g},m){let{basename:y}=w.useContext(Ko),b=typeof u=="string"&&fV.test(u),S,C=!1;if(typeof u=="string"&&b&&(S=u,hV))try{let _=new URL(window.location.href),F=u.startsWith("//")?new URL(_.protocol+u):new URL(u),G=Wr(F.pathname,y);F.origin===_.origin&&G!=null?u=G+F.search+F.hash:C=!0}catch{bs(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=yre(u,{relative:i}),[N,T,E]=iae(s,g),k=pae(u,{replace:a,state:o,target:c,preventScrollReset:h,relative:i,viewTransition:f});function L(_){t&&t(_),_.defaultPrevented||k(_)}let I=w.createElement("a",{...g,...E,href:S||M,onClick:C||r?t:L,ref:lae(m,T),target:c,"data-discover":!b&&n==="render"?"true":void 0});return N&&!b?w.createElement(w.Fragment,null,I,w.createElement(rae,{page:M})):I});Td.displayName="Link";var pV=w.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:i=!1,style:r,to:a,viewTransition:o,children:c,...u},h){let f=k0(a,{relative:u.relative}),g=Rt(),m=w.useContext(D0),{navigator:y,basename:b}=w.useContext(Ko),S=m!=null&&bae(f)&&o===!0,C=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,M=g.pathname,N=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(M=M.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&b&&(N=Wr(N,b)||N);const T=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let E=M===C||!i&&M.startsWith(C)&&M.charAt(T)==="/",k=N!=null&&(N===C||!i&&N.startsWith(C)&&N.charAt(C.length)==="/"),L={isActive:E,isPending:k,isTransitioning:S},I=E?t:void 0,_;typeof s=="function"?_=s(L):_=[s,E?"active":null,k?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let F=typeof r=="function"?r(L):r;return w.createElement(Td,{...u,"aria-current":I,className:_,ref:h,style:F,to:a,viewTransition:o},typeof c=="function"?c(L):c)});pV.displayName="NavLink";var hae=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:i,state:r,method:a=iS,action:o,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:f,...g},m)=>{let y=yae(),b=xae(o,{relative:u}),S=a.toLowerCase()==="get"?"get":"post",C=typeof o=="string"&&fV.test(o),M=N=>{if(c&&c(N),N.defaultPrevented)return;N.preventDefault();let T=N.nativeEvent.submitter,E=T?.getAttribute("formmethod")||a;y(T||N.currentTarget,{fetcherKey:t,method:E,navigate:n,replace:i,state:r,relative:u,preventScrollReset:h,viewTransition:f})};return w.createElement("form",{ref:m,method:S,action:b,onSubmit:s?c:M,...g,"data-discover":!C&&e==="render"?"true":void 0})});hae.displayName="Form";function fae(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gV(e){let t=w.useContext(Ad);return _t(t,fae(e)),t}function pae(e,{target:t,replace:n,state:s,preventScrollReset:i,relative:r,viewTransition:a}={}){let o=Qt(),c=Rt(),u=k0(e,{relative:r});return w.useCallback(h=>{if(Hre(h,t)){h.preventDefault();let f=n!==void 0?n:pd(c)===pd(u);o(e,{replace:f,state:s,preventScrollReset:i,relative:r,viewTransition:a})}},[c,o,u,n,s,t,e,i,r,a])}function Ni(e){bs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=w.useRef(vE(e)),n=w.useRef(!1),s=Rt(),i=w.useMemo(()=>Gre(s.search,n.current?null:t.current),[s.search]),r=Qt(),a=w.useCallback((o,c)=>{const u=vE(typeof o=="function"?o(new URLSearchParams(i)):o);n.current=!0,r("?"+u,c)},[r,i]);return[i,a]}var gae=0,mae=()=>`__${String(++gae)}__`;function yae(){let{router:e}=gV("useSubmit"),{basename:t}=w.useContext(Ko),n=Ere();return w.useCallback(async(s,i={})=>{let{action:r,method:a,encType:o,formData:c,body:u}=Kre(s,t);if(i.navigate===!1){let h=i.fetcherKey||mae();await e.fetch(h,n,i.action||r,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||r,{preventScrollReset:i.preventScrollReset,formData:c,body:u,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function xae(e,{relative:t}={}){let{basename:n}=w.useContext(Ko),s=w.useContext(po);_t(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),r={...k0(e||".",{relative:t})},a=Rt();if(e==null){r.search=a.search;let o=new URLSearchParams(r.search),c=o.getAll("index");if(c.some(h=>h==="")){o.delete("index"),c.filter(f=>f).forEach(f=>o.append("index",f));let h=o.toString();r.search=h?`?${h}`:""}}return(!e||e===".")&&i.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(r.pathname=r.pathname==="/"?n:Cl([n,r.pathname])),pd(r)}function bae(e,{relative:t}={}){let n=w.useContext(Ok);_t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=gV("useViewTransitionState"),i=k0(e,{relative:t});if(!n.isTransitioning)return!1;let r=Wr(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=Wr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return US(i.pathname,a)!=null||US(i.pathname,r)!=null}const mV=w.createContext(void 0);function vae({title:e,onChange:t,updateParent:n,resetHeight:s}){const i=w.useRef(0);function r(u){const h=u.reduceRight((f,g)=>g(f),"");document?.title!==h&&(document.title=h),t?.(h)}function a(u){const h=u.concat([e]);n?n(h):i.current<=h.length&&(i.current=h.length,r(h))}function o(){i.current=0,s?.()}function c(){n?n([e]):i.current<=1&&r([e])}return w.useEffect(()=>(c(),o)),{updateParent:a,resetHeight:o}}var Sae=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};function wae(e){var{children:t}=e,n=Sae(e,["children"]);const s=vae(n);return w.createElement(mV.Provider,{value:s},t)}var Cae=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const yV=e=>{var{title:t}=e,n=Cae(e,["title"]);return w.createElement(mV.Consumer,null,s=>w.createElement(wae,Object.assign({title:typeof t=="string"?()=>t:t},n,{resetHeight:s?.resetHeight,updateParent:s?.updateParent})))};let Mae={data:""},jae=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Mae},Nae=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Aae=/\/\*[^]*?\*\/|  +/g,TP=/\n+/g,qu=(e,t)=>{let n="",s="",i="";for(let r in e){let a=e[r];r[0]=="@"?r[1]=="i"?n=r+" "+a+";":s+=r[1]=="f"?qu(a,r):r+"{"+qu(a,r[1]=="k"?"":t)+"}":typeof a=="object"?s+=qu(a,t?t.replace(/([^,])+/g,o=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):r):a!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=qu.p?qu.p(r,a):r+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+s},mc={},xV=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+xV(e[n]);return t}return e},Tae=(e,t,n,s,i)=>{let r=xV(e),a=mc[r]||(mc[r]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(r));if(!mc[a]){let c=r!==e?e:(u=>{let h,f,g=[{}];for(;h=Nae.exec(u.replace(Aae,""));)h[4]?g.shift():h[3]?(f=h[3].replace(TP," ").trim(),g.unshift(g[0][f]=g[0][f]||{})):g[0][h[1]]=h[2].replace(TP," ").trim();return g[0]})(e);mc[a]=qu(i?{["@keyframes "+a]:c}:c,n?"":"."+a)}let o=n&&mc.g?mc.g:null;return n&&(mc.g=mc[a]),((c,u,h,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(mc[a],t,s,o),a},Eae=(e,t,n)=>e.reduce((s,i,r)=>{let a=t[r];if(a&&a.call){let o=a(n),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=c?"."+c:o&&typeof o=="object"?o.props?"":qu(o,""):o===!1?"":o}return s+i+(a??"")},"");function n2(e){let t=this||{},n=e.call?e(t.p):e;return Tae(n.unshift?n.raw?Eae(n,[].slice.call(arguments,1),t.p):n.reduce((s,i)=>Object.assign(s,i&&i.call?i(t.p):i),{}):n,jae(t.target),t.g,t.o,t.k)}let bV,SE,wE;n2.bind({g:1});let zc=n2.bind({k:1});function Dae(e,t,n,s){qu.p=t,bV=e,SE=n,wE=s}function Ed(e,t){let n=this||{};return function(){let s=arguments;function i(r,a){let o=Object.assign({},r),c=o.className||i.className;n.p=Object.assign({theme:SE&&SE()},o),n.o=/ *go\d+/.test(c),o.className=n2.apply(n,s)+(c?" "+c:"");let u=e;return e[0]&&(u=o.as||e,delete o.as),wE&&u[0]&&wE(o),bV(u,o)}return i}}var kae=e=>typeof e=="function",YS=(e,t)=>kae(e)?e(t):e,Iae=(()=>{let e=0;return()=>(++e).toString()})(),vV=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Lae=20,$k="default",SV=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:s}=t;return SV(e,{type:e.toasts.find(a=>a.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let r=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+r}))}}},aS=[],wV={toasts:[],pausedAt:void 0,settings:{toastLimit:Lae}},xl={},CV=(e,t=$k)=>{xl[t]=SV(xl[t]||wV,e),aS.forEach(([n,s])=>{n===t&&s(xl[t])})},MV=e=>Object.keys(xl).forEach(t=>CV(e,t)),Oae=e=>Object.keys(xl).find(t=>xl[t].toasts.some(n=>n.id===e)),s2=(e=$k)=>t=>{CV(t,e)},Rae={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},_ae=(e={},t=$k)=>{let[n,s]=w.useState(xl[t]||wV),i=w.useRef(xl[t]);w.useEffect(()=>(i.current!==xl[t]&&s(xl[t]),aS.push([t,s]),()=>{let a=aS.findIndex(([o])=>o===t);a>-1&&aS.splice(a,1)}),[t]);let r=n.toasts.map(a=>{var o,c,u;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((o=e[a.type])==null?void 0:o.removeDelay)||e?.removeDelay,duration:a.duration||((c=e[a.type])==null?void 0:c.duration)||e?.duration||Rae[a.type],style:{...e.style,...(u=e[a.type])==null?void 0:u.style,...a.style}}});return{...n,toasts:r}},Pae=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||Iae()}),I0=e=>(t,n)=>{let s=Pae(t,e,n);return s2(s.toasterId||Oae(s.id))({type:2,toast:s}),s.id},ln=(e,t)=>I0("blank")(e,t);ln.error=I0("error");ln.success=I0("success");ln.loading=I0("loading");ln.custom=I0("custom");ln.dismiss=(e,t)=>{let n={type:3,toastId:e};t?s2(t)(n):MV(n)};ln.dismissAll=e=>ln.dismiss(void 0,e);ln.remove=(e,t)=>{let n={type:4,toastId:e};t?s2(t)(n):MV(n)};ln.removeAll=e=>ln.remove(void 0,e);ln.promise=(e,t,n)=>{let s=ln.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let r=t.success?YS(t.success,i):void 0;return r?ln.success(r,{id:s,...n,...n?.success}):ln.dismiss(s),i}).catch(i=>{let r=t.error?YS(t.error,i):void 0;r?ln.error(r,{id:s,...n,...n?.error}):ln.dismiss(s)}),e};var zae=1e3,Fae=(e,t="default")=>{let{toasts:n,pausedAt:s}=_ae(e,t),i=w.useRef(new Map).current,r=w.useCallback((f,g=zae)=>{if(i.has(f))return;let m=setTimeout(()=>{i.delete(f),a({type:4,toastId:f})},g);i.set(f,m)},[]);w.useEffect(()=>{if(s)return;let f=Date.now(),g=n.map(m=>{if(m.duration===1/0)return;let y=(m.duration||0)+m.pauseDuration-(f-m.createdAt);if(y<0){m.visible&&ln.dismiss(m.id);return}return setTimeout(()=>ln.dismiss(m.id,t),y)});return()=>{g.forEach(m=>m&&clearTimeout(m))}},[n,s,t]);let a=w.useCallback(s2(t),[t]),o=w.useCallback(()=>{a({type:5,time:Date.now()})},[a]),c=w.useCallback((f,g)=>{a({type:1,toast:{id:f,height:g}})},[a]),u=w.useCallback(()=>{s&&a({type:6,time:Date.now()})},[s,a]),h=w.useCallback((f,g)=>{let{reverseOrder:m=!1,gutter:y=8,defaultPosition:b}=g||{},S=n.filter(N=>(N.position||b)===(f.position||b)&&N.height),C=S.findIndex(N=>N.id===f.id),M=S.filter((N,T)=>T<C&&N.visible).length;return S.filter(N=>N.visible).slice(...m?[M+1]:[0,M]).reduce((N,T)=>N+(T.height||0)+y,0)},[n]);return w.useEffect(()=>{n.forEach(f=>{if(f.dismissed)r(f.id,f.removeDelay);else{let g=i.get(f.id);g&&(clearTimeout(g),i.delete(f.id))}})},[n,r]),{toasts:n,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:h}}},$ae=zc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Bae=zc`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Vae=zc`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Uae=Ed("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$ae} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Bae} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Vae} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Hae=zc`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Gae=Ed("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Hae} 1s linear infinite;
`,Wae=zc`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Yae=zc`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Kae=Ed("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Wae} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Yae} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,qae=Ed("div")`
  position: absolute;
`,Zae=Ed("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Qae=zc`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Xae=Ed("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Qae} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Jae=({toast:e})=>{let{icon:t,type:n,iconTheme:s}=e;return t!==void 0?typeof t=="string"?w.createElement(Xae,null,t):t:n==="blank"?null:w.createElement(Zae,null,w.createElement(Gae,{...s}),n!=="loading"&&w.createElement(qae,null,n==="error"?w.createElement(Uae,{...s}):w.createElement(Kae,{...s})))},eoe=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,toe=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,noe="0%{opacity:0;} 100%{opacity:1;}",soe="0%{opacity:1;} 100%{opacity:0;}",ioe=Ed("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,roe=Ed("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,aoe=(e,t)=>{let n=e.includes("top")?1:-1,[s,i]=vV()?[noe,soe]:[eoe(n),toe(n)];return{animation:t?`${zc(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${zc(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ooe=w.memo(({toast:e,position:t,style:n,children:s})=>{let i=e.height?aoe(e.position||t||"top-center",e.visible):{opacity:0},r=w.createElement(Jae,{toast:e}),a=w.createElement(roe,{...e.ariaProps},YS(e.message,e));return w.createElement(ioe,{className:e.className,style:{...i,...n,...e.style}},typeof s=="function"?s({icon:r,message:a}):w.createElement(w.Fragment,null,r,a))});Dae(w.createElement);var loe=({id:e,className:t,style:n,onHeightUpdate:s,children:i})=>{let r=w.useCallback(a=>{if(a){let o=()=>{let c=a.getBoundingClientRect().height;s(e,c)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return w.createElement("div",{ref:r,className:t,style:n},i)},coe=(e,t)=>{let n=e.includes("top"),s=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vV()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...s,...i}},uoe=n2`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,f1=16,doe=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:s,children:i,toasterId:r,containerStyle:a,containerClassName:o})=>{let{toasts:c,handlers:u}=Fae(n,r);return w.createElement("div",{"data-rht-toaster":r||"",style:{position:"fixed",zIndex:9999,top:f1,left:f1,right:f1,bottom:f1,pointerEvents:"none",...a},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(h=>{let f=h.position||t,g=u.calculateOffset(h,{reverseOrder:e,gutter:s,defaultPosition:t}),m=coe(f,g);return w.createElement(loe,{id:h.id,key:h.id,onHeightUpdate:u.updateHeight,className:h.visible?uoe:"",style:m},h.type==="custom"?YS(h.message,h):i?i(h):w.createElement(ooe,{toast:h,position:f}))}))},Tt=ln,jN={},NN={},AN={},EP;function hoe(){return EP||(EP=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];if(typeof window<"u"){var o;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(o=window).gtag.apply(o,r)}},n=t;e.default=n})(AN)),AN}var TN={},DP;function foe(){return DP||(DP=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var t=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(o){return o.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(c,u,h){return u>0&&u+c.length!==h.length&&c.search(t)>-1&&h.charAt(u-2)!==":"&&(h.charAt(u+c.length)!=="-"||h.charAt(u-1)==="-")&&h.charAt(u-1).search(/[^\s-]/)<0?c.toLowerCase():c.substr(1).search(/[A-Z]|\../)>-1?c:c.charAt(0).toUpperCase()+c.substr(1)})}function s(o){return typeof o=="string"&&o.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function r(o){return s(o)?(console.warn("This arg looks like an email address, redacting."),i):o}function a(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,h=o||"";return c&&(h=n(o)),u&&(h=r(h)),h}})(TN)),TN}var kP;function poe(){return kP||(kP=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GA4=void 0;var t=a(hoe()),n=a(foe()),s=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],r=["page","hitType"];function a(z){return z&&z.__esModule?z:{default:z}}function o(z,$){if(z==null)return{};var P=c(z,$),B,Y;if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(z);for(Y=0;Y<K.length;Y++)B=K[Y],!($.indexOf(B)>=0)&&Object.prototype.propertyIsEnumerable.call(z,B)&&(P[B]=z[B])}return P}function c(z,$){if(z==null)return{};var P={},B=Object.keys(z),Y,K;for(K=0;K<B.length;K++)Y=B[K],!($.indexOf(Y)>=0)&&(P[Y]=z[Y]);return P}function u(z){"@babel/helpers - typeof";return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},u(z)}function h(z){return m(z)||g(z)||M(z)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(z){if(typeof Symbol<"u"&&z[Symbol.iterator]!=null||z["@@iterator"]!=null)return Array.from(z)}function m(z){if(Array.isArray(z))return N(z)}function y(z,$){var P=Object.keys(z);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(z);$&&(B=B.filter(function(Y){return Object.getOwnPropertyDescriptor(z,Y).enumerable})),P.push.apply(P,B)}return P}function b(z){for(var $=1;$<arguments.length;$++){var P=arguments[$]!=null?arguments[$]:{};$%2?y(Object(P),!0).forEach(function(B){_(z,B,P[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(P)):y(Object(P)).forEach(function(B){Object.defineProperty(z,B,Object.getOwnPropertyDescriptor(P,B))})}return z}function S(z,$){return E(z)||T(z,$)||M(z,$)||C()}function C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(z,$){if(z){if(typeof z=="string")return N(z,$);var P=Object.prototype.toString.call(z).slice(8,-1);if(P==="Object"&&z.constructor&&(P=z.constructor.name),P==="Map"||P==="Set")return Array.from(z);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return N(z,$)}}function N(z,$){($==null||$>z.length)&&($=z.length);for(var P=0,B=new Array($);P<$;P++)B[P]=z[P];return B}function T(z,$){var P=z==null?null:typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(P!=null){var B,Y,K,te,se=[],fe=!0,oe=!1;try{if(K=(P=P.call(z)).next,$!==0)for(;!(fe=(B=K.call(P)).done)&&(se.push(B.value),se.length!==$);fe=!0);}catch(Ee){oe=!0,Y=Ee}finally{try{if(!fe&&P.return!=null&&(te=P.return(),Object(te)!==te))return}finally{if(oe)throw Y}}return se}}function E(z){if(Array.isArray(z))return z}function k(z,$){if(!(z instanceof $))throw new TypeError("Cannot call a class as a function")}function L(z,$){for(var P=0;P<$.length;P++){var B=$[P];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(z,F(B.key),B)}}function I(z,$,P){return $&&L(z.prototype,$),Object.defineProperty(z,"prototype",{writable:!1}),z}function _(z,$,P){return $=F($),$ in z?Object.defineProperty(z,$,{value:P,enumerable:!0,configurable:!0,writable:!0}):z[$]=P,z}function F(z){var $=G(z,"string");return u($)==="symbol"?$:String($)}function G(z,$){if(u(z)!=="object"||z===null)return z;var P=z[Symbol.toPrimitive];if(P!==void 0){var B=P.call(z,$);if(u(B)!=="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(z)}var U=(function(){function z(){var $=this;k(this,z),_(this,"reset",function(){$.isInitialized=!1,$._testMode=!1,$._currentMeasurementId,$._hasLoadedGA=!1,$._isQueuing=!1,$._queueGtag=[]}),_(this,"_gtag",function(){for(var P=arguments.length,B=new Array(P),Y=0;Y<P;Y++)B[Y]=arguments[Y];$._testMode||$._isQueuing?$._queueGtag.push(B):t.default.apply(void 0,B)}),_(this,"_loadGA",function(P,B){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!$._hasLoadedGA){var K=document.createElement("script");K.async=!0,K.src="".concat(Y,"?id=").concat(P),B&&K.setAttribute("nonce",B),document.body.appendChild(K),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},$._hasLoadedGA=!0}}),_(this,"_toGtagOptions",function(P){if(P){var B={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},Y=Object.entries(P).reduce(function(K,te){var se=S(te,2),fe=se[0],oe=se[1];return B[fe]?K[B[fe]]=oe:K[fe]=oe,K},{});return Y}}),_(this,"initialize",function(P){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!P)throw new Error("Require GA_MEASUREMENT_ID");var Y=typeof P=="string"?[{trackingId:P}]:P;$._currentMeasurementId=Y[0].trackingId;var K=B.gaOptions,te=B.gtagOptions,se=B.nonce,fe=B.testMode,oe=fe===void 0?!1:fe,Ee=B.gtagUrl;if($._testMode=oe,oe||$._loadGA($._currentMeasurementId,se,Ee),$.isInitialized||($._gtag("js",new Date),Y.forEach(function(me){var be=b(b(b({},$._toGtagOptions(b(b({},K),me.gaOptions))),te),me.gtagOptions);Object.keys(be).length?$._gtag("config",me.trackingId,be):$._gtag("config",me.trackingId)})),$.isInitialized=!0,!oe){var ye=h($._queueGtag);for($._queueGtag=[],$._isQueuing=!1;ye.length;){var je=ye.shift();$._gtag.apply($,h(je)),je[0]==="get"&&($._isQueuing=!0)}}}),_(this,"set",function(P){if(!P){console.warn("`fieldsObject` is required in .set()");return}if(u(P)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(P).length===0&&console.warn("empty `fieldsObject` given to .set()"),$._gaCommand("set",P)}),_(this,"_gaCommandSendEvent",function(P,B,Y,K,te){$._gtag("event",B,b(b({event_category:P,event_label:Y,value:K},te&&{non_interaction:te.nonInteraction}),$._toGtagOptions(te)))}),_(this,"_gaCommandSendEventParameters",function(){for(var P=arguments.length,B=new Array(P),Y=0;Y<P;Y++)B[Y]=arguments[Y];if(typeof B[0]=="string")$._gaCommandSendEvent.apply($,h(B.slice(1)));else{var K=B[0],te=K.eventCategory,se=K.eventAction,fe=K.eventLabel,oe=K.eventValue;K.hitType;var Ee=o(K,s);$._gaCommandSendEvent(te,se,fe,oe,Ee)}}),_(this,"_gaCommandSendTiming",function(P,B,Y,K){$._gtag("event","timing_complete",{name:B,value:Y,event_category:P,event_label:K})}),_(this,"_gaCommandSendPageview",function(P,B){if(B&&Object.keys(B).length){var Y=$._toGtagOptions(B),K=Y.title,te=Y.location,se=o(Y,i);$._gtag("event","page_view",b(b(b(b({},P&&{page_path:P}),K&&{page_title:K}),te&&{page_location:te}),se))}else P?$._gtag("event","page_view",{page_path:P}):$._gtag("event","page_view")}),_(this,"_gaCommandSendPageviewParameters",function(){for(var P=arguments.length,B=new Array(P),Y=0;Y<P;Y++)B[Y]=arguments[Y];if(typeof B[0]=="string")$._gaCommandSendPageview.apply($,h(B.slice(1)));else{var K=B[0],te=K.page;K.hitType;var se=o(K,r);$._gaCommandSendPageview(te,se)}}),_(this,"_gaCommandSend",function(){for(var P=arguments.length,B=new Array(P),Y=0;Y<P;Y++)B[Y]=arguments[Y];var K=typeof B[0]=="string"?B[0]:B[0].hitType;switch(K){case"event":$._gaCommandSendEventParameters.apply($,B);break;case"pageview":$._gaCommandSendPageviewParameters.apply($,B);break;case"timing":$._gaCommandSendTiming.apply($,h(B.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(K));break;default:console.warn("Send command doesn't exist: ".concat(K))}}),_(this,"_gaCommandSet",function(){for(var P=arguments.length,B=new Array(P),Y=0;Y<P;Y++)B[Y]=arguments[Y];typeof B[0]=="string"&&(B[0]=_({},B[0],B[1])),$._gtag("set",$._toGtagOptions(B[0]))}),_(this,"_gaCommand",function(P){for(var B=arguments.length,Y=new Array(B>1?B-1:0),K=1;K<B;K++)Y[K-1]=arguments[K];switch(P){case"send":$._gaCommandSend.apply($,Y);break;case"set":$._gaCommandSet.apply($,Y);break;default:console.warn("Command doesn't exist: ".concat(P))}}),_(this,"ga",function(){for(var P=arguments.length,B=new Array(P),Y=0;Y<P;Y++)B[Y]=arguments[Y];if(typeof B[0]=="string")$._gaCommand.apply($,B);else{var K=B[0];$._gtag("get",$._currentMeasurementId,"client_id",function(te){$._isQueuing=!1;var se=$._queueGtag;for(K({get:function(Ee){return Ee==="clientId"?te:Ee==="trackingId"?$._currentMeasurementId:Ee==="apiVersion"?"1":void 0}});se.length;){var fe=se.shift();$._gtag.apply($,h(fe))}}),$._isQueuing=!0}return $.ga}),_(this,"event",function(P,B){if(typeof P=="string")$._gtag("event",P,$._toGtagOptions(B));else{var Y=P.action,K=P.category,te=P.label,se=P.value,fe=P.nonInteraction,oe=P.transport;if(!K||!Y){console.warn("args.category AND args.action are required in event()");return}var Ee={hitType:"event",eventCategory:(0,n.default)(K),eventAction:(0,n.default)(Y)};te&&(Ee.eventLabel=(0,n.default)(te)),typeof se<"u"&&(typeof se!="number"?console.warn("Expected `args.value` arg to be a Number."):Ee.eventValue=se),typeof fe<"u"&&(typeof fe!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):Ee.nonInteraction=fe),typeof oe<"u"&&(typeof oe!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(oe)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),Ee.transport=oe)),$._gaCommand("send",Ee)}}),_(this,"send",function(P){$._gaCommand("send",P)}),this.reset()}return I(z,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),z})();e.GA4=U;var H=new U;e.default=H})(NN)),NN}var IP;function goe(){return IP||(IP=1,(function(e){function t(o){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},t(o)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ReactGAImplementation=void 0;var n=i(poe());function s(o){if(typeof WeakMap!="function")return null;var c=new WeakMap,u=new WeakMap;return(s=function(f){return f?u:c})(o)}function i(o,c){if(o&&o.__esModule)return o;if(o===null||t(o)!=="object"&&typeof o!="function")return{default:o};var u=s(c);if(u&&u.has(o))return u.get(o);var h={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in o)if(g!=="default"&&Object.prototype.hasOwnProperty.call(o,g)){var m=f?Object.getOwnPropertyDescriptor(o,g):null;m&&(m.get||m.set)?Object.defineProperty(h,g,m):h[g]=o[g]}return h.default=o,u&&u.set(o,h),h}var r=n.GA4;e.ReactGAImplementation=r;var a=n.default;e.default=a})(jN)),jN}var moe=goe();const Gp=$g(moe),St=Xe.createContext({});function yoe({iconProps:e,children:t}){return Xe.createElement(St.Provider,{value:e||{},children:t})}var xoe=Object.defineProperty,LP=Object.getOwnPropertySymbols,boe=Object.prototype.hasOwnProperty,voe=Object.prototype.propertyIsEnumerable,OP=(e,t,n)=>t in e?xoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,EN=(e,t)=>{for(var n in t||(t={}))boe.call(t,n)&&OP(e,n,t[n]);if(LP)for(var n of LP(t))voe.call(t,n)&&OP(e,n,t[n]);return e};const Soe=(e,t)=>{const n=w.useContext(St),s=EN(EN({},n),e);return w.createElement("svg",EN({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M3 10L17 10",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M3 6H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M3 18L17 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M3 14H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},woe=w.forwardRef(Soe);var Coe=woe,Moe=Object.defineProperty,RP=Object.getOwnPropertySymbols,joe=Object.prototype.hasOwnProperty,Noe=Object.prototype.propertyIsEnumerable,_P=(e,t,n)=>t in e?Moe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,DN=(e,t)=>{for(var n in t||(t={}))joe.call(t,n)&&_P(e,n,t[n]);if(RP)for(var n of RP(t))Noe.call(t,n)&&_P(e,n,t[n]);return e};const Aoe=(e,t)=>{const n=w.useContext(St),s=DN(DN({},n),e);return w.createElement("svg",DN({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M17.5 8C17.5 8 19 9.5 19 12C19 14.5 17.5 16 17.5 16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M20.5 5C20.5 5 23 7.5 23 12C23 16.5 20.5 19 20.5 19",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M6.5 8C6.5 8 5 9.5 5 12C5 14.5 6.5 16 6.5 16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M3.5 5C3.5 5 1 7.5 1 12C1 16.5 3.5 19 3.5 19",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Toe=w.forwardRef(Aoe);var Bk=Toe,Eoe=Object.defineProperty,PP=Object.getOwnPropertySymbols,Doe=Object.prototype.hasOwnProperty,koe=Object.prototype.propertyIsEnumerable,zP=(e,t,n)=>t in e?Eoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,kN=(e,t)=>{for(var n in t||(t={}))Doe.call(t,n)&&zP(e,n,t[n]);if(PP)for(var n of PP(t))koe.call(t,n)&&zP(e,n,t[n]);return e};const Ioe=(e,t)=>{const n=w.useContext(St),s=kN(kN({},n),e);return w.createElement("svg",kN({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M12 3L12 21M12 21L20.5 12.5M12 21L3.5 12.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Loe=w.forwardRef(Ioe);var KS=Loe,Ooe=Object.defineProperty,FP=Object.getOwnPropertySymbols,Roe=Object.prototype.hasOwnProperty,_oe=Object.prototype.propertyIsEnumerable,$P=(e,t,n)=>t in e?Ooe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,IN=(e,t)=>{for(var n in t||(t={}))Roe.call(t,n)&&$P(e,n,t[n]);if(FP)for(var n of FP(t))_oe.call(t,n)&&$P(e,n,t[n]);return e};const Poe=(e,t)=>{const n=w.useContext(St),s=IN(IN({},n),e);return w.createElement("svg",IN({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M21 12L3 12M3 12L11.5 3.5M3 12L11.5 20.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},zoe=w.forwardRef(Poe);var jV=zoe,Foe=Object.defineProperty,BP=Object.getOwnPropertySymbols,$oe=Object.prototype.hasOwnProperty,Boe=Object.prototype.propertyIsEnumerable,VP=(e,t,n)=>t in e?Foe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LN=(e,t)=>{for(var n in t||(t={}))$oe.call(t,n)&&VP(e,n,t[n]);if(BP)for(var n of BP(t))Boe.call(t,n)&&VP(e,n,t[n]);return e};const Voe=(e,t)=>{const n=w.useContext(St),s=LN(LN({},n),e);return w.createElement("svg",LN({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M3 12L21 12M21 12L12.5 3.5M21 12L12.5 20.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Uoe=w.forwardRef(Voe);var qS=Uoe,Hoe=Object.defineProperty,UP=Object.getOwnPropertySymbols,Goe=Object.prototype.hasOwnProperty,Woe=Object.prototype.propertyIsEnumerable,HP=(e,t,n)=>t in e?Hoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ON=(e,t)=>{for(var n in t||(t={}))Goe.call(t,n)&&HP(e,n,t[n]);if(UP)for(var n of UP(t))Woe.call(t,n)&&HP(e,n,t[n]);return e};const Yoe=(e,t)=>{const n=w.useContext(St),s=ON(ON({},n),e);return w.createElement("svg",ON({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M6.00005 19L19 5.99996M19 5.99996V18.48M19 5.99996H6.52005",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Koe=w.forwardRef(Yoe);var ls=Koe,qoe=Object.defineProperty,GP=Object.getOwnPropertySymbols,Zoe=Object.prototype.hasOwnProperty,Qoe=Object.prototype.propertyIsEnumerable,WP=(e,t,n)=>t in e?qoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,RN=(e,t)=>{for(var n in t||(t={}))Zoe.call(t,n)&&WP(e,n,t[n]);if(GP)for(var n of GP(t))Qoe.call(t,n)&&WP(e,n,t[n]);return e};const Xoe=(e,t)=>{const n=w.useContext(St),s=RN(RN({},n),e);return w.createElement("svg",RN({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M12 21L12 3M12 3L20.5 11.5M12 3L3.5 11.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Joe=w.forwardRef(Xoe);var Vk=Joe,ele=Object.defineProperty,YP=Object.getOwnPropertySymbols,tle=Object.prototype.hasOwnProperty,nle=Object.prototype.propertyIsEnumerable,KP=(e,t,n)=>t in e?ele(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,_N=(e,t)=>{for(var n in t||(t={}))tle.call(t,n)&&KP(e,n,t[n]);if(YP)for(var n of YP(t))nle.call(t,n)&&KP(e,n,t[n]);return e};const sle=(e,t)=>{const n=w.useContext(St),s=_N(_N({},n),e);return w.createElement("svg",_N({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M5 21V5C5 3.89543 5.89543 3 7 3H17C18.1046 3 19 3.89543 19 5V21L13.0815 17.1953C12.4227 16.7717 11.5773 16.7717 10.9185 17.1953L5 21Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},ile=w.forwardRef(sle);var NV=ile,rle=Object.defineProperty,qP=Object.getOwnPropertySymbols,ale=Object.prototype.hasOwnProperty,ole=Object.prototype.propertyIsEnumerable,ZP=(e,t,n)=>t in e?rle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PN=(e,t)=>{for(var n in t||(t={}))ale.call(t,n)&&ZP(e,n,t[n]);if(qP)for(var n of qP(t))ole.call(t,n)&&ZP(e,n,t[n]);return e};const lle=(e,t)=>{const n=w.useContext(St),s=PN(PN({},n),e);return w.createElement("svg",PN({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M10 9.01L10.01 8.99889",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M14 9.01L14.01 8.99889",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M10 13.01L10.01 12.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M14 13.01L14.01 12.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M10 17.01L10.01 16.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M14 17.01L14.01 16.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M6 20.4V5.6C6 5.26863 6.26863 5 6.6 5H12V3.6C12 3.26863 12.2686 3 12.6 3H17.4C17.7314 3 18 3.26863 18 3.6V20.4C18 20.7314 17.7314 21 17.4 21H6.6C6.26863 21 6 20.7314 6 20.4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},cle=w.forwardRef(lle);var AV=cle,ule=Object.defineProperty,QP=Object.getOwnPropertySymbols,dle=Object.prototype.hasOwnProperty,hle=Object.prototype.propertyIsEnumerable,XP=(e,t,n)=>t in e?ule(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zN=(e,t)=>{for(var n in t||(t={}))dle.call(t,n)&&XP(e,n,t[n]);if(QP)for(var n of QP(t))hle.call(t,n)&&XP(e,n,t[n]);return e};const fle=(e,t)=>{const n=w.useContext(St),s=zN(zN({},n),e);return w.createElement("svg",zN({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M5 13L9 17L19 7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},ple=w.forwardRef(fle);var ar=ple,gle=Object.defineProperty,JP=Object.getOwnPropertySymbols,mle=Object.prototype.hasOwnProperty,yle=Object.prototype.propertyIsEnumerable,e6=(e,t,n)=>t in e?gle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FN=(e,t)=>{for(var n in t||(t={}))mle.call(t,n)&&e6(e,n,t[n]);if(JP)for(var n of JP(t))yle.call(t,n)&&e6(e,n,t[n]);return e};const xle=(e,t)=>{const n=w.useContext(St),s=FN(FN({},n),e);return w.createElement("svg",FN({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M13.5 6L10 18.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M6.5 8.5L3 12L6.5 15.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M17.5 8.5L21 12L17.5 15.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},ble=w.forwardRef(xle);var vle=ble,Sle=Object.defineProperty,t6=Object.getOwnPropertySymbols,wle=Object.prototype.hasOwnProperty,Cle=Object.prototype.propertyIsEnumerable,n6=(e,t,n)=>t in e?Sle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$N=(e,t)=>{for(var n in t||(t={}))wle.call(t,n)&&n6(e,n,t[n]);if(t6)for(var n of t6(t))Cle.call(t,n)&&n6(e,n,t[n]);return e};const Mle=(e,t)=>{const n=w.useContext(St),s=$N($N({},n),e);return w.createElement("svg",$N({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M19.4 20H9.6C9.26863 20 9 19.7314 9 19.4V9.6C9 9.26863 9.26863 9 9.6 9H19.4C19.7314 9 20 9.26863 20 9.6V19.4C20 19.7314 19.7314 20 19.4 20Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M15 9V4.6C15 4.26863 14.7314 4 14.4 4H4.6C4.26863 4 4 4.26863 4 4.6V14.4C4 14.7314 4.26863 15 4.6 15H9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},jle=w.forwardRef(Mle);var Uk=jle,Nle=Object.defineProperty,s6=Object.getOwnPropertySymbols,Ale=Object.prototype.hasOwnProperty,Tle=Object.prototype.propertyIsEnumerable,i6=(e,t,n)=>t in e?Nle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BN=(e,t)=>{for(var n in t||(t={}))Ale.call(t,n)&&i6(e,n,t[n]);if(s6)for(var n of s6(t))Tle.call(t,n)&&i6(e,n,t[n]);return e};const Ele=(e,t)=>{const n=w.useContext(St),s=BN(BN({},n),e);return w.createElement("svg",BN({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M12 22C10.8954 22 10 21.1046 10 20C10 18.8954 10.8954 18 12 18C13.1046 18 14 18.8954 14 20C14 21.1046 13.1046 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M12 15L12 2M12 2L15 5M12 2L9 5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Dle=w.forwardRef(Ele);var kle=Dle,Ile=Object.defineProperty,r6=Object.getOwnPropertySymbols,Lle=Object.prototype.hasOwnProperty,Ole=Object.prototype.propertyIsEnumerable,a6=(e,t,n)=>t in e?Ile(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,VN=(e,t)=>{for(var n in t||(t={}))Lle.call(t,n)&&a6(e,n,t[n]);if(r6)for(var n of r6(t))Ole.call(t,n)&&a6(e,n,t[n]);return e};const Rle=(e,t)=>{const n=w.useContext(St),s=VN(VN({},n),e);return w.createElement("svg",VN({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M14.3632 5.65156L15.8431 4.17157C16.6242 3.39052 17.8905 3.39052 18.6716 4.17157L20.0858 5.58579C20.8668 6.36683 20.8668 7.63316 20.0858 8.41421L18.6058 9.8942M14.3632 5.65156L4.74749 15.2672C4.41542 15.5993 4.21079 16.0376 4.16947 16.5054L3.92738 19.2459C3.87261 19.8659 4.39148 20.3848 5.0115 20.33L7.75191 20.0879C8.21972 20.0466 8.65806 19.8419 8.99013 19.5099L18.6058 9.8942M14.3632 5.65156L18.6058 9.8942",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},_le=w.forwardRef(Rle);var i2=_le,Ple=Object.defineProperty,o6=Object.getOwnPropertySymbols,zle=Object.prototype.hasOwnProperty,Fle=Object.prototype.propertyIsEnumerable,l6=(e,t,n)=>t in e?Ple(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UN=(e,t)=>{for(var n in t||(t={}))zle.call(t,n)&&l6(e,n,t[n]);if(o6)for(var n of o6(t))Fle.call(t,n)&&l6(e,n,t[n]);return e};const $le=(e,t)=>{const n=w.useContext(St),s=UN(UN({},n),e);return w.createElement("svg",UN({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M19.5 16L17.0248 12.6038",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M12 17.5V14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M4.5 16L6.96895 12.6124",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M3 8C6.6 16 17.4 16 21 8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Ble=w.forwardRef($le);var TV=Ble,Vle=Object.defineProperty,c6=Object.getOwnPropertySymbols,Ule=Object.prototype.hasOwnProperty,Hle=Object.prototype.propertyIsEnumerable,u6=(e,t,n)=>t in e?Vle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HN=(e,t)=>{for(var n in t||(t={}))Ule.call(t,n)&&u6(e,n,t[n]);if(c6)for(var n of c6(t))Hle.call(t,n)&&u6(e,n,t[n]);return e};const Gle=(e,t)=>{const n=w.useContext(St),s=HN(HN({},n),e);return w.createElement("svg",HN({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M3 13C6.6 5 17.4 5 21 13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M12 17C10.3431 17 9 15.6569 9 14C9 12.3431 10.3431 11 12 11C13.6569 11 15 12.3431 15 14C15 15.6569 13.6569 17 12 17Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Wle=w.forwardRef(Gle);var Yle=Wle,Kle=Object.defineProperty,d6=Object.getOwnPropertySymbols,qle=Object.prototype.hasOwnProperty,Zle=Object.prototype.propertyIsEnumerable,h6=(e,t,n)=>t in e?Kle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,GN=(e,t)=>{for(var n in t||(t={}))qle.call(t,n)&&h6(e,n,t[n]);if(d6)for(var n of d6(t))Zle.call(t,n)&&h6(e,n,t[n]);return e};const Qle=(e,t)=>{const n=w.useContext(St),s=GN(GN({},n),e);return w.createElement("svg",GN({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M3.99961 3H19.9997C20.552 3 20.9997 3.44764 20.9997 3.99987L20.9999 5.58569C21 5.85097 20.8946 6.10538 20.707 6.29295L14.2925 12.7071C14.105 12.8946 13.9996 13.149 13.9996 13.4142L13.9996 19.7192C13.9996 20.3698 13.3882 20.8472 12.7571 20.6894L10.7571 20.1894C10.3119 20.0781 9.99961 19.6781 9.99961 19.2192L9.99961 13.4142C9.99961 13.149 9.89425 12.8946 9.70672 12.7071L3.2925 6.29289C3.10496 6.10536 2.99961 5.851 2.99961 5.58579V4C2.99961 3.44772 3.44732 3 3.99961 3Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Xle=w.forwardRef(Qle);var Ip=Xle,Jle=Object.defineProperty,f6=Object.getOwnPropertySymbols,ece=Object.prototype.hasOwnProperty,tce=Object.prototype.propertyIsEnumerable,p6=(e,t,n)=>t in e?Jle(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WN=(e,t)=>{for(var n in t||(t={}))ece.call(t,n)&&p6(e,n,t[n]);if(f6)for(var n of f6(t))tce.call(t,n)&&p6(e,n,t[n]);return e};const nce=(e,t)=>{const n=w.useContext(St),s=WN(WN({},n),e);return w.createElement("svg",WN({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M1 20V19C1 15.134 4.13401 12 8 12V12C11.866 12 15 15.134 15 19V20",stroke:"currentColor",strokeLinecap:"round"}),w.createElement("path",{d:"M13 14V14C13 11.2386 15.2386 9 18 9V9C20.7614 9 23 11.2386 23 14V14.5",stroke:"currentColor",strokeLinecap:"round"}),w.createElement("path",{d:"M8 12C10.2091 12 12 10.2091 12 8C12 5.79086 10.2091 4 8 4C5.79086 4 4 5.79086 4 8C4 10.2091 5.79086 12 8 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M18 9C19.6569 9 21 7.65685 21 6C21 4.34315 19.6569 3 18 3C16.3431 3 15 4.34315 15 6C15 7.65685 16.3431 9 18 9Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},sce=w.forwardRef(nce);var fg=sce,ice=Object.defineProperty,g6=Object.getOwnPropertySymbols,rce=Object.prototype.hasOwnProperty,ace=Object.prototype.propertyIsEnumerable,m6=(e,t,n)=>t in e?ice(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YN=(e,t)=>{for(var n in t||(t={}))rce.call(t,n)&&m6(e,n,t[n]);if(g6)for(var n of g6(t))ace.call(t,n)&&m6(e,n,t[n]);return e};const oce=(e,t)=>{const n=w.useContext(St),s=YN(YN({},n),e);return w.createElement("svg",YN({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M10 3L6 21",stroke:"currentColor",strokeLinecap:"round"}),w.createElement("path",{d:"M20.5 16H2.5",stroke:"currentColor",strokeLinecap:"round"}),w.createElement("path",{d:"M22 7H4",stroke:"currentColor",strokeLinecap:"round"}),w.createElement("path",{d:"M18 3L14 21",stroke:"currentColor",strokeLinecap:"round"}))},lce=w.forwardRef(oce);var cce=lce,uce=Object.defineProperty,y6=Object.getOwnPropertySymbols,dce=Object.prototype.hasOwnProperty,hce=Object.prototype.propertyIsEnumerable,x6=(e,t,n)=>t in e?uce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,KN=(e,t)=>{for(var n in t||(t={}))dce.call(t,n)&&x6(e,n,t[n]);if(y6)for(var n of y6(t))hce.call(t,n)&&x6(e,n,t[n]);return e};const fce=(e,t)=>{const n=w.useContext(St),s=KN(KN({},n),e);return w.createElement("svg",KN({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M9 9C9 5.49997 14.5 5.5 14.5 9C14.5 11.5 12 10.9999 12 13.9999",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M12 18.01L12.01 17.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},pce=w.forwardRef(fce);var r2=pce,gce=Object.defineProperty,b6=Object.getOwnPropertySymbols,mce=Object.prototype.hasOwnProperty,yce=Object.prototype.propertyIsEnumerable,v6=(e,t,n)=>t in e?gce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qN=(e,t)=>{for(var n in t||(t={}))mce.call(t,n)&&v6(e,n,t[n]);if(b6)for(var n of b6(t))yce.call(t,n)&&v6(e,n,t[n]);return e};const xce=(e,t)=>{const n=w.useContext(St),s=qN(qN({},n),e);return w.createElement("svg",qN({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M12 11.5V16.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M12 7.51L12.01 7.49889",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},bce=w.forwardRef(xce);var Ic=bce,vce=Object.defineProperty,S6=Object.getOwnPropertySymbols,Sce=Object.prototype.hasOwnProperty,wce=Object.prototype.propertyIsEnumerable,w6=(e,t,n)=>t in e?vce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ZN=(e,t)=>{for(var n in t||(t={}))Sce.call(t,n)&&w6(e,n,t[n]);if(S6)for(var n of S6(t))wce.call(t,n)&&w6(e,n,t[n]);return e};const Cce=(e,t)=>{const n=w.useContext(St),s=ZN(ZN({},n),e);return w.createElement("svg",ZN({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M4 6H20C21.1046 6 22 6.89543 22 8V16C22 17.1046 21.1046 18 20 18H4C2.89543 18 2 17.1046 2 16V8C2 6.89543 2.89543 6 4 6Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M5 8.5H6.5M8 8.5H6.5M6.5 8.5V15.5M6.5 15.5H5M6.5 15.5H8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Mce=w.forwardRef(Cce);var jce=Mce,Nce=Object.defineProperty,C6=Object.getOwnPropertySymbols,Ace=Object.prototype.hasOwnProperty,Tce=Object.prototype.propertyIsEnumerable,M6=(e,t,n)=>t in e?Nce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,QN=(e,t)=>{for(var n in t||(t={}))Ace.call(t,n)&&M6(e,n,t[n]);if(C6)for(var n of C6(t))Tce.call(t,n)&&M6(e,n,t[n]);return e};const Ece=(e,t)=>{const n=w.useContext(St),s=QN(QN({},n),e);return w.createElement("svg",QN({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M6 6L14 6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M6 10H18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M13 14L18 14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M13 18L18 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M2 21.4V2.6C2 2.26863 2.26863 2 2.6 2H18.2515C18.4106 2 18.5632 2.06321 18.6757 2.17574L21.8243 5.32426C21.9368 5.43679 22 5.5894 22 5.74853V21.4C22 21.7314 21.7314 22 21.4 22H2.6C2.26863 22 2 21.7314 2 21.4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M6 18V14H9V18H6Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M18 2V5.4C18 5.73137 18.2686 6 18.6 6H22",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Dce=w.forwardRef(Ece);var EV=Dce,kce=Object.defineProperty,j6=Object.getOwnPropertySymbols,Ice=Object.prototype.hasOwnProperty,Lce=Object.prototype.propertyIsEnumerable,N6=(e,t,n)=>t in e?kce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,XN=(e,t)=>{for(var n in t||(t={}))Ice.call(t,n)&&N6(e,n,t[n]);if(j6)for(var n of j6(t))Lce.call(t,n)&&N6(e,n,t[n]);return e};const Oce=(e,t)=>{const n=w.useContext(St),s=XN(XN({},n),e);return w.createElement("svg",XN({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M13 2.04932C13 2.04932 16 5.99994 16 11.9999C16 17.9999 13 21.9506 13 21.9506",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M11 21.9506C11 21.9506 8 17.9999 8 11.9999C8 5.99994 11 2.04932 11 2.04932",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M2.62964 15.5H21.3704",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M2.62964 8.5H21.3704",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Rce=w.forwardRef(Oce);var A6=Rce,_ce=Object.defineProperty,T6=Object.getOwnPropertySymbols,Pce=Object.prototype.hasOwnProperty,zce=Object.prototype.propertyIsEnumerable,E6=(e,t,n)=>t in e?_ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,JN=(e,t)=>{for(var n in t||(t={}))Pce.call(t,n)&&E6(e,n,t[n]);if(T6)for(var n of T6(t))zce.call(t,n)&&E6(e,n,t[n]);return e};const Fce=(e,t)=>{const n=w.useContext(St),s=JN(JN({},n),e);return w.createElement("svg",JN({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M9 18H15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M10 21H14",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M9.00082 15C9.00098 13 8.50098 12.5 7.50082 11.5C6.50067 10.5 6.02422 9.48689 6.00082 8C5.95284 4.95029 8.00067 3 12.0008 3C16.001 3 18.0488 4.95029 18.0008 8C17.9774 9.48689 17.5007 10.5 16.5008 11.5C15.501 12.5 15.001 13 15.0008 15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},$ce=w.forwardRef(Fce);var Bce=$ce,Vce=Object.defineProperty,D6=Object.getOwnPropertySymbols,Uce=Object.prototype.hasOwnProperty,Hce=Object.prototype.propertyIsEnumerable,k6=(e,t,n)=>t in e?Vce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eA=(e,t)=>{for(var n in t||(t={}))Uce.call(t,n)&&k6(e,n,t[n]);if(D6)for(var n of D6(t))Hce.call(t,n)&&k6(e,n,t[n]);return e};const Gce=(e,t)=>{const n=w.useContext(St),s=eA(eA({},n),e);return w.createElement("svg",eA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M14 11.9976C14 9.5059 11.683 7 8.85714 7C8.52241 7 7.41904 7.00001 7.14286 7.00001C4.30254 7.00001 2 9.23752 2 11.9976C2 14.376 3.70973 16.3664 6 16.8714C6.36756 16.9525 6.75006 16.9952 7.14286 16.9952",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M10 11.9976C10 14.4893 12.317 16.9952 15.1429 16.9952C15.4776 16.9952 16.581 16.9952 16.8571 16.9952C19.6975 16.9952 22 14.7577 22 11.9976C22 9.6192 20.2903 7.62884 18 7.12383C17.6324 7.04278 17.2499 6.99999 16.8571 6.99999",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Wce=w.forwardRef(Gce);var Yce=Wce,Kce=Object.defineProperty,I6=Object.getOwnPropertySymbols,qce=Object.prototype.hasOwnProperty,Zce=Object.prototype.propertyIsEnumerable,L6=(e,t,n)=>t in e?Kce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tA=(e,t)=>{for(var n in t||(t={}))qce.call(t,n)&&L6(e,n,t[n]);if(I6)for(var n of I6(t))Zce.call(t,n)&&L6(e,n,t[n]);return e};const Qce=(e,t)=>{const n=w.useContext(St),s=tA(tA({},n),e);return w.createElement("svg",tA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M16 12H17.4C17.7314 12 18 12.2686 18 12.6V19.4C18 19.7314 17.7314 20 17.4 20H6.6C6.26863 20 6 19.7314 6 19.4V12.6C6 12.2686 6.26863 12 6.6 12H8M16 12V8C16 6.66667 15.2 4 12 4C8.8 4 8 6.66667 8 8V12M16 12H8",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Xce=w.forwardRef(Qce);var Jce=Xce,eue=Object.defineProperty,O6=Object.getOwnPropertySymbols,tue=Object.prototype.hasOwnProperty,nue=Object.prototype.propertyIsEnumerable,R6=(e,t,n)=>t in e?eue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,nA=(e,t)=>{for(var n in t||(t={}))tue.call(t,n)&&R6(e,n,t[n]);if(O6)for(var n of O6(t))nue.call(t,n)&&R6(e,n,t[n]);return e};const sue=(e,t)=>{const n=w.useContext(St),s=nA(nA({},n),e);return w.createElement("svg",nA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M12 12H19M19 12L16 15M19 12L16 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M19 6V5C19 3.89543 18.1046 3 17 3H7C5.89543 3 5 3.89543 5 5V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},iue=w.forwardRef(sue);var rue=iue,aue=Object.defineProperty,_6=Object.getOwnPropertySymbols,oue=Object.prototype.hasOwnProperty,lue=Object.prototype.propertyIsEnumerable,P6=(e,t,n)=>t in e?aue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sA=(e,t)=>{for(var n in t||(t={}))oue.call(t,n)&&P6(e,n,t[n]);if(_6)for(var n of _6(t))lue.call(t,n)&&P6(e,n,t[n]);return e};const cue=(e,t)=>{const n=w.useContext(St),s=sA(sA({},n),e);return w.createElement("svg",sA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M7 9L12 12.5L17 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M2 17V7C2 5.89543 2.89543 5 4 5H20C21.1046 5 22 5.89543 22 7V17C22 18.1046 21.1046 19 20 19H4C2.89543 19 2 18.1046 2 17Z",stroke:"currentColor"}))},uue=w.forwardRef(cue);var Hk=uue,due=Object.defineProperty,z6=Object.getOwnPropertySymbols,hue=Object.prototype.hasOwnProperty,fue=Object.prototype.propertyIsEnumerable,F6=(e,t,n)=>t in e?due(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,iA=(e,t)=>{for(var n in t||(t={}))hue.call(t,n)&&F6(e,n,t[n]);if(z6)for(var n of z6(t))fue.call(t,n)&&F6(e,n,t[n]);return e};const pue=(e,t)=>{const n=w.useContext(St),s=iA(iA({},n),e);return w.createElement("svg",iA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M21 3.6V20.4C21 20.7314 20.7314 21 20.4 21H3.6C3.26863 21 3 20.7314 3 20.4V3.6C3 3.26863 3.26863 3 3.6 3H20.4C20.7314 3 21 3.26863 21 3.6Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M3 16L10 13L21 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M16 10C14.8954 10 14 9.10457 14 8C14 6.89543 14.8954 6 16 6C17.1046 6 18 6.89543 18 8C18 9.10457 17.1046 10 16 10Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},gue=w.forwardRef(pue);var mue=gue,yue=Object.defineProperty,$6=Object.getOwnPropertySymbols,xue=Object.prototype.hasOwnProperty,bue=Object.prototype.propertyIsEnumerable,B6=(e,t,n)=>t in e?yue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rA=(e,t)=>{for(var n in t||(t={}))xue.call(t,n)&&B6(e,n,t[n]);if($6)for(var n of $6(t))bue.call(t,n)&&B6(e,n,t[n]);return e};const vue=(e,t)=>{const n=w.useContext(St),s=rA(rA({},n),e);return w.createElement("svg",rA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M3 5H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M3 12H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M3 19H21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Sue=w.forwardRef(vue);var wue=Sue,Cue=Object.defineProperty,V6=Object.getOwnPropertySymbols,Mue=Object.prototype.hasOwnProperty,jue=Object.prototype.propertyIsEnumerable,U6=(e,t,n)=>t in e?Cue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aA=(e,t)=>{for(var n in t||(t={}))Mue.call(t,n)&&U6(e,n,t[n]);if(V6)for(var n of V6(t))jue.call(t,n)&&U6(e,n,t[n]);return e};const Nue=(e,t)=>{const n=w.useContext(St),s=aA(aA({},n),e);return w.createElement("svg",aA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M6 12H18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Aue=w.forwardRef(Nue);var Gk=Aue,Tue=Object.defineProperty,H6=Object.getOwnPropertySymbols,Eue=Object.prototype.hasOwnProperty,Due=Object.prototype.propertyIsEnumerable,G6=(e,t,n)=>t in e?Tue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,oA=(e,t)=>{for(var n in t||(t={}))Eue.call(t,n)&&G6(e,n,t[n]);if(H6)for(var n of H6(t))Due.call(t,n)&&G6(e,n,t[n]);return e};const kue=(e,t)=>{const n=w.useContext(St),s=oA(oA({},n),e);return w.createElement("svg",oA({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M20 12.5C20.2761 12.5 20.5 12.2761 20.5 12C20.5 11.7239 20.2761 11.5 20 11.5C19.7239 11.5 19.5 11.7239 19.5 12C19.5 12.2761 19.7239 12.5 20 12.5Z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M12 12.5C12.2761 12.5 12.5 12.2761 12.5 12C12.5 11.7239 12.2761 11.5 12 11.5C11.7239 11.5 11.5 11.7239 11.5 12C11.5 12.2761 11.7239 12.5 12 12.5Z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M4 12.5C4.27614 12.5 4.5 12.2761 4.5 12C4.5 11.7239 4.27614 11.5 4 11.5C3.72386 11.5 3.5 11.7239 3.5 12C3.5 12.2761 3.72386 12.5 4 12.5Z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Iue=w.forwardRef(kue);var pg=Iue,Lue=Object.defineProperty,W6=Object.getOwnPropertySymbols,Oue=Object.prototype.hasOwnProperty,Rue=Object.prototype.propertyIsEnumerable,Y6=(e,t,n)=>t in e?Lue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lA=(e,t)=>{for(var n in t||(t={}))Oue.call(t,n)&&Y6(e,n,t[n]);if(W6)for(var n of W6(t))Rue.call(t,n)&&Y6(e,n,t[n]);return e};const _ue=(e,t)=>{const n=w.useContext(St),s=lA(lA({},n),e);return w.createElement("svg",lA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M6 9L12 15L18 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Pue=w.forwardRef(_ue);var Kr=Pue,zue=Object.defineProperty,K6=Object.getOwnPropertySymbols,Fue=Object.prototype.hasOwnProperty,$ue=Object.prototype.propertyIsEnumerable,q6=(e,t,n)=>t in e?zue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cA=(e,t)=>{for(var n in t||(t={}))Fue.call(t,n)&&q6(e,n,t[n]);if(K6)for(var n of K6(t))$ue.call(t,n)&&q6(e,n,t[n]);return e};const Bue=(e,t)=>{const n=w.useContext(St),s=cA(cA({},n),e);return w.createElement("svg",cA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M9 6L15 12L9 18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Vue=w.forwardRef(Bue);var Uue=Vue,Hue=Object.defineProperty,Z6=Object.getOwnPropertySymbols,Gue=Object.prototype.hasOwnProperty,Wue=Object.prototype.propertyIsEnumerable,Q6=(e,t,n)=>t in e?Hue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,uA=(e,t)=>{for(var n in t||(t={}))Gue.call(t,n)&&Q6(e,n,t[n]);if(Z6)for(var n of Z6(t))Wue.call(t,n)&&Q6(e,n,t[n]);return e};const Yue=(e,t)=>{const n=w.useContext(St),s=uA(uA({},n),e);return w.createElement("svg",uA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M6 15L12 9L18 15",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Kue=w.forwardRef(Yue);var que=Kue,Zue=Object.defineProperty,X6=Object.getOwnPropertySymbols,Que=Object.prototype.hasOwnProperty,Xue=Object.prototype.propertyIsEnumerable,J6=(e,t,n)=>t in e?Zue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,dA=(e,t)=>{for(var n in t||(t={}))Que.call(t,n)&&J6(e,n,t[n]);if(X6)for(var n of X6(t))Xue.call(t,n)&&J6(e,n,t[n]);return e};const Jue=(e,t)=>{const n=w.useContext(St),s=dA(dA({},n),e);return w.createElement("svg",dA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("rect",{width:7,height:5,rx:.6,transform:"matrix(1 0 0 -1 3 22)",stroke:"currentColor",strokeWidth:1.5}),w.createElement("rect",{width:7,height:5,rx:.6,transform:"matrix(1 0 0 -1 8.5 7)",stroke:"currentColor",strokeWidth:1.5}),w.createElement("rect",{width:7,height:5,rx:.6,transform:"matrix(1 0 0 -1 14 22)",stroke:"currentColor",strokeWidth:1.5}),w.createElement("path",{d:"M6.5 17V13.5C6.5 12.3954 7.39543 11.5 8.5 11.5H15.5C16.6046 11.5 17.5 12.3954 17.5 13.5V17",stroke:"currentColor"}),w.createElement("path",{d:"M12 11.5V7",stroke:"currentColor"}))},ede=w.forwardRef(Jue);var tde=ede,nde=Object.defineProperty,ez=Object.getOwnPropertySymbols,sde=Object.prototype.hasOwnProperty,ide=Object.prototype.propertyIsEnumerable,tz=(e,t,n)=>t in e?nde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hA=(e,t)=>{for(var n in t||(t={}))sde.call(t,n)&&tz(e,n,t[n]);if(ez)for(var n of ez(t))ide.call(t,n)&&tz(e,n,t[n]);return e};const rde=(e,t)=>{const n=w.useContext(St),s=hA(hA({},n),e);return w.createElement("svg",hA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M6 12H12M18 12H12M12 12V6M12 12V18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},ade=w.forwardRef(rde);var Fo=ade,ode=Object.defineProperty,nz=Object.getOwnPropertySymbols,lde=Object.prototype.hasOwnProperty,cde=Object.prototype.propertyIsEnumerable,sz=(e,t,n)=>t in e?ode(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fA=(e,t)=>{for(var n in t||(t={}))lde.call(t,n)&&sz(e,n,t[n]);if(nz)for(var n of nz(t))cde.call(t,n)&&sz(e,n,t[n]);return e};const ude=(e,t)=>{const n=w.useContext(St),s=fA(fA({},n),e);return w.createElement("svg",fA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M4.271 18.3457C4.271 18.3457 6.50002 15.5 12 15.5C17.5 15.5 19.7291 18.3457 19.7291 18.3457",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M12 12C13.6569 12 15 10.6569 15 9C15 7.34315 13.6569 6 12 6C10.3431 6 9 7.34315 9 9C9 10.6569 10.3431 12 12 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},dde=w.forwardRef(ude);var Wk=dde,hde=Object.defineProperty,iz=Object.getOwnPropertySymbols,fde=Object.prototype.hasOwnProperty,pde=Object.prototype.propertyIsEnumerable,rz=(e,t,n)=>t in e?hde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,pA=(e,t)=>{for(var n in t||(t={}))fde.call(t,n)&&rz(e,n,t[n]);if(iz)for(var n of iz(t))pde.call(t,n)&&rz(e,n,t[n]);return e};const gde=(e,t)=>{const n=w.useContext(St),s=pA(pA({},n),e);return w.createElement("svg",pA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M19.1414 5C17.3265 3.14864 14.7974 2 12 2C6.47715 2 2 6.47715 2 12C2 14.7255 3.09032 17.1962 4.85857 19M19.1414 5C20.9097 6.80375 22 9.27455 22 12C22 17.5228 17.5228 22 12 22C9.20261 22 6.67349 20.8514 4.85857 19M19.1414 5L4.85857 19",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},mde=w.forwardRef(gde);var yde=mde,xde=Object.defineProperty,az=Object.getOwnPropertySymbols,bde=Object.prototype.hasOwnProperty,vde=Object.prototype.propertyIsEnumerable,oz=(e,t,n)=>t in e?xde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,gA=(e,t)=>{for(var n in t||(t={}))bde.call(t,n)&&oz(e,n,t[n]);if(az)for(var n of az(t))vde.call(t,n)&&oz(e,n,t[n]);return e};const Sde=(e,t)=>{const n=w.useContext(St),s=gA(gA({},n),e);return w.createElement("svg",gA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M21.1679 8C19.6247 4.46819 16.1006 2 11.9999 2C6.81459 2 2.55104 5.94668 2.04932 11",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M17 8H21.4C21.7314 8 22 7.73137 22 7.4V3",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M2.88146 16C4.42458 19.5318 7.94874 22 12.0494 22C17.2347 22 21.4983 18.0533 22 13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M7.04932 16H2.64932C2.31795 16 2.04932 16.2686 2.04932 16.6V21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},wde=w.forwardRef(Sde);var DV=wde,Cde=Object.defineProperty,lz=Object.getOwnPropertySymbols,Mde=Object.prototype.hasOwnProperty,jde=Object.prototype.propertyIsEnumerable,cz=(e,t,n)=>t in e?Cde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,mA=(e,t)=>{for(var n in t||(t={}))Mde.call(t,n)&&cz(e,n,t[n]);if(lz)for(var n of lz(t))jde.call(t,n)&&cz(e,n,t[n]);return e};const Nde=(e,t)=>{const n=w.useContext(St),s=mA(mA({},n),e);return w.createElement("svg",mA({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M17 17L21 21",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M3 11C3 15.4183 6.58172 19 11 19C13.213 19 15.2161 18.1015 16.6644 16.6493C18.1077 15.2022 19 13.2053 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Ade=w.forwardRef(Nde);var Sx=Ade,Tde=Object.defineProperty,uz=Object.getOwnPropertySymbols,Ede=Object.prototype.hasOwnProperty,Dde=Object.prototype.propertyIsEnumerable,dz=(e,t,n)=>t in e?Tde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yA=(e,t)=>{for(var n in t||(t={}))Ede.call(t,n)&&dz(e,n,t[n]);if(uz)for(var n of uz(t))Dde.call(t,n)&&dz(e,n,t[n]);return e};const kde=(e,t)=>{const n=w.useContext(St),s=yA(yA({},n),e);return w.createElement("svg",yA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M19.6224 10.3954L18.5247 7.7448L20 6L18 4L16.2647 5.48295L13.5578 4.36974L12.9353 2H10.981L10.3491 4.40113L7.70441 5.51596L6 4L4 6L5.45337 7.78885L4.3725 10.4463L2 11V13L4.40111 13.6555L5.51575 16.2997L4 18L6 20L7.79116 18.5403L10.397 19.6123L11 22H13L13.6045 19.6132L16.2551 18.5155C16.6969 18.8313 18 20 18 20L20 18L18.5159 16.2494L19.6139 13.598L21.9999 12.9772L22 11L19.6224 10.3954Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Ide=w.forwardRef(kde);var Yk=Ide,Lde=Object.defineProperty,hz=Object.getOwnPropertySymbols,Ode=Object.prototype.hasOwnProperty,Rde=Object.prototype.propertyIsEnumerable,fz=(e,t,n)=>t in e?Lde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xA=(e,t)=>{for(var n in t||(t={}))Ode.call(t,n)&&fz(e,n,t[n]);if(hz)for(var n of hz(t))Rde.call(t,n)&&fz(e,n,t[n]);return e};const _de=(e,t)=>{const n=w.useContext(St),s=xA(xA({},n),e);return w.createElement("svg",xA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M8.58737 8.23597L11.1849 3.00376C11.5183 2.33208 12.4817 2.33208 12.8151 3.00376L15.4126 8.23597L21.2215 9.08017C21.9668 9.18848 22.2638 10.0994 21.7243 10.6219L17.5217 14.6918L18.5135 20.4414C18.6409 21.1798 17.8614 21.7428 17.1945 21.3941L12 18.678L6.80547 21.3941C6.1386 21.7428 5.35909 21.1798 5.48645 20.4414L6.47825 14.6918L2.27575 10.6219C1.73617 10.0994 2.03322 9.18848 2.77852 9.08017L8.58737 8.23597Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Pde=w.forwardRef(_de);var Fc=Pde,zde=Object.defineProperty,pz=Object.getOwnPropertySymbols,Fde=Object.prototype.hasOwnProperty,$de=Object.prototype.propertyIsEnumerable,gz=(e,t,n)=>t in e?zde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bA=(e,t)=>{for(var n in t||(t={}))Fde.call(t,n)&&gz(e,n,t[n]);if(pz)for(var n of pz(t))$de.call(t,n)&&gz(e,n,t[n]);return e};const Bde=(e,t)=>{const n=w.useContext(St),s=bA(bA({},n),e);return w.createElement("svg",bA({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",strokeWidth:1.5,fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M20 9L18.005 20.3463C17.8369 21.3026 17.0062 22 16.0353 22H7.96474C6.99379 22 6.1631 21.3026 5.99496 20.3463L4 9",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M21 6L15.375 6M3 6L8.625 6M8.625 6V4C8.625 2.89543 9.52043 2 10.625 2H13.375C14.4796 2 15.375 2.89543 15.375 4V6M8.625 6L15.375 6",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Vde=w.forwardRef(Bde);var a2=Vde,Ude=Object.defineProperty,mz=Object.getOwnPropertySymbols,Hde=Object.prototype.hasOwnProperty,Gde=Object.prototype.propertyIsEnumerable,yz=(e,t,n)=>t in e?Ude(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vA=(e,t)=>{for(var n in t||(t={}))Hde.call(t,n)&&yz(e,n,t[n]);if(mz)for(var n of mz(t))Gde.call(t,n)&&yz(e,n,t[n]);return e};const Wde=(e,t)=>{const n=w.useContext(St),s=vA(vA({},n),e);return w.createElement("svg",vA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M5 20V19C5 15.134 8.13401 12 12 12V12C15.866 12 19 15.134 19 19V20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),w.createElement("path",{d:"M12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Yde=w.forwardRef(Wde);var o2=Yde,Kde=Object.defineProperty,xz=Object.getOwnPropertySymbols,qde=Object.prototype.hasOwnProperty,Zde=Object.prototype.propertyIsEnumerable,bz=(e,t,n)=>t in e?Kde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SA=(e,t)=>{for(var n in t||(t={}))qde.call(t,n)&&bz(e,n,t[n]);if(xz)for(var n of xz(t))Zde.call(t,n)&&bz(e,n,t[n]);return e};const Qde=(e,t)=>{const n=w.useContext(St),s=SA(SA({},n),e);return w.createElement("svg",SA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M20.0429 21H3.95705C2.41902 21 1.45658 19.3364 2.22324 18.0031L10.2662 4.01533C11.0352 2.67792 12.9648 2.67791 13.7338 4.01532L21.7768 18.0031C22.5434 19.3364 21.581 21 20.0429 21Z",stroke:"currentColor",strokeLinecap:"round"}),w.createElement("path",{d:"M12 9V13",stroke:"currentColor",strokeLinecap:"round"}),w.createElement("path",{d:"M12 17.01L12.01 16.9989",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},Xde=w.forwardRef(Qde);var l2=Xde,Jde=Object.defineProperty,vz=Object.getOwnPropertySymbols,ehe=Object.prototype.hasOwnProperty,the=Object.prototype.propertyIsEnumerable,Sz=(e,t,n)=>t in e?Jde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wA=(e,t)=>{for(var n in t||(t={}))ehe.call(t,n)&&Sz(e,n,t[n]);if(vz)for(var n of vz(t))the.call(t,n)&&Sz(e,n,t[n]);return e};const nhe=(e,t)=>{const n=w.useContext(St),s=wA(wA({},n),e);return w.createElement("svg",wA({width:"1.5em",height:"1.5em",strokeWidth:1.5,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M6.75827 17.2426L12.0009 12M17.2435 6.75736L12.0009 12M12.0009 12L6.75827 6.75736M12.0009 12L17.2435 17.2426",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},she=w.forwardRef(nhe);var gd=she,ihe=Object.defineProperty,wz=Object.getOwnPropertySymbols,rhe=Object.prototype.hasOwnProperty,ahe=Object.prototype.propertyIsEnumerable,Cz=(e,t,n)=>t in e?ihe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,CA=(e,t)=>{for(var n in t||(t={}))rhe.call(t,n)&&Cz(e,n,t[n]);if(wz)for(var n of wz(t))ahe.call(t,n)&&Cz(e,n,t[n]);return e};const ohe=(e,t)=>{const n=w.useContext(St),s=CA(CA({},n),e);return w.createElement("svg",CA({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1.25C6.06294 1.25 1.25 6.06294 1.25 12C1.25 17.9371 6.06294 22.75 12 22.75C17.9371 22.75 22.75 17.9371 22.75 12C22.75 6.06294 17.9371 1.25 12 1.25ZM7.53044 11.9697C7.23755 11.6768 6.76268 11.6768 6.46978 11.9697C6.17689 12.2626 6.17689 12.7374 6.46978 13.0303L9.46978 16.0303C9.76268 16.3232 10.2376 16.3232 10.5304 16.0303L17.5304 9.03033C17.8233 8.73744 17.8233 8.26256 17.5304 7.96967C17.2375 7.67678 16.7627 7.67678 16.4698 7.96967L10.0001 14.4393L7.53044 11.9697Z",fill:"currentColor"}))},lhe=w.forwardRef(ohe);var kV=lhe,che=Object.defineProperty,Mz=Object.getOwnPropertySymbols,uhe=Object.prototype.hasOwnProperty,dhe=Object.prototype.propertyIsEnumerable,jz=(e,t,n)=>t in e?che(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,MA=(e,t)=>{for(var n in t||(t={}))uhe.call(t,n)&&jz(e,n,t[n]);if(Mz)for(var n of Mz(t))dhe.call(t,n)&&jz(e,n,t[n]);return e};const hhe=(e,t)=>{const n=w.useContext(St),s=MA(MA({},n),e);return w.createElement("svg",MA({width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"currentColor",ref:t},s),w.createElement("path",{d:"M4.0001 3H20.0002C20.5525 3 21.0002 3.44764 21.0002 3.99987L21.0004 5.58569C21.0005 5.85097 20.8951 6.10538 20.7075 6.29295L14.293 12.7071C14.1055 12.8946 14.0001 13.149 14.0001 13.4142L14.0001 19.7192C14.0001 20.3698 13.3887 20.8472 12.7576 20.6894L10.7576 20.1894C10.3124 20.0781 10.0001 19.6781 10.0001 19.2192L10.0001 13.4142C10.0001 13.149 9.89474 12.8946 9.7072 12.7071L3.29299 6.29289C3.10545 6.10536 3.0001 5.851 3.0001 5.58579V4C3.0001 3.44772 3.44781 3 4.0001 3Z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}))},fhe=w.forwardRef(hhe);var phe=fhe,lf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ghe={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},mhe=class{#t=ghe;#e=!1;setTimeoutProvider(e){this.#t=e}setTimeout(e,t){return this.#t.setTimeout(e,t)}clearTimeout(e){this.#t.clearTimeout(e)}setInterval(e,t){return this.#t.setInterval(e,t)}clearInterval(e){this.#t.clearInterval(e)}},Zu=new mhe;function yhe(e){setTimeout(e,0)}var Yh=typeof window>"u"||"Deno"in globalThis;function Js(){}function xhe(e,t){return typeof e=="function"?e(t):e}function CE(e){return typeof e=="number"&&e>=0&&e!==1/0}function IV(e,t){return Math.max(e+(t||0)-Date.now(),0)}function id(e,t){return typeof e=="function"?e(t):e}function qa(e,t){return typeof e=="function"?e(t):e}function Nz(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:r,queryKey:a,stale:o}=e;if(a){if(s){if(t.queryHash!==Kk(a,t.options))return!1}else if(!wx(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||r&&!r(t))}function Az(e,t){const{exact:n,status:s,predicate:i,mutationKey:r}=e;if(r){if(!t.options.mutationKey)return!1;if(n){if(Kh(t.options.mutationKey)!==Kh(r))return!1}else if(!wx(t.options.mutationKey,r))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function Kk(e,t){return(t?.queryKeyHashFn||Kh)(e)}function Kh(e){return JSON.stringify(e,(t,n)=>ME(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function wx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>wx(e[n],t[n])):!1}var bhe=Object.prototype.hasOwnProperty;function L0(e,t){if(e===t)return e;const n=Tz(e)&&Tz(t);if(!n&&!(ME(e)&&ME(t)))return t;const i=(n?e:Object.keys(e)).length,r=n?t:Object.keys(t),a=r.length,o=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const h=n?u:r[u],f=e[h],g=t[h];if(f===g){o[h]=f,(n?u<i:bhe.call(e,h))&&c++;continue}if(f===null||g===null||typeof f!="object"||typeof g!="object"){o[h]=g;continue}const m=L0(f,g);o[h]=m,m===f&&c++}return i===a&&c===i?e:o}function Cx(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Tz(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ME(e){if(!Ez(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Ez(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ez(e){return Object.prototype.toString.call(e)==="[object Object]"}function vhe(e){return new Promise(t=>{Zu.setTimeout(t,e)})}function jE(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?L0(e,t):t}function Mx(e){return e}function She(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function whe(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var qk=Symbol();function LV(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===qk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function OV(e,t){return typeof e=="function"?e(...t):!!e}var Che=class extends lf{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!Yh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Zk=new Che;function NE(){let e,t;const n=new Promise((i,r)=>{e=i,t=r});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}function Mhe(e){let t;if(e.then(n=>(t=n,n),Js)?.catch(Js),t!==void 0)return{data:t}}function RV(e){return e}function jhe(e){return{mutationKey:e.options.mutationKey,state:e.state,...e.options.scope&&{scope:e.options.scope},...e.meta&&{meta:e.meta}}}function Nhe(e,t,n){const s=e.promise?.then(t).catch(i=>n(i)?Promise.reject(new Error("redacted")):Promise.reject(i));return s?.catch(Js),{dehydratedAt:Date.now(),state:{...e.state,...e.state.data!==void 0&&{data:t(e.state.data)}},queryKey:e.queryKey,queryHash:e.queryHash,...e.state.status==="pending"&&{promise:s},...e.meta&&{meta:e.meta}}}function Ahe(e){return e.state.isPaused}function The(e){return e.state.status==="success"}function Ehe(e){return!0}function Dhe(e,t={}){const n=t.shouldDehydrateMutation??e.getDefaultOptions().dehydrate?.shouldDehydrateMutation??Ahe,s=e.getMutationCache().getAll().flatMap(c=>n(c)?[jhe(c)]:[]),i=t.shouldDehydrateQuery??e.getDefaultOptions().dehydrate?.shouldDehydrateQuery??The,r=t.shouldRedactErrors??e.getDefaultOptions().dehydrate?.shouldRedactErrors??Ehe,a=t.serializeData??e.getDefaultOptions().dehydrate?.serializeData??RV,o=e.getQueryCache().getAll().flatMap(c=>i(c)?[Nhe(c,a,r)]:[]);return{mutations:s,queries:o}}function khe(e,t,n){if(typeof t!="object"||t===null)return;const s=e.getMutationCache(),i=e.getQueryCache(),r=n?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??RV,a=t.mutations||[],o=t.queries||[];a.forEach(({state:c,...u})=>{s.build(e,{...e.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...u},c)}),o.forEach(({queryKey:c,state:u,queryHash:h,meta:f,promise:g,dehydratedAt:m})=>{const y=g?Mhe(g):void 0,b=u.data===void 0?y?.data:u.data,S=b===void 0?b:r(b);let C=i.get(h);const M=C?.state.status==="pending",N=C?.state.fetchStatus==="fetching";if(C){const T=y&&m!==void 0&&m>C.state.dataUpdatedAt;if(u.dataUpdatedAt>C.state.dataUpdatedAt||T){const{fetchStatus:E,...k}=u;C.setState({...k,data:S})}}else C=i.build(e,{...e.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:c,queryHash:h,meta:f},{...u,data:S,fetchStatus:"idle",status:S!==void 0?"success":u.status});g&&!M&&!N&&(m===void 0||m>C.state.dataUpdatedAt)&&C.fetch(void 0,{initialPromise:Promise.resolve(g).then(r)}).catch(Js)})}var Ihe=yhe;function Lhe(){let e=[],t=0,n=o=>{o()},s=o=>{o()},i=Ihe;const r=o=>{t?e.push(o):i(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{s(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||a()}return c},batchCalls:o=>(...c)=>{r(()=>{o(...c)})},schedule:r,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{s=o},setScheduler:o=>{i=o}}}var os=Lhe(),Ohe=class extends lf{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!Yh&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},ZS=new Ohe;function Rhe(e){return Math.min(1e3*2**e,3e4)}function _V(e){return(e??"online")==="online"?ZS.isOnline():!0}var AE=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function PV(e){let t=!1,n=0,s;const i=NE(),r=()=>i.status!=="pending",a=b=>{if(!r()){const S=new AE(b);g(S),e.onCancel?.(S)}},o=()=>{t=!0},c=()=>{t=!1},u=()=>Zk.isFocused()&&(e.networkMode==="always"||ZS.isOnline())&&e.canRun(),h=()=>_V(e.networkMode)&&e.canRun(),f=b=>{r()||(s?.(),i.resolve(b))},g=b=>{r()||(s?.(),i.reject(b))},m=()=>new Promise(b=>{s=S=>{(r()||u())&&b(S)},e.onPause?.()}).then(()=>{s=void 0,r()||e.onContinue?.()}),y=()=>{if(r())return;let b;const S=n===0?e.initialPromise:void 0;try{b=S??e.fn()}catch(C){b=Promise.reject(C)}Promise.resolve(b).then(f).catch(C=>{if(r())return;const M=e.retry??(Yh?0:3),N=e.retryDelay??Rhe,T=typeof N=="function"?N(n,C):N,E=M===!0||typeof M=="number"&&n<M||typeof M=="function"&&M(n,C);if(t||!E){g(C);return}n++,e.onFail?.(n,C),vhe(T).then(()=>u()?void 0:m()).then(()=>{t?g(C):y()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(s?.(),i),cancelRetry:o,continueRetry:c,canStart:h,start:()=>(h()?y():m().then(y),i)}}var zV=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CE(this.gcTime)&&(this.#t=Zu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yh?1/0:300*1e3))}clearGcTimeout(){this.#t&&(Zu.clearTimeout(this.#t),this.#t=void 0)}},_he=class extends zV{#t;#e;#n;#i;#s;#r;#o;constructor(e){super(),this.#o=!1,this.#r=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=Dz(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){if(this.options={...this.#r,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Dz(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#t=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=jE(this.state.data,e,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#s?.promise;return this.#s?.cancel(e),t?t.then(Js).catch(Js):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>qa(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>id(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!IV(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(c=>c.options.queryFn);o&&this.setOptions(o.options)}const n=new AbortController,s=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const o=LV(this.options,t),u=(()=>{const h={client:this.#i,queryKey:this.queryKey,meta:this.meta};return s(h),h})();return this.#o=!1,this.options.persister?this.options.persister(o,u,this):o(u)},a=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return s(o),o})();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#a({type:"fetch",meta:a.fetchOptions?.meta}),this.#s=PV({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof AE&&o.revert&&this.setState({...this.#e,fetchStatus:"idle"}),n.abort()},onFail:(o,c)=>{this.#a({type:"failed",failureCount:o,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#s.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#n.config.onSuccess?.(o,this),this.#n.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof AE){if(o.silent)return this.#s.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#a({type:"error",error:o}),this.#n.config.onError?.(o,this),this.#n.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...FV(n.data,this.options),fetchMeta:e.meta??null};case"success":const s={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=e.manual?s:void 0,s;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),os.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function FV(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_V(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Dz(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qk=class extends lf{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#o=NE(),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#i=void 0;#s;#r;#o;#a;#f;#d;#h;#c;#u;#l;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),kz(this.#e,this.options)?this.#p():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return TE(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return TE(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#S(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qa(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),t._defaulted&&!Cx(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const s=this.hasListeners();s&&Iz(this.#e,n,this.options,t)&&this.#p(),this.updateResult(),s&&(this.#e!==n||qa(this.options.enabled,this.#e)!==qa(t.enabled,this.#e)||id(this.options.staleTime,this.#e)!==id(t.staleTime,this.#e))&&this.#m();const i=this.#y();s&&(this.#e!==n||qa(this.options.enabled,this.#e)!==qa(t.enabled,this.#e)||i!==this.#l)&&this.#x(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return zhe(this,n)&&(this.#i=n,this.#r=this.options,this.#s=this.#e.state),n}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),t?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(e){this.#g.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#p({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#p(e){this.#w();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Js)),t}#m(){this.#v();const e=id(this.options.staleTime,this.#e);if(Yh||this.#i.isStale||!CE(e))return;const n=IV(this.#i.dataUpdatedAt,e)+1;this.#c=Zu.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#x(e){this.#S(),this.#l=e,!(Yh||qa(this.options.enabled,this.#e)===!1||!CE(this.#l)||this.#l===0)&&(this.#u=Zu.setInterval(()=>{(this.options.refetchIntervalInBackground||Zk.isFocused())&&this.#p()},this.#l))}#b(){this.#m(),this.#x(this.#y())}#v(){this.#c&&(Zu.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#u&&(Zu.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#e,s=this.options,i=this.#i,r=this.#s,a=this.#r,c=e!==n?e.state:this.#n,{state:u}=e;let h={...u},f=!1,g;if(t._optimisticResults){const I=this.hasListeners(),_=!I&&kz(e,t),F=I&&Iz(e,n,t,s);(_||F)&&(h={...h,...FV(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:b}=h;g=h.data;let S=!1;if(t.placeholderData!==void 0&&g===void 0&&b==="pending"){let I;i?.isPlaceholderData&&t.placeholderData===a?.placeholderData?(I=i.data,S=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,I!==void 0&&(b="success",g=jE(i?.data,I,t),f=!0)}if(t.select&&g!==void 0&&!S)if(i&&g===r?.data&&t.select===this.#f)g=this.#d;else try{this.#f=t.select,g=t.select(g),g=jE(i?.data,g,t),this.#d=g,this.#a=null}catch(I){this.#a=I}this.#a&&(m=this.#a,g=this.#d,y=Date.now(),b="error");const C=h.fetchStatus==="fetching",M=b==="pending",N=b==="error",T=M&&C,E=g!==void 0,L={status:b,fetchStatus:h.fetchStatus,isPending:M,isSuccess:b==="success",isError:N,isInitialLoading:T,isLoading:T,data:g,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:C,isRefetching:C&&!M,isLoadingError:N&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:N&&E,isStale:Xk(e,t),refetch:this.refetch,promise:this.#o,isEnabled:qa(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=G=>{L.status==="error"?G.reject(L.error):L.data!==void 0&&G.resolve(L.data)},_=()=>{const G=this.#o=L.promise=NE();I(G)},F=this.#o;switch(F.status){case"pending":e.queryHash===n.queryHash&&I(F);break;case"fulfilled":(L.status==="error"||L.data!==F.value)&&_();break;case"rejected":(L.status!=="error"||L.error!==F.reason)&&_();break}}return L}updateResult(){const e=this.#i,t=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#r=this.options,this.#s.data!==void 0&&(this.#h=this.#e),Cx(t,e))return;this.#i=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!this.#g.size)return!0;const r=new Set(i??this.#g);return this.options.throwOnError&&r.add("error"),Object.keys(this.#i).some(a=>{const o=a;return this.#i[o]!==e[o]&&r.has(o)})};this.#C({listeners:n()})}#w(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#C(e){os.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Phe(e,t){return qa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function kz(e,t){return Phe(e,t)||e.state.data!==void 0&&TE(e,t,t.refetchOnMount)}function TE(e,t,n){if(qa(t.enabled,e)!==!1&&id(t.staleTime,e)!=="static"){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&Xk(e,t)}return!1}function Iz(e,t,n,s){return(e!==t||qa(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Xk(e,n)}function Xk(e,t){return qa(t.enabled,e)!==!1&&e.isStaleByTime(id(t.staleTime,e))}function zhe(e,t){return!Cx(e.getCurrentResult(),t)}function Lz(e){return{onFetch:(t,n)=>{const s=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,r=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let h=!1;const f=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},g=LV(t.options,t.fetchOptions),m=async(y,b,S)=>{if(h)return Promise.reject();if(b==null&&y.pages.length)return Promise.resolve(y);const M=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:b,direction:S?"backward":"forward",meta:t.options.meta};return f(k),k})(),N=await g(M),{maxPages:T}=t.options,E=S?whe:She;return{pages:E(y.pages,N,T),pageParams:E(y.pageParams,b,T)}};if(i&&r.length){const y=i==="backward",b=y?Fhe:Oz,S={pages:r,pageParams:a},C=b(s,S);o=await m(S,C,y)}else{const y=e??r.length;do{const b=c===0?a[0]??s.initialPageParam:Oz(s,o);if(c>0&&b==null)break;o=await m(o,b),c++}while(c<y)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function Oz(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function Fhe(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var $he=class extends zV{#t;#e;#n;#i;constructor(e){super(),this.#t=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#e=[],this.state=e.state||$V(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#s({type:"continue"})},n={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=PV({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(r,a)=>{this.#s({type:"failed",failureCount:r,error:a})},onPause:()=>{this.#s({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s=this.state.status==="pending",i=!this.#i.canStart();try{if(s)t();else{this.#s({type:"pending",variables:e,isPaused:i}),await this.#n.config.onMutate?.(e,this,n);const a=await this.options.onMutate?.(e,n);a!==this.state.context&&this.#s({type:"pending",context:a,variables:e,isPaused:i})}const r=await this.#i.start();return await this.#n.config.onSuccess?.(r,e,this.state.context,this,n),await this.options.onSuccess?.(r,e,this.state.context,n),await this.#n.config.onSettled?.(r,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(r,null,e,this.state.context,n),this.#s({type:"success",data:r}),r}catch(r){try{throw await this.#n.config.onError?.(r,e,this.state.context,this,n),await this.options.onError?.(r,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,r,e,this.state.context,n),r}finally{this.#s({type:"error",error:r})}}finally{this.#n.runNext(this)}}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),os.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function $V(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bhe=class extends lf{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const s=new $he({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){this.#t.add(e);const t=p1(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=p1(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=p1(e);if(typeof t=="string"){const s=this.#e.get(t)?.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){const t=p1(e);return typeof t=="string"?this.#e.get(t)?.find(s=>s!==e&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){os.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Az(t,n))}findAll(e={}){return this.getAll().filter(t=>Az(e,t))}notify(e){os.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return os.batch(()=>Promise.all(e.map(t=>t.continue().catch(Js))))}};function p1(e){return e.options.scope?.id}var Vhe=class extends lf{#t;#e=void 0;#n;#i;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),Cx(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Kh(n.mutationKey)!==Kh(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#s(),this.#r(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#s(),this.#r()}mutate(t,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#s(){const t=this.#n?.state??$V();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#r(t){os.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#e.variables,s=this.#e.context,i={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#i.onSuccess?.(t.data,n,s,i),this.#i.onSettled?.(t.data,null,n,s,i)):t?.type==="error"&&(this.#i.onError?.(t.error,n,s,i),this.#i.onSettled?.(void 0,t.error,n,s,i))}this.listeners.forEach(n=>{n(this.#e)})})}};function Rz(e,t){const n=new Set(t);return e.filter(s=>!n.has(s))}function Uhe(e,t,n){const s=e.slice(0);return s[t]=n,s}var Hhe=class extends lf{#t;#e;#n;#i;#s;#r;#o;#a;#f=[];constructor(e,t,n){super(),this.#t=e,this.#i=n,this.#n=[],this.#s=[],this.#e=[],this.setQueries(t)}onSubscribe(){this.listeners.size===1&&this.#s.forEach(e=>{e.subscribe(t=>{this.#u(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#s.forEach(e=>{e.destroy()})}setQueries(e,t){this.#n=e,this.#i=t,os.batch(()=>{const n=this.#s,s=this.#c(this.#n);this.#f=s,s.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const i=s.map(h=>h.observer),r=i.map(h=>h.getCurrentResult()),a=n.length!==i.length,o=i.some((h,f)=>h!==n[f]),c=a||o,u=c?!0:r.some((h,f)=>{const g=this.#e[f];return!g||!Cx(h,g)});!c&&!u||(c&&(this.#s=i),this.#e=r,this.hasListeners()&&(c&&(Rz(n,i).forEach(h=>{h.destroy()}),Rz(i,n).forEach(h=>{h.subscribe(f=>{this.#u(h,f)})})),this.#l()))})}getCurrentResult(){return this.#e}getQueries(){return this.#s.map(e=>e.getCurrentQuery())}getObservers(){return this.#s}getOptimisticResult(e,t){const n=this.#c(e),s=n.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[s,i=>this.#h(i??s,t),()=>this.#d(s,n)]}#d(e,t){return t.map((n,s)=>{const i=e[s];return n.defaultedQueryOptions.notifyOnChangeProps?i:n.observer.trackResult(i,r=>{t.forEach(a=>{a.observer.trackProp(r)})})})}#h(e,t){return t?((!this.#r||this.#e!==this.#a||t!==this.#o)&&(this.#o=t,this.#a=this.#e,this.#r=L0(this.#r,t(e))),this.#r):e}#c(e){const t=new Map(this.#s.map(s=>[s.options.queryHash,s])),n=[];return e.forEach(s=>{const i=this.#t.defaultQueryOptions(s),r=t.get(i.queryHash);r?n.push({defaultedQueryOptions:i,observer:r}):n.push({defaultedQueryOptions:i,observer:new Qk(this.#t,i)})}),n}#u(e,t){const n=this.#s.indexOf(e);n!==-1&&(this.#e=Uhe(this.#e,n,t),this.#l())}#l(){if(this.hasListeners()){const e=this.#r,t=this.#d(this.#e,this.#f),n=this.#h(t,this.#i?.combine);e!==n&&os.batch(()=>{this.listeners.forEach(s=>{s(this.#e)})})}}},BV=class extends lf{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const s=t.queryKey,i=t.queryHash??Kk(s,t);let r=this.get(i);return r||(r=new _he({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(r)),r}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){os.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Nz(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Nz(e,n)):t}notify(e){os.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){os.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){os.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ghe=class{#t;#e;#n;#i;#s;#r;#o;#a;constructor(e={}){this.#t=e.queryCache||new BV,this.#e=e.mutationCache||new Bhe,this.#n=e.defaultOptions||{},this.#i=new Map,this.#s=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=Zk.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=ZS.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(id(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),r=this.#t.get(s.queryHash)?.state.data,a=xhe(t,r);if(a!==void 0)return this.#t.build(this,s).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return os.batch(()=>this.#t.findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;os.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return os.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},s=os.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(Js).catch(Js)}invalidateQueries(e,t={}){return os.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=os.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let r=i.fetch(void 0,n);return n.throwOnError||(r=r.catch(Js)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(s).then(Js)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(id(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Js).catch(Js)}fetchInfiniteQuery(e){return e.behavior=Lz(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Js).catch(Js)}ensureInfiniteQueryData(e){return e.behavior=Lz(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ZS.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Kh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(s=>{wx(e,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(e,t){this.#s.set(Kh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#s.values()],n={};return t.forEach(s=>{wx(e,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Kk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===qk&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},VV=w.createContext(void 0),yt=e=>{const t=w.useContext(VV);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Whe=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(VV.Provider,{value:e,children:t})),UV=w.createContext(!1),HV=()=>w.useContext(UV);UV.Provider;function Yhe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Khe=w.createContext(Yhe()),GV=()=>w.useContext(Khe),WV=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},YV=e=>{w.useEffect(()=>{e.clearReset()},[e])},KV=({result:e,errorResetBoundary:t,throwOnError:n,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&e.data===void 0||OV(n,[e.error,s])),qV=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),s=e.staleTime;e.staleTime=typeof s=="function"?(...i)=>n(s(...i)):n(s),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ZV=(e,t)=>e.isLoading&&e.isFetching&&!t,EE=(e,t)=>e?.suspense&&t.isPending,QS=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function QV({queries:e,...t},n){const s=yt(n),i=HV(),r=GV(),a=w.useMemo(()=>e.map(b=>{const S=s.defaultQueryOptions(b);return S._optimisticResults=i?"isRestoring":"optimistic",S}),[e,s,i]);a.forEach(b=>{qV(b),WV(b,r)}),YV(r);const[o]=w.useState(()=>new Hhe(s,a,t)),[c,u,h]=o.getOptimisticResult(a,t.combine),f=!i&&t.subscribed!==!1;w.useSyncExternalStore(w.useCallback(b=>f?o.subscribe(os.batchCalls(b)):Js,[o,f]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),w.useEffect(()=>{o.setQueries(a,t)},[a,t,o]);const m=c.some((b,S)=>EE(a[S],b))?c.flatMap((b,S)=>{const C=a[S];if(C){const M=new Qk(s,C);if(EE(C,b))return QS(C,M,r);ZV(b,i)&&QS(C,M,r)}return[]}):[];if(m.length>0)throw Promise.all(m);const y=c.find((b,S)=>{const C=a[S];return C&&KV({result:b,errorResetBoundary:r,throwOnError:C.throwOnError,query:s.getQueryCache().get(C.queryHash),suspense:C.suspense})});if(y?.error)throw y.error;return u(h())}function qhe(e,t,n){const s=HV(),i=GV(),r=yt(n),a=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=s?"isRestoring":"optimistic",qV(a),WV(a,i),YV(i);const o=!r.getQueryCache().get(a.queryHash),[c]=w.useState(()=>new t(r,a)),u=c.getOptimisticResult(a),h=!s&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(f=>{const g=h?c.subscribe(os.batchCalls(f)):Js;return c.updateResult(),g},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(a)},[a,c]),EE(a,u))throw QS(a,c,i);if(KV({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(a,u),a.experimental_prefetchInRender&&!Yh&&ZV(u,s)&&(o?QS(a,c,i):r.getQueryCache().get(a.queryHash)?.promise)?.catch(Js).finally(()=>{c.updateResult()}),a.notifyOnChangeProps?u:c.trackResult(u)}function cf(e,t){return qhe(e,Qk,t)}function Zhe(e,t){const n=yt(t),s=n.getQueryCache();return w.useSyncExternalStore(w.useCallback(i=>s.subscribe(os.batchCalls(i)),[s]),()=>n.isFetching(e),()=>n.isFetching(e))}function Qhe(e,t){const n=yt(t);return XV({filters:{...e,status:"pending"}},n).length}function _z(e,t){return e.findAll(t.filters).map(n=>t.select?t.select(n):n.state)}function XV(e={},t){const n=yt(t).getMutationCache(),s=w.useRef(e),i=w.useRef(null);return i.current===null&&(i.current=_z(n,e)),w.useEffect(()=>{s.current=e}),w.useSyncExternalStore(w.useCallback(r=>n.subscribe(()=>{const a=L0(i.current,_z(n,s.current));i.current!==a&&(i.current=a,os.schedule(r))}),[n]),()=>i.current,()=>i.current)}function It(e,t){const n=yt(t),[s]=w.useState(()=>new Vhe(n,e));w.useEffect(()=>{s.setOptions(e)},[s,e]);const i=w.useSyncExternalStore(w.useCallback(a=>s.subscribe(os.batchCalls(a)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),r=w.useCallback((a,o)=>{s.mutate(a,o).catch(Js)},[s]);if(i.error&&OV(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:r,mutateAsync:i.mutate}}const Xhe=["facebook.com","yahoo.com","qq.com","live.com","outlook.com","msn.com","example.com","go.com","aol.com","free.fr","aliyun.com","163.com","yandex.ru","indiatimes.com","alibaba.com","geocities.com","about.com","naver.com","netscape.com","yahoo.co.jp","earthlink.net","sky.com","zoho.com","mail.ru","uol.com.br","angelfire.com","spb.ru","yandex.com","globo.com","gmail.com","medscape.com","space.com","discovery.com","t-online.de","mac.com","icloud.com","homestead.com","lycos.com","web.id","altavista.com","nus.edu.sg","rambler.ru","comcast.net","berlin.de","msk.ru","sapo.pt","ancestry.com","pp.ua","techspot.com","law.com","bt.com","daum.net","libero.it","india.com","icq.com","docomo.ne.jp","kansascity.com","orange.fr","hotmail.com","test.com","sina.cn","wp.pl","me.com","onet.pl","wanadoo.fr","proton.me","fortunecity.com","web.de","att.net","terra.com.br","canada.com","skynet.be","excite.com","compuserve.com","zp.ua","yourdomain.com","ig.com.br","ya.ru","detik.com","gmx.net","excite.co.jp","mindspring.com","xoom.com","chez.com","freeserve.co.uk","shaw.ca","interia.pl","test.de","care2.com","virgilio.it","tiscali.it","ntlworld.com","rr.com","seznam.cz","sina.com","arcor.de","yam.com","r7.com","sympatico.ca","freenet.de","gazeta.pl","geek.com","telenet.be","rcn.com","virginmedia.com","cox.net","tom.com","blueyonder.co.uk","sfr.fr","rogers.com","hotbot.com","btinternet.com","o2.co.uk","catholic.org","ireland.com","chat.ru","iinet.net.au","ozemail.com.au","doityourself.com","verizon.net","pochta.ru","virgin.net","erols.com","online.de","lycos.de","lycos.co.uk","bluewin.ch","albawaba.com","sanook.com","nate.com","protonmail.com","home.nl","rin.ru","mail.com","21cn.com","centrum.cz","126.com","casino.com","terra.es","www.com","planet.nl","i.ua","voila.fr","walla.co.il","myway.com","poste.it","aol.co.uk","parrot.com","charter.net","netcom.com","name.com","mydomain.com","hidemyass.com","club-internet.fr","chello.nl","unican.es","tiscali.co.uk","freeuk.com","sify.com","dailypioneer.com","sci.fi","mail-tester.com","onmilwaukee.com","ivillage.com","telus.net","metacrawler.com","blackplanet.com","saudia.com","iespana.es","hamptonroads.com","lycos.es","optusnet.com.au","alice.it","tpg.com.au","sdf.org","frontier.com","sweb.cz","lycos.nl","looksmart.com","hey.com","webindia123.com","freeyellow.com","i.am","prodigy.net","bigpond.com","pobox.com","gmx.com","oath.com","kiwibox.com","anonymize.com","wanadoo.es","islamonline.net","crosswinds.net","eircom.net","dejanews.com","frontiernet.net","au.ru","10minutemail.com","foxmail.com","neuf.fr","bugmenot.com","hetnet.nl","ukr.net","iol.it","cogeco.ca","newmail.ru","aim.com","depechemode.com","pacbell.net","netzero.net","temp-mail.org","concentric.net","terra.com","yahoo.jp","netins.net","mail2web.com","telstra.com","hot.ee","montevideo.com.uy","sprynet.com","masrawy.com","yeah.net","netspace.net.au","mailinator.com","scubadiving.com","idirect.com","backpackers.com","bigfoot.com","supereva.it","yahoofs.com","lycos.it","o2.pl","yahoo.com.tw","iprimus.com.au","yahoo.co.uk","inbox.com","spray.se","zonnet.nl","she.com","mailbox.org","yahoo.de","elvis.com","fr.nf","go.ro","swissinfo.org","juno.com","talktalk.co.uk","bellsouth.net","bolt.com","attbi.com","pe.hu","msn.co.uk","yahoo.fr","gportal.hu","gmx.de","seanet.com","guerrillamail.com","c3.hu","bigpond.net.au","adelphia.net","hushmail.com","dynu.net","interfree.it","incredimail.com","starmedia.com","dnsmadeeasy.com","zip.net","wowway.com","forthnet.gr","dmv.com","tds.net","wow.com","usa.com","land.ru","bangkok.com","singnet.com.sg","4mg.com","thirdage.com","terra.cl","fastmail.fm","tin.it","sp.nl","westnet.com.au","btconnect.com","webjump.com","bright.net","spacewar.com","oi.com.br","ananzi.co.za","lawyer.com","sbcglobal.net","blogos.com","37.com","talkcity.com","yahoo.com.cn","optimum.net","cableone.net","toolsource.com","aeiou.pt","roadrunner.com","airmail.net","nyc.com","c2i.net","3ammagazine.com","barcelona.com","iwon.com","cu.cc","yopmail.com","aver.com","cs.com","pipeline.com","ny.com","lex.bg","mchsi.com","korea.com","za.com"],jA="2025.10.20-61cbdb3";async function Jhe(e){const t=atob(e),n=t.length,s=new Uint8Array(n);for(let c=0;c<n;c++)s[c]=t.charCodeAt(c);const i=new Response(s).body;if(!i)return null;const r=new DecompressionStream("gzip"),a=i.pipeThrough(r);return await new Response(a).text()}const Ue=async({url:e,method:t="GET",headers:n={},body:s,contentType:i,returnResponse:r=!1,admin:a=!1,retries:o=3})=>{const c=`/api${e}`;if(a){const T=localStorage.getItem("AdminAuthorization");T&&(localStorage.setItem("Authorization",T),localStorage.removeItem("AdminAuthorization"),localStorage.setItem("NeedsInvalidate","1"))}const u=localStorage.getItem("Authorization"),h=localStorage.getItem("Experimental"),f=localStorage.getItem("Level"),g=localStorage.getItem("UserId"),m=JSON.parse(localStorage.getItem("ExtraHeaders")??"{}");if(u&&(n.Authorization=u),h&&(n["X-Experimental"]=h),f&&!a){const T=localStorage.getItem("LevelUpdated");T&&Date.now()-parseInt(T,10)<120*1e3?n["X-Level"]=f:(localStorage.removeItem("Level"),localStorage.removeItem("LevelUpdated"))}g&&(n["X-User-Id"]=g);const y={"X-FEUrl":window.location.href,"X-FEVersion":jA,...n,...m};s&&!i&&typeof s=="object"&&!(s instanceof FormData)&&!(s instanceof URLSearchParams)&&(s=JSON.stringify(s),i="application/json"),i||(i="application/x-www-form-urlencoded"),s instanceof FormData||(y["Content-Type"]=i);const b=await fetch(c.toString(),{method:t,headers:y,body:s}),S=b.headers.get("X-BEVersion");if(S&&S!==jA&&!window.refreshTimeout){const T=Math.floor(Math.random()*60)+10;console.log(`Frontend version ${jA} does not match backend version ${S}. Refreshing in ${T} seconds.`),window.refreshTimeout=setTimeout(()=>{window.location.reload()},T*1e3)}if((b.headers.get("content-security-policy")??"").toLowerCase().includes("recaptcha"))throw new Error("NeedsCaptcha");const M=b.headers.get("x-sql-query");if(M){const T=await Jhe(M);T&&(console.groupCollapsed(`SQL Query -- ${e}`),console.log(T),console.groupEnd())}const N=b.headers.get("x-level");if(N&&(localStorage.setItem("Level",N),localStorage.setItem("LevelUpdated",Date.now().toString())),b.status===417&&o&&o>0)return Ue({url:e,method:t,headers:n,body:s,contentType:i,returnResponse:r,retries:o-1});if(b.status===403&&b.headers.get("x-blocked")==="true")throw new Error("BlockedRequest");if(b.status===401)throw localStorage.removeItem("Authorization"),new Error("NeedsLogIn");if(b.status===421&&b.headers.get("x-header")&&o&&o>0){const T=b.headers.get("x-header");return Ue({url:e,method:t,headers:{...n,[T]:"1"},body:s,contentType:i,returnResponse:r,retries:o-1})}if(r)return b;if(!b.ok){const T=new Error(b.status===404?"Error 404: Resource not found":"Network response was not ok");if(b.headers.get("Content-Length")!=="0"&&b.headers.get("Content-Type")?.includes("application/json")){const E=await b.json();Object.assign(T,E)}throw T.response=b,T}return b.status!==204&&b.headers.get("Content-Length")!=="0"?b.json():!0},Zi=(e=5)=>e*(60*1e3);var ei=(e=>(e.free="free",e.pro="pro",e.enterprise="enterprise",e))(ei||{});const Gt=()=>{const e="/account/profile";return cf({queryKey:["profile"],queryFn:async()=>{if(localStorage.getItem("Authorization")===null)return!1;const n=await Ue({url:e});zB({id:n.id,email:n.email}),n.is_admin=n.email.endsWith("@sumble.com");const s=n.email.toLowerCase().split("@").pop();n.is_personal=Xhe.some(a=>s.endsWith(a));const i=n.subscription?.trial_end?n.subscription.trial_end*1e3:void 0,r=Date.now();return n.is_on_trial=!!(n.subscription?.tier===ei.pro&&i&&i>r),n},staleTime:Zi(1440),refetchOnWindowFocus:"always"})},go=w.createContext({isLoggedIn:!1,isLoading:!0,profile:!1,postGmailAuthCode:null,sendMagicLink:async()=>{},validateMagicLink:()=>{},sendLogout:()=>{}}),efe=({children:e})=>{const{data:t,isLoading:n}=Gt(),s=yt(),i=async g=>{if(!g)return{success:!1,status:400,token:null,error:{detail:"No code provided"}};const m=new URLSearchParams;m.append("code",g);const y=await fetch("/api/account/google/auth",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:m});return await o(y)},r=async g=>{const m=new URLSearchParams;return m.append("email",g),await Ue({url:"/account/magic/send",method:"POST",body:m})},a=async(g,m)=>{if(!m||!g)return{success:!1,status:400,token:null,error:{detail:"No code provided"}};const y=new URLSearchParams;y.append("email",g),y.append("code",m);const b=await Ue({url:"/account/magic/validate",method:"POST",body:y,returnResponse:!0});return await o(b)},o=async g=>{if(g.status===200){const m=await g.json();if(localStorage.setItem("Authorization",`Bearer ${m.access_token}`),localStorage.setItem("UserId",m.user_id),localStorage.setItem("Level",m.level),localStorage.setItem("LevelUpdated",Date.now().toString()),m.return_url){const y=localStorage.getItem("returnUrl");(!y||y==="/orgs")&&localStorage.setItem("returnUrl",m.return_url)}return await s.invalidateQueries({queryKey:["profile"]}),await s.invalidateQueries({queryKey:["organizationsList"]}),await s.invalidateQueries({queryKey:["teamsList"]}),m.is_new_user?Gp.event("New user signed in",{}):Gp.event("Existing user signed in",{}),{success:!0,status:g.status,token:m.access_token,error:null}}else return g.status===429?{success:!1,status:g.status,token:null,error:{detail:"Too many requests. Please wait and try again."}}:{success:!1,status:g.status,token:null,error:await g.json()}},c=async()=>(localStorage.removeItem("Authorization"),localStorage.removeItem("AdminAuthorization"),localStorage.removeItem("Level"),localStorage.removeItem("LevelUpdated"),zB(null),await s.invalidateQueries(),await s.refetchQueries(),!0),u=!n&&t!==!1,h={isLoggedIn:u,isLoading:n,profile:t,postGmailAuthCode:i,sendMagicLink:r,validateMagicLink:a,sendLogout:c};w.useEffect(()=>{if(t&&t.id){const g={user_id:t.id,user_name:t.name??t.email.replace("@"," at "),user_domain:t.email.split("@")[1],is_sumble:t.email.includes("@sumble.com")};Gp.gtag("set","user_properties",g)}else Gp.gtag("set","user_properties",{user_id:void 0,user_name:void 0,is_sumble:void 0})},[u]);const f=w.useMemo(()=>h,Object.values(h));return l.jsx(go.Provider,{value:f,children:e})};var tfe=function(){return null},nfe=["added","removed","updated"];function Pz(e){return nfe.includes(e)}async function sfe({queryClient:e,persister:t,maxAge:n=1e3*60*60*24,buster:s="",hydrateOptions:i}){try{const r=await t.restoreClient();if(r)if(r.timestamp){const a=Date.now()-r.timestamp>n,o=r.buster!==s;if(a||o)return t.removeClient();khe(e,r.clientState,i)}else return t.removeClient()}catch(r){throw await t.removeClient(),r}}async function zz({queryClient:e,persister:t,buster:n="",dehydrateOptions:s}){const i={buster:n,timestamp:Date.now(),clientState:Dhe(e,s)};await t.persistClient(i)}function ife(e){const t=e.queryClient.getQueryCache().subscribe(s=>{Pz(s.type)&&zz(e)}),n=e.queryClient.getMutationCache().subscribe(s=>{Pz(s.type)&&zz(e)});return()=>{t(),n()}}function rfe(e){let t=!1,n;const s=()=>{t=!0,n?.()},i=sfe(e).then(()=>{t||(n=ife(e))});return[s,i]}function NA(){}function afe({storage:e,key:t="REACT_QUERY_OFFLINE_CACHE",throttleTime:n=1e3,serialize:s=JSON.stringify,deserialize:i=JSON.parse,retry:r}){if(e){const a=o=>{try{e.setItem(t,s(o));return}catch(c){return c}};return{persistClient:ofe(o=>{let c=o,u=a(c),h=0;for(;u&&c;)h++,c=r?.({persistedClient:c,error:u,errorCount:h}),c&&(u=a(c))},n),restoreClient:()=>{const o=e.getItem(t);if(o)return i(o)},removeClient:()=>{e.removeItem(t)}}}return{persistClient:NA,restoreClient:NA,removeClient:NA}}function ofe(e,t=100){let n=null,s;return function(...i){s=i,n===null&&(n=Zu.setTimeout(()=>{e(...s),n=null},t))}}const JV=({showOnMobile:e})=>l.jsxs("div",{className:`text-[8px] md:px-2 py-0.5 z-50 rounded-t-sm fixed bottom-0 md:right-10 max-md:left-4 text-slate-400 md:bg-slate-50 ${e?"":"max-md:hidden"}`,children:[l.jsxs("a",{className:"hover:text-slate-500",href:"/privacy",target:"_blank",children:["Privacy ",l.jsx("span",{className:"max-md:hidden",children:"Policy"})]}),"  ",l.jsxs("a",{className:"hover:text-slate-500",href:"/terms-of-service",target:"_blank",children:["Terms ",l.jsx("span",{className:"max-md:hidden",children:"of Service"})]}),"  ","reCAPTCHA"," ",l.jsx("a",{href:"https://www.google.com/intl/en/policies/privacy/",target:"_blank",rel:"noreferrer",className:"hover:text-slate-500",children:"Privacy"})," ","/"," ",l.jsx("a",{href:"https://policies.google.com/terms?hl=en",target:"_blank",rel:"noreferrer",className:"hover:text-slate-500",children:"Terms"})]});function lfe(e){return w.createElement(_re,{flushSync:Ck.flushSync,...e})}function cfe(e,t,n=!0){return{...e,default:t,decode:(...i)=>{const r=e.decode(...i);return r===void 0||n&&r===null?t:r}}}function c2(e,t){if(e==null)return e;if(e.length===0&&(!t||t&&e!==""))return null;const n=e instanceof Array?e[0]:e;return n==null?n:!t&&n===""?null:n}function ufe(e){return e==null||e instanceof Array?e:e===""?[]:[e]}function dfe(e){return e==null?e:e?"1":"0"}function hfe(e){const t=c2(e);return t==null?t:t==="1"?!0:t==="0"?!1:null}function ffe(e){return e==null?e:String(e)}function pfe(e){const t=c2(e);return t==null?t:t===""?null:+t}function gfe(e){return e==null?e:String(e)}function mfe(e){const t=c2(e,!0);return t==null?t:String(t)}function yfe(e){return e==null?e:JSON.stringify(e)}function xfe(e){const t=c2(e);if(t==null)return t;let n=null;try{n=JSON.parse(t)}catch{}return n}function bfe(e){return e==null,e}function vfe(e){const t=ufe(e);return t==null,t}const ps={encode:gfe,decode:mfe},eU={encode:ffe,decode:pfe},Qa={encode:bfe,decode:vfe},Sfe={encode:yfe,decode:xfe},rd={encode:dfe,decode:hfe};function wfe(e){const t=new URLSearchParams,n=Object.entries(e);for(const[s,i]of n)if(i!==void 0&&i!==null)if(Array.isArray(i))for(const r of i)t.append(s,r??"");else t.append(s,i);return t.toString()}'{}[],":'.split("").map(e=>[e,encodeURIComponent(e)]);function Cfe(e,t){const n={},s=Object.keys(t);for(const i of s){const r=t[i];e[i]?n[i]=e[i].encode(t[i]):n[i]=r==null?r:String(r)}return n}function Mfe(e){const t=new URLSearchParams(e),n={};for(let[s,i]of t)Object.prototype.hasOwnProperty.call(n,s)?Array.isArray(n[s])?n[s].push(i):n[s]=[n[s],i]:n[s]=i;return n}class jfe{constructor(){this.paramsMap=new Map,this.registeredParams=new Map}set(t,n,s,i){this.paramsMap.set(t,{stringified:n,decoded:s,decode:i})}has(t,n,s){if(!this.paramsMap.has(t))return!1;const i=this.paramsMap.get(t);return i?i.stringified===n&&(s==null||i.decode===s):!1}get(t){var n;if(this.paramsMap.has(t))return(n=this.paramsMap.get(t))==null?void 0:n.decoded}registerParams(t){for(const n of t){const s=this.registeredParams.get(n)||0;this.registeredParams.set(n,s+1)}}unregisterParams(t){for(const n of t){const s=(this.registeredParams.get(n)||0)-1;s<=0?(this.registeredParams.delete(n),this.paramsMap.has(n)&&this.paramsMap.delete(n)):this.registeredParams.set(n,s)}}clear(){this.paramsMap.clear(),this.registeredParams.clear()}}const oS=new jfe;function Nfe(e,t){var n,s,i;const r={};let a=!1;const o=Object.keys(e);let c=o;if(t.includeKnownParams||t.includeKnownParams!==!1&&o.length===0){const h=Object.keys((n=t.params)!=null?n:{});c.push(...h)}for(const h of c){const f=e[h];if(f!=null&&typeof f=="object"){r[h]=f;continue}a=!0,r[h]=(i=(s=t.params)==null?void 0:s[h])!=null?i:ps}return a?r:e}function tU(e,t,n,s){var i;if(!n||!t.length)return e;let r={...e},a=!1;for(const o of t)Object.prototype.hasOwnProperty.call(r,o)||(r[o]=(i=n[o])!=null?i:s,a=!0);return a?r:e}const Afe=Object.prototype.hasOwnProperty;function Fz(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function nU(e,t,n){var s,i;if(Fz(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let o=0;o<r.length;o++){const c=(i=(s=void 0)==null?void 0:s.equals)!=null?i:Fz;if(!Afe.call(t,r[o])||!c(e[r[o]],t[r[o]]))return!1}return!0}function sU(e,t,n){const s={},i=Object.keys(t);for(const r of i){const a=t[r],o=e[r];let c;if(n.has(r,o,a.decode))c=n.get(r);else{if(c=a.decode(o),a.equals&&n.has(r,o)){const u=n.get(r);a.equals(c,u)&&(c=u)}c!==void 0&&n.set(r,o,c,a.decode)}c===void 0&&a.default!==void 0&&(c=a.default),s[r]=c}return s}function Tfe(){let e;function t(n,s,i){const r=sU(n,s,i);return e!=null&&nU(e,r)?e:(e=r,r)}return t}function Efe(e){let t;for(const n in e)if(e[n].urlName){const i=`${e[n].urlName}\0${n}`;t?t.push(i):t=[i]}return t?t.join(`
`):void 0}function Dfe(e){if(e)return Object.fromEntries(e.split(`
`).map(t=>t.split("\0")))}function kfe(e,t){var n;let s={};for(const i in e)((n=t[i])==null?void 0:n.urlName)!=null?s[t[i].urlName]=e[i]:s[i]=e[i];return s}let $z,Bz,Vz,AA={};const iU=(e,t,n)=>{if($z===t&&Vz===e&&Bz===n)return AA;$z=t,Vz=e;const s=e(t??"");Bz=n;const i=Dfe(n);for(let[r,a]of Object.entries(s)){i?.[r]&&(delete s[r],r=i[r],s[r]=a);const o=AA[r];nU(a,o)&&(s[r]=o)}return AA=s,s},Ife={searchStringToObject:Mfe,objectToSearchString:wfe,updateType:"pushIn",includeKnownParams:void 0,includeAllParams:!1,removeDefaultsFromUrl:!1,enableBatching:!1,skipUpdateWhenNoChange:!0};function rU(e,t){t==null&&(t={});const n={...e,...t};return t.params&&e.params&&(n.params={...e.params,...t.params}),n}const aU={adapter:{},options:Ife},DE=w.createContext(aU);function Lfe(){const e=w.useContext(DE);if(e===void 0||e===aU)throw new Error("useQueryParams must be used within a QueryParamProvider");return e}function Uz({children:e,adapter:t,options:n}){const{adapter:s,options:i}=w.useContext(DE),r=w.useMemo(()=>({adapter:t??s,options:rU(i,n)}),[t,n,s,i]);return w.createElement(DE.Provider,{value:r},e)}function Ofe({children:e,adapter:t,options:n}){const s=t;return s?w.createElement(s,null,i=>w.createElement(Uz,{adapter:i,options:n},e)):w.createElement(Uz,{options:n},e)}function Rfe(e,t){var n;for(const s in e)((n=t[s])==null?void 0:n.default)!==void 0&&e[s]!==void 0&&t[s].encode(t[s].default)===e[s]&&(e[s]=void 0)}function _fe({changes:e,updateType:t,currentSearchString:n,paramConfigMap:s,options:i}){const{searchStringToObject:r,objectToSearchString:a}=i;t==null&&(t=i.updateType);let o;const c=iU(r,n),u=tU(s,Object.keys(e),i.params);let h;if(typeof e=="function"){const g=sU(c,u,oS);h=e(g)}else h=e;o=Cfe(u,h),i.removeDefaultsFromUrl&&Rfe(o,u),o=kfe(o,u);let f;return t==="push"||t==="replace"?f=a(o):f=a({...c,...o}),f?.length&&f[0]!=="?"&&(f=`?${f}`),f??""}function Pfe({searchString:e,adapter:t,navigate:n,updateType:s}){const r={...t.location,search:e};typeof s=="string"&&s.startsWith("replace")?t.replace(r):t.push(r)}const zfe=e=>e(),Ffe=e=>setTimeout(()=>e(),0),g1=[];function $fe(e,{immediate:t}={}){g1.push(e);let n=t?zfe:Ffe;g1.length===1&&n(()=>{const s=g1.slice();g1.length=0;const i=s[0].currentSearchString;let r;for(let a=0;a<s.length;++a){const o=a===0?s[a]:{...s[a],currentSearchString:r};r=_fe(o)}e.options.skipUpdateWhenNoChange&&r===i||Pfe({searchString:r??"",adapter:s[s.length-1].adapter,navigate:!0,updateType:s[s.length-1].updateType})})}function Bfe(e,t){const{adapter:n,options:s}=Lfe(),[i]=w.useState(Tfe),{paramConfigMap:r,options:a}=Ufe(e,t),o=w.useMemo(()=>rU(s,a),[s,a]);let c=Nfe(r,o);const u=iU(o.searchStringToObject,n.location.search,Efe(c));o.includeAllParams&&(c=tU(c,Object.keys(u),o.params,ps));const h=i(u,c,oS),f=Object.keys(c).join("\0");w.useEffect(()=>{const b=f.split("\0");return oS.registerParams(b),()=>{oS.unregisterParams(b)}},[f]);const g={adapter:n,paramConfigMap:c,options:o},m=w.useRef(g);m.current==null&&(m.current=g),w.useEffect(()=>{m.current.adapter=n,m.current.paramConfigMap=c,m.current.options=o},[n,c,o]);const[y]=w.useState(()=>(S,C)=>{const{adapter:M,paramConfigMap:N,options:T}=m.current;C==null&&(C=T.updateType),$fe({changes:S,updateType:C,currentSearchString:M.location.search,paramConfigMap:N,options:T,adapter:M},{immediate:!T.enableBatching})});return[h,y]}var Vfe=Bfe;function Ufe(e,t){let n,s;return e===void 0?(n={},s=t):Array.isArray(e)?(n=Object.fromEntries(e.map(i=>[i,"inherit"])),s=t):(n=e,s=t),{paramConfigMap:n,options:s}}const Ut=(e,t,n)=>{const s=w.useMemo(()=>({[e]:t??"inherit"}),[e,t]),[i,r]=Vfe(s,n),a=i[e],o=w.useCallback((c,u)=>r(typeof c=="function"?h=>{const f=c(h[e]);return{[e]:f}}:{[e]:c},u),[e,r]);return[a,o]},Hfe=({children:e})=>{const t=Qt(),n=w.useContext(Ad)?.router,s=Rt();return e({replace(r){t(r.search||"?",{replace:!0,state:r.state})},push(r){t(r.search||"?",{replace:!1,state:r.state})},get location(){return n?.state?.location??s}})};var TA,Hz;function Gfe(){if(Hz)return TA;Hz=1;var e="Expected a function",t=NaN,n="[object Symbol]",s=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,c=typeof c1=="object"&&c1&&c1.Object===Object&&c1,u=typeof self=="object"&&self&&self.Object===Object&&self,h=c||u||Function("return this")(),f=Object.prototype,g=f.toString,m=Math.max,y=Math.min,b=function(){return h.Date.now()};function S(E,k,L){var I,_,F,G,U,H,z=0,$=!1,P=!1,B=!0;if(typeof E!="function")throw new TypeError(e);k=T(k)||0,C(L)&&($=!!L.leading,P="maxWait"in L,F=P?m(T(L.maxWait)||0,k):F,B="trailing"in L?!!L.trailing:B);function Y(me){var be=I,Ae=_;return I=_=void 0,z=me,G=E.apply(Ae,be),G}function K(me){return z=me,U=setTimeout(fe,k),$?Y(me):G}function te(me){var be=me-H,Ae=me-z,Te=k-be;return P?y(Te,F-Ae):Te}function se(me){var be=me-H,Ae=me-z;return H===void 0||be>=k||be<0||P&&Ae>=F}function fe(){var me=b();if(se(me))return oe(me);U=setTimeout(fe,te(me))}function oe(me){return U=void 0,B&&I?Y(me):(I=_=void 0,G)}function Ee(){U!==void 0&&clearTimeout(U),z=0,I=H=_=U=void 0}function ye(){return U===void 0?G:oe(b())}function je(){var me=b(),be=se(me);if(I=arguments,_=this,H=me,be){if(U===void 0)return K(H);if(P)return U=setTimeout(fe,k),Y(H)}return U===void 0&&(U=setTimeout(fe,k)),G}return je.cancel=Ee,je.flush=ye,je}function C(E){var k=typeof E;return!!E&&(k=="object"||k=="function")}function M(E){return!!E&&typeof E=="object"}function N(E){return typeof E=="symbol"||M(E)&&g.call(E)==n}function T(E){if(typeof E=="number")return E;if(N(E))return t;if(C(E)){var k=typeof E.valueOf=="function"?E.valueOf():E;E=C(k)?k+"":k}if(typeof E!="string")return E===0?E:+E;E=E.replace(s,"");var L=r.test(E);return L||a.test(E)?o(E.slice(2),L?2:8):i.test(E)?t:+E}return TA=S,TA}Gfe();var oU=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Gz(e,t,n,s){const i=w.useRef(t);oU(()=>{i.current=t},[t]),w.useEffect(()=>{const r=window;if(!(r&&r.addEventListener))return;const a=o=>{i.current(o)};return r.addEventListener(e,a,s),()=>{r.removeEventListener(e,a,s)}},[e,n,s])}function Wz(e){const t=w.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return oU(()=>{t.current=e},[e]),w.useCallback((...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[t])}var EA=typeof window>"u";function O0(e,t,n={}){const{initializeWithValue:s=!0}=n,i=w.useCallback(g=>n.serializer?n.serializer(g):JSON.stringify(g),[n]),r=w.useCallback(g=>{if(n.deserializer)return n.deserializer(g);if(g==="undefined")return;const m=t instanceof Function?t():t;let y;try{y=JSON.parse(g)}catch(b){return console.error("Error parsing JSON:",b),m}return y},[n,t]),a=w.useCallback(()=>{const g=t instanceof Function?t():t;if(EA)return g;try{const m=window.localStorage.getItem(e);return m?r(m):g}catch(m){return console.warn(`Error reading localStorage key ${e}:`,m),g}},[t,e,r]),[o,c]=w.useState(()=>s?a():t instanceof Function?t():t),u=Wz(g=>{EA&&console.warn(`Tried setting localStorage key ${e} even though environment is not a client`);try{const m=g instanceof Function?g(a()):g;window.localStorage.setItem(e,i(m)),c(m),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(m){console.warn(`Error setting localStorage key ${e}:`,m)}}),h=Wz(()=>{EA&&console.warn(`Tried removing localStorage key ${e} even though environment is not a client`);const g=t instanceof Function?t():t;window.localStorage.removeItem(e),c(g),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))});w.useEffect(()=>{c(a())},[e]);const f=w.useCallback(g=>{g.key&&g.key!==e||c(a())},[e,a]);return Gz("storage",f),Gz("local-storage",f),[o,u,h]}function Wfe(){const e=w.useRef(!1);return w.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),w.useCallback(()=>e.current,[])}var Yz={width:void 0,height:void 0};function lU(e){const{ref:t,box:n="content-box"}=e,[{width:s,height:i},r]=w.useState(Yz),a=Wfe(),o=w.useRef({...Yz}),c=w.useRef(void 0);return c.current=e.onResize,w.useEffect(()=>{if(!t.current||typeof window>"u"||!("ResizeObserver"in window))return;const u=new ResizeObserver(([h])=>{const f=n==="border-box"?"borderBoxSize":n==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",g=Kz(h,f,"inlineSize"),m=Kz(h,f,"blockSize");if(o.current.width!==g||o.current.height!==m){const b={width:g,height:m};o.current.width=g,o.current.height=m,c.current?c.current(b):a()&&r(b)}});return u.observe(t.current,{box:n}),()=>{u.disconnect()}},[n,t,a]),{width:s,height:i}}function Kz(e,t,n){return e[t]?Array.isArray(e[t])?e[t][0][n]:e[t][n]:t==="contentBoxSize"?e.contentRect[n==="inlineSize"?"width":"height"]:void 0}const _l=w.createContext({changeQueue:[],isColumnSet:()=>!1,hideColumnByDefault:()=>{},setChangeQueue:()=>{},setCurrentTable:()=>{},updateIndividualColumnConfig:()=>{},updateIndividualVisibility:()=>{},sorting:[],setSorting:()=>{},setAutoResizeWidth:()=>{},autoResizeWidths:{}}),Yfe="COLUMNS_005",Kfe=({children:e})=>{const[t,n]=w.useState({}),s=(k,L)=>{n(I=>({...I,[k]:L<150?176:L+26}))},[i,r]=w.useState(),[a,o]=w.useState([]),c=w.useRef(null),[u,h]=Ut("sort",ps),[f,g]=Ut("desc",rd),[m,y]=O0(Yfe,{}),b=(k,L)=>{y(I=>({...I,[k]:L}))},S=k=>{o(L=>[...L,k])},C=k=>{const L=typeof k=="function"?k(M):k;i&&L.length>0?sessionStorage.setItem(`sort_${i}`,JSON.stringify(L)):i&&L.length===0&&sessionStorage.removeItem(`sort_${i}`),h(L[0]?.id??null),g(L[0]?.desc??null)},M=w.useMemo(()=>u?[{id:u,desc:f??!1}]:[],[u,f]),N=(k,L)=>!!(m[k]&&m[k]?.columnVisibility&&m[k]?.columnVisibility.includes(L)),T=(k,L)=>{N(k,L)||S({table:k,columnId:L,visibility:!1})};w.useEffect(()=>{if(i){const k=sessionStorage.getItem(`sort_${i}`);if(k){const L=JSON.parse(k);C(L)}else c.current&&c.current!==i&&!(i==="FEED"&&u==="Time")&&C([])}c.current=i},[i]);const E={allColumnsConfig:m,changeQueue:a,isColumnSet:N,hideColumnByDefault:T,setChangeQueue:o,currentTable:i,setCurrentTable:r,updateIndividualColumnConfig:b,updateIndividualVisibility:S,sorting:M,setSorting:C,setAutoResizeWidth:s,autoResizeWidths:t};return l.jsx(_l.Provider,{value:E,children:e})},R0=w.createContext({pageToken:void 0,currentOrg:void 0,currentTech:void 0,currentJobFunction:void 0,setPageToken:()=>{},setCurrentOrg:()=>{},setCurrentTech:()=>{},setCurrentJobFunction:()=>{}}),qfe=({children:e})=>{const[t,n]=Ut("feed_p",ps),[s,i]=Ut("feed_org",ps),[r,a]=Ut("feed_tech",ps),[o,c]=Ut("feed_f",ps),u=(g,m,y)=>b=>{setTimeout(()=>n(null),10),setTimeout(()=>g(""),50),setTimeout(()=>m(""),90),setTimeout(()=>y(b),130)},h={pageToken:t,currentOrg:s,currentTech:r,currentJobFunction:o,setPageToken:n,setCurrentOrg:u(a,c,i),setCurrentTech:u(i,c,a),setCurrentJobFunction:u(i,a,c)},f=w.useMemo(()=>h,Object.values(h));return l.jsx(R0.Provider,{value:f,children:e})},yc={operator:"AND",children:[]},Zfe={operator:"OR",fields:{}},cU=()=>{const[e,t]=Ut("as",Sfe),n=()=>{const f=e??yc;t({...f,children:[...f.children,Zfe]})},s=(f,g)=>{const m=e??yc,y=[...m.children];y[f]=g,t({...m,children:y})},i=f=>{t({...e??yc,operator:f})},r=f=>{const g=e??yc,m=[...g.children];m.splice(f,1),t({...g,children:m})},a=f=>{const g=e??yc,m=[...g.children],y={...m[f]};y.operator=y.operator==="AND"?"OR":"AND",m[f]=y,t({...g,children:m})},o=(f,g,m,y)=>{const S={...(e??yc).children[f]},C=S.fields?.[g]??{},M=m==="include"?"exclude":"include";let N=C[m]??[],T=C[M]??[];const E=N.includes(y),k=T.includes(y);g==="hiring_period"?(N=E?[]:[y],T=k?[]:T):(N=E?N.filter(L=>L!==y):[...N,y],T=k?T.filter(L=>L!==y):T),S.fields={...S.fields,[g]:{...C,[m]:N,[M]:T}},s(f,S)},c=(f,g)=>{const m=e??yc,y=[...m.children],b={...y[f]},C=(b.fields?.project??{}).include??[],M=C.includes(g);b.fields={...b.fields,project:{include:M?C.filter(N=>N!==g):[...C,g]}},y[f]=b,t({...m,children:y})},u=(f,g)=>{const m=e??yc,y=[...m.children],b={...y[f]};b.fields&&delete b.fields[g],y[f]=b,t({...m,children:y})},h=()=>{t(void 0)};return w.useEffect(()=>{(e===null||e&&!e.children)&&h()},[e]),{advSearch:e&&e.children?e:yc,setAdvSearch:t,addAdvSearchGroup:n,resetAllSearch:h,removeAdvSearchGroup:r,resetAdvField:u,toggleAdvField:o,toggleAdvGroupOperator:a,toggleProject:c,updateAdvGroup:s,updateBaseOperator:i}},m1=(e,t,n)=>{const[s,i]=Ut(e,t),r=()=>{i(null)},a=o=>{t===Qa&&Array.isArray(s)?s?.includes(o)?i(s.filter(c=>c!==o)):i([...s,o]):i(s===o?void 0:o)};return[s?.length===0?null:s,i,r,a]},Qfe=()=>{const[e,t]=Ut("team_p",ps),[n,s]=Ut("team_pt",ps);return[e&&n?{token:e,type:n}:null,a=>{t(a.token),s(a.type)}]},Xfe=()=>{const[e,t]=Ut("people_p",ps),[n,s]=Ut("people_pt",ps);return[e&&n?{next_page_token:n==="next"?e:null,previous_page_token:n==="prev"?e:null}:null,a=>{a.next_page_token?(t(a.next_page_token),s("next")):a.previous_page_token?(t(a.previous_page_token),s("prev")):(t(null),s(null))}]},ze=()=>{const e=w.useContext(dU);if(e===void 0)throw new Error("useOrgFilter must be used within an OrganizationFilterProvider");return e},uU=()=>{const{currentOrg:e,orgLists:t,q:n,locations:s,levels:i,teamQ:r,setTeamPageToken:a,setTeamQ:o,setPeopleQ:c,setOrganizationPageToken:u,setPeoplePageToken:h}=ze(),f=w.useRef(n),g=w.useRef(t?t.join(","):null),m=()=>`${s?.join(",")}${i?.join(",")}${n}${r}`,y=w.useRef(m());w.useEffect(()=>{m()!==y.current&&(a({type:null,token:null}),u(null),h({next_page_token:null,previous_page_token:null})),y.current=m()},[s,i,n,r]),w.useEffect(()=>{a({type:null,token:null}),o(null),c(null)},[e]),w.useEffect(()=>{f.current!==n&&u(null),f.current=n},[n]),w.useEffect(()=>{g.current!==t?.join(",")&&u(null),g.current=t?t.join(","):null},[t])};function Jfe(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null&&t!==""&&t.length!==0))}const qz=(e,t,n)=>{const s={field:e,operator:`${t==="include"?"":"NOT "}${n.length===1?"EQ":"IN"}`,value:n.length===1?n[0]:void 0,values:n.length>1?n:void 0},i=Jfe(s);if(!(!i.value&&!i.values))return i},epe=(e,t,n,s)=>{if(n.length!==0)return n.length>1&&s==="AND"?n.map(i=>qz(e,t,[i])):qz(e,t,n)},tpe=(e,t,n)=>{if(Object.keys(t).length===0)return;const s=Object.entries(t).reduce((i,[r,a])=>{const o=epe(e,r,a,n);return o!==void 0&&(Array.isArray(o)?i.push(...o.filter(c=>c!==void 0)):i.push(o)),i},[]);if(s.length!==0)return s.length===1?s[0]:{operator:n,children:s}},npe=e=>{const t=Object.entries(e.fields).map(([n,s])=>tpe(n,s,e.operator)).filter(n=>n!==void 0);if(t.length!==0)return t.length===1?t[0]:[...t]},kE={operator:"NOOP"},spe=e=>{if(!e||e.children.length===0)return JSON.stringify(kE);const t=e.children.reduce((n,s)=>{if(Object.keys(s.fields).length===0)return n;const i=npe(s);return i!==void 0&&(Array.isArray(i)?n.push({operator:s.operator,children:i}):n.push(i)),n},[]);return t.length===0?JSON.stringify(kE):JSON.stringify({operator:e.operator,children:t})},Ai=(e,t)=>{const n=spe(e),s=t?Object.entries(t).filter(([i,r])=>r!=null&&i!=="organizations_list_is_and"&&r!=="").map(([i,r])=>{if(i==="organizations_list"&&t.organizations_list_is_and)return Array.isArray(r)&&r.length>0?{field:"organizations_list",operator:"IN ALL",values:r}:void 0;{const a=typeof r=="string"?"EQ":"IN";return{operator:a,field:i,value:a==="EQ"?r:void 0,values:a==="IN"?r:void 0}}}).filter(i=>i!==void 0):[];if(t&&s.length>0){const i={operator:"AND",children:[JSON.parse(n),...s].filter(r=>r.operator!=="NOOP")};return i.children.length===0?JSON.stringify(kE):JSON.stringify(i)}else return n},dU=w.createContext({addAdvSearchGroup:()=>{},addFilterToLastGroup:()=>{},advSearch:{operator:"AND",children:[]},currentOrg:"",orgLists:[],excludeLevels:[],filterJobs:!0,getAllFilters:()=>{},getNumberOfAppliedFilters:()=>0,isSearchEmpty:!0,jobQ:"",jobFunctionQ:null,levels:[],locations:[],organizationPageToken:void 0,isOrgListsAnd:!1,peoplePageToken:null,peoplePerOrg:null,peopleQ:"",q:"",resetAllSearch:()=>{},resetAdvField:()=>{},removeAdvSearchGroup:()=>{},resetExcludeLevel:()=>{},resetLevel:()=>{},resetLocation:()=>{},resetOrgParams:()=>{},resetOrgLists:()=>{},resetTeamParams:()=>{},savedSearchId:null,setAdvSearch:()=>{},setCurrentOrg:()=>{},setFilterJobs:()=>{},setJobQ:()=>{},setJobFunctionQ:()=>{},setLevels:()=>{},setLocations:()=>{},setOrganizationPageToken:()=>{},setOrgLists:()=>{},setIsOrgListsAnd:()=>{},setQ:()=>{},setTeamPageToken:()=>{},setTeamQ:()=>{},setPeoplePageToken:()=>{},setPeoplePerOrg:()=>{},setPeopleQ:()=>{},setSavedSearchId:()=>{},setShowSaveSearch:()=>{},showSaveSearch:!1,teamPageToken:null,teamQ:null,toggleAdvField:()=>{},toggleProject:()=>{},toggleAdvGroupOperator:()=>{},toggleExcludeLevel:()=>{},toggleLevel:()=>{},toggleLocation:()=>{},toggleOrgList:()=>{},updateAdvGroup:()=>{},updateBaseOperator:()=>{}}),ipe=({children:e})=>{const[t,n]=w.useState(!1),[s,i]=w.useState(null),[r,a]=Ut("q",ps),[o,c]=Ut("team_q",ps),[u,h]=Ut("people_q",ps),[f,g]=Ut("peoplePerOrg",eU),[m,y]=Ut("job_q",ps),[b,S]=Ut("job_function_q",ps),[C,M]=Ut("p",ps),[N,T,E,k]=m1("lc",Qa),[L,I,_,F]=m1("lvl",Qa),[G,U,H,z]=m1("lists",Qa),[$,P]=Ut("lists_op",rd),[B,Y,K,te]=m1("lvl_exc",Qa),[se,fe]=Qfe(),[oe,Ee]=Xfe(),{advSearch:ye,updateAdvGroup:je,addAdvSearchGroup:me,removeAdvSearchGroup:be,resetAllSearch:Ae,resetAdvField:Te,setAdvSearch:Be,toggleAdvField:Ge,toggleProject:Je,toggleAdvGroupOperator:et,updateBaseOperator:lt}=cU(),pt=ge=>{const{field:Qe,slug:De,type:Ze="include",alwaysMakeNewGroup:gn=!1}=ge,$t=ye??{operator:"AND",children:[]};if($t.children.length===0||gn){const Wn={operator:"OR",fields:{[Qe]:{[Ze]:[De],...Ze==="include"?{exclude:[]}:{include:[]}}}};Be({...$t,children:[...$t.children,Wn]})}else{const Wn=$t.children.length-1;Ge(Wn,Qe,Ze,De)}},[it,dn]=w.useState(""),[kt,Lt]=w.useState(!0);uU();const Ye=()=>{T(null),I(null),c(null)},Yt=()=>{E(),H(),Ae(),a(null)},Jt={addAdvSearchGroup:me,addFilterToLastGroup:pt,advSearch:ye,currentOrg:it,excludeLevels:B,filterJobs:kt,getAllFilters:ge=>{const Qe={organization_name:ge||!r?"":r,organizations_list:G,organizations_list_is_and:$,team_name:ge||!o?"":o,person_name:ge||!u?"":u,job_title:ge||!m?"":m},De=Ai(ye);return{advanced_query:JSON.parse(De),...Qe}},getNumberOfAppliedFilters:ge=>(N?.length??0)+(r&&!ge?1:0)+(o&&ge?1:0)+(G?.length??0),isSearchEmpty:!ye||!ye.children||ye.children.length===0||ye.children.length===1&&Object.keys(ye.children[0].fields).length===0,jobQ:m,jobFunctionQ:b,levels:L,locations:N,organizationPageToken:C,orgLists:G,isOrgListsAnd:$,peoplePageToken:oe,peoplePerOrg:f,peopleQ:u,q:r,resetAllSearch:Ae,resetAdvField:Te,removeAdvSearchGroup:be,resetExcludeLevel:K,resetLevel:_,resetLocation:E,resetOrgParams:Yt,resetOrgLists:H,resetTeamParams:Ye,savedSearchId:s,setAdvSearch:Be,setCurrentOrg:dn,setFilterJobs:Lt,setJobQ:y,setJobFunctionQ:S,setLevels:I,setLocations:T,setOrganizationPageToken:M,setOrgLists:U,setIsOrgListsAnd:P,setPeoplePageToken:Ee,setPeoplePerOrg:g,setPeopleQ:h,setQ:a,setSavedSearchId:i,setShowSaveSearch:n,setTeamPageToken:fe,setTeamQ:c,showSaveSearch:t,teamPageToken:se,teamQ:o,toggleAdvField:Ge,toggleAdvGroupOperator:et,toggleExcludeLevel:te,toggleLevel:F,toggleLocation:k,toggleOrgList:z,toggleProject:Je,updateAdvGroup:je,updateBaseOperator:lt},le=w.useMemo(()=>Jt,Object.values(Jt));return l.jsx(dU.Provider,{value:le,children:e})},rpe=()=>It({mutationFn:async({file:n})=>{const s=new FormData;return s.append("file",n),await Ue({url:"/account/uploadcsv",method:"POST",body:s,contentType:void 0})}}),ape=()=>{const[e,t]=w.useState(null),[n,s]=w.useState(null),[i,r]=w.useState({name:[],sample:[],predicted_name_col:null,predicted_url_col:null,predicted_loc_col:null}),[a,o]=w.useState(null),c=rpe();return w.useEffect(()=>{e&&(e.type==="text/csv"||e.name.endsWith(".csv")?c.mutate({file:e}):ln.error("Please upload your accounts file in CSV format.",{className:"bg-red-700! text-white! font-medium!"}))},[e]),w.useEffect(()=>{c.status==="success"&&(r(c.data.headers),s(c.data.upload_id),o(c.data.warning))},[c.status,c.data]),w.useEffect(()=>{c.status==="error"&&ln.error(`Error while uploading. ${c.error?.detail??""}`,{className:"bg-red-700! text-white! font-medium!"})},[c.status]),{cancelUpload:()=>{t(null),s(null),r({name:[],sample:[],predicted_name_col:null,predicted_url_col:null,predicted_loc_col:null})},fileToUpload:e,setFileToUpload:t,uploadId:n,setUploadId:s,columnHeaders:i,setColumnHeaders:r,isLoading:c.isPending,warning:a,setWarning:o}},ope=()=>It({mutationFn:async({uploadId:n,mappings:s})=>{const i=new URLSearchParams;return i.append("upload_id",n),s.organization&&s.organization.length>0&&i.append("account_name",s.organization),s.website&&s.website.length>0&&i.append("account_url",s.website),s.location&&s.location.length>0&&i.append("account_country",s.location),await Ue({url:"/account/joinorganizations",method:"POST",body:i.toString()})}});function lpe(e){const[t,n]=w.useState({organization:!1,website:!1,location:!1}),[s,i]=w.useState(null),[r,a]=w.useState(!1),o=ope(),c=()=>{e&&(t.organization!==!1||t.website!==!1)&&o.mutate({uploadId:e,mappings:t})};return w.useEffect(()=>{o.status==="success"&&i(o.data),o.status==="pending"?a(!0):a(!1)},[o.status,o.data]),w.useEffect(()=>{o.status==="error"&&ln.error(`Error while uploading. ${o.error?.detail??""}`,{className:"bg-red-700! text-white! font-medium!"})},[o.status]),{columnMappings:t,setColumnMappings:n,handleUploadMapping:c,matchesResponse:s,isProcessingMatches:r}}const u2=w.createContext({cancelUpload:()=>{},setFileToUpload:()=>{},uploadId:"",columnHeaders:{name:[],sample:[],predicted_name_col:null,predicted_url_col:null,predicted_loc_col:null},columnMappings:{organization:!1,website:!1,location:!1},setColumnMappings:()=>{},isLoading:!1,handleUploadMapping:()=>{},matchesResponse:null,isProcessingMatches:!1,warning:null,setWarning:()=>{}}),cpe=({children:e})=>{const{cancelUpload:t,setFileToUpload:n,uploadId:s,columnHeaders:i,isLoading:r,warning:a,setWarning:o}=ape(),c=Qt(),{columnMappings:u,setColumnMappings:h,handleUploadMapping:f,matchesResponse:g,isProcessingMatches:m}=lpe(s),y={cancelUpload:t,setFileToUpload:n,uploadId:s,columnHeaders:i,columnMappings:u,isLoading:r,setColumnMappings:h,handleUploadMapping:f,matchesResponse:g,isProcessingMatches:m,warning:a,setWarning:o},b=w.useMemo(()=>y,Object.values(y));return w.useEffect(()=>{g&&g.length>0&&c("/upload/preview")},[g]),w.useEffect(()=>{s&&(h({organization:!1,website:!1,location:!1}),c("/upload/map"))},[s]),l.jsx(u2.Provider,{value:b,children:e})},upe=()=>{const[e,t]=Ni();if(!e.get("loom")||e.get("loom")==="")return null;{const n=e.get("loom"),s=e.get("loom_ap")==="1";return l.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 bg-slate-100 bg-opacity-75 backdrop-blur-[2px] flex flex-col gap-8 items-center justify-center z-50 p-3 md:p-6",onClick:()=>t({loom:""}),children:[l.jsx("div",{className:" rounded-lg w-full h-auto max-h-[90vh] max-w-[120vh]",children:l.jsx("div",{className:"relative max-w-[100%] pb-[56.25%] h-0 border-[3rem] bg-slate-200 border-slate-200 rounded-[1rem]",children:l.jsx("iframe",{src:`https://www.loom.com/embed/${n}?sid=84eea3eb-0307-406a-a131-88ae302be6f3&hide_share=true&hideEmbedTopBar=true&autoplay=${s??""}`,allowFullScreen:!0,className:"absolute top-0 left-0 w-full h-full"})})}),l.jsx("button",{className:"bg-green-600 text-white font-medium px-10 text-[1.5rem] py-4 rounded-xl hover:bg-green-500",onClick:()=>t({loom:""}),children:"Get started"})]})}},dpe=["loc","tec","f"];function hpe(){const[e]=Ni(),t=Rt(),n=Qt();return w.useEffect(()=>{let s=!1;Array.from(e.entries()).forEach(([i,r])=>{if(dpe.includes(i)&&r.includes("|")){s=!0;const a=r.split("|");e.delete(i),a.forEach(o=>e.append(i,o))}}),s&&n({pathname:t.pathname,search:e.toString()})},[n,e,t.pathname]),null}const Yr=({className:e,dontAttachTestId:t})=>l.jsxs("svg",{"aria-hidden":"true","data-testid":t?"":"spinner-small",className:`w-5 h-5 mr-2 text-slate-100 animate-spin  fill-green-600 ${e||""}`,viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),l.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),DA=new Map,kA=new Set,y1=new Map,fpe=1e4,Jk=(e,t,n=2e3)=>{const s=!kA.has(t);kA.add(t),y1.has(t)&&clearTimeout(y1.get(t));const i=setTimeout(()=>{kA.delete(t),y1.delete(t)},fpe);y1.set(t,i);const r=DA.get(t);return r&&(clearTimeout(r.timeoutId),r.reject(Object.assign(new Error("Cancelled due to newer request"),{code:"CANCELLED_DELAY"}))),s?Ue(e).then(a=>a).catch(a=>{throw a}):new Promise((a,o)=>{const c=setTimeout(()=>{DA.delete(t),Ue(e).then(u=>{a(u)}).catch(u=>{o(u)})},n);DA.set(t,{timeoutId:c,reject:o})})};function nt(e){const{url:t,allowLoggedOut:n=!1,admin:s=!1,enabled:i=!0,queryKey:r,staleTime:a=Zi(),placeholderData:o=!0,method:c="GET",body:u,contentType:h,delayKey:f,delayMs:g=2e3,transform:m,refetchInterval:y,refetchOnWindowFocus:b}=e,S=typeof t=="function"?t():t;return cf({queryKey:r||(S?[S]:[]),queryFn:async()=>{if(!S)return;const M={url:S,admin:s,method:c,body:u,contentType:h};let N;return f?N=await Jk(M,f,g):N=await Ue(M),m?m(N):N},enabled:i&&!!S&&(n||!!localStorage.getItem("Authorization")),staleTime:a,placeholderData:o?Mx:void 0,refetchInterval:y,refetchOnWindowFocus:b})}const hU=()=>{const e="/account/subscriptions";return nt({url:e,queryKey:["subscriptions",e],staleTime:Zi(1440),enabled:!!localStorage.getItem("Authorization"),refetchOnWindowFocus:"always"})},Zz=e=>{if(e.value||e.values){const t=e.operator.startsWith("NOT")?"exclude":"include",n=e.value?[e.value]:e.values;if(n)return{key:e.field,type:t,values:n}}};function lS(e){const t={operator:e.operator||"OR",fields:{},children:[]},n=[];if(e.value||e.values){const i=Zz(e);i&&n.push(i)}e.children&&e.children.forEach(i=>{if(i.children){const r=lS(i);Object.keys(r.fields).forEach(a=>{const o=r.fields[a];["include","exclude"].forEach(c=>{const u=o?.[c];u&&n.push({key:a,type:c,values:u})})})}else{const r=Zz(i);r&&n.push(r)}});const s=n.reduce((i,r)=>(i[r.key]||(i[r.key]={}),i[r.key][r.type]||(i[r.key][r.type]=[]),i[r.key][r.type].push(...r.values),i),{});return t.fields=s,t}function fU(e){e.operator==="IN"&&(e.operator="OR");for(const t of e.children||[])fU(t)}function eI(e){const t=JSON.parse(e);fU(t);const n={operator:"AND",children:[]},s=t?.children??[],i=t?.operator??"AND",r=void 0;return(i==="AND"||i==="OR")&&s&&s.length>1?(n.operator=i,s?.forEach(a=>{n.children.push(lS(a))})):s&&s[0]?n.children.push(lS(s[0])):t&&n.children.push(lS(t)),[n,r]}const pU=(e,t)=>{let s=`/${t.includes("/jobs")?"jobs":"orgs"}`;e.organization&&(s=`/${t.includes("/f")?"f":"o"}/${e.organization.slug}`);const i={};if(e.filters.advanced_query){const[a,o]=eI(JSON.stringify(e.filters.advanced_query));i.as=JSON.stringify(a),e.filters.organizations_list?i.lists=e.filters.organizations_list.join("|"):o&&(i.ol=o),e.filters.organizations_list_is_and&&(i.lists_op=1)}else e.filters.techs&&e.filters.techs.length>0&&(i.tec=e.filters.techs.map(a=>a.slug).join("|")),e.filters.loc&&e.filters.loc.length>0&&(i.loc=e.filters.loc.join("|")),e.filters.job_functions&&e.filters.job_functions.length>0&&(i.f=e.filters.job_functions.join("|")),e.filters.q&&(i.q=e.filters.q),e.filters.employee_counts&&e.filters.employee_counts.length>0&&(i.emp=e.filters.employee_counts.join("|")),e.filters.industries&&e.filters.industries.length>0&&(i.ind=e.filters.industries.join("|")),e.filters.organizations_list&&(i.ol=e.filters.organizations_list),e.filters.hq_loc&&e.filters.hq_loc.length>0&&(i.hq=e.filters.hq_loc.join("|"));const r=Object.keys(i).map(a=>`${a}=${encodeURIComponent(i[a])}`.replaceAll("%7C",`&${a}=`));return r&&r.length>0&&(s+=`?${r.join("&")}`),s},ppe=e=>{const t=yt();return It({mutationFn:async()=>{await Ue({url:`/account/subscriptions/${e}`,method:"DELETE"})},onSuccess:()=>{t.invalidateQueries({queryKey:["subscriptions"]}).catch(i=>console.log(i)),t.invalidateQueries({queryKey:["profile_feed"]}).catch(i=>console.log(i)),t.invalidateQueries({queryKey:["organizationsList"]}).catch(i=>console.log(i)),t.invalidateQueries({queryKey:["teamsList"]}).catch(i=>console.log(i)),t.invalidateQueries({queryKey:["feed"]}).catch(i=>console.log(i)),t.invalidateQueries({queryKey:["profile_feed_summary"]}).catch(i=>console.log(i))}})},$o=({isAlert:e,isDisabled:t,setIsShowingConfirmModal:n,handleConfirm:s,handleCancel:i,title:r,description:a,confirmLabel:o,cancelLabel:c})=>(es("enter",()=>{s()},[]),l.jsxs(N0,{open:!0,onClose:()=>n(!1),children:[l.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-20",children:l.jsxs(A0,{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all md:my-8 md:w-full md:max-w-lg md:p-6",children:[l.jsxs("div",{className:"md:flex md:items-start",children:[l.jsx("div",{className:`mx-auto flex h-12 w-12 shrink-0 items-center justify-center rounded-full ${e?"bg-red-100":"bg-green-100"} md:mx-0 md:h-10 md:w-10`,children:l.jsx(l2,{className:`h-6 w-6 ${e?"text-red-600":"text-green-600"}`,"aria-hidden":"true"})}),l.jsxs("div",{className:"mt-3 text-center md:ml-4 md:mt-0 md:text-left",children:[l.jsx("h3",{className:"text-base font-semibold leading-6 text-slate-900",children:r}),l.jsx("div",{className:"mt-2 mb-4",children:l.jsx("p",{className:"text-slate-500 whitespace-normal",children:a})})]})]}),l.jsxs("div",{className:"mt-5 md:mt-4 md:flex md:flex-row-reverse",children:[l.jsx("button",{type:"button",className:`inline-flex w-full justify-center rounded-md ${e?"bg-red-600 hover:bg-red-500 disabled:bg-red-200":"bg-green-600 hover:bg-green-500 disabled:bg-green-200"} px-4 py-1 font-semibold text-white shadow-sm  md:ml-3 md:w-auto`,onClick:()=>s(),disabled:t,"data-testid":"confirm-button",children:o||(e?"OK":"Confirm")}),l.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-4 py-1 font-semibold text-slate-900 shadow-xs ring-1 ring-inset ring-slate-300 hover:bg-slate-50 md:mt-0 md:w-auto",onClick:()=>{i&&i(),n(!1)},children:c||"Cancel"})]})]})}),l.jsx(Mk,{className:"fixed inset-0 bg-slate-500 bg-opacity-75"})]})),d2=({setIsShowingDeleteModal:e,handleDelete:t,title:n,description:s})=>l.jsx($o,{isAlert:!0,setIsShowingConfirmModal:e,handleConfirm:t,title:n,description:s}),gpe=({setIsShowingDeleteModal:e,id:t})=>{const{mutate:n,isSuccess:s}=ppe(t),i=yt(),r=()=>{n()};return w.useEffect(()=>{s&&(i.resetQueries({queryKey:["subscriptions"]}),e(!1),ln("Saved search deleted."))},[s]),l.jsx(d2,{setIsShowingDeleteModal:e,handleDelete:r,title:"Delete saved search?",description:"This will remove the search from your list. This action cannot be undone."})};function gU(){return Rt().search}const Re=({to:e,doNotPassQuery:t,removeParamsFromCurrentQuery:n,trackEventName:s,...i})=>{const r=Qt(),a=gU();let o=e.includes("?")&&a.includes("?")?a.replace("?","&"):a;n&&n.length>0&&n.forEach(f=>{const g=new RegExp(`([?&])${f}=[^&]*`,"g");o=o.replace(g,"$1").replace(/&$/,"")});const c=`${e}${t?"":o}`,u=()=>{i.target==="_blank"?window.open(c,"_blank"):c.startsWith("http")?window.location.href=c:r(c)},h=f=>{if(s&&typeof window<"u"&&window.gtag){const g=i.target==="_blank";g||f.preventDefault();const m=g?null:setTimeout(()=>{console.warn("Event tracking timed out"),u()},500);try{window.gtag("event",s,{event_label:c,transport_type:"beacon",event_callback:()=>{!g&&m&&(clearTimeout(m),u())}})}catch(y){console.error("Error sending event:",y),g||u()}}};return l.jsx(Td,{onClick:h,to:c,...i})},Sr=({className:e,content:t,children:n,placement:s="left-start",delay:i,followMouse:r,zIndexClass:a})=>{const[o,c]=w.useState(!1),[u,h]=w.useState({x:0,y:0}),{refs:f,floatingStyles:g,context:m,update:y}=T0({open:o,onOpenChange:c,placement:r?void 0:s,whileElementsMounted:NB,middleware:[CB(5),MB({fallbackAxisSideDirection:"start"}),jB({padding:10})]}),b=xB(m,{move:!1,restMs:i??0}),S=bB(m),C=vB(m),M=SB(m,{role:"tooltip"}),{isMounted:N,styles:T}=yse(m,{initial:{opacity:0,transform:"translateY(0.5rem)"}}),{getReferenceProps:E,getFloatingProps:k}=wB([b,S,C,M]),L=F=>{r&&(h({x:F.clientX+12,y:F.clientY+12}),o||c(!0),y())},I=()=>{r&&c(!1)},_=()=>{c(!1)};return t?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:e??"",ref:f.setReference,...E({onMouseMove:L,onMouseLeave:I,onClick:_}),children:n}),o&&l.jsx(zg,{id:"tooltips-portal",children:l.jsx("div",{className:`${a??"z-10"}`,ref:f.setFloating,style:{...g,...r&&{position:"fixed",transform:`translate(${u.x}px, ${u.y}px)`}},...k(),children:N&&l.jsx("div",{style:{...T},children:t})})})]}):l.jsx(l.Fragment,{children:n})},Ht=({children:e,className:t,tooltipClassName:n,description:s,delay:i=250,hotkey:r,placement:a="bottom",zIndexClass:o})=>!s||s===""?e:l.jsx(Sr,{className:t,content:l.jsxs("div",{className:`max-md:hidden bg-slate-800 text-slate-100/90 font-semibold mt-0.5 ${r?"pl-3 px-2":"px-3"} text-sm py-1 flex flex-row items-center gap-2 rounded-xl ${n}`,children:[l.jsx("div",{children:s}),r&&l.jsx("div",{className:"bg-slate-700 text-slate-100 p-[0.4rem] py-[0.05rem] text-[0.8rem] rounded-lg",children:r})]}),delay:i,placement:a,zIndexClass:o,children:e});var x1={exports:{}},Qz;function mpe(){if(Qz)return x1.exports;Qz=1;function e(s,i,r){const a=r||".";let o;{let c;switch(typeof s){case"string":if(s.length<(s[0]==="-"?5:4))return s;o=s,c=Number(a!=="."?o.replace(a,"."):o);break;case"number":o=String(s),c=s,a!=="."&&!Number.isInteger(s)&&(o=o.replace(".",a));break;default:return s}if(-1e3<c&&c<1e3||isNaN(c)||!isFinite(c))return o}{const c=o.lastIndexOf(a);let u;c>-1&&(u=o.slice(c),o=o.slice(0,c));const h=t(o,i||",");return u&&h.push(u),h.join("")}}function t(s,i){let r=(s.length-1)%3+1;r===1&&s[0]==="-"&&(r=4);const a=[s.slice(0,r)];for(;r<s.length;r+=3)a.push(i,s.substr(r,3));return a}function n(s,i){return function(r){return e(r,s,i)}}return x1.exports=e,x1.exports.bindWith=n,x1.exports}var ype=mpe();const $e=$g(ype),_0=({directDescription:e,directLink:t})=>l.jsxs(l.Fragment,{children:[l.jsx(Tn,{title:e??"View all",link:t,icon:"next",target:"_blank",doNotPassQuery:!0}),l.jsx(kl,{})]}),P0=(e,t,n,s)=>{const i=[],r=n.children??[];if(s){if(r.length===0)return i;const a=r.length-1,c=r[a].fields;c[e]?.include?.includes(t)&&i.push({index:a,type:"include"}),c[e]?.exclude?.includes(t)&&i.push({index:a,type:"exclude"})}else for(let a=0;a<r.length;a++){const c=r[a].fields;c[e]?.include?.includes(t)&&i.push({index:a,type:"include"}),c[e]?.exclude?.includes(t)&&i.push({index:a,type:"exclude"})}return i},xpe=(e,t,n)=>{const s=e.include??[],i=e.exclude??[];return{include:n==="exclude"?s.filter(r=>r!==t):n==="remove"?s.filter(r=>r!==t):[...s,t],exclude:n==="include"?i.filter(r=>r!==t):n==="remove"?i.filter(r=>r!==t):[...i,t]}},uf=()=>{const{advSearch:e,setAdvSearch:t}=ze();return(s,i,r)=>{const a=P0(s,i,e),c=(e.children??[]).map(u=>({...u,fields:{...u.fields}}));a.length>0?a.forEach(u=>{if(u.type!==r){const h=c[u.index];h.fields[s]=xpe(h.fields[s]??{},i,r)}}):c.push({fields:{[s]:{[r]:[i]}},operator:"AND"}),t({...e,children:c})}},Ug=(e,t)=>{const{advSearch:n}=ze();return P0(e,t,n).length>0},z0=(e,t,n="include",s="OR")=>{const i={operator:"AND",children:[{operator:s,fields:{[e]:{[n]:t}}}]};return Ai(i)},F0=({queryKey:e,orgUrl:t,feedUrl:n,additionalUrls:s={},filterBody:i="",enabled:r})=>{const a=c=>c?Ue({url:c,method:"POST",contentType:"application/json",body:i}):null;return cf({queryKey:e,queryFn:async()=>{const c=[a(t),a(n),a(s.orgJobsUrl),a(s.orgPeopleUrl),a(s.orgTeamsUrl)].filter(Boolean),u=await Promise.all(c),[h,f,g,m,y]=u,b={all:{organizations:h.page_info.results_count??0,jobs:f.page_info.results_count??0}};return(s.orgJobsUrl||s.orgPeopleUrl||s.orgTeamsUrl)&&(b.organization={jobs:g?.page_info.results_count??0,people:m?.page_info.results_count??0,teams:y?.page_info.results_count??0}),b},staleTime:Zi(),enabled:r})},bpe=e=>{const t=z0("industry",[e]);return F0({queryKey:["chipIndustry",e],orgUrl:"/organizations/advanced",feedUrl:"/feed/advanced",filterBody:t,enabled:!!e})},vpe=({industry:e,directLink:t,directDescription:n})=>{const{data:s,isLoading:i}=bpe(e),r=uf(),a=Ug("industry",e);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-6 font-semibold min-h-8 mb-3",children:e}),t&&l.jsx(_0,{directDescription:n??"View all",directLink:t}),l.jsxs(l.Fragment,{children:[l.jsx(Tn,{onClick:()=>{r("industry",e,a?"remove":"include")},icon:a?"minus":"plus",title:`${a?"Remove from ":"Add to "} current filters`}),l.jsx(Tn,{onClick:()=>{r("industry",e,"exclude")},icon:"exclude",title:"Exclude matches from results"})]}),l.jsx(kl,{}),l.jsx($c,{children:"Search all organizations"}),l.jsx(Tn,{icon:"next",isLoading:i,link:`/orgs?ind=${e}`,title:"Organizations",count:s?.all.organizations??0})]})},Spe=(e,t)=>{const n=z0("job_function",[e]);return F0({queryKey:["chipJobFunction",e,t],orgUrl:"/organizations/advanced",feedUrl:"/feed/advanced",additionalUrls:{orgJobsUrl:t?`/feed/advanced?organization_slug=${t}`:void 0,orgPeopleUrl:t?`/people/${t}/advanced`:void 0,orgTeamsUrl:t?`/teams/${t}/advanced-new`:void 0},filterBody:n,enabled:!!e})},fa=(e,t,n="include",s="OR")=>{const i={operator:"AND",children:[{operator:s,fields:{[e]:{[n]:t}}}]};return`as=${encodeURIComponent(JSON.stringify(i))}`},wpe=({jobFunction:e,hideCurrentFilterAction:t,organization_slug:n,organization_name:s,directLink:i,directDescription:r})=>{const{data:a,isLoading:o}=Spe(e,n),c=uf(),u=Ug("job_function",e),h=fa("job_function",[e]);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-6 font-semibold min-h-8 mb-3",children:e}),i&&l.jsx(_0,{directDescription:r??"View all",directLink:i}),!t&&l.jsx(l.Fragment,{children:l.jsx(Tn,{onClick:()=>{c("job_function",e,u?"remove":"include")},icon:u?"minus":"plus",title:`${u?"Remove from ":"Add to "} current filters`})}),n&&l.jsxs(l.Fragment,{children:[l.jsx(kl,{}),l.jsxs($c,{children:["Search ",s??"this organization"]}),l.jsx(Tn,{icon:"next",isLoading:o,link:`/orgs/${n}/jobs?${h}`,title:"Job posts",count:a?.organization?.jobs??0,doNotPassQuery:!0}),l.jsx(Tn,{icon:"next",isLoading:o,link:`/orgs/${n}/people?${h}`,title:"People",count:a?.organization?.people??0,doNotPassQuery:!0}),l.jsx(Tn,{icon:"next",isLoading:o,link:`/orgs/${n}/teams?${h}`,title:"Teams",count:a?.organization?.teams??0,doNotPassQuery:!0})]}),l.jsx(kl,{}),l.jsx($c,{children:"Search all organizations"}),l.jsx(Tn,{icon:"next",isLoading:o,link:`/orgs?${h}`,title:"Organizations",count:a?.all.organizations??0,doNotPassQuery:!0,target:"_blank"}),l.jsx(Tn,{icon:"next",isLoading:o,link:`/jobs?${h}`,title:"Job posts",count:a?.all.jobs??0,doNotPassQuery:!0,target:"_blank"})]})},Cpe=(e,t)=>{const n=z0("job_level",[e]);return F0({queryKey:["chipJobLevel",e,t],orgUrl:"/organizations/advanced",feedUrl:"/feed/advanced",additionalUrls:{orgJobsUrl:t?`/feed/advanced?organization_slug=${t}`:void 0,orgPeopleUrl:t?`/people/${t}/advanced`:void 0,orgTeamsUrl:t?`/teams/${t}/advanced-new`:void 0},filterBody:n,enabled:!!e})},Mpe=({jobLevel:e,hideCurrentFilterAction:t,organization_slug:n,organization_name:s,directLink:i,directDescription:r})=>{const{data:a,isLoading:o}=Cpe(e,n),c=uf(),u=Ug("job_level",e),h=fa("job_level",[e]);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-6 font-semibold min-h-8 mb-3",children:e}),i&&l.jsx(_0,{directDescription:r??"View all",directLink:i}),!t&&l.jsx(l.Fragment,{children:l.jsx(Tn,{onClick:()=>{c("job_level",e,u?"remove":"include")},icon:u?"minus":"plus",title:`${u?"Remove from ":"Add to "} current filters`})}),n&&l.jsxs(l.Fragment,{children:[l.jsx(kl,{}),l.jsxs($c,{children:["Search ",s??"this organization"]}),l.jsx(Tn,{icon:"next",isLoading:o,link:`/orgs/${n}/jobs?${h}`,title:"Job posts",count:a?.organization?.jobs??0,doNotPassQuery:!0}),l.jsx(Tn,{icon:"next",isLoading:o,link:`/orgs/${n}/people?${h}`,title:"People",count:a?.organization?.people??0,doNotPassQuery:!0}),l.jsx(Tn,{icon:"next",isLoading:o,link:`/orgs/${n}/teams?${h}`,title:"Teams",count:a?.organization?.teams??0,doNotPassQuery:!0})]}),l.jsx(kl,{}),l.jsx($c,{children:"Search all organizations"}),l.jsx(Tn,{icon:"next",isLoading:o,link:`/orgs?${h}`,title:"Organizations",count:a?.all.organizations??0,doNotPassQuery:!0,target:"_blank"}),l.jsx(Tn,{icon:"next",isLoading:o,link:`/jobs?${h}`,title:"Job posts",count:a?.all.jobs??0,doNotPassQuery:!0,target:"_blank"})]})},qr=e=>{const t={...e};return t.tokenType&&t.token&&(t[`${t.tokenType}_page_token`]=t.token,delete t.tokenType,delete t.token),Object.entries(t).sort(([s],[i])=>s.localeCompare(i)).filter(([,s])=>s!=null&&s!=="").flatMap(([s,i])=>Array.isArray(i)?i.map(r=>`${s}=${r.slug?encodeURIComponent(r.slug):encodeURIComponent(r)}`):`${s}=${encodeURIComponent(i)}`).join("&")},Gn=(e,t=!1)=>{const{advSearch:n}=ze();return w.useMemo(()=>{const i=new Set;n.children.forEach(a=>{a.fields[e]&&(a.fields[e].include&&a.fields[e].include.forEach(o=>i.add(o)),t&&a.fields[e].exclude&&a.fields[e].exclude.forEach(o=>i.add(o)))});const r=Array.from(i);return r&&r.length>0?r:null},[n,e,t])},jpe=()=>{const{sorting:e,setSorting:t,currentTable:n}=w.useContext(_l),s=Gn("technology"),i=Gn("job_function"),r=Gn("project"),{isSearchEmpty:a}=ze(),o=w.useMemo(()=>n!=="ORGS"&&n!=="EXPORT_ORGS"||e.length>0&&!((r??[]).length>0&&e[0].id==="Tech jobs"&&e[0].desc===!0||(s??[]).length>0&&(r??[]).length===0&&e[0].id==="Teams count"&&e[0].desc===!0||(i??[]).length>0&&(s??[]).length===0&&e[0].id==="People count"&&e[0].desc===!0)?e:(r??[]).length>0?[{id:"Tech jobs",desc:!0}]:(s??[]).length>0?[{id:"Teams count",desc:!0}]:(i??[]).length>0&&!a?[{id:"People count",desc:!0}]:[],[n,s,i,a,e]);return w.useEffect(()=>{(n==="ORGS"||n==="EXPORT_ORGS")&&(JSON.stringify(e)===JSON.stringify(o)||t(o))},[o,n,e]),o},Xz={ORGS:{Name:"name",Industry:"industry",Employees:"employee_count","Last job post":"last_activity_time","First job post":"first_activity_time","Tech jobs":"jobs_count","Teams count":"teams_count","People count":"people_count","Tech jobs growth":"jobs_count_growth_6mo","Cloud spend estimate":"cloud_spend_estimate_millions_usd"},FEED:{Job:"title",Location:"location",Time:"datetime_pulled",Organization:"organization_name"},TEAM:{Name:"name","Tech jobs":"jobs_count","Last job post":"last_activity_time","First job post":"first_activity_time"},JF:{},MOVEMENT:{},CONTACTS:{},PEOPLE:{},TECHS:{},JOB_PEOPLE:{},EXPORT_ORGS:{},ACCOUNT_LISTS:{},ACCOUNT_LISTS_NEW:{Organization:"sumble_name",SourceName:"source_name",Added:"created_at",Match:"score","Source URL":"source_url",EmployeeCount:"employee_count"}},df=e=>{const t=jpe();let n={};if(t&&t.length>0&&e){const s=t[0];if(Object.keys(Xz[e]).includes(s.id)){const r=Xz[e]?.[s.id];n=r?{order_by:r,order_by_direction:s.desc?"DESC":"ASC"}:{}}}return n},Npe=e=>Object.entries(e).reduce((t,[n,s])=>n==="q"?t:{...t,[n]:s},{}),Hg=(e,t,n)=>{const s=ze(),i=df(n);return{suffix:w.useMemo(()=>{const a=t(s),o=Npe(a),c=e(s),u=qr({...o,...i});return u?`${c}?${u}`:c},[s,i])}},Ape=({bypassFilters:e,organization_slug:t,team_slug:n,pageToken:s,route:i,useQ:r,q:a,job_function_slug:o})=>(i=i??"/feed",Hg(()=>`${i}/advanced`,c=>({organization_slug:t,team_slug:n,job_function_slug:o,q:e?null:a||(r?c.q:n?null:c.teamQ),next_page_token:e?null:s}),"FEED")),mo=(e,t)=>{const{q:n,jobQ:s,teamQ:i,peopleQ:r,orgLists:a,isOrgListsAnd:o}=ze(),c=t!==!0&&(e==="organizations"||e==="jobs"||e==="people")&&(a??[]).length>0;return w.useMemo(()=>({organization:e==="organizations"?n:null,organizations_list:c?a:null,organizations_list_is_and:c?o:null,person_name:e==="people"?r:null,job_title:e==="jobs"?s:null,team_name:e==="teams"?i:null}),[n,s,i,r,e,a,o])},Zc=({enabled:e=!0,organization_slug:t,bypassFilters:n,useQ:s,team_slug:i,pageToken:r,q:a,job_function_slug:o})=>{const{pageToken:c}=w.useContext(R0),u=r||c,{advSearch:h}=ze(),f=mo("jobs",!!t),{suffix:g}=Ape({organization_slug:t,team_slug:i,pageToken:u,bypassFilters:n,useQ:s,q:a,job_function_slug:o});return nt({url:g,method:"POST",contentType:"application/json",body:Ai(h,f),delayKey:"$feedList",enabled:e,queryKey:["feed",g,JSON.stringify(h),JSON.stringify(f)],transform:m=>(m.feed_items.forEach(y=>{y.teams_list=y.teams.map(b=>b.name).join(", ")}),m)})},di=(e,t)=>e.replace(/\w\S*/g,n=>(n.length===2||n.length===3)&&!t?n:n.charAt(0).toUpperCase()+n.substring(1)),tI=(e,t)=>{const n=`/teams/${e}/${t}`;return nt({url:n,queryKey:["team",n],transform:i=>(i.name=di(i.name),i),enabled:!!e&&!!t})},Tpe=({organization_slug:e,team_slug:t,params:n})=>{const s=`/teams/${e}/${t}/people`,i=qr({...n});return i?`${s}?${i}`:s},mU=(e,t,n)=>{const s=Tpe({organization_slug:e,team_slug:t,params:n});return nt({url:s,queryKey:["teamPeople",s],enabled:!!e&&!!t})},Epe=({team:e,organization_slug:t})=>{const{data:n,isLoading:s}=mU(t,e.slug,{}),{data:i,isLoading:r}=Zc({organization_slug:t,bypassFilters:!0,team_slug:e.slug}),{data:a,isLoading:o}=tI(t,e.slug);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-6 font-semibold min-h-8 mb-3 line-clamp-2",children:e.name}),l.jsxs(l.Fragment,{children:[l.jsx(Tn,{className:n?.page_info.results_count===0?"pointer-events-none opacity-50":"",link:`/orgs/${t}/teams/${e.slug}/people`,icon:"next",title:n?.page_info.results_count!==0?"View people":"No people found",isLoading:s,count:n?.page_info.results_count??0,showSpinnerWhenLoading:!0,allowClickWhileLoading:!0}),l.jsx(Tn,{link:`/orgs/${t}/teams/${e.slug}/jobs`,icon:"next",title:"View job posts",count:i?.page_info.results_count??0,isLoading:r,showSpinnerWhenLoading:!0,allowClickWhileLoading:!0}),l.jsx(Tn,{link:`/orgs/${t}/teams/${e.slug}/techs`,icon:"next",title:"View technologies",count:a?.technologies.length??0,isLoading:o,showSpinnerWhenLoading:!0,allowClickWhileLoading:!0})]})]})},Dpe=(e,t)=>{const n=z0("hq_location",[e]);return F0({queryKey:["chipCountry",e],orgUrl:"/organizations/advanced",feedUrl:"/feed/advanced",additionalUrls:{orgJobsUrl:t?`/feed?organization_slug=${t}`:void 0},filterBody:n,enabled:!!e})},kpe=({country:e,directLink:t,directDescription:n,organization_slug:s})=>{const{data:i,isLoading:r}=Dpe(e.slug,s),a=uf(),o=Ug("hq_location",e.slug);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-6 font-semibold min-h-8 mb-3",children:e.name}),t&&l.jsx(_0,{directDescription:n??"View all",directLink:t}),l.jsxs(l.Fragment,{children:[l.jsx(Tn,{onClick:()=>{a("hq_location",e.slug,o?"remove":"include")},icon:o?"minus":"plus",title:`${o?"Remove from ":"Add to "} current filters`}),l.jsx(Tn,{onClick:()=>{a("hq_location",e.slug,"exclude")},icon:"exclude",title:"Exclude matches from results"})]}),s&&l.jsxs(l.Fragment,{children:[l.jsx(kl,{}),l.jsx($c,{children:"Search this organization"}),l.jsx(Tn,{icon:"next",isLoading:r,link:`/orgs/${s}/jobs?loc=${e.slug}`,title:"Job posts",count:i?.organization?.jobs??0})]}),l.jsx(kl,{}),l.jsx($c,{children:"Search all organizations"}),l.jsx(Tn,{icon:"next",isLoading:r,link:`/orgs?adv=1&as=%7B%22operator%22%3A%22OR%22%2C%22children%22%3A%5B%7B%22operator%22%3A%22OR%22%2C%22fields%22%3A%7B%22country%22%3A%7B%22include%22%3A%5B%22${e.slug}%22%5D%2C%22exclude%22%3A%5B%5D%7D%7D%7D%5D%7D`,title:"Organizations",count:i?.all.organizations??0}),l.jsx(Tn,{icon:"next",isLoading:r,link:`/jobs?adv=1&as=%7B%22operator%22%3A%22OR%22%2C%22children%22%3A%5B%7B%22operator%22%3A%22OR%22%2C%22fields%22%3A%7B%22country%22%3A%7B%22include%22%3A%5B%22${e.slug}%22%5D%2C%22exclude%22%3A%5B%5D%7D%7D%7D%5D%7D`,title:"Job posts",maxCount:2e4,count:i?.all.jobs??0})]})},zn=()=>{const e=Rt(),t={path:e.pathname,query_params:e.search};return{sendEvent:(s,i)=>{Gp.event(s,{...t,...i})}}},Ipe=({directDescription:e,directLink:t,hideCurrentFilterAction:n,organization_slug:s,organization_name:i,project:r})=>{const a=uf(),o=Ug("project",r.slug),c=`as=%7B%22operator%22%3A%22AND%22%2C%22children%22%3A%5B%7B%22operator%22%3A%22OR%22%2C%22fields%22%3A%7B%22project%22%3A%7B%22include%22%3A%5B%22${r.slug}%22%5D%7D%7D%7D%5D%7D`;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-6 font-semibold min-h-8 mb-3",children:r.name}),t&&l.jsx(_0,{directDescription:e??"View all",directLink:t}),!n&&l.jsx(l.Fragment,{children:l.jsx(Tn,{onClick:()=>{a("project",r.slug,o?"remove":"include")},icon:o?"minus":"plus",title:`${o?"Remove from ":"Add to "} current filters`})}),s&&l.jsxs(l.Fragment,{children:[l.jsx(kl,{}),l.jsxs($c,{children:["Search ",i??"this organization"]}),l.jsx(Tn,{icon:"next",link:`/orgs/${s}/jobs?${c}`,title:"Job posts"}),l.jsx(Tn,{icon:"next",link:`/orgs/${s}/job-functions?${c}`,title:"People"})]}),l.jsx(kl,{}),l.jsx($c,{children:"Search all organizations"}),l.jsx(Tn,{icon:"next",link:`/orgs?${c}`,title:"Organizations"}),l.jsx(Tn,{icon:"next",link:`/jobs?${c}`,title:"Job posts"})]})},Lpe=({tag:e})=>{const t=uf(),n=Ug("tag",e.slug);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-6 font-semibold min-h-8 mb-3",children:e.name}),l.jsx(Tn,{onClick:()=>{t("tag",e.slug,n?"remove":"include")},icon:n?"minus":"plus",title:`${n?"Remove from ":"Add to "} current filters`})]})},Ru="bg-slate-100 hover:bg-slate-200 text-slate-600/90",Jz=["bg-green-100 hover:bg-green-200 text-green-800","bg-green-100 hover:bg-green-200 text-green-800"],eF=["bg-yellow-100 hover:bg-yellow-200 text-yellow-800","bg-yellow-100 hover:bg-yellow-200 text-yellow-800"],tF=["bg-amber-100/80 hover:bg-amber-200/70 text-amber-950/70!","bg-amber-100/80 hover:bg-amber-200/70 text-amber-950/70!"],Ope={selected:{techs:Jz[0],techs_mentioned:eF[0],job_functions:"bg-blue-100 hover:bg-blue-200 text-blue-900/80",industries:"bg-purple-100 hover:bg-purple-200 text-purple-800/70",team:Ru,country:"bg-orange-100 hover:bg-orange-200 text-orange-800",general:Ru,general_with_selected:"bg-green-100 hover:bg-green-200 text-green-800",projects:"bg-purple-100 hover:bg-purple-200 text-purple-800/80",job_levels:"bg-red-100 hover:bg-red-200 text-red-800",tags:"bg-purple-100 hover:bg-purple-200 text-purple-800/70",url_matched:Ru,url_not_matched:tF[0]},unselected:{techs:Jz[1],techs_mentioned:eF[1],job_functions:"bg-blue-100 hover:bg-blue-200 text-blue-900/80",industries:"bg-slate-100 hover:bg-slate-200 text-slate-600",team:Ru,country:Ru,general:Ru,general_with_selected:Ru,projects:"bg-purple-100 hover:bg-purple-200 text-purple-800/80",job_levels:"bg-red-100 hover:bg-red-200 text-red-800",tags:"bg-slate-100 hover:bg-slate-200 text-slate-600",url_matched:Ru,url_not_matched:tF[1]}},Rpe={techs:"bg-green-500/30",techs_mentioned:"bg-yellow-500/30",job_functions:"bg-blue-500/30",industries:"bg-purple-500/30",team:"bg-slate-500/30",country:"bg-orange-500/30",general:"bg-slate-500/30",general_with_selected:"bg-green-500/30",projects:"bg-purple-500/30",job_levels:"bg-red-500/30",tags:"bg-purple-500/30",url_matched:"bg-slate-500/30",url_not_matched:"bg-amber-500/30"};function gt({className:e,classNameTooltip:t,count:n,customLabel:s,disallowClick:i,directLink:r,directDescription:a,doNotPassQuery:o,fixedNumberLength:c,heat:u,hideArrow:h,hideCurrentFilterAction:f,href:g,hrefs:m,isInfo:y,item:b,openInNewWindow:S,organization_name:C,organization_slug:M,removeExistingSortParams:N,selected:T,target:E,team_slug:k,text:L,tooltip:I,type:_,useBasicColor:F,...G}){const{sendEvent:U}=zn(),[,H]=Ut("tech-info",ps),z=`relative pl-2.5 ${h?"pr-2.5":"pr-1"} font-medium text-[0.95rem] h-[1.5rem] rounded-full flex items-center gap-1 flex-row ${Ope[T?"selected":"unselected"][F&&!T?"general":_]} truncate max-w-full ${e}`,$=l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"truncate",children:L}),n!==void 0&&_!=="tags"&&l.jsx("div",{className:"opacity-50 mix-blend-darken font-semibold text-xs relative top-[0.05rem] tabular-nums text-right tracking-tighter",style:{minWidth:c?`${c}rem`:0},children:$e(n)})," "]});return g?l.jsx(Ht,{description:I??"",className:`truncate ${t} ${i?"pointer-events-none":""}`,children:l.jsxs(Re,{to:g,target:E??S??g?.startsWith("http")?"_blank":"",rel:"noreferrer",className:z,removeParamsFromCurrentQuery:N?["sort","desc"]:[],onClick:P=>{P.stopPropagation(),U("click_chip",{category:_})},...G,doNotPassQuery:o,children:[l.jsx("div",{className:"truncate flex flex-row items-center gap-1",children:$}),!h&&!s&&l.jsx(ls,{className:"w-4 h-4 opacity-50 mix-blend-darken flex-none"}),s&&l.jsx("div",{className:"text-[0.6rem] font-bold opacity-50 pr-1 relative top-[0.13rem] uppercase",children:s})]})}):(_==="techs"||_==="techs_mentioned")&&b?l.jsx(Ht,{description:I??"",className:`truncate ${t} ${i?"pointer-events-none":""}`,children:l.jsxs("button",{className:z,onClick:P=>{P.preventDefault(),P.stopPropagation(),i||(U("click_chip",{category:_,label:L}),H(b.slug))},children:[$,!h&&l.jsx(Ic,{className:"ml-1 w-5 h-5 opacity-30 mix-blend-darken flex-none"})]})}):l.jsx(Qw,{children:({open:P})=>l.jsx(Ht,{description:I&&!P?I:null,className:`truncate ${t} `,children:l.jsxs("div",{children:[l.jsxs(jk,{className:`${z} ${i?"pointer-events-none":""} ${P?"ring-1 ring-inset ring-slate-200":""}`,onClick:B=>{if(B.stopPropagation(),i){B.preventDefault();return}P?B.preventDefault():U("click_chip",{category:_,label:L})},children:[$,!h&&!y&&l.jsx(Kr,{className:"w-4 h-4 opacity-50 mix-blend-darken flex-none"}),y&&l.jsx(Ic,{className:"ml-1 w-5 h-5 opacity-30 mix-blend-darken flex-none"}),u&&l.jsx("div",{style:{width:`${.95*u*100}%`},className:`opacity-75 group-hover:opacity-100 top-[0px] absolute bottom-[0px] left-0 ${Rpe[_]} mix-blend-darken`})]}),l.jsx(Nk,{portal:!0,anchor:{to:"bottom start",offset:0,gap:0},className:"bg-white w-[20rem] py-4 shadow-lg flex flex-col shadow-slate-800/20 border border-slate-200 rounded-lg text-slate-700 select-none mt-1 ",children:m?l.jsx("div",{className:"flex flex-col",children:m.map((B,Y)=>l.jsxs(Re,{className:"px-5 hover:bg-slate-100 py-1 relative font-medium",to:B.url,children:[l.jsx("div",{className:"pr-10",children:B.text}),l.jsx(ls,{className:"w-4 h-4 absolute top-4 right-4 -mt-2 text-slate-400"})]},Y))}):l.jsxs(l.Fragment,{children:[_==="industries"&&l.jsx(vpe,{industry:b?.name??""}),_==="projects"&&b&&l.jsx(Ipe,{directLink:r,directDescription:a,hideCurrentFilterAction:f,organization_slug:M,organization_name:C,project:b}),_==="job_functions"&&b&&l.jsx(wpe,{directLink:r,directDescription:a,hideCurrentFilterAction:f,jobFunction:b.name,organization_slug:M,organization_name:C}),_==="job_levels"&&b&&l.jsx(Mpe,{directLink:r,directDescription:a,hideCurrentFilterAction:f,jobLevel:b.name,organization_slug:M,organization_name:C}),_==="country"&&b&&l.jsx(kpe,{directLink:r,directDescription:a,country:b,organization_slug:M}),_==="team"&&b&&l.jsx(Epe,{team:b,organization_slug:M??""}),_==="tags"&&b&&l.jsx(Lpe,{tag:b})]})})]})})})}const kl=()=>l.jsx("div",{className:"h-px mt-3 mb-3 bg-slate-100"}),$c=({children:e})=>l.jsx("div",{className:"h-8 text-slate-400 px-6",children:e}),_pe=({link:e,...t})=>e?l.jsx(Re,{to:e,...t}):l.jsx("button",{...t}),Tn=({allowClickWhileLoading:e,className:t,doNotPassQuery:n,icon:s,isLoading:i,link:r,maxCount:a,target:o,title:c,count:u,onClick:h,showSpinnerWhenLoading:f,...g})=>{const m="w-4 h-4 text-slate-400";return l.jsx(Qw.Item,{children:l.jsxs(_pe,{link:r,className:`h-8 pl-6 pr-4 hover:bg-slate-100 text-left flex flex-row items-center justify-between ${t} gap-2 ${i&&!e?"animate-pulse pointer-events-none":""} ${!i&&u!==void 0&&u===0?"pointer-events-none opacity-50 ":""}`,onClick:y=>{y.stopPropagation(),h&&h(y)},target:o,...g,children:[l.jsx("div",{className:"truncate",children:c}),u!==void 0&&l.jsx(l.Fragment,{children:i?f?l.jsx(Yr,{className:"ml-auto w-3 h-3"}):l.jsx("div",{className:"ml-auto h-6 w-6 rounded-full bg-slate-100 animate-pulse"}):u?l.jsxs("div",{className:"ml-auto bg-slate-100 rounded-full text-xs font-semibold text-slate-500 px-2",children:[$e(u),a&&u>=a?"+":""]}):l.jsx("div",{className:"ml-auto text-xs text-slate-200",children:"0"})}),s==="minus"&&l.jsx(Gk,{className:m}),s==="plus"&&l.jsx(Fo,{className:m}),s==="next"&&l.jsx(ls,{className:m}),s==="exclude"&&l.jsx(gd,{className:m})]})})},yU=(e,t)=>{const n=qr(t),s=n?`${e}?${n}`:e;return nt({url:s,enabled:!(t.fetching_selected_technologies&&(!t.slugs||t.slugs.length===0)),queryKey:["technologiesList",s]})},gg=e=>yU("/technologies/total-org-mentions",e),Ppe=e=>yU("/technologies/mentions-within-org",e),$0=({organization_slug:e,q:t,enabled:n=!0})=>{const s=`/technology-categories?${qr({organization_slug:e,q:t})}`;return nt({url:s,queryKey:["techCategoriesList",JSON.stringify({organization_slug:e,q:t})],enabled:n})},qo=()=>nt({url:"/account/account-lists",queryKey:["accountListsNew"],delayKey:"$accountListsNew",staleTime:Zi(1440),refetchOnWindowFocus:"always"}),nI=()=>{const{data:e}=qo(),t=w.useMemo(()=>!e||e.length===0?{}:Object.fromEntries(e.map(s=>[s.id.toString(),s])),[e]);return{accountListById:w.useMemo(()=>!e||e.length===0?{}:Object.fromEntries(e.map(s=>[s.id,s])),[e]),accountListByStringId:t}},Gg=()=>nt({url:"/tags",queryKey:["tags"],transform:t=>{const n=t.tags,s=n.reduce((i,r)=>(i[r.slug]=r,i),{});return{tags:n,tagsDict:s}}}),sI=()=>l.jsx("div",{className:"flex-1 flex flex-row gap-1 flex-wrap",children:l.jsx("div",{className:"text-slate-300 px-2",children:"No filters"},"nofilters")}),zpe=new Set(["advanced_query","q","content","orgNameOrList","loc","hq_loc","employee_counts"]),Fpe=({filters:e,hideArrow:t,organization:n})=>{const s=(i,r)=>!r||Array.isArray(r)&&r.length===0?[]:["job_functions","loc","hq_loc","industries","employee_counts","job_levels"].includes(i)?r.map(o=>({name:o,slug:o})):i==="techs"?r.map(o=>({name:o.name,slug:o.slug})):i==="q"||i==="orgNameOrList"?[{name:r,slug:r}]:i==="projects"?r.map(o=>({name:o.name,slug:o.slug,noClick:!0})):[];return Object.keys(e).map(i=>{const r=s(i,e[i]);return r.length===0?null:l.jsx(w.Fragment,{children:r.map(a=>{const o=zpe.has(i)?"general":i;return l.jsx(gt,{text:a.name,type:o,hideArrow:t||a.noClick,item:a,disallowClick:a.noClick,organization_slug:n},`${i}${a.name}`)})},i)}).sort(i=>i?.key==="projects"?-1:0).filter(i=>i!==null)},xU=e=>{const t=[];return e?.fields?.technology?.include&&t.push(e.fields.technology.include),e?.fields?.technology?.exclude&&t.push(e.fields.technology.exclude),e.operator&&e.children&&e.children.forEach(n=>{t.push(...xU(n))}),t.flat().filter(n=>n!=null)},$pe=({filters:e,fullSizeText:t,allInOneLine:n,accountListByStringId:s,organization:i})=>{const r=(()=>{switch(!0){case!!i:return"bg-green-100";case!!e.organizations_list:return"bg-orange-100";default:return"bg-purple-100"}})();let a=[i??e.orgNameOrList??"All organizations"];return e.organizations_list&&i===void 0&&(a=e.organizations_list.filter(o=>o in s).map(o=>s[o].name)),l.jsxs("div",{className:`${t?"":"text-[0.8rem]"} flex ${n?"flex-row":"flex-col"} gap-1`,children:[l.jsx("div",{className:`flex-none ${t?"":"w-[7.7rem]"} flex flex-row`,children:l.jsx("div",{className:`flex-none h-[1.5rem] truncate ${r} font-medium rounded-full ${t?"px-2.5":"px-2 h-[1.2rem] leading-[1.2rem]"} items-center`,children:a.join(", ")})}),e.advanced_query&&(e.advanced_query.children||[]).length>0?l.jsx(bU,{item:e.advanced_query,fullSizeText:t}):l.jsx(sI,{})]})},bU=({item:e,fullSizeText:t=!1,vertical:n=!1,dontTruncate:s=!1})=>{if(!e)return l.jsx(sI,{});const[i]=eI(JSON.stringify(e)),r=i.children.flatMap(m=>xU(m)),{data:a}=gg({fetching_selected_technologies:!0,slugs:r??[]}),o=i.children.some(m=>(m.fields.technology_category?.include?.length??0)>0||(m.fields.technology_category?.exclude?.length??0)>0),{data:c}=$0({enabled:o}),{accountListByStringId:u}=nI(),{data:h}=Gg(),f=c?.technology_categories??[],g=(m,y,b=!1)=>{const S=b?"-":"";switch(m){case"technology":return S+(a?.technologies.find(C=>C.slug===y)?.name??y);case"technology_category":return S+(f?.find(C=>C.slug===y)?.name??y);case"organizations_list":return S+(u?.[y]?.name??y);case"tag":return S+(h?.tagsDict[y]?.name??y);default:return S+y}};return l.jsx("div",{className:`${t?"":"text-[0.8rem]"} flex ${n?"flex-col":"flex-row"} flex-wrap gap-1`,children:i.children.map((m,y)=>l.jsxs(w.Fragment,{children:[l.jsx("div",{className:`bg-slate-100 font-medium rounded-full ${t?"px-2.5":"px-2 h-[1.2rem] leading-[1.2rem]"} ${s?"px-4! py-2! rounded-3xl!":"max-w-[20rem] truncate"} items-center`,children:Object.entries(m.fields).map((b,S)=>{const C=[...(b[1].include??[]).map(M=>g(b[0],M,!1)),...(b[1].exclude??[]).map(M=>g(b[0],M,!0))];return l.jsx(w.Fragment,{children:C.map(M=>l.jsxs(w.Fragment,{children:[M,l.jsxs("span",{className:"last:hidden",children:[","," "]})]},M))},S)})}),l.jsx("div",{className:`text-slate-400 text-[0.6rem] ${t?"leading-[1.35rem]":"leading-[1.2rem] h-[1.2rem]"} font-semibold last:hidden relative top-[0.1rem]`,children:i.operator})]},`${y}`))})},Bpe=e=>(!e.advanced_query?.children||e.advanced_query?.children?.length===0)&&(!e.q||e.q.trim().length===0)&&(!e.job_functions||e.job_functions.length===0)&&(!e.loc||e.loc.length===0)&&(!e.techs||e.techs.length===0)&&(!e.projects||e.projects.length===0)&&(!e.job_levels||e.job_levels.length===0),h2=({allInOneLine:e,className:t,filters:n,fullSizeText:s=!1,hideArrow:i,organization:r,returnNullOnEmpty:a=!1})=>{const{accountListByStringId:o}=nI(),c=!!n.advanced_query;return Bpe(n)&&!c&&!n.orgNameOrList?a?null:l.jsx(sI,{}):l.jsx("div",{className:t??"flex-1 flex flex-row gap-1 flex-wrap",children:c?l.jsx($pe,{filters:n,fullSizeText:s,allInOneLine:e,accountListByStringId:o,organization:r}):l.jsx(Fpe,{filters:n,organization:r,hideArrow:i})})},Vpe=({sub:e,isActive:t=!1,selectCallback:n})=>{const s=Qt(),{pathname:i}=Rt(),[r,a]=w.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`flex flex-col md:flex-row md:gap-4 md:px-10 py-5 max-md:px-4 hover:bg-green-50! hover:bg-opacity-75 cursor-pointer relative border-b border-slate-100 ${t?"bg-slate-50":""}`,onClick:()=>{s(pU(e,i)),n&&n()},children:[l.jsx(h2,{organization:e.organization?e.organization.name:void 0,filters:{organizations_list:e.filters.organizations_list,...e.filters},allInOneLine:!0,hideArrow:!0,fullSizeText:!0}),l.jsx("div",{className:"flex-none w-2 text-right max-md:absolute max-md:right-6 max-md:top-4",children:l.jsx("button",{className:"flex flex-row text-slate-400 hover:text-red-500 gap-1 whitespace-nowrap",onClick:o=>{o.stopPropagation(),a(!0)},children:l.jsx(a2,{className:"w-6 h-6 relative top-0.5"})})}),l.jsx("div",{className:"max-md:hidden col-span-6 h-[1px] bg-slate-100 my-2"})]},e.id),r&&l.jsx(gpe,{id:e.id,setIsShowingDeleteModal:a})]})},Upe=()=>l.jsx("div",{className:"flex-1 flex items-center justify-center gap-8 px-6 pt-6 whitespace-normal",children:l.jsx("div",{className:"flex items-center justify-center max-w-[30rem] w-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx(NV,{className:"mx-auto h-12 w-12 text-slate-400","aria-hidden":"true"}),l.jsx("h3",{className:"mt-2 font-semibold text-slate-800 text-lg",children:"No saved searches"}),l.jsx("p",{className:"mt-4 max-w-[25rem] text-slate-400 font-medium",children:"Quickly access your most relevant search filters and locations on Sumble. Get started by creating a customising a filter."})]})})}),Hpe=({selectCallback:e})=>{const{data:t,isLoading:n}=hU(),{savedSearchId:s}=ze(),{data:i,isLoading:r}=Gt();return n||r?l.jsx("div",{className:"flex flex-1 min-h-[10rem] text-slate-300 pt-1 max-md:px-4"}):!t||t.length===0?l.jsx(Upe,{}):!n&&!r&&t&&i&&l.jsx("div",{className:"text-slate-800 font-normal",children:l.jsx(l.Fragment,{children:l.jsx("div",{className:"flex flex-col",children:t.map(a=>l.jsx(Vpe,{sub:a,selectCallback:e,isActive:a.id===s},a.id))})})})},vU=({selectCallback:e})=>{const{isLoggedIn:t,isLoading:n}=w.useContext(go);return n?null:t?l.jsx(Hpe,{selectCallback:e}):l.jsx(l.Fragment,{children:"Please log in to view your saved searches."})},Gpe=()=>{const{data:e,isLoading:t}=hU(),{searchId:n}=He();if(t||!e)return null;try{const s=e.find(i=>i.id===parseInt(n||"0"));return s?l.jsx(of,{to:pU(s,"/orgs")}):null}catch{return null}},Wpe=()=>{const e=yt();return It({mutationFn:async s=>await Ue({url:"/account/subscriptions",method:"POST",body:JSON.stringify(s),contentType:"application/json"}),onSuccess:s=>(e.invalidateQueries({queryKey:["subscriptions"]}).catch(i=>console.log(i)),e.invalidateQueries({queryKey:["teamsList"]}).catch(i=>console.log(i)),e.invalidateQueries({queryKey:["profile_feed"]}).catch(i=>console.log(i)),e.invalidateQueries({queryKey:["organizationsList"]}).catch(i=>console.log(i)),e.invalidateQueries({queryKey:["feed"]}).catch(i=>console.log(i)),e.invalidateQueries({queryKey:["profile_feed_summary"]}).catch(i=>console.log(i)),s)})},iI=(e,t="")=>new URLSearchParams(t).has("return")?encodeURIComponent(e):encodeURIComponent(e+t),SU=({savedSearchId:e,hideIfSubscribed:t=!1,isListLoading:n,label:s,className:i=""})=>{const{organizationId:r}=He(),{isLoggedIn:a}=w.useContext(go),{getAllFilters:o}=ze(),{sendEvent:c}=zn(),{mutate:u,isSuccess:h,isPending:f}=Wpe(),g=Qt(),m=()=>{if(!a)sessionStorage.setItem("subscribeOnReturn",JSON.stringify(o(!0))??""),ln("Please log in or create an account to save your search.",{duration:5e3}),g(`/account/login?return=${iI(window.location.pathname,window.location.search)}`);else{const S=o(!0);S&&(c("save_search",{event_label:"top"}),u({filters:r?{...S,organization_slug:r}:S}))}},[y,b]=w.useState(!!e);return w.useEffect(()=>{b(!!e)},[e,n]),w.useEffect(()=>{h&&b(!0)},[h]),y&&t?null:l.jsx(Ype,{label:s,isLoading:f,isListLoading:n,showSubscribed:y,handleSubscribe:m,className:i})},Ype=({isLoading:e,isListLoading:t,showSubscribed:n,handleSubscribe:s,label:i="Save this search",className:r=""})=>n?l.jsx(Ht,{description:l.jsx(l.Fragment,{children:"Keep track of your most used searches."}),children:l.jsxs(Re,{to:"/searches",className:"whitespace-nowrap font-medium rounded-full h-[2.6rem] gap-2 flex flex-row items-center px-4 pl-3 bg-slate-400 text-white",children:[l.jsx(ar,{className:"w-5 h-5"}),l.jsx("div",{className:"mx-auto pr-2",children:"Subscribed"})]})}):l.jsx(Ht,{description:l.jsx(l.Fragment,{children:"Keep track of new job posts matching this search."}),placement:"bottom",children:l.jsxs("button",{onClick:s,className:`${e||t?"animate-pulse":""} ${t?"bg-slate-100 text-slate-400":"bg-green-600 hover:bg-green-500 text-white hover:text-white"} whitespace-nowrap w-[11.4rem] font-medium rounded-full h-[2.6rem] gap-2 flex flex-row items-center px-4 pl-3 ${r}`,children:[l.jsx(NV,{className:"w-5 h-5"}),e?"Saving...":i]})}),f2=({className:e,...t})=>l.jsx("div",{className:`fixed inset-0 bg-slate-400/75 backdrop-blur ${e??""}`,"aria-hidden":"true",...t}),Kpe=()=>{const[e,t]=w.useState(!1),{savedSearchId:n}=ze(),{pathname:s}=Rt();return l.jsxs("div",{className:"max-md:hidden flex flex-row gap-3 font-semibold text-slate-400 relative whitespace-nowrap",children:[(s.startsWith("/orgs")||s.startsWith("/jobs"))&&l.jsx(l.Fragment,{children:l.jsxs("button",{onClick:()=>t(!e),className:`ml-4 flex flex-row hover:text-slate-600 whitespace-nowrap ${e?"text-slate-600":""}`,children:["Saved Searches ",l.jsx(Kr,{className:"w-6 h-6"})]})}),e&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"absolute top-7 right-0 w-[90vw] max-w-[80rem] bg-white shadow-lg rounded-md border-slate-200 border z-20 max-h-[calc(100vh-10rem)] overflow-auto",children:[l.jsx(vU,{selectCallback:()=>t(!1)}),l.jsx("div",{className:"flex justify-start",children:l.jsx(SU,{savedSearchId:n,isListLoading:!1,label:"Save current view",className:"w-[12.2rem]! mx-10! my-5!",hideIfSubscribed:!0})})]}),l.jsx("div",{className:"fixed top-0 left-0 bottom-0 right-0 z-10",onClick:()=>t(!1)}),l.jsx(f2,{className:"bg-white/70! backdrop-blur-none!"})]})]})},qpe=e=>{const t={"/orgs":"orgs","/people":"people","/jobs":"orgs","/signals":"feed","/lists":"lists","/account-lists":"account-lists","/upload":"upload","/about":"about","/account":"account","/team-docs":"team-docs"};for(const[n,s]of Object.entries(t))if(e===n||e.startsWith(n))return s;return null},Zpe=({callBack:e})=>{const{pathname:t}=Rt(),n=t.startsWith("/orgs/"),s=qpe(t);return s===null?null:l.jsx("div",{className:"max-md:hidden flex flex-row gap-2 items-center text-slate-300 font-medium",children:n?l.jsxs(l.Fragment,{children:[l.jsx(Re,{className:"text-slate-500 hover:text-slate-600",to:"/orgs",children:"All Organizations"}),l.jsx("div",{children:""})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Re,{to:`/${s}`,className:"text-slate-500 hover:text-slate-600",onClick:e,doNotPassQuery:!0,children:[(s==="orgs"||s==="people")&&"Search",s==="about"&&"About",s==="feed"&&"Signals",s==="lists"&&"Contact Lists",s==="account-lists"&&"Account Lists",s==="upload"&&"Upload",s==="account"&&"Profile",s==="team-docs"&&"Your team"]}),l.jsx("div",{children:""})]})})},Qpe=()=>{const e=Zhe();return l.jsxs("div",{className:"md:fixed w-[calc(100vw-14rem)] px-10 md:h-13 flex items-center justify-between z-20",children:[l.jsx(Zpe,{}),e>0&&l.jsx(Yr,{className:"max-md:hidden"}),l.jsx("div",{className:"",children:l.jsxs("div",{className:"flex flex-row items-center gap-2 order-3 flex-1 justify-end max-md:fixed max-md:top-0 max-md:right-0 max-md:p-3",children:[e>0&&l.jsx(Yr,{className:"md:hidden"}),l.jsx(Kpe,{})]})})]})},Xpe=()=>{const[e,t]=w.useState(!1),{data:n}=Gt();return w.useEffect(()=>{n&&!n.is_admin&&localStorage.getItem("AdminAuthorization")?t(!0):t(!1)},[n]),e},Jpe="https://t1.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&size=256&url=https://",ege=["redhat","openshift"],Wg=({url:e,orgName:t,className:n,fallbackLetterClassName:s,useAsAvatar:i=!1})=>{const r=!!e&&ege.some(m=>e.toLowerCase().includes(m)),[a,o]=w.useState(!r),[c,u]=w.useState(!1),h=c?`https://icons.duckduckgo.com/ip3/${e}.ico`:`${Jpe}${e}`;w.useEffect(()=>{!e||r||u(!1)},[e,r]);const f=m=>{const{naturalWidth:y,naturalHeight:b}=m.currentTarget;!c&&(y===16||b===16)?u(!0):c&&y===48&&b===48&&o(!1)},g=()=>{c?o(!1):u(!0)};return l.jsx("div",{children:e&&a&&!r?l.jsx("img",{src:h,className:`w-6 h-6 ${n??""}`,alt:t??"Organization","data-pagefind-meta":i?"image[src]":!1,loading:"lazy",onLoad:f,onError:g}):t?l.jsx("div",{className:`w-6 h-6 bg-slate-200 text-white rounded-md flex items-center justify-center ${s??""}`,children:t?.charAt(0)??""}):l.jsx("div",{className:"w-6 h-6 bg-slate-100"})})};var cS={exports:{}},tge=cS.exports,nF;function nge(){return nF||(nF=1,(function(e,t){(function(n,s,i){e.exports=i(),e.exports.default=i()})("slugify",tge,function(){var n=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","":"cent","":"pound","":"currency","":"yen","":"(c)","":"a","":"(r)","":"o","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"C","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"TH","":"ss","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"th","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"D","":"d","":"DJ","":"dj","":"E","":"e","":"E","":"e","":"e","":"e","":"E","":"e","":"G","":"g","":"G","":"g","":"I","":"i","":"i","":"i","":"I","":"i","":"I","":"i","":"k","":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"N","":"n","":"N","":"n","":"N","":"n","":"O","":"o","":"O","":"o","":"OE","":"oe","":"R","":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"s","":"T","":"t","":"T","":"t","":"U","":"u","":"u","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"E","":"f","":"O","":"o","":"U","":"u","":"LJ","":"lj","":"NJ","":"nj","":"S","":"s","":"T","":"t","":"e","":"o","":"A","":"E","":"H","":"I","":"O","":"Y","":"W","":"i","":"A","":"B","":"G","":"D","":"E","":"Z","":"H","":"8","":"I","":"K","":"L","":"M","":"N","":"3","":"O","":"P","":"R","":"S","":"T","":"Y","":"F","":"X","":"PS","":"W","":"I","":"Y","":"a","":"e","":"h","":"i","":"y","":"a","":"b","":"g","":"d","":"e","":"z","":"h","":"8","":"i","":"k","":"l","":"m","":"n","":"3","":"o","":"p","":"r","":"s","":"s","":"t","":"y","":"f","":"x","":"ps","":"w","":"i","":"y","":"o","":"y","":"w","":"Yo","":"DJ","":"Ye","":"I","":"Yi","":"J","":"LJ","":"NJ","":"C","":"DZ","":"A","":"B","":"V","":"G","":"D","":"E","":"Zh","":"Z","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"S","":"T","":"U","":"F","":"H","":"C","":"Ch","":"Sh","":"Sh","":"U","":"Y","":"","":"E","":"Yu","":"Ya","":"a","":"b","":"v","":"g","":"d","":"e","":"zh","":"z","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"f","":"h","":"c","":"ch","":"sh","":"sh","":"u","":"y","":"","":"e","":"yu","":"ya","":"yo","":"dj","":"ye","":"i","":"yi","":"j","":"lj","":"nj","":"c","":"u","":"dz","":"G","":"g","":"GH","":"gh","":"KH","":"kh","":"NG","":"ng","":"UE","":"ue","":"U","":"u","":"H","":"h","":"AE","":"ae","":"OE","":"oe","":"A","":"B","":"G","":"D","":"E","":"Z","":"E'","":"Y'","":"T'","":"JH","":"I","":"L","":"X","":"C'","":"K","":"H","":"D'","":"GH","":"TW","":"M","":"Y","":"N","":"SH","":"CH","":"P","":"J","":"R'","":"S","":"V","":"T","":"R","":"C","":"P'","":"Q'","":"O''","":"F","":"EV","":"a","":"aa","":"a","":"u","":"i","":"e","":"a","":"b","":"h","":"t","":"th","":"j","":"h","":"kh","":"d","":"th","":"r","":"z","":"s","":"sh","":"s","":"dh","":"t","":"z","":"a","":"gh","":"f","":"q","":"k","":"l","":"m","":"n","":"h","":"w","":"a","":"y","":"an","":"on","":"en","":"a","":"u","":"e","":"","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"p","":"ch","":"zh","":"k","":"g","":"y","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"baht","":"a","":"b","":"g","":"d","":"e","":"v","":"z","":"t","":"i","":"k","":"l","":"m","":"n","":"o","":"p","":"zh","":"r","":"s","":"t","":"u","":"f","":"k","":"gh","":"q","":"sh","":"ch","":"ts","":"dz","":"ts","":"ch","":"kh","":"j","":"h","":"S","":"s","":"W","":"w","":"W","":"w","":"W","":"w","":"SS","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"A","":"a","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"I","":"i","":"I","":"i","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"Y","":"y","":"-","":"'","":"'","":"\\"","":"\\"","":"\\"","":"+","":"*","":"...","":"ecu","":"cruzeiro","":"french franc","":"lira","":"mill","":"naira","":"peseta","":"rupee","":"won","":"new shequel","":"dong","":"euro","":"kip","":"tugrik","":"drachma","":"penny","":"peso","":"guarani","":"austral","":"hryvnia","":"cedi","":"kazakhstani tenge","":"indian rupee","":"turkish lira","":"russian ruble","":"bitcoin","":"sm","":"tm","":"d","":"delta","":"sum","":"infinity","":"love","":"yuan","":"yen","":"rial","":"laa","":"laa","":"lai","":"la"}`),s=JSON.parse('{"bg":{"":"Y","":"Ts","":"Sht","":"A","":"Y","":"y","":"ts","":"sht","":"a","":"y"},"de":{"":"AE","":"ae","":"OE","":"oe","":"UE","":"ue","":"ss","%":"prozent","&":"und","|":"oder","":"summe","":"unendlich","":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","":"centavos","":"libras","":"moneda","":"francos","":"suma","":"infinito","":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","":"centime","":"livre","":"devise","":"franc","":"somme","":"infini","":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","":"centavo","":"soma","":"libra","":"infinito","":"amor"},"uk":{"":"Y","":"y","":"Y","":"y","":"Ts","":"ts","":"Kh","":"kh","":"Shch","":"shch","":"H","":"h"},"vi":{"":"D","":"d"},"da":{"":"OE","":"oe","":"AA","":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"strre end"},"nb":{"&":"og","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","":"AA","":"AE","":"OE","":"aa","":"ae","":"oe"}}');function i(r,a){if(typeof r!="string")throw new Error("slugify: string argument expected");a=typeof a=="string"?{replacement:a}:a||{};var o=s[a.locale]||{},c=a.replacement===void 0?"-":a.replacement,u=a.trim===void 0?!0:a.trim,h=r.normalize().split("").reduce(function(f,g){var m=o[g];return m===void 0&&(m=n[g]),m===void 0&&(m=g),m===c&&(m=" "),f+m.replace(a.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return a.strict&&(h=h.replace(/[^A-Za-z0-9\s]/g,"")),u&&(h=h.trim()),h=h.replace(/\s+/g,c),a.lower&&(h=h.toLowerCase()),h}return i.extend=function(r){Object.assign(n,r)},i})})(cS)),cS.exports}var sge=nge();const p2=$g(sge),rI=w.createContext({});function aI(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const oI=typeof window<"u",wU=oI?w.useLayoutEffect:w.useEffect,g2=w.createContext(null);function lI(e,t){e.indexOf(t)===-1&&e.push(t)}function cI(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Bc=(e,t,n)=>n>t?t:n<e?e:n;let uI=()=>{};const Vc={},CU=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function MU(e){return typeof e=="object"&&e!==null}const jU=e=>/^0[^.\s]+$/u.test(e);function dI(e){let t;return()=>(t===void 0&&(t=e()),t)}const io=e=>e,ige=(e,t)=>n=>t(e(n)),B0=(...e)=>e.reduce(ige),jx=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class hI{constructor(){this.subscriptions=[]}add(t){return lI(this.subscriptions,t),()=>cI(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let r=0;r<i;r++){const a=this.subscriptions[r];a&&a(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ml=e=>e*1e3,to=e=>e/1e3;function NU(e,t){return t?e*(1e3/t):0}const AU=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,rge=1e-7,age=12;function oge(e,t,n,s,i){let r,a,o=0;do a=t+(n-t)/2,r=AU(a,s,i)-e,r>0?n=a:t=a;while(Math.abs(r)>rge&&++o<age);return a}function V0(e,t,n,s){if(e===t&&n===s)return io;const i=r=>oge(r,0,1,e,n);return r=>r===0||r===1?r:AU(i(r),t,s)}const TU=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,EU=e=>t=>1-e(1-t),DU=V0(.33,1.53,.69,.99),fI=EU(DU),kU=TU(fI),IU=e=>(e*=2)<1?.5*fI(e):.5*(2-Math.pow(2,-10*(e-1))),pI=e=>1-Math.sin(Math.acos(e)),LU=EU(pI),OU=TU(pI),lge=V0(.42,0,1,1),cge=V0(0,0,.58,1),RU=V0(.42,0,.58,1),uge=e=>Array.isArray(e)&&typeof e[0]!="number",_U=e=>Array.isArray(e)&&typeof e[0]=="number",dge={linear:io,easeIn:lge,easeInOut:RU,easeOut:cge,circIn:pI,circInOut:OU,circOut:LU,backIn:fI,backInOut:kU,backOut:DU,anticipate:IU},hge=e=>typeof e=="string",sF=e=>{if(_U(e)){uI(e.length===4);const[t,n,s,i]=e;return V0(t,n,s,i)}else if(hge(e))return dge[e];return e},b1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fge(e,t){let n=new Set,s=new Set,i=!1,r=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(h){a.has(h)&&(u.schedule(h),e()),h(o)}const u={schedule:(h,f=!1,g=!1)=>{const y=g&&i?n:s;return f&&a.add(h),y.has(h)||y.add(h),h},cancel:h=>{s.delete(h),a.delete(h)},process:h=>{if(o=h,i){r=!0;return}i=!0,[n,s]=[s,n],n.forEach(c),n.clear(),i=!1,r&&(r=!1,u.process(h))}};return u}const pge=40;function PU(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,a=b1.reduce((N,T)=>(N[T]=fge(r),N),{}),{setup:o,read:c,resolveKeyframes:u,preUpdate:h,update:f,preRender:g,render:m,postRender:y}=a,b=()=>{const N=Vc.useManualTiming?i.timestamp:performance.now();n=!1,Vc.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(N-i.timestamp,pge),1)),i.timestamp=N,i.isProcessing=!0,o.process(i),c.process(i),u.process(i),h.process(i),f.process(i),g.process(i),m.process(i),y.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(b))},S=()=>{n=!0,s=!0,i.isProcessing||e(b)};return{schedule:b1.reduce((N,T)=>{const E=a[T];return N[T]=(k,L=!1,I=!1)=>(n||S(),E.schedule(k,L,I)),N},{}),cancel:N=>{for(let T=0;T<b1.length;T++)a[b1[T]].cancel(N)},state:i,steps:a}}const{schedule:cs,cancel:md,state:Bi,steps:IA}=PU(typeof requestAnimationFrame<"u"?requestAnimationFrame:io,!0);let uS;function gge(){uS=void 0}const Ur={now:()=>(uS===void 0&&Ur.set(Bi.isProcessing||Vc.useManualTiming?Bi.timestamp:performance.now()),uS),set:e=>{uS=e,queueMicrotask(gge)}},zU=e=>t=>typeof t=="string"&&t.startsWith(e),gI=zU("--"),mge=zU("var(--"),mI=e=>mge(e)?yge.test(e.split("/*")[0].trim()):!1,yge=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yg={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Nx={...Yg,transform:e=>Bc(0,1,e)},v1={...Yg,default:1},qy=e=>Math.round(e*1e5)/1e5,yI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xge(e){return e==null}const bge=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xI=(e,t)=>n=>!!(typeof n=="string"&&bge.test(n)&&n.startsWith(e)||t&&!xge(n)&&Object.prototype.hasOwnProperty.call(n,t)),FU=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,r,a,o]=s.match(yI);return{[e]:parseFloat(i),[t]:parseFloat(r),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},vge=e=>Bc(0,255,e),LA={...Yg,transform:e=>Math.round(vge(e))},Ih={test:xI("rgb","red"),parse:FU("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+LA.transform(e)+", "+LA.transform(t)+", "+LA.transform(n)+", "+qy(Nx.transform(s))+")"};function Sge(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const IE={test:xI("#"),parse:Sge,transform:Ih.transform},U0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Uu=U0("deg"),jl=U0("%"),jt=U0("px"),wge=U0("vh"),Cge=U0("vw"),iF={...jl,parse:e=>jl.parse(e)/100,transform:e=>jl.transform(e*100)},Wp={test:xI("hsl","hue"),parse:FU("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+jl.transform(qy(t))+", "+jl.transform(qy(n))+", "+qy(Nx.transform(s))+")"},Xs={test:e=>Ih.test(e)||IE.test(e)||Wp.test(e),parse:e=>Ih.test(e)?Ih.parse(e):Wp.test(e)?Wp.parse(e):IE.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ih.transform(e):Wp.transform(e),getAnimatableNone:e=>{const t=Xs.parse(e);return t.alpha=0,Xs.transform(t)}},Mge=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jge(e){return isNaN(e)&&typeof e=="string"&&(e.match(yI)?.length||0)+(e.match(Mge)?.length||0)>0}const $U="number",BU="color",Nge="var",Age="var(",rF="${}",Tge=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ax(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let r=0;const o=t.replace(Tge,c=>(Xs.test(c)?(s.color.push(r),i.push(BU),n.push(Xs.parse(c))):c.startsWith(Age)?(s.var.push(r),i.push(Nge),n.push(c)):(s.number.push(r),i.push($U),n.push(parseFloat(c))),++r,rF)).split(rF);return{values:n,split:o,indexes:s,types:i}}function VU(e){return Ax(e).values}function UU(e){const{split:t,types:n}=Ax(e),s=t.length;return i=>{let r="";for(let a=0;a<s;a++)if(r+=t[a],i[a]!==void 0){const o=n[a];o===$U?r+=qy(i[a]):o===BU?r+=Xs.transform(i[a]):r+=i[a]}return r}}const Ege=e=>typeof e=="number"?0:Xs.test(e)?Xs.getAnimatableNone(e):e;function Dge(e){const t=VU(e);return UU(e)(t.map(Ege))}const yd={test:jge,parse:VU,createTransformer:UU,getAnimatableNone:Dge};function OA(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kge({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,r=0,a=0;if(!t)i=r=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,c=2*n-o;i=OA(c,o,e+1/3),r=OA(c,o,e),a=OA(c,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:s}}function XS(e,t){return n=>n>0?t:e}const ys=(e,t,n)=>e+(t-e)*n,RA=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},Ige=[IE,Ih,Wp],Lge=e=>Ige.find(t=>t.test(e));function aF(e){const t=Lge(e);if(!t)return!1;let n=t.parse(e);return t===Wp&&(n=kge(n)),n}const oF=(e,t)=>{const n=aF(e),s=aF(t);if(!n||!s)return XS(e,t);const i={...n};return r=>(i.red=RA(n.red,s.red,r),i.green=RA(n.green,s.green,r),i.blue=RA(n.blue,s.blue,r),i.alpha=ys(n.alpha,s.alpha,r),Ih.transform(i))},LE=new Set(["none","hidden"]);function Oge(e,t){return LE.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Rge(e,t){return n=>ys(e,t,n)}function bI(e){return typeof e=="number"?Rge:typeof e=="string"?mI(e)?XS:Xs.test(e)?oF:zge:Array.isArray(e)?HU:typeof e=="object"?Xs.test(e)?oF:_ge:XS}function HU(e,t){const n=[...e],s=n.length,i=e.map((r,a)=>bI(r)(r,t[a]));return r=>{for(let a=0;a<s;a++)n[a]=i[a](r);return n}}function _ge(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=bI(e[i])(e[i],t[i]));return i=>{for(const r in s)n[r]=s[r](i);return n}}function Pge(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const r=t.types[i],a=e.indexes[r][s[r]],o=e.values[a]??0;n[i]=o,s[r]++}return n}const zge=(e,t)=>{const n=yd.createTransformer(t),s=Ax(e),i=Ax(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?LE.has(e)&&!i.values.length||LE.has(t)&&!s.values.length?Oge(e,t):B0(HU(Pge(s,i),i.values),n):XS(e,t)};function GU(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ys(e,t,n):bI(e)(e,t)}const Fge=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>cs.update(t,n),stop:()=>md(t),now:()=>Bi.isProcessing?Bi.timestamp:Ur.now()}},WU=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let r=0;r<i;r++)s+=Math.round(e(r/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},JS=2e4;function vI(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<JS;)t+=n,s=e.next(t);return t>=JS?1/0:t}function $ge(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(vI(s),JS);return{type:"keyframes",ease:r=>s.next(i*r).value/t,duration:to(i)}}const Bge=5;function YU(e,t,n){const s=Math.max(t-Bge,0);return NU(n-e(s),t-s)}const Es={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_A=.001;function Vge({duration:e=Es.duration,bounce:t=Es.bounce,velocity:n=Es.velocity,mass:s=Es.mass}){let i,r,a=1-t;a=Bc(Es.minDamping,Es.maxDamping,a),e=Bc(Es.minDuration,Es.maxDuration,to(e)),a<1?(i=u=>{const h=u*a,f=h*e,g=h-n,m=OE(u,a),y=Math.exp(-f);return _A-g/m*y},r=u=>{const f=u*a*e,g=f*n+n,m=Math.pow(a,2)*Math.pow(u,2)*e,y=Math.exp(-f),b=OE(Math.pow(u,2),a);return(-i(u)+_A>0?-1:1)*((g-m)*y)/b}):(i=u=>{const h=Math.exp(-u*e),f=(u-n)*e+1;return-_A+h*f},r=u=>{const h=Math.exp(-u*e),f=(n-u)*(e*e);return h*f});const o=5/e,c=Hge(i,r,o);if(e=Ml(e),isNaN(c))return{stiffness:Es.stiffness,damping:Es.damping,duration:e};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:a*2*Math.sqrt(s*u),duration:e}}}const Uge=12;function Hge(e,t,n){let s=n;for(let i=1;i<Uge;i++)s=s-e(s)/t(s);return s}function OE(e,t){return e*Math.sqrt(1-t*t)}const Gge=["duration","bounce"],Wge=["stiffness","damping","mass"];function lF(e,t){return t.some(n=>e[n]!==void 0)}function Yge(e){let t={velocity:Es.velocity,stiffness:Es.stiffness,damping:Es.damping,mass:Es.mass,isResolvedFromDuration:!1,...e};if(!lF(e,Wge)&&lF(e,Gge))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,r=2*Bc(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Es.mass,stiffness:i,damping:r}}else{const n=Vge(e);t={...t,...n,mass:Es.mass},t.isResolvedFromDuration=!0}return t}function ew(e=Es.visualDuration,t=Es.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const r=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:r},{stiffness:c,damping:u,mass:h,duration:f,velocity:g,isResolvedFromDuration:m}=Yge({...n,velocity:-to(n.velocity||0)}),y=g||0,b=u/(2*Math.sqrt(c*h)),S=a-r,C=to(Math.sqrt(c/h)),M=Math.abs(S)<5;s||(s=M?Es.restSpeed.granular:Es.restSpeed.default),i||(i=M?Es.restDelta.granular:Es.restDelta.default);let N;if(b<1){const E=OE(C,b);N=k=>{const L=Math.exp(-b*C*k);return a-L*((y+b*C*S)/E*Math.sin(E*k)+S*Math.cos(E*k))}}else if(b===1)N=E=>a-Math.exp(-C*E)*(S+(y+C*S)*E);else{const E=C*Math.sqrt(b*b-1);N=k=>{const L=Math.exp(-b*C*k),I=Math.min(E*k,300);return a-L*((y+b*C*S)*Math.sinh(I)+E*S*Math.cosh(I))/E}}const T={calculatedDuration:m&&f||null,next:E=>{const k=N(E);if(m)o.done=E>=f;else{let L=E===0?y:0;b<1&&(L=E===0?Ml(y):YU(N,E,k));const I=Math.abs(L)<=s,_=Math.abs(a-k)<=i;o.done=I&&_}return o.value=o.done?a:k,o},toString:()=>{const E=Math.min(vI(T),JS),k=WU(L=>T.next(E*L).value,E,30);return E+"ms "+k},toTransition:()=>{}};return T}ew.applyToOptions=e=>{const t=$ge(e,100,ew);return e.ease=t.ease,e.duration=Ml(t.duration),e.type="keyframes",e};function RE({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:h}){const f=e[0],g={done:!1,value:f},m=I=>o!==void 0&&I<o||c!==void 0&&I>c,y=I=>o===void 0?c:c===void 0||Math.abs(o-I)<Math.abs(c-I)?o:c;let b=n*t;const S=f+b,C=a===void 0?S:a(S);C!==S&&(b=C-f);const M=I=>-b*Math.exp(-I/s),N=I=>C+M(I),T=I=>{const _=M(I),F=N(I);g.done=Math.abs(_)<=u,g.value=g.done?C:F};let E,k;const L=I=>{m(g.value)&&(E=I,k=ew({keyframes:[g.value,y(g.value)],velocity:YU(N,I,g.value),damping:i,stiffness:r,restDelta:u,restSpeed:h}))};return L(0),{calculatedDuration:null,next:I=>{let _=!1;return!k&&E===void 0&&(_=!0,T(I),L(I)),E!==void 0&&I>=E?k.next(I-E):(!_&&T(I),g)}}}function Kge(e,t,n){const s=[],i=n||Vc.mix||GU,r=e.length-1;for(let a=0;a<r;a++){let o=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||io:t;o=B0(c,o)}s.push(o)}return s}function qge(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const r=e.length;if(uI(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Kge(t,s,i),c=o.length,u=h=>{if(a&&h<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(h<e[f+1]);f++);const g=jx(e[f],e[f+1],h);return o[f](g)};return n?h=>u(Bc(e[0],e[r-1],h)):u}function Zge(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=jx(0,t,s);e.push(ys(n,1,i))}}function Qge(e){const t=[0];return Zge(t,e.length-1),t}function Xge(e,t){return e.map(n=>n*t)}function Jge(e,t){return e.map(()=>t||RU).splice(0,e.length-1)}function Zy({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=uge(s)?s.map(sF):sF(s),r={done:!1,value:t[0]},a=Xge(n&&n.length===t.length?n:Qge(t),e),o=qge(a,t,{ease:Array.isArray(i)?i:Jge(t,i)});return{calculatedDuration:e,next:c=>(r.value=o(c),r.done=c>=e,r)}}const eme=e=>e!==null;function SI(e,{repeat:t,repeatType:n="loop"},s,i=1){const r=e.filter(eme),o=i<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!o||s===void 0?r[o]:s}const tme={decay:RE,inertia:RE,tween:Zy,keyframes:Zy,spring:ew};function KU(e){typeof e.type=="string"&&(e.type=tme[e.type])}class wI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const nme=e=>e/100;class CI extends wI{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Ur.now()&&this.tick(Ur.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;KU(t);const{type:n=Zy,repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:a=0}=t;let{keyframes:o}=t;const c=n||Zy;c!==Zy&&typeof o[0]!="number"&&(this.mixKeyframes=B0(nme,GU(o[0],o[1])),o=[0,100]);const u=c({...t,keyframes:o});r==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=vI(u));const{calculatedDuration:h}=u;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:h,repeat:f,repeatType:g,repeatDelay:m,type:y,onUpdate:b,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const C=this.currentTime-u*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let N=this.currentTime,T=s;if(f){const I=Math.min(this.currentTime,i)/o;let _=Math.floor(I),F=I%1;!F&&I>=1&&(F=1),F===1&&_--,_=Math.min(_,f+1),!!(_%2)&&(g==="reverse"?(F=1-F,m&&(F-=m/o)):g==="mirror"&&(T=a)),N=Bc(0,1,F)*o}const E=M?{done:!1,value:h[0]}:T.next(N);r&&(E.value=r(E.value));let{done:k}=E;!M&&c!==null&&(k=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return L&&y!==RE&&(E.value=SI(h,this.options,S,this.speed)),b&&b(E.value),L&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return to(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+to(t)}get time(){return to(this.currentTime)}set time(t){t=Ml(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ur.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=to(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Fge,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ur.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function sme(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Lh=e=>e*180/Math.PI,_E=e=>{const t=Lh(Math.atan2(e[1],e[0]));return PE(t)},ime={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:_E,rotateZ:_E,skewX:e=>Lh(Math.atan(e[1])),skewY:e=>Lh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},PE=e=>(e=e%360,e<0&&(e+=360),e),cF=_E,uF=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),dF=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),rme={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uF,scaleY:dF,scale:e=>(uF(e)+dF(e))/2,rotateX:e=>PE(Lh(Math.atan2(e[6],e[5]))),rotateY:e=>PE(Lh(Math.atan2(-e[2],e[0]))),rotateZ:cF,rotate:cF,skewX:e=>Lh(Math.atan(e[4])),skewY:e=>Lh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function zE(e){return e.includes("scale")?1:0}function FE(e,t){if(!e||e==="none")return zE(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=rme,i=n;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=ime,i=o}if(!i)return zE(t);const r=s[t],a=i[1].split(",").map(ome);return typeof r=="function"?r(a):a[r]}const ame=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return FE(n,t)};function ome(e){return parseFloat(e.trim())}const Kg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qg=new Set(Kg),hF=e=>e===Yg||e===jt,lme=new Set(["x","y","z"]),cme=Kg.filter(e=>!lme.has(e));function ume(e){const t=[];return cme.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const zh={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>FE(t,"x"),y:(e,{transform:t})=>FE(t,"y")};zh.translateX=zh.x;zh.translateY=zh.y;const Fh=new Set;let $E=!1,BE=!1,VE=!1;function qU(){if(BE){const e=Array.from(Fh).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=ume(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([r,a])=>{s.getValue(r)?.set(a)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}BE=!1,$E=!1,Fh.forEach(e=>e.complete(VE)),Fh.clear()}function ZU(){Fh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(BE=!0)})}function dme(){VE=!0,ZU(),qU(),VE=!1}class MI{constructor(t,n,s,i,r,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=r,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Fh.add(this),$E||($E=!0,cs.read(ZU),cs.resolveKeyframes(qU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const r=i?.get(),a=t[t.length-1];if(r!==void 0)t[0]=r;else if(s&&n){const o=s.readValue(n,a);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=a),i&&r===void 0&&i.set(t[0])}sme(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fh.delete(this)}cancel(){this.state==="scheduled"&&(Fh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hme=e=>e.startsWith("--");function fme(e,t,n){hme(t)?e.style.setProperty(t,n):e.style[t]=n}const pme=dI(()=>window.ScrollTimeline!==void 0),gme={};function mme(e,t){const n=dI(e);return()=>gme[t]??n()}const QU=mme(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zy=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,fF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zy([0,.65,.55,1]),circOut:zy([.55,0,1,.45]),backIn:zy([.31,.01,.66,-.59]),backOut:zy([.33,1.53,.69,.99])};function XU(e,t){if(e)return typeof e=="function"?QU()?WU(e,t):"ease-out":_U(e)?zy(e):Array.isArray(e)?e.map(n=>XU(n,t)||fF.easeOut):fF[e]}function yme(e,t,n,{delay:s=0,duration:i=300,repeat:r=0,repeatType:a="loop",ease:o="easeOut",times:c}={},u=void 0){const h={[t]:n};c&&(h.offset=c);const f=XU(o,i);Array.isArray(f)&&(h.easing=f);const g={delay:s,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:r+1,direction:a==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),e.animate(h,g)}function JU(e){return typeof e=="function"&&"applyToOptions"in e}function xme({type:e,...t}){return JU(e)&&QU()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class bme extends wI{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:r,allowFlatten:a=!1,finalKeyframe:o,onComplete:c}=t;this.isPseudoElement=!!r,this.allowFlatten=a,this.options=t,uI(typeof t.type!="string");const u=xme(t);this.animation=yme(n,s,i,u,r),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const h=SI(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):fme(n,s,h),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return to(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+to(t)}get time(){return to(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ml(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&pme()?(this.animation.timeline=t,io):n(this)}}const eH={anticipate:IU,backInOut:kU,circInOut:OU};function vme(e){return e in eH}function Sme(e){typeof e.ease=="string"&&vme(e.ease)&&(e.ease=eH[e.ease])}const pF=10;class wme extends bme{constructor(t){Sme(t),KU(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:r,...a}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const o=new CI({...a,autoplay:!1}),c=Ml(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-pF).value,o.sample(c).value,pF),o.stop()}}const gF=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(yd.test(e)||e==="0")&&!e.startsWith("url("));function Cme(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Mme(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],a=gF(i,t),o=gF(r,t);return!a||!o?!1:Cme(e)||(n==="spring"||JU(n))&&s}function UE(e){e.duration=0,e.type="keyframes"}const jme=new Set(["opacity","clipPath","filter","transform"]),Nme=dI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ame(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:r,type:a}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return Nme()&&n&&jme.has(n)&&(n!=="transform"||!u)&&!c&&!s&&i!=="mirror"&&r!==0&&a!=="inertia"}const Tme=40;class Eme extends wI{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a="loop",keyframes:o,name:c,motionValue:u,element:h,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ur.now();const g={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:r,repeatType:a,name:c,motionValue:u,element:h,...f},m=h?.KeyframeResolver||MI;this.keyframeResolver=new m(o,(y,b,S)=>this.onKeyframesResolved(y,b,g,!S),c,u,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:r,type:a,velocity:o,delay:c,isHandoff:u,onUpdate:h}=s;this.resolvedAt=Ur.now(),Mme(t,r,a,o)||((Vc.instantAnimations||!c)&&h?.(SI(t,s,n)),t[0]=t[t.length-1],UE(s),s.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Tme?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},m=!u&&Ame(g)?new wme({...g,element:g.motionValue.owner.current}):new CI(g);m.finished.then(()=>this.notifyFinished()).catch(io),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),dme()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Dme=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kme(e){const t=Dme.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function tH(e,t,n=1){const[s,i]=kme(e);if(!s)return;const r=window.getComputedStyle(t).getPropertyValue(s);if(r){const a=r.trim();return CU(a)?parseFloat(a):a}return mI(i)?tH(i,t,n+1):i}function jI(e,t){return e?.[t]??e?.default??e}const nH=new Set(["width","height","top","left","right","bottom",...Kg]),Ime={test:e=>e==="auto",parse:e=>e},sH=e=>t=>t.test(e),iH=[Yg,jt,jl,Uu,Cge,wge,Ime],mF=e=>iH.find(sH(e));function Lme(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||jU(e):!0}const Ome=new Set(["brightness","contrast","saturate","opacity"]);function Rme(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(yI)||[];if(!s)return e;const i=n.replace(s,"");let r=Ome.has(t)?1:0;return s!==n&&(r*=100),t+"("+r+i+")"}const _me=/\b([a-z-]*)\(.*?\)/gu,HE={...yd,getAnimatableNone:e=>{const t=e.match(_me);return t?t.map(Rme).join(" "):e}},yF={...Yg,transform:Math.round},Pme={rotate:Uu,rotateX:Uu,rotateY:Uu,rotateZ:Uu,scale:v1,scaleX:v1,scaleY:v1,scaleZ:v1,skew:Uu,skewX:Uu,skewY:Uu,distance:jt,translateX:jt,translateY:jt,translateZ:jt,x:jt,y:jt,z:jt,perspective:jt,transformPerspective:jt,opacity:Nx,originX:iF,originY:iF,originZ:jt},NI={borderWidth:jt,borderTopWidth:jt,borderRightWidth:jt,borderBottomWidth:jt,borderLeftWidth:jt,borderRadius:jt,radius:jt,borderTopLeftRadius:jt,borderTopRightRadius:jt,borderBottomRightRadius:jt,borderBottomLeftRadius:jt,width:jt,maxWidth:jt,height:jt,maxHeight:jt,top:jt,right:jt,bottom:jt,left:jt,padding:jt,paddingTop:jt,paddingRight:jt,paddingBottom:jt,paddingLeft:jt,margin:jt,marginTop:jt,marginRight:jt,marginBottom:jt,marginLeft:jt,backgroundPositionX:jt,backgroundPositionY:jt,...Pme,zIndex:yF,fillOpacity:Nx,strokeOpacity:Nx,numOctaves:yF},zme={...NI,color:Xs,backgroundColor:Xs,outlineColor:Xs,fill:Xs,stroke:Xs,borderColor:Xs,borderTopColor:Xs,borderRightColor:Xs,borderBottomColor:Xs,borderLeftColor:Xs,filter:HE,WebkitFilter:HE},rH=e=>zme[e];function aH(e,t){let n=rH(e);return n!==HE&&(n=yd),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Fme=new Set(["auto","none","0"]);function $me(e,t,n){let s=0,i;for(;s<e.length&&!i;){const r=e[s];typeof r=="string"&&!Fme.has(r)&&Ax(r).values.length&&(i=e[s]),s++}if(i&&n)for(const r of t)e[r]=aH(n,i)}class Bme extends MI{constructor(t,n,s,i,r){super(t,n,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),mI(u))){const h=tH(u,n.current);h!==void 0&&(t[c]=h),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!nH.has(s)||t.length!==2)return;const[i,r]=t,a=mF(i),o=mF(r);if(a!==o)if(hF(a)&&hF(o))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else zh[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||Lme(t[i]))&&s.push(i);s.length&&$me(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zh[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const r=s.length-1,a=s[r];s[r]=zh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,c])=>{t.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function Vme(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=n?.[e]??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const oH=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function lH(e){return MU(e)&&"offsetHeight"in e}const xF=30,Ume=e=>!isNaN(parseFloat(e));class Hme{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const i=Ur.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ur.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ume(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new hI);const s=this.events[t].add(n);return t==="change"?()=>{s(),cs.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ur.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>xF)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xF);return NU(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mg(e,t){return new Hme(e,t)}const{schedule:AI}=PU(queueMicrotask,!1),Io={x:!1,y:!1};function cH(){return Io.x||Io.y}function Gme(e){return e==="x"||e==="y"?Io[e]?null:(Io[e]=!0,()=>{Io[e]=!1}):Io.x||Io.y?null:(Io.x=Io.y=!0,()=>{Io.x=Io.y=!1})}function uH(e,t){const n=Vme(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function bF(e){return!(e.pointerType==="touch"||cH())}function Wme(e,t,n={}){const[s,i,r]=uH(e,n),a=o=>{if(!bF(o))return;const{target:c}=o,u=t(c,o);if(typeof u!="function"||!c)return;const h=f=>{bF(f)&&(u(f),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,i)};return s.forEach(o=>{o.addEventListener("pointerenter",a,i)}),r}const dH=(e,t)=>t?e===t?!0:dH(e,t.parentElement):!1,TI=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Yme=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Kme(e){return Yme.has(e.tagName)||e.tabIndex!==-1}const dS=new WeakSet;function vF(e){return t=>{t.key==="Enter"&&e(t)}}function PA(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const qme=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=vF(()=>{if(dS.has(n))return;PA(n,"down");const i=vF(()=>{PA(n,"up")}),r=()=>PA(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function SF(e){return TI(e)&&!cH()}function Zme(e,t,n={}){const[s,i,r]=uH(e,n),a=o=>{const c=o.currentTarget;if(!SF(o))return;dS.add(c);const u=t(c,o),h=(m,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),dS.has(c)&&dS.delete(c),SF(m)&&typeof u=="function"&&u(m,{success:y})},f=m=>{h(m,c===window||c===document||n.useGlobalTarget||dH(c,m.target))},g=m=>{h(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",g,i)};return s.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),lH(o)&&(o.addEventListener("focus",u=>qme(u,i)),!Kme(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),r}function hH(e){return MU(e)&&"ownerSVGElement"in e}function Qme(e){return hH(e)&&e.tagName==="svg"}const lr=e=>!!(e&&e.getVelocity),Xme=[...iH,Xs,yd],Jme=e=>Xme.find(sH(e)),EI=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function wF(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function eye(...e){return t=>{let n=!1;const s=e.map(i=>{const r=wF(i,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let i=0;i<s.length;i++){const r=s[i];typeof r=="function"?r():wF(e[i],null)}}}}function tye(...e){return w.useCallback(eye(...e),e)}class nye extends w.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=lH(s)&&s.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=i-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sye({children:e,isPresent:t,anchorX:n,root:s}){const i=w.useId(),r=w.useRef(null),a=w.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=w.useContext(EI),c=tye(r,e?.ref);return w.useInsertionEffect(()=>{const{width:u,height:h,top:f,left:g,right:m}=a.current;if(t||!r.current||!u||!h)return;const y=n==="left"?`left: ${g}`:`right: ${m}`;r.current.dataset.motionPopId=i;const b=document.createElement("style");o&&(b.nonce=o);const S=s??document.head;return S.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            ${y}px !important;
            top: ${f}px !important;
          }
        `),()=>{S.contains(b)&&S.removeChild(b)}},[t]),l.jsx(nye,{isPresent:t,childRef:r,sizeRef:a,children:w.cloneElement(e,{ref:c})})}const iye=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:r,mode:a,anchorX:o,root:c})=>{const u=aI(rye),h=w.useId();let f=!0,g=w.useMemo(()=>(f=!1,{id:h,initial:t,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const y of u.values())if(!y)return;s&&s()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,s]);return r&&f&&(g={...g}),w.useMemo(()=>{u.forEach((m,y)=>u.set(y,!1))},[n]),w.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),a==="popLayout"&&(e=l.jsx(sye,{isPresent:n,anchorX:o,root:c,children:e})),l.jsx(g2.Provider,{value:g,children:e})};function rye(){return new Map}function fH(e=!0){const t=w.useContext(g2);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,r=w.useId();w.useEffect(()=>{if(e)return i(r)},[e]);const a=w.useCallback(()=>e&&s&&s(r),[r,s,e]);return!n&&s?[!1,a]:[!0]}const S1=e=>e.key||"";function CF(e){const t=[];return w.Children.forEach(e,n=>{w.isValidElement(n)&&t.push(n)}),t}const m2=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:r="sync",propagate:a=!1,anchorX:o="left",root:c})=>{const[u,h]=fH(a),f=w.useMemo(()=>CF(e),[e]),g=a&&!u?[]:f.map(S1),m=w.useRef(!0),y=w.useRef(f),b=aI(()=>new Map),[S,C]=w.useState(f),[M,N]=w.useState(f);wU(()=>{m.current=!1,y.current=f;for(let k=0;k<M.length;k++){const L=S1(M[k]);g.includes(L)?b.delete(L):b.get(L)!==!0&&b.set(L,!1)}},[M,g.length,g.join("-")]);const T=[];if(f!==S){let k=[...f];for(let L=0;L<M.length;L++){const I=M[L],_=S1(I);g.includes(_)||(k.splice(L,0,I),T.push(I))}return r==="wait"&&T.length&&(k=T),N(CF(k)),C(f),null}const{forceRender:E}=w.useContext(rI);return l.jsx(l.Fragment,{children:M.map(k=>{const L=S1(k),I=a&&!u?!1:f===M||g.includes(L),_=()=>{if(b.has(L))b.set(L,!0);else return;let F=!0;b.forEach(G=>{G||(F=!1)}),F&&(E?.(),N(y.current),a&&h?.(),s&&s())};return l.jsx(iye,{isPresent:I,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:r,root:c,onExitComplete:I?void 0:_,anchorX:o,children:k},L)})})},pH=w.createContext({strict:!1}),MF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yg={};for(const e in MF)yg[e]={isEnabled:t=>MF[e].some(n=>!!t[n])};function aye(e){for(const t in e)yg[t]={...yg[t],...e[t]}}const oye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tw(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||oye.has(e)}let gH=e=>!tw(e);function lye(e){typeof e=="function"&&(gH=t=>t.startsWith("on")?!tw(t):e(t))}try{lye(require("@emotion/is-prop-valid").default)}catch{}function cye(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(gH(i)||n===!0&&tw(i)||!t&&!tw(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const y2=w.createContext({});function x2(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Tx(e){return typeof e=="string"||Array.isArray(e)}const DI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kI=["initial",...DI];function b2(e){return x2(e.animate)||kI.some(t=>Tx(e[t]))}function mH(e){return!!(b2(e)||e.variants)}function uye(e,t){if(b2(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Tx(n)?n:void 0,animate:Tx(s)?s:void 0}}return e.inherit!==!1?t:{}}function dye(e){const{initial:t,animate:n}=uye(e,w.useContext(y2));return w.useMemo(()=>({initial:t,animate:n}),[jF(t),jF(n)])}function jF(e){return Array.isArray(e)?e.join(" "):e}const Ex={};function hye(e){for(const t in e)Ex[t]=e[t],gI(t)&&(Ex[t].isCSSVariable=!0)}function yH(e,{layout:t,layoutId:n}){return qg.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ex[e]||e==="opacity")}const fye={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pye=Kg.length;function gye(e,t,n){let s="",i=!0;for(let r=0;r<pye;r++){const a=Kg[r],o=e[a];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(a.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const u=oH(o,NI[a]);if(!c){i=!1;const h=fye[a]||a;s+=`${h}(${u}) `}n&&(t[a]=u)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function II(e,t,n){const{style:s,vars:i,transformOrigin:r}=e;let a=!1,o=!1;for(const c in t){const u=t[c];if(qg.has(c)){a=!0;continue}else if(gI(c)){i[c]=u;continue}else{const h=oH(u,NI[c]);c.startsWith("origin")?(o=!0,r[c]=h):s[c]=h}}if(t.transform||(a||n?s.transform=gye(t,e.transform,n):s.transform&&(s.transform="none")),o){const{originX:c="50%",originY:u="50%",originZ:h=0}=r;s.transformOrigin=`${c} ${u} ${h}`}}const LI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xH(e,t,n){for(const s in t)!lr(t[s])&&!yH(s,n)&&(e[s]=t[s])}function mye({transformTemplate:e},t){return w.useMemo(()=>{const n=LI();return II(n,t,e),Object.assign({},n.vars,n.style)},[t])}function yye(e,t){const n=e.style||{},s={};return xH(s,n,e),Object.assign(s,mye(e,t)),s}function xye(e,t){const n={},s=yye(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const bye={offset:"stroke-dashoffset",array:"stroke-dasharray"},vye={offset:"strokeDashoffset",array:"strokeDasharray"};function Sye(e,t,n=1,s=0,i=!0){e.pathLength=1;const r=i?bye:vye;e[r.offset]=jt.transform(-s);const a=jt.transform(t),o=jt.transform(n);e[r.array]=`${a} ${o}`}function bH(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:r=1,pathOffset:a=0,...o},c,u,h){if(II(e,o,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g}=e;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=h?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),i!==void 0&&Sye(f,i,r,a,!1)}const vH=()=>({...LI(),attrs:{}}),SH=e=>typeof e=="string"&&e.toLowerCase()==="svg";function wye(e,t,n,s){const i=w.useMemo(()=>{const r=vH();return bH(r,t,SH(s),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};xH(r,e.style,e),i.style={...r,...i.style}}return i}const Cye=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function OI(e){return typeof e!="string"||e.includes("-")?!1:!!(Cye.indexOf(e)>-1||/[A-Z]/u.test(e))}function Mye(e,t,n,{latestValues:s},i,r=!1){const o=(OI(e)?wye:xye)(t,s,i,e),c=cye(t,typeof e=="string",r),u=e!==w.Fragment?{...c,...o,ref:n}:{},{children:h}=t,f=w.useMemo(()=>lr(h)?h.get():h,[h]);return w.createElement(e,{...u,children:f})}function NF(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function RI(e,t,n,s){if(typeof t=="function"){const[i,r]=NF(s);t=t(n!==void 0?n:e.custom,i,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,r]=NF(s);t=t(n!==void 0?n:e.custom,i,r)}return t}function hS(e){return lr(e)?e.get():e}function jye({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:Nye(n,s,i,e),renderState:t()}}function Nye(e,t,n,s){const i={},r=s(e,{});for(const g in r)i[g]=hS(r[g]);let{initial:a,animate:o}=e;const c=b2(e),u=mH(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const f=h?o:a;if(f&&typeof f!="boolean"&&!x2(f)){const g=Array.isArray(f)?f:[f];for(let m=0;m<g.length;m++){const y=RI(e,g[m]);if(y){const{transitionEnd:b,transition:S,...C}=y;for(const M in C){let N=C[M];if(Array.isArray(N)){const T=h?N.length-1:0;N=N[T]}N!==null&&(i[M]=N)}for(const M in b)i[M]=b[M]}}}return i}const wH=e=>(t,n)=>{const s=w.useContext(y2),i=w.useContext(g2),r=()=>jye(e,t,s,i);return n?r():aI(r)};function _I(e,t,n){const{style:s}=e,i={};for(const r in s)(lr(s[r])||t.style&&lr(t.style[r])||yH(r,e)||n?.getValue(r)?.liveStyle!==void 0)&&(i[r]=s[r]);return i}const Aye=wH({scrapeMotionValuesFromProps:_I,createRenderState:LI});function CH(e,t,n){const s=_I(e,t,n);for(const i in e)if(lr(e[i])||lr(t[i])){const r=Kg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=e[i]}return s}const Tye=wH({scrapeMotionValuesFromProps:CH,createRenderState:vH}),Eye=Symbol.for("motionComponentSymbol");function Yp(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Dye(e,t,n){return w.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Yp(n)&&(n.current=s))},[t])}const PI=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kye="framerAppearId",MH="data-"+PI(kye),jH=w.createContext({});function Iye(e,t,n,s,i){const{visualElement:r}=w.useContext(y2),a=w.useContext(pH),o=w.useContext(g2),c=w.useContext(EI).reducedMotion,u=w.useRef(null);s=s||a.renderer,!u.current&&s&&(u.current=s(e,{visualState:t,parent:r,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const h=u.current,f=w.useContext(jH);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&Lye(u.current,n,i,f);const g=w.useRef(!1);w.useInsertionEffect(()=>{h&&g.current&&h.update(n,o)});const m=n[MH],y=w.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return wU(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),y.current&&h.animationState&&h.animationState.animateChanges())}),w.useEffect(()=>{h&&(!y.current&&h.animationState&&h.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),y.current=!1),h.enteringChildren=void 0)}),h}function Lye(e,t,n,s){const{layoutId:i,layout:r,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:u,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:NH(e.parent)),e.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!a||o&&Yp(o),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,crossfade:h,layoutScroll:c,layoutRoot:u})}function NH(e){if(e)return e.options.allowProjection!==!1?e.projection:NH(e.parent)}function zA(e,{forwardMotionProps:t=!1}={},n,s){n&&aye(n);const i=OI(e)?Tye:Aye;function r(o,c){let u;const h={...w.useContext(EI),...o,layoutId:Oye(o)},{isStatic:f}=h,g=dye(o),m=i(o,f);if(!f&&oI){Rye();const y=_ye(h);u=y.MeasureLayout,g.visualElement=Iye(e,m,h,s,y.ProjectionNode)}return l.jsxs(y2.Provider,{value:g,children:[u&&g.visualElement?l.jsx(u,{visualElement:g.visualElement,...h}):null,Mye(e,o,Dye(m,g.visualElement,c),m,f,t)]})}r.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=w.forwardRef(r);return a[Eye]=e,a}function Oye({layoutId:e}){const t=w.useContext(rI).id;return t&&e!==void 0?t+"-"+e:e}function Rye(e,t){w.useContext(pH).strict}function _ye(e){const{drag:t,layout:n}=yg;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function Pye(e,t){if(typeof Proxy>"u")return zA;const n=new Map,s=(r,a)=>zA(r,a,e,t),i=(r,a)=>s(r,a);return new Proxy(i,{get:(r,a)=>a==="create"?s:(n.has(a)||n.set(a,zA(a,void 0,e,t)),n.get(a))})}function AH({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function zye({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Fye(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function FA(e){return e===void 0||e===1}function GE({scale:e,scaleX:t,scaleY:n}){return!FA(e)||!FA(t)||!FA(n)}function jh(e){return GE(e)||TH(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function TH(e){return AF(e.x)||AF(e.y)}function AF(e){return e&&e!=="0%"}function nw(e,t,n){const s=e-n,i=t*s;return n+i}function TF(e,t,n,s,i){return i!==void 0&&(e=nw(e,i,s)),nw(e,n,s)+t}function WE(e,t=0,n=1,s,i){e.min=TF(e.min,t,n,s,i),e.max=TF(e.max,t,n,s,i)}function EH(e,{x:t,y:n}){WE(e.x,t.translate,t.scale,t.originPoint),WE(e.y,n.translate,n.scale,n.originPoint)}const EF=.999999999999,DF=1.0000000000001;function $ye(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let r,a;for(let o=0;o<i;o++){r=n[o],a=r.projectionDelta;const{visualElement:c}=r.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&qp(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,EH(e,a)),s&&jh(r.latestValues)&&qp(e,r.latestValues))}t.x<DF&&t.x>EF&&(t.x=1),t.y<DF&&t.y>EF&&(t.y=1)}function Kp(e,t){e.min=e.min+t,e.max=e.max+t}function kF(e,t,n,s,i=.5){const r=ys(e.min,e.max,i);WE(e,t,n,r,s)}function qp(e,t){kF(e.x,t.x,t.scaleX,t.scale,t.originX),kF(e.y,t.y,t.scaleY,t.scale,t.originY)}function DH(e,t){return AH(Fye(e.getBoundingClientRect(),t))}function Bye(e,t,n){const s=DH(e,n),{scroll:i}=t;return i&&(Kp(s.x,i.offset.x),Kp(s.y,i.offset.y)),s}const IF=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zp=()=>({x:IF(),y:IF()}),LF=()=>({min:0,max:0}),Ps=()=>({x:LF(),y:LF()}),YE={current:null},kH={current:!1};function Vye(){if(kH.current=!0,!!oI)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>YE.current=e.matches;e.addEventListener("change",t),t()}else YE.current=!1}const Uye=new WeakMap;function Hye(e,t,n){for(const s in t){const i=t[s],r=n[s];if(lr(i))e.addValue(s,i);else if(lr(r))e.addValue(s,mg(i,{owner:e}));else if(r!==i)if(e.hasValue(s)){const a=e.getValue(s);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,mg(a!==void 0?a:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const OF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Gye{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:r,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=MI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Ur.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,cs.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!r,this.isControllingVariants=b2(n),this.isVariantNode=mH(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const m=f[g];c[g]!==void 0&&lr(m)&&m.set(c[g])}}mount(t){this.current=t,Uye.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),kH.current||Vye(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:YE.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),md(this.notifyUpdate),md(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=qg.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&cs.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yg){const n=yg[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ps()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<OF.length;s++){const i=OF[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,a=t[r];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Hye(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=mg(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(CU(s)||jU(s))?s=parseFloat(s):!Jme(s)&&yd.test(n)&&(s=aH(t,n)),this.setBaseTarget(t,lr(s)?s.get():s)),lr(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const r=RI(this.props,n,this.presenceContext?.custom);r&&(s=r[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!lr(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new hI),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){AI.render(this.render)}}class IH extends Gye{constructor(){super(...arguments),this.KeyframeResolver=Bme}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;lr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function LH(e,{style:t,vars:n},s,i){const r=e.style;let a;for(a in t)r[a]=t[a];i?.applyProjectionStyles(r,s);for(a in n)r.setProperty(a,n[a])}function Wye(e){return window.getComputedStyle(e)}class Yye extends IH{constructor(){super(...arguments),this.type="html",this.renderInstance=LH}readValueFromInstance(t,n){if(qg.has(n))return this.projection?.isProjecting?zE(n):ame(t,n);{const s=Wye(t),i=(gI(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return DH(t,n)}build(t,n,s){II(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return _I(t,n,s)}}const OH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kye(e,t,n,s){LH(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(OH.has(i)?i:PI(i),t.attrs[i])}class qye extends IH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ps}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(qg.has(n)){const s=rH(n);return s&&s.default||0}return n=OH.has(n)?n:PI(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return CH(t,n,s)}build(t,n,s){bH(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){Kye(t,n,s,i)}mount(t){this.isSVGTag=SH(t.tagName),super.mount(t)}}const Zye=(e,t)=>OI(e)?new qye(t):new Yye(t,{allowProjection:e!==w.Fragment});function tg(e,t,n){const s=e.getProps();return RI(s,t,n!==void 0?n:s.custom,e)}const KE=e=>Array.isArray(e);function Qye(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,mg(n))}function Xye(e){return KE(e)?e[e.length-1]||0:e}function Jye(e,t){const n=tg(e,t);let{transitionEnd:s={},transition:i={},...r}=n||{};r={...r,...s};for(const a in r){const o=Xye(r[a]);Qye(e,a,o)}}function exe(e){return!!(lr(e)&&e.add)}function qE(e,t){const n=e.getValue("willChange");if(exe(n))return n.add(t);if(!n&&Vc.WillChange){const s=new Vc.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function RH(e){return e.props[MH]}const txe=e=>e!==null;function nxe(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(txe),r=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[r]}const sxe={type:"spring",stiffness:500,damping:25,restSpeed:10},ixe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),rxe={type:"keyframes",duration:.8},axe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oxe=(e,{keyframes:t})=>t.length>2?rxe:qg.has(e)?e.startsWith("scale")?ixe(t[1]):sxe:axe;function lxe({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:a,repeatDelay:o,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const zI=(e,t,n,s={},i,r)=>a=>{const o=jI(s,e)||{},c=o.delay||s.delay||0;let{elapsed:u=0}=s;u=u-Ml(c);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:g=>{t.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:r?void 0:i};lxe(o)||Object.assign(h,oxe(e,h)),h.duration&&(h.duration=Ml(h.duration)),h.repeatDelay&&(h.repeatDelay=Ml(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(UE(h),h.delay===0&&(f=!0)),(Vc.instantAnimations||Vc.skipAnimations)&&(f=!0,UE(h),h.delay=0),h.allowFlatten=!o.type&&!o.ease,f&&!r&&t.get()!==void 0){const g=nxe(h.keyframes,o);if(g!==void 0){cs.update(()=>{h.onUpdate(g),h.onComplete()});return}}return o.isSync?new CI(h):new Eme(h)};function cxe({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function _H(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:a,...o}=t;s&&(r=s);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const h in o){const f=e.getValue(h,e.latestValues[h]??null),g=o[h];if(g===void 0||u&&cxe(u,h))continue;const m={delay:n,...jI(r||{},h)},y=f.get();if(y!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===y&&!m.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const C=RH(e);if(C){const M=window.MotionHandoffAnimation(C,h,cs);M!==null&&(m.startTime=M,b=!0)}}qE(e,h),f.start(zI(h,f,g,e.shouldReduceMotion&&nH.has(h)?{type:!1}:m,e,b));const S=f.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{cs.update(()=>{a&&Jye(e,a)})}),c}function PH(e,t,n,s=0,i=1){const r=Array.from(e).sort((u,h)=>u.sortNodePosition(h)).indexOf(t),a=e.size,o=(a-1)*s;return typeof n=="function"?n(r,a):i===1?r*s:o-r*s}function ZE(e,t,n={}){const s=tg(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const r=s?()=>Promise.all(_H(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:f}=i;return uxe(e,t,c,u,h,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[r,a]:[a,r];return c().then(()=>u())}else return Promise.all([r(),a(n.delay)])}function uxe(e,t,n=0,s=0,i=0,r=1,a){const o=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),o.push(ZE(c,t,{...a,delay:n+(typeof s=="function"?0:s)+PH(e.variantChildren,c,s,i,r)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(o)}function dxe(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(r=>ZE(e,r,n));s=Promise.all(i)}else if(typeof t=="string")s=ZE(e,t,n);else{const i=typeof t=="function"?tg(e,t,n.custom):t;s=Promise.all(_H(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function zH(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const hxe=kI.length;function FH(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?FH(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<hxe;n++){const s=kI[n],i=e.props[s];(Tx(i)||i===!1)&&(t[s]=i)}return t}const fxe=[...DI].reverse(),pxe=DI.length;function gxe(e){return t=>Promise.all(t.map(({animation:n,options:s})=>dxe(e,n,s)))}function mxe(e){let t=gxe(e),n=RF(),s=!0;const i=c=>(u,h)=>{const f=tg(e,h,c==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:g,transitionEnd:m,...y}=f;u={...u,...y,...m}}return u};function r(c){t=c(e)}function a(c){const{props:u}=e,h=FH(e.parent)||{},f=[],g=new Set;let m={},y=1/0;for(let S=0;S<pxe;S++){const C=fxe[S],M=n[C],N=u[C]!==void 0?u[C]:h[C],T=Tx(N),E=C===c?M.isActive:null;E===!1&&(y=S);let k=N===h[C]&&N!==u[C]&&T;if(k&&s&&e.manuallyAnimateOnMount&&(k=!1),M.protectedKeys={...m},!M.isActive&&E===null||!N&&!M.prevProp||x2(N)||typeof N=="boolean")continue;const L=yxe(M.prevProp,N);let I=L||C===c&&M.isActive&&!k&&T||S>y&&T,_=!1;const F=Array.isArray(N)?N:[N];let G=F.reduce(i(C),{});E===!1&&(G={});const{prevResolvedValues:U={}}=M,H={...U,...G},z=B=>{I=!0,g.has(B)&&(_=!0,g.delete(B)),M.needsAnimating[B]=!0;const Y=e.getValue(B);Y&&(Y.liveStyle=!1)};for(const B in H){const Y=G[B],K=U[B];if(m.hasOwnProperty(B))continue;let te=!1;KE(Y)&&KE(K)?te=!zH(Y,K):te=Y!==K,te?Y!=null?z(B):g.add(B):Y!==void 0&&g.has(B)?z(B):M.protectedKeys[B]=!0}M.prevProp=N,M.prevResolvedValues=G,M.isActive&&(m={...m,...G}),s&&e.blockInitialAnimation&&(I=!1);const $=k&&L;I&&(!$||_)&&f.push(...F.map(B=>{const Y={type:C};if(typeof B=="string"&&s&&!$&&e.manuallyAnimateOnMount&&e.parent){const{parent:K}=e,te=tg(K,B);if(K.enteringChildren&&te){const{delayChildren:se}=te.transition||{};Y.delay=PH(K.enteringChildren,e,se)}}return{animation:B,options:Y}}))}if(g.size){const S={};if(typeof u.initial!="boolean"){const C=tg(e,Array.isArray(u.initial)?u.initial[0]:u.initial);C&&C.transition&&(S.transition=C.transition)}g.forEach(C=>{const M=e.getBaseTarget(C),N=e.getValue(C);N&&(N.liveStyle=!0),S[C]=M??null}),f.push({animation:S})}let b=!!f.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),s=!1,b?t(f):Promise.resolve()}function o(c,u){if(n[c].isActive===u)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(c,u)),n[c].isActive=u;const h=a(c);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:r,getState:()=>n,reset:()=>{n=RF()}}}function yxe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zH(t,e):!1}function uh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RF(){return{animate:uh(!0),whileInView:uh(),whileHover:uh(),whileTap:uh(),whileDrag:uh(),whileFocus:uh(),exit:uh()}}class Dd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class xxe extends Dd{constructor(t){super(t),t.animationState||(t.animationState=mxe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();x2(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let bxe=0;class vxe extends Dd{constructor(){super(...arguments),this.id=bxe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Sxe={animation:{Feature:xxe},exit:{Feature:vxe}};function Dx(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function H0(e){return{point:{x:e.pageX,y:e.pageY}}}const wxe=e=>t=>TI(t)&&e(t,H0(t));function Qy(e,t,n,s){return Dx(e,t,wxe(n),s)}const $H=1e-4,Cxe=1-$H,Mxe=1+$H,BH=.01,jxe=0-BH,Nxe=0+BH;function vr(e){return e.max-e.min}function Axe(e,t,n){return Math.abs(e-t)<=n}function _F(e,t,n,s=.5){e.origin=s,e.originPoint=ys(t.min,t.max,e.origin),e.scale=vr(n)/vr(t),e.translate=ys(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Cxe&&e.scale<=Mxe||isNaN(e.scale))&&(e.scale=1),(e.translate>=jxe&&e.translate<=Nxe||isNaN(e.translate))&&(e.translate=0)}function Xy(e,t,n,s){_F(e.x,t.x,n.x,s?s.originX:void 0),_F(e.y,t.y,n.y,s?s.originY:void 0)}function PF(e,t,n){e.min=n.min+t.min,e.max=e.min+vr(t)}function Txe(e,t,n){PF(e.x,t.x,n.x),PF(e.y,t.y,n.y)}function zF(e,t,n){e.min=t.min-n.min,e.max=e.min+vr(t)}function Jy(e,t,n){zF(e.x,t.x,n.x),zF(e.y,t.y,n.y)}function Ga(e){return[e("x"),e("y")]}const VH=({current:e})=>e?e.ownerDocument.defaultView:null,FF=(e,t)=>Math.abs(e-t);function Exe(e,t){const n=FF(e.x,t.x),s=FF(e.y,t.y);return Math.sqrt(n**2+s**2)}class UH{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=BA(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=Exe(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!y)return;const{point:b}=g,{timestamp:S}=Bi;this.history.push({...b,timestamp:S});const{onStart:C,onMove:M}=this.handlers;m||(C&&C(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,g)},this.handlePointerMove=(g,m)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=$A(m,this.transformPagePoint),cs.update(this.updatePoint,!0)},this.handlePointerUp=(g,m)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=BA(g.type==="pointercancel"?this.lastMoveEventInfo:$A(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(g,C),b&&b(g,C)},!TI(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=a,this.contextWindow=i||window;const o=H0(t),c=$A(o,this.transformPagePoint),{point:u}=c,{timestamp:h}=Bi;this.history=[{...u,timestamp:h}];const{onSessionStart:f}=n;f&&f(t,BA(c,this.history)),this.removeListeners=B0(Qy(this.contextWindow,"pointermove",this.handlePointerMove),Qy(this.contextWindow,"pointerup",this.handlePointerUp),Qy(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),md(this.updatePoint)}}function $A(e,t){return t?{point:t(e.point)}:e}function $F(e,t){return{x:e.x-t.x,y:e.y-t.y}}function BA({point:e},t){return{point:e,delta:$F(e,HH(t)),offset:$F(e,Dxe(t)),velocity:kxe(t,.1)}}function Dxe(e){return e[0]}function HH(e){return e[e.length-1]}function kxe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=HH(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>Ml(t)));)n--;if(!s)return{x:0,y:0};const r=to(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const a={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Ixe(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ys(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ys(n,e,s.max):Math.min(e,n)),e}function BF(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Lxe(e,{top:t,left:n,bottom:s,right:i}){return{x:BF(e.x,n,i),y:BF(e.y,t,s)}}function VF(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Oxe(e,t){return{x:VF(e.x,t.x),y:VF(e.y,t.y)}}function Rxe(e,t){let n=.5;const s=vr(e),i=vr(t);return i>s?n=jx(t.min,t.max-s,e.min):s>i&&(n=jx(e.min,e.max-i,t.min)),Bc(0,1,n)}function _xe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const QE=.35;function Pxe(e=QE){return e===!1?e=0:e===!0&&(e=QE),{x:UF(e,"left","right"),y:UF(e,"top","bottom")}}function UF(e,t,n){return{min:HF(e,t),max:HF(e,n)}}function HF(e,t){return typeof e=="number"?e:e[t]||0}const zxe=new WeakMap;class Fxe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ps(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(H0(f).point)},a=(f,g)=>{const{drag:m,dragPropagation:y,onDragStart:b}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Gme(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ga(C=>{let M=this.getAxisMotionValue(C).get()||0;if(jl.test(M)){const{projection:N}=this.visualElement;if(N&&N.layout){const T=N.layout.layoutBox[C];T&&(M=vr(T)*(parseFloat(M)/100))}}this.originPoint[C]=M}),b&&cs.postRender(()=>b(f,g)),qE(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:b,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:C}=g;if(y&&this.currentDirection===null){this.currentDirection=$xe(C),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",g.point,C),this.updateAxis("y",g.point,C),this.visualElement.render(),S&&S(f,g)},c=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ga(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new UH(t,{onSessionStart:r,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:s,contextWindow:VH(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!s)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&cs.postRender(()=>o(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!w1(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let a=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(a=Ixe(a,this.constraints[t],this.elastic[t])),r.set(a)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&Yp(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=Lxe(s.layoutBox,t):this.constraints=!1,this.elastic=Pxe(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ga(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=_xe(s.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Yp(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=Bye(s,i.root,this.visualElement.getTransformPagePoint());let a=Oxe(i.layout.layoutBox,r);if(n){const o=n(zye(a));this.hasMutatedConstraints=!!o,o&&(a=AH(o))}return a}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=Ga(h=>{if(!w1(h,n,this.currentDirection))return;let f=c&&c[h]||{};a&&(f={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:s?t[h]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...r,...f};return this.startAxisValueAnimation(h,y)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return qE(this.visualElement,t),s.start(zI(t,s,0,n,this.visualElement,!1))}stopAnimation(){Ga(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ga(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Ga(n=>{const{drag:s}=this.getProps();if(!w1(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];r.set(t[n]-ys(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Yp(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ga(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();i[a]=Rxe({min:c,max:c},this.constraints[a])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ga(a=>{if(!w1(a,t,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(ys(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;zxe.set(this.visualElement,this);const t=this.visualElement.current,n=Qy(t,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Yp(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),cs.read(s);const a=Dx(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ga(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())}));return()=>{a(),n(),r(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:a=QE,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:a,dragMomentum:o}}}function w1(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $xe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Bxe extends Dd{constructor(t){super(t),this.removeGroupControls=io,this.removeListeners=io,this.controls=new Fxe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||io}unmount(){this.removeGroupControls(),this.removeListeners()}}const GF=e=>(t,n)=>{e&&cs.postRender(()=>e(t,n))};class Vxe extends Dd{constructor(){super(...arguments),this.removePointerDownListener=io}onPointerDown(t){this.session=new UH(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VH(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:GF(t),onStart:GF(n),onMove:s,onEnd:(r,a)=>{delete this.session,i&&cs.postRender(()=>i(r,a))}}}mount(){this.removePointerDownListener=Qy(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const fS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function WF(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const my={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(jt.test(e))e=parseFloat(e);else return e;const n=WF(e,t.target.x),s=WF(e,t.target.y);return`${n}% ${s}%`}},Uxe={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=yd.parse(e);if(i.length>5)return s;const r=yd.createTransformer(e),a=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,c=n.y.scale*t.y;i[0+a]/=o,i[1+a]/=c;const u=ys(o,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),r(i)}};let VA=!1;class Hxe extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=t;hye(Gxe),r&&(n.group&&n.group.add(r),s&&s.register&&i&&s.register(r),VA&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),fS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:r}=this.props,{projection:a}=s;return a&&(a.isPresent=r,VA=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==r?a.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?a.promote():a.relegate()||cs.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),AI.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;VA=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function GH(e){const[t,n]=fH(),s=w.useContext(rI);return l.jsx(Hxe,{...e,layoutGroup:s,switchLayoutGroup:w.useContext(jH),isPresent:t,safeToRemove:n})}const Gxe={borderRadius:{...my,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:my,borderTopRightRadius:my,borderBottomLeftRadius:my,borderBottomRightRadius:my,boxShadow:Uxe};function Wxe(e,t,n){const s=lr(e)?e:mg(e);return s.start(zI("",s,t,n)),s.animation}const Yxe=(e,t)=>e.depth-t.depth;class Kxe{constructor(){this.children=[],this.isDirty=!1}add(t){lI(this.children,t),this.isDirty=!0}remove(t){cI(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Yxe),this.isDirty=!1,this.children.forEach(t)}}function qxe(e,t){const n=Ur.now(),s=({timestamp:i})=>{const r=i-n;r>=t&&(md(s),e(r-t))};return cs.setup(s,!0),()=>md(s)}const WH=["TopLeft","TopRight","BottomLeft","BottomRight"],Zxe=WH.length,YF=e=>typeof e=="string"?parseFloat(e):e,KF=e=>typeof e=="number"||jt.test(e);function Qxe(e,t,n,s,i,r){i?(e.opacity=ys(0,n.opacity??1,Xxe(s)),e.opacityExit=ys(t.opacity??1,0,Jxe(s))):r&&(e.opacity=ys(t.opacity??1,n.opacity??1,s));for(let a=0;a<Zxe;a++){const o=`border${WH[a]}Radius`;let c=qF(t,o),u=qF(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||KF(c)===KF(u)?(e[o]=Math.max(ys(YF(c),YF(u),s),0),(jl.test(u)||jl.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=ys(t.rotate||0,n.rotate||0,s))}function qF(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Xxe=YH(0,.5,LU),Jxe=YH(.5,.95,io);function YH(e,t,n){return s=>s<e?0:s>t?1:n(jx(e,t,s))}function ZF(e,t){e.min=t.min,e.max=t.max}function $a(e,t){ZF(e.x,t.x),ZF(e.y,t.y)}function QF(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function XF(e,t,n,s,i){return e-=t,e=nw(e,1/n,s),i!==void 0&&(e=nw(e,1/i,s)),e}function e0e(e,t=0,n=1,s=.5,i,r=e,a=e){if(jl.test(t)&&(t=parseFloat(t),t=ys(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=ys(r.min,r.max,s);e===r&&(o-=t),e.min=XF(e.min,t,n,o,i),e.max=XF(e.max,t,n,o,i)}function JF(e,t,[n,s,i],r,a){e0e(e,t[n],t[s],t[i],t.scale,r,a)}const t0e=["x","scaleX","originX"],n0e=["y","scaleY","originY"];function e8(e,t,n,s){JF(e.x,t,t0e,n?n.x:void 0,s?s.x:void 0),JF(e.y,t,n0e,n?n.y:void 0,s?s.y:void 0)}function t8(e){return e.translate===0&&e.scale===1}function KH(e){return t8(e.x)&&t8(e.y)}function n8(e,t){return e.min===t.min&&e.max===t.max}function s0e(e,t){return n8(e.x,t.x)&&n8(e.y,t.y)}function s8(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qH(e,t){return s8(e.x,t.x)&&s8(e.y,t.y)}function i8(e){return vr(e.x)/vr(e.y)}function r8(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class i0e{constructor(){this.members=[]}add(t){lI(this.members,t),t.scheduleRender()}remove(t){if(cI(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function r0e(e,t,n){let s="";const i=e.x.translate/t.x,r=e.y.translate/t.y,a=n?.z||0;if((i||r||a)&&(s=`translate3d(${i}px, ${r}px, ${a}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:g,skewX:m,skewY:y}=n;u&&(s=`perspective(${u}px) ${s}`),h&&(s+=`rotate(${h}deg) `),f&&(s+=`rotateX(${f}deg) `),g&&(s+=`rotateY(${g}deg) `),m&&(s+=`skewX(${m}deg) `),y&&(s+=`skewY(${y}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(s+=`scale(${o}, ${c})`),s||"none"}const UA=["","X","Y","Z"],a0e=1e3;let o0e=0;function HA(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function ZH(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=RH(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",cs,!(i||r))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&ZH(s)}function QH({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(a={},o=t?.()){this.id=o0e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(u0e),this.nodes.forEach(p0e),this.nodes.forEach(g0e),this.nodes.forEach(d0e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Kxe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new hI),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=hH(a)&&!Qme(a),this.instance=a;const{layoutId:o,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),e){let h,f=0;const g=()=>this.root.updateBlockedByResize=!1;cs.read(()=>{f=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,h&&h(),h=qxe(g,250),fS.hasAnimatedSinceResize&&(fS.hasAnimatedSinceResize=!1,this.nodes.forEach(l8)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||v0e,{onLayoutAnimationStart:b,onLayoutAnimationComplete:S}=u.getProps(),C=!this.targetLayout||!qH(this.targetLayout,m),M=!f&&g;if(this.options.layoutRoot||this.resumeFrom||M||f&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...jI(y,"layout"),onPlay:b,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(h,M)}else f||l8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),md(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(m0e),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ZH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(a8);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(o8);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(f0e),this.nodes.forEach(l0e),this.nodes.forEach(c0e)):this.nodes.forEach(o8),this.clearAllSnapshots();const o=Ur.now();Bi.delta=Bc(0,1e3/60,o-Bi.timestamp),Bi.timestamp=o,Bi.isProcessing=!0,IA.update.process(Bi),IA.preRender.process(Bi),IA.render.process(Bi),Bi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,AI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(h0e),this.sharedNodes.forEach(y0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,cs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){cs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vr(this.snapshot.measuredBox.x)&&!vr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ps(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!KH(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||jh(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),S0e(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Ps();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(w0e))){const{scroll:u}=this.root;u&&(Kp(o.x,u.offset.x),Kp(o.y,u.offset.y))}return o}removeElementScroll(a){const o=Ps();if($a(o,a),this.scroll?.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:h,options:f}=u;u!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&$a(o,a),Kp(o.x,h.offset.x),Kp(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const c=Ps();$a(c,a);for(let u=0;u<this.path.length;u++){const h=this.path[u];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&qp(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),jh(h.latestValues)&&qp(c,h.latestValues)}return jh(this.latestValues)&&qp(c,this.latestValues),c}removeTransform(a){const o=Ps();$a(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!jh(u.latestValues))continue;GE(u.latestValues)&&u.updateSnapshot();const h=Ps(),f=u.measurePageBox();$a(h,f),e8(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return jh(this.latestValues)&&e8(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Bi.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ps(),this.relativeTargetOrigin=Ps(),Jy(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),$a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ps(),this.targetWithTransforms=Ps()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Txe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$a(this.target,this.layout.layoutBox),EH(this.target,this.targetDelta)):$a(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ps(),this.relativeTargetOrigin=Ps(),Jy(this.relativeTargetOrigin,this.target,g.target),$a(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||GE(this.parent.latestValues)||TH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Bi.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;$a(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;$ye(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ps());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QF(this.prevProjectionDelta.x,this.projectionDelta.x),QF(this.prevProjectionDelta.y,this.projectionDelta.y)),Xy(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!r8(this.projectionDelta.x,this.prevProjectionDelta.x)||!r8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zp(),this.projectionDelta=Zp(),this.projectionDeltaWithTransform=Zp()}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},f=Zp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=Ps(),m=c?c.source:void 0,y=this.layout?this.layout.source:void 0,b=m!==y,S=this.getStack(),C=!S||S.members.length<=1,M=!!(b&&!C&&this.options.crossfade===!0&&!this.path.some(b0e));this.animationProgress=0;let N;this.mixTargetDelta=T=>{const E=T/1e3;c8(f.x,a.x,E),c8(f.y,a.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jy(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),x0e(this.relativeTarget,this.relativeTargetOrigin,g,E),N&&s0e(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Ps()),$a(N,this.relativeTarget)),b&&(this.animationValues=h,Qxe(h,u,this.latestValues,E,M,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(md(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cs.update(()=>{fS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=mg(0)),this.currentAnimation=Wxe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(a0e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:h}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&XH(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ps();const f=vr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const g=vr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+g}$a(o,c),qp(o,h),Xy(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new i0e),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const u={};c.z&&HA("z",a,u,this.animationValues);for(let h=0;h<UA.length;h++)HA(`rotate${UA[h]}`,a,u,this.animationValues),HA(`skew${UA[h]}`,a,u,this.animationValues);a.render();for(const h in u)a.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=hS(o?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=hS(o?.pointerEvents)||""),this.hasProjected&&!jh(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=r0e(this.projectionDeltaWithTransform,this.treeScale,h);c&&(f=c(h,f)),a.transform=f;const{x:g,y:m}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Ex){if(h[y]===void 0)continue;const{correct:b,applyTo:S,isCSSVariable:C}=Ex[y],M=f==="none"?h[y]:b(h[y],u);if(S){const N=S.length;for(let T=0;T<N;T++)a[S[T]]=M}else C?this.options.visualElement.renderState.vars[y]=M:a[y]=M}this.options.layoutId&&(a.pointerEvents=u===this?hS(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(a8),this.root.sharedNodes.clear()}}}function l0e(e){e.updateLayout()}function c0e(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,r=t.source!==e.layout.source;i==="size"?Ga(h=>{const f=r?t.measuredBox[h]:t.layoutBox[h],g=vr(f);f.min=n[h].min,f.max=f.min+g}):XH(i,t.layoutBox,n)&&Ga(h=>{const f=r?t.measuredBox[h]:t.layoutBox[h],g=vr(n[h]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const a=Zp();Xy(a,n,t.layoutBox);const o=Zp();r?Xy(o,e.applyTransform(s,!0),t.measuredBox):Xy(o,n,t.layoutBox);const c=!KH(a);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const m=Ps();Jy(m,t.layoutBox,f.layoutBox);const y=Ps();Jy(y,n,g.layoutBox),qH(m,y)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=m,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:o,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function u0e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function d0e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function h0e(e){e.clearSnapshot()}function a8(e){e.clearMeasurements()}function o8(e){e.isLayoutDirty=!1}function f0e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function l8(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function p0e(e){e.resolveTargetDelta()}function g0e(e){e.calcProjection()}function m0e(e){e.resetSkewAndRotation()}function y0e(e){e.removeLeadSnapshot()}function c8(e,t,n){e.translate=ys(t.translate,0,n),e.scale=ys(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function u8(e,t,n,s){e.min=ys(t.min,n.min,s),e.max=ys(t.max,n.max,s)}function x0e(e,t,n,s){u8(e.x,t.x,n.x,s),u8(e.y,t.y,n.y,s)}function b0e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const v0e={duration:.45,ease:[.4,0,.1,1]},d8=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),h8=d8("applewebkit/")&&!d8("chrome/")?Math.round:io;function f8(e){e.min=h8(e.min),e.max=h8(e.max)}function S0e(e){f8(e.x),f8(e.y)}function XH(e,t,n){return e==="position"||e==="preserve-aspect"&&!Axe(i8(t),i8(n),.2)}function w0e(e){return e!==e.root&&e.scroll?.wasRoot}const C0e=QH({attachResizeListener:(e,t)=>Dx(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),GA={current:void 0},JH=QH({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!GA.current){const e=new C0e({});e.mount(window),e.setOptions({layoutScroll:!0}),GA.current=e}return GA.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),M0e={pan:{Feature:Vxe},drag:{Feature:Bxe,ProjectionNode:JH,MeasureLayout:GH}};function p8(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,r=s[i];r&&cs.postRender(()=>r(t,H0(t)))}class j0e extends Dd{mount(){const{current:t}=this.node;t&&(this.unmount=Wme(t,(n,s)=>(p8(this.node,s,"Start"),i=>p8(this.node,i,"End"))))}unmount(){}}class N0e extends Dd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=B0(Dx(this.node.current,"focus",()=>this.onFocus()),Dx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function g8(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),r=s[i];r&&cs.postRender(()=>r(t,H0(t)))}class A0e extends Dd{mount(){const{current:t}=this.node;t&&(this.unmount=Zme(t,(n,s)=>(g8(this.node,s,"Start"),(i,{success:r})=>g8(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const XE=new WeakMap,WA=new WeakMap,T0e=e=>{const t=XE.get(e.target);t&&t(e)},E0e=e=>{e.forEach(T0e)};function D0e({root:e,...t}){const n=e||document;WA.has(n)||WA.set(n,{});const s=WA.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(E0e,{root:e,...t})),s[i]}function k0e(e,t,n){const s=D0e(t);return XE.set(e,n),s.observe(e),()=>{XE.delete(e),s.unobserve(e)}}const I0e={some:0,all:1};class L0e extends Dd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:r}=t,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:I0e[i]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,r&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),g=u?h:f;g&&g(c)};return k0e(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(O0e(t,n))&&this.startObserver()}unmount(){}}function O0e({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const R0e={inView:{Feature:L0e},tap:{Feature:A0e},focus:{Feature:N0e},hover:{Feature:j0e}},_0e={layout:{ProjectionNode:JH,MeasureLayout:GH}},P0e={...Sxe,...R0e,...M0e,..._0e},Bo=Pye(P0e,Zye),z0e=()=>{const{data:e,isLoading:t}=Gt();return t||!e||!e.is_admin?null:l.jsx(l.Fragment,{children:l.jsx(Ac,{name:"Clear Cache",description:"Clear the offline cache and reload the page",onClick:n=>{n.preventDefault(),n.stopPropagation(),localStorage.removeItem("REACT_QUERY_OFFLINE_CACHE"),window.location.reload()},iconOutline:DV})})},eG=()=>w.useMemo(()=>{const e=ote.flatMap(n=>n.children||[]).find(n=>n.path==="admin");if(!e?.children)return[];const t=(n,s="/admin")=>{const i=[];for(const r of n){if(!r.path)continue;const a=`${s}/${r.path}`;r.path.includes(":")||(r.element&&i.push(a),r.children&&(r.children.some(c=>c.index&&c.element)&&i.push(a),i.push(...t(r.children,a))))}return i};return t(e.children)},[]),F0e=()=>{const e=eG(),t=Rt();return l.jsx(Nk,{anchor:{to:"right end",offset:10},className:"py-2 bg-white border border-slate-200 rounded-lg shadow-lg min-w-[20rem] flex flex-col focus:outline-none",children:e.map(n=>l.jsx(AB,{children:l.jsx(Re,{to:n,className:`hover:bg-slate-100 py-2 px-4 ${t.pathname===n?"bg-slate-100":""}`,children:n})},n))})},$0e=()=>{const{data:e,isLoading:t}=Gt();return t||!e||!e.is_admin?null:l.jsxs(Qw,{children:[l.jsx(jk,{className:"focus:outline-none!",children:l.jsx(Ac,{name:"Admin",description:"",iconOutline:Yk,onClick:n=>{n.preventDefault()}})}),l.jsx(F0e,{})]})},B0e=(e,t)=>`slack://app?team=${t}&id=${e}`,V0e=()=>l.jsxs("svg",{className:"w-6 h-6 p-0.5 relative left-[0.05rem]",width:"127",height:"127",viewBox:"0 0 127 127",children:[l.jsx("path",{d:"M27.2 80c0 7.3-5.9 13.2-13.2 13.2C6.7 93.2.8 87.3.8 80c0-7.3 5.9-13.2 13.2-13.2h13.2V80zm6.6 0c0-7.3 5.9-13.2 13.2-13.2 7.3 0 13.2 5.9 13.2 13.2v33c0 7.3-5.9 13.2-13.2 13.2-7.3 0-13.2-5.9-13.2-13.2V80z",fill:"currentColor"}),l.jsx("path",{d:"M47 27c-7.3 0-13.2-5.9-13.2-13.2C33.8 6.5 39.7.6 47 .6c7.3 0 13.2 5.9 13.2 13.2V27H47zm0 6.7c7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2H13.9C6.6 60.1.7 54.2.7 46.9c0-7.3 5.9-13.2 13.2-13.2H47z",fill:"currentColor"}),l.jsx("path",{d:"M99.9 46.9c0-7.3 5.9-13.2 13.2-13.2 7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2H99.9V46.9zm-6.6 0c0 7.3-5.9 13.2-13.2 13.2-7.3 0-13.2-5.9-13.2-13.2V13.8C66.9 6.5 72.8.6 80.1.6c7.3 0 13.2 5.9 13.2 13.2v33.1z",fill:"currentColor"}),l.jsx("path",{d:"M80.1 99.8c7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2-7.3 0-13.2-5.9-13.2-13.2V99.8h13.2zm0-6.6c-7.3 0-13.2-5.9-13.2-13.2 0-7.3 5.9-13.2 13.2-13.2h33.1c7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2H80.1z",fill:"currentColor"})]}),U0e=()=>{const{data:e,isLoading:t}=Gt(),{slack_app_id:n,slack_team_id:s}=e||{slack_app_id:null,slack_team_id:null},i=n&&s,r=i?"Open on Slack":"Add to Slack";return t?null:l.jsx(Ac,{to:i?B0e(n,s):"/integrations/slack",name:r,description:"Receive Sumble updates directly in Slack",iconOutline:V0e,isExternal:!!i})},H0e=()=>{const{data:e}=Gt(),{pathname:t}=Rt(),n=t.startsWith("/account");if(!e)return null;const s=u=>{switch(u){case ei.free:return"Free";case ei.pro:return"Pro";case ei.enterprise:return"Enterprise";default:return"Free"}},r=(()=>{if(e.subscription.tier!==ei.pro||!e.subscription.trial_start||!e.subscription.trial_end)return null;const u=Date.now(),h=e.subscription.trial_end*1e3;return u>=h?null:`${Math.ceil((h-u)/(1440*60*1e3))}d left`})(),a=s(e.subscription.tier),o=e.name||e.email.split("@")[0],c=r?l.jsxs("div",{className:"bg-red-700 text-white px-2 rounded-full inline-flex",children:[r," in Pro trial"]}):`${a} Plan`;return l.jsx(Ht,{delay:250,description:l.jsx(tG,{description:"Manage your account"}),placement:"right",tooltipClassName:"relative -left-8",children:l.jsxs("div",{className:`mx-2 px-2 rounded-md py-1.25 flex flex-col gap-1 relative group font-medium ${n?"bg-slate-200/75 text-slate-600":"text-slate-500 hover:text-slate-700"}`,children:[l.jsx(Re,{to:"/account",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{children:l.jsx(Wk,{className:"w-6 h-6"})}),l.jsx("div",{children:o})]})}),l.jsx(Re,{to:"/pricing",className:"text-[0.85rem] pl-10",children:c})]})})},G0e=w.memo(H0e),tG=({description:e})=>l.jsx("div",{className:"flex flex-row gap-2 p-1 text-[1rem]",children:l.jsx("div",{className:"text-slate-50",children:e})}),Ac=({target:e,to:t,onClick:n,name:s,number:i,description:r,iconOutline:a,isExternal:o=!1,domainIcon:c,testId:u,trackEventName:h})=>{const{pathname:f}=Rt(),g=t!==void 0&&f.startsWith(t)||f.startsWith("/jobs")&&t==="/orgs";return l.jsx(Ht,{delay:250,description:r&&l.jsx(tG,{description:r}),placement:"right",tooltipClassName:"relative -left-8",children:l.jsxs(Re,{trackEventName:h,"data-testid":u??void 0,to:t??"",onClick:n,className:`mx-2 px-2 rounded-md py-1.25 flex items-center gap-4 relative group font-medium ${g?"bg-slate-200/75 text-slate-600":"text-slate-500 hover:text-slate-700 "}`,target:e,doNotPassQuery:t!==void 0&&t.startsWith("http"),children:[l.jsx("div",{children:c?l.jsx(Wg,{url:c,className:"w-6 h-6"}):l.jsx(a,{className:"w-6 h-6"})}),l.jsx("div",{className:"",children:s}),i!==0&&i&&l.jsx("div",{className:" group-hover:bg-red-700 -ml-2 bg-red-600 text-white text-xs font-semibold rounded-full px-1.5 h-5 flex items-center justify-center",children:i>99?"99+":i}),o&&l.jsx(ls,{className:"ml-auto w-4 h-4 text-slate-300"})]})})},nG=()=>{const{data:e}=Gt(),t=e&&e?.unseen_alert_count?e.unseen_alert_count:void 0,n="flex flex-col items-stretch gap-0 w-full",s="text-slate-400 text-sm px-4 font-semibold pb-1",i=Xpe();return l.jsx("div",{className:"flex-none w-[14rem] h-[100dvh] bg-slate-50 border-r-2 border-slate-100",children:l.jsxs("div",{className:"flex flex-col items-start justify-between h-full gap-5",children:[l.jsx("div",{className:`${n} pt-4`,children:l.jsxs("div",{className:"px-4 pb-2 flex flex-row gap-4 items-center",children:[l.jsx(Re,{to:"/orgs",children:l.jsx("img",{src:"/logo512.png",className:"w-6 h-6 hover:shadow-lg rounded-md"})}),l.jsx(Re,{to:"/",className:"text-green-600","data-testid":"sumble-home",children:l.jsx("img",{src:"/img/sumble-wordmark.svg",className:"h-4 w-auto"})}),i&&l.jsx(Ht,{description:`Impersonating ${e&&e.name}. Tap to return to Users admin.`,placement:"bottom",className:"text-xl",children:l.jsx(Re,{to:"/admin/users",className:"",children:""})})]})}),l.jsxs("div",{className:`${n}`,children:[l.jsx(Ac,{testId:"orgs-link",to:"/orgs",name:"Search",description:"Browse and filter organizations, jobs, teams, and people",iconOutline:Sx}),l.jsx(Ac,{to:"/signals",name:"Signals",description:(t??0)>0?`${t} new`:"Here's what's happening in your accounts",iconOutline:Bk,number:t})]}),e&&e.has_customer_docs&&l.jsxs("div",{className:`${n}`,children:[l.jsx("div",{className:`${s}`,children:"Team docs"}),l.jsx(Ac,{to:`/team-docs/${p2(e.customer_name??"Your Team").toLowerCase()}`,name:e.customer_name??"Your Team",description:"Documentation and FAQ's for using Sumble at "+(e.customer_name??"your team"),iconOutline:fg,domainIcon:e?.email?.split("@")[1]??null})]}),l.jsxs("div",{className:`${n}`,children:[l.jsx("div",{className:`${s}`,children:"Your lists"}),l.jsx(Ac,{to:"/account-lists",name:"Account Lists",description:"Manage your target organizations",iconOutline:Fc}),l.jsx(Ac,{to:"/lists",name:"Contact Lists",description:"Create and enrich contact outreach lists",iconOutline:fg})]}),l.jsxs("div",{className:`${n}`,children:[l.jsx("div",{className:`${s}`,children:"Your integrations"}),l.jsx(U0e,{})]}),l.jsxs("div",{className:`${n} mt-auto pb-4`,children:[l.jsx(z0e,{}),l.jsx($0e,{}),l.jsx(Ac,{to:"https://docs.sumble.com",target:"_blank",name:"Documentation",description:"What is Sumble? How do I use it?",iconOutline:r2,trackEventName:"docs_link_on_sidebar",isExternal:!0}),l.jsx(G0e,{})]}),l.jsx(JV,{showOnMobile:!0})]})})},W0e={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.2,ease:"easeInOut"}},exit:{opacity:0,transition:{duration:.2,ease:"easeInOut"}}},Y0e={hidden:{x:"-100%"},visible:{x:0,transition:{type:"spring",stiffness:600,damping:50,mass:.8,bounce:.05}},exit:{x:"-100%",transition:{type:"spring",stiffness:600,damping:28,mass:.8,bounce:.15}}},K0e=()=>{const[e,t]=w.useState(!1),n=()=>{t(s=>!s)};return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-row items-center justify-between border-slate-100 border-b h-[3rem]",children:[l.jsx("div",{className:"flex-1 flex items-center",children:l.jsx("button",{onClick:n,className:"px-4",children:l.jsx(wue,{className:"w-6 h-6"})})}),l.jsx(Re,{to:"/",className:"flex-1 flex justify-center",children:l.jsx("img",{src:"/img/sumble-wordmark.svg",className:"h-4 w-auto"})}),l.jsx("div",{className:"flex-1"})]}),l.jsx(m2,{children:e&&l.jsxs(l.Fragment,{children:[l.jsx(Bo.div,{className:"fixed inset-0 bg-slate-700/30 backdrop-blur-sm z-40",initial:"hidden",animate:"visible",exit:"exit",variants:W0e,onClick:n},"backdrop"),l.jsx(Bo.div,{className:"fixed top-0 left-0 h-full z-50",initial:"hidden",animate:"visible",exit:"exit",variants:Y0e,children:l.jsx(nG,{})},"sidebar")]})})]})},q0e=()=>l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"md:hidden",children:l.jsx(K0e,{})}),l.jsx("div",{className:"max-md:hidden",children:l.jsx(nG,{})})]}),Wa=({to:e,allowedParams:t,...n})=>{const s=He(),i=Rt(),r=new URLSearchParams(i.search);if(t){const o=Array.from(r.keys());for(const c of o)t.includes(c)||r.delete(c)}let a=Die(e,s);return r.toString()&&(a+=`?${r.toString()}`),l.jsx(of,{...n,to:a})},Z0e=()=>{const e=Rt();return encodeURIComponent(`${e.pathname}${e.search}${e.hash}`)},Q0e=()=>{const e="878803865730-503v6ff8hdj9ir0u3pj8u5i1ht554gnb.apps.googleusercontent.com",t=window.location.port?`:${window.location.port}`:"",n=`${window.location.protocol}//${window.location.hostname}${t}/account/login/oauth`,i=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${e}&response_type=code&redirect_uri=${encodeURIComponent(n)}&scope=${encodeURIComponent("https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile")}`;window.location.href=i},sG=({onChoose:e})=>{const[t,n]=w.useState(!1);return w.useEffect(()=>{const s=navigator.userAgent.includes("LinkedInApp");n(s)},[]),l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full max-w-[25rem] flex flex-col justify-between gap-4 mb-4",children:[t?l.jsx("div",{className:"text-sm text-center text-slate-400",children:"Use your phone's browser in order to log in using your Google account"}):l.jsxs("button",{className:"border text-lg border-slate-200 rounded-lg px-3 py-3 md:py-4 font-medium flex flex-row gap-3 items-center justify-center hover:bg-orange-50 hover:bg-opacity-75 transition-colors",onClick:()=>{e&&e("google"),Q0e()},disabled:t,children:[l.jsx("svg",{className:"w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:"705.6",height:"720",viewBox:"0 0 186.69 190.5",children:l.jsxs("g",{transform:"translate(1184.583 765.171)",children:[l.jsx("path",{clipPath:"none",mask:"none",d:"M-1089.333-687.239v36.888h51.262c-2.251 11.863-9.006 21.908-19.137 28.662l30.913 23.986c18.011-16.625 28.402-41.044 28.402-70.052 0-6.754-.606-13.249-1.732-19.483z",fill:"#4285f4"}),l.jsx("path",{clipPath:"none",mask:"none",d:"M-1142.714-651.791l-6.972 5.337-24.679 19.223h0c15.673 31.086 47.796 52.561 85.03 52.561 25.717 0 47.278-8.486 63.038-23.033l-30.913-23.986c-8.486 5.715-19.31 9.179-32.125 9.179-24.765 0-45.806-16.712-53.34-39.226z",fill:"#34a853"}),l.jsx("path",{clipPath:"none",mask:"none",d:"M-1174.365-712.61c-6.494 12.815-10.217 27.276-10.217 42.689s3.723 29.874 10.217 42.689c0 .086 31.693-24.592 31.693-24.592-1.905-5.715-3.031-11.776-3.031-18.098s1.126-12.383 3.031-18.098z",fill:"#fbbc05"}),l.jsx("path",{d:"M-1089.333-727.244c14.028 0 26.497 4.849 36.455 14.201l27.276-27.276c-16.539-15.413-38.013-24.852-63.731-24.852-37.234 0-69.359 21.388-85.032 52.561l31.692 24.592c7.533-22.514 28.575-39.226 53.34-39.226z",fill:"#ea4335",clipPath:"none",mask:"none"})]})}),"Continue with Google"]}),l.jsxs(Re,{onClick:()=>{e&&e("email")},to:"/account/login/email",className:"text-lg border border-slate-200 rounded-lg px-3 py-3 md:py-4 font-medium flex flex-row gap-2 items-center justify-center hover:bg-orange-50 hover:bg-opacity-75 transition-colors",children:[l.jsx(Hk,{className:"w-8 h-8 text-slate-400"}),"Continue with email"]}),l.jsxs("div",{className:"text-slate-400 text-center mt-8",children:["or"," ",l.jsxs(Re,{to:"https://docs.sumble.com",target:"_blank",className:"pt-3 text-green-600 hover:text-green-700",rel:"noreferrer",doNotPassQuery:!0,trackEventName:"docs_link_on_login",children:["Find out more",l.jsx(ls,{className:"ml-1 w-4 h-4 inline-block"})]})]})]}),l.jsx("div",{})]})},X0e=()=>{const e=["accounts","contacts","message","time"],[t,n]=w.useState(0);w.useEffect(()=>{const a=setInterval(()=>{n(o=>o+1)},2e3);return()=>clearInterval(a)},[]);const s=64,i=e.length,r=s/2/Math.tan(Math.PI/i);return l.jsxs("div",{className:"text-slate-800 max-md:hidden flex max-lg:flex-col items-center text-[2rem] lg:leading-[64px] 2xl:text-[3rem] 2xl:leading-[64px] font-semibold text-rendering-auto antialiased",style:{transformStyle:"preserve-3d"},children:[l.jsxs("div",{className:"h-[36px] lg:h-[64px] mr-[3px]",children:["Find the right",l.jsx("span",{className:"max-lg:hidden",children:""})]}),l.jsx("div",{className:"relative w-full lg:w-[5em] h-[36px] lg:h-[64px] overflow-hidden max-lg:top-1",children:l.jsx(Bo.div,{style:{width:"100%",height:"100%",transformStyle:"preserve-3d"},animate:{rotateX:-t*(360/i)},transition:{duration:.2,ease:"easeInOut"},children:e.map((a,o)=>l.jsx("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center lg:justify-start",style:{transform:`
                                rotateX(${o*(360/i)}deg)
                                translateZ(${r}px)
                                `,backfaceVisibility:"hidden",WebkitBackfaceVisibility:"hidden"},children:a},a))})}),l.jsxs("div",{className:"h-[36px] lg:h-[64px] lg:-ml-[1.2rem]",children:[l.jsx("span",{className:"max-lg:hidden",children:""}),"to sell"]})]})},J0e=e=>{const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t},ebe=(e,t=100,n=!1)=>{const s=J0e(e),i=w.useRef(),r=[t,n,s];function a(){i.current&&clearTimeout(i.current),i.current=void 0}w.useEffect(()=>a,r);function o(){i.current=void 0}return w.useCallback(function(){const c=arguments,{current:u}=i;if(u===void 0&&n)return i.current=setTimeout(o,t),s.current.apply(null,c);u&&clearTimeout(u),i.current=setTimeout(()=>{i.current=void 0,s.current.apply(null,c)},t)},r)},tbe=(e,t,n)=>{const s=w.useState(e);return[s[0],ebe(s[1],t,n)]};function YA(e,t,n,s){const i=w.useRef(n),r=w.useRef(s);w.useEffect(()=>{i.current=n,r.current=s}),w.useEffect(()=>{const a=e&&"current"in e?e.current:e;if(!a)return;let o=0;function c(...h){o||i.current.apply(this,h)}a.addEventListener(t,c);const u=r.current;return()=>{o=1,a.removeEventListener(t,c),u&&u()}},[e,t])}const nbe={},ex=typeof window>"u"?null:window,sbe=ex&&typeof ex.visualViewport<"u"?ex.visualViewport:null,m8=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],ibe=function(e){e===void 0&&(e=nbe);const{wait:t,leading:n,initialWidth:s=0,initialHeight:i=0}=e,[r,a]=tbe(typeof document>"u"?[s,i]:m8,t,n),o=()=>a(m8);return YA(ex,"resize",o),YA(sbe,"resize",o),YA(ex,"orientationchange",o),r},G0=e=>ibe(e)[0],C1=["snowflake","elastic","figma","wiz","dataiku","snyk","vercel","dbt","atlan","wandb","prophecy","omni"],rbe=3e3,abe=()=>{const e=G0(),t=w.useMemo(()=>e<1380?3:4,[e]),n=t<C1.length,[s,i]=w.useState(0),[r,a]=w.useState(!0);w.useEffect(()=>{if(!n)return;const u=setInterval(()=>{a(!1),setTimeout(()=>{i(h=>(h+t)%C1.length),a(!0)},300)},rbe);return()=>clearInterval(u)},[t,n]);const o=C1.slice(s,s+t),c=o.length<t?[...o,...C1.slice(0,t-o.length)]:o;return l.jsx("div",{className:`flex flex-row items-center justify-center gap-12 transition-opacity duration-300 ${n?r?"opacity-100":"opacity-0":"opacity-100"}`,children:c.map(u=>l.jsx("img",{src:`/img/logo-${u}.svg`,className:"w-auto md:h-[25px] lg:h-[35px]",alt:u},u))})},obe=()=>{const[,e]=Ni();return Rt().pathname.includes("oauth")?null:l.jsxs("div",{className:"flex-800 flex flex-col items-center justify-center h-full bg-linear-180 from-slate-300/50 to-slate-200/70 md:overflow-auto py-6 2xl:py-8",children:[l.jsxs("div",{className:"text-[2rem] font-semibold flex flex-row items-center gap-2",children:[l.jsx("img",{src:"https://sumble.com/logo512.png",className:"w-7 h-7 mr-1",alt:"Sumble Logo"}),l.jsx("img",{src:"/img/sumble-wordmark.svg",className:"h-6 w-auto",alt:"Sumble"})]}),l.jsxs("div",{className:"flex-1 p-3 md:p-10 flex flex-col items-center justify-center gap-0 2xl:gap-4",children:[l.jsxs("div",{className:"md:my-[2vh] px-8 md:px-16 relative flex flex-col items-center justify-center",children:[l.jsx("button",{onClick:()=>{e({loom:"4850b0cab41c48d482b16d2c0192da9b",loom_ap:"1"})},className:"hover:opacity-90",children:l.jsx("img",{src:"/img/video-tech.jpg",className:"shadow-md aspect-5/3 w-auto max-h-[40vh] border-0 bg-slate-100 rounded-lg",width:1e3,height:600})}),l.jsx("div",{className:"select-none absolute bottom-14 bg-slate-700/80 text-white px-4 rounded-full pointer-events-none",children:"Take video tour"})]}),l.jsx(X0e,{})]}),l.jsxs("div",{className:"max-md:hidden mt-auto flex flex-col justify-center gap-4 w-full relative top-1 md:px-10",children:[l.jsx("h2",{className:"text-slate-400 text-center w-full border-t border-slate-300/80 pt-3 text-sm",children:"Trusted by leading sales teams"}),l.jsx(abe,{})]})]})},iG=({children:e,className:t})=>l.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center z-50 p-3 md:p-16 overflow-auto",children:[l.jsx(f2,{}),l.jsxs("div",{className:`border border-slate-200 z-[50] bg-white rounded-xl shadow-xl w-full h-full flex flex-col md:flex-row justify-between md:max-w-[100rem] md:max-h-[70rem] items-center max-md:h-[calc(100dvh-2rem)] md:min-h-[45rem] ${t}`,children:[l.jsx(obe,{}),l.jsx("div",{className:"flex-414 flex flex-col items-center justify-between h-full p-8 max-md:pb-4",children:e})]})]}),lbe=()=>{const e=Rt(),t=e.pathname.split("/").filter(n=>n!=="");if(t.length<1)return!1;if(t[0]==="l")return"these insights";if(t.length===1)return t[0]==="l"?"these insights":t[0]==="orgs"?e.search===""?!1:"these organizations":t[0]==="jobs"?"these job posts":t[0]==="people"||t[0]==="feed"?"these insights":!1;if(t.length===3){if(t[2]==="teams")return"these teams";if(t[2]==="people")return"these people";if(t[2]==="jobs")return"these job posts";if(t[2]==="job-functions"||t[2]==="trends")return"these insights"}if(t.length>3){if(t[2]==="teams")return"this team";if(t[2]==="people")return"this person";if(t[2]==="jobs")return"this job post";if(t[2]==="job-functions"||t[2]==="trends")return"these insights"}return"this person"},cbe=[{path:"/privacy"},{path:"/terms-of-service"},{path:"/subprocessors"},{path:"/integrations/slack"},{path:"/about"},{path:"/landing/*"},{path:"/pricing/*"},{path:"/unsubscribe"}],ube=e=>cbe.some(({path:t})=>t.split("/").pop()!=="*"?e===t||e===`${t}/`:e.startsWith(t.replace("/*",""))),dbe=()=>{const[e,t]=w.useState(!1),{isLoggedIn:n,isLoading:s}=w.useContext(go),i=Rt(),r=Z0e();w.useEffect(()=>{i&&t(i.pathname.startsWith("/account/login"))},[i]);const a=h=>{localStorage.setItem("returnUrl",decodeURIComponent(r)),h==="email"&&t(!0)},o=lbe(),c=o?l.jsxs(l.Fragment,{children:["Sign in for free to",l.jsx("br",{}),"see ",o," "]}):"It's free to use ";return e||n||s||ube(i.pathname)?null:l.jsxs(iG,{className:"overflow-auto",children:[l.jsx("div",{className:"flex flex-col gap-4 items-center"}),l.jsxs("div",{className:"w-full flex flex-col items-center gap-8 md:gap-8",children:[l.jsx("h2",{className:"text-[1.5rem] md:text-[1.8rem] leading-[1.4em] text-center font-semibold text-slate-800",children:c}),l.jsx(sG,{onChoose:a})]}),l.jsx("div",{className:"flex flex-col gap-4"})]})},y8=["f","tec","hq","ind","emp","time","loc"],hbe=e=>{if(Object.keys(e).length===0)return!1;const t={f:"job_function",tec:"technology"},n={hq:"hq_location",loc:"country",ind:"industry",emp:"employee_count",time:"hiring_period"},s={operator:"OR",fields:Object.keys(t).reduce((a,o)=>{if(e[o]){const c=t[o];a[c]={include:e[o]}}return a},{})},i=Object.keys(n).reduce((a,o)=>{if(e[o]){const c=n[o];a.push({operator:"OR",fields:{[c]:{include:e[o]}}})}return a},[]);return{operator:"AND",children:[s,...i].filter(a=>Object.keys(a.fields).length>0)}},fbe=()=>{const[e,t]=Ni(),{setAdvSearch:n}=ze(),s=w.useMemo(()=>{const i={};for(const[r,a]of e.entries())a&&y8.includes(r)&&(i[r]=[...i[r]??[],a]);return i},[e]);return w.useEffect(()=>{const i=hbe(s);if(i){for(const r of y8)e.delete(r);t(e),setTimeout(()=>{n(i)},200)}},[]),null},x8=()=>(fbe(),null),pbe=()=>{const e=yt(),[t,n]=w.useState(!1);return w.useEffect(()=>{const s=e.getQueryCache().subscribe(i=>{i.type==="updated"&&i.action.type==="error"&&i.action?.error?.status===429&&n(!0)});return()=>{s()}},[e]),t?l.jsxs("div",{className:"flex items-center justify-center fixed inset-0 z-100 bg-slate-100/90 flex-col gap-4",children:[l.jsx(l2,{className:"text-red-500 w-12 h-12"}),l.jsx("h1",{className:"text-2xl text-slate-600 font-semibold",children:"Too many requests"}),l.jsx("div",{className:"text-slate-500",children:"Please wait a minute and refresh the page."}),l.jsx("button",{onClick:()=>{window.location.reload()},className:"bg-green-600 px-6 py-2 font-semibold text-white text-xl mt-6 hover:bg-green-500 rounded-md",children:"Refresh"})]}):null},FI=({children:e,dispelAction:t})=>{const[n,s]=w.useState(!1),i=w.useRef(null),r=Rt();return w.useEffect(()=>{s(!0)},[]),w.useEffect(()=>{i.current&&i.current.scrollTo(0,0)},[r.pathname]),l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`z-10 pointer-events-none inset-0 fixed ${n?"bg-white/30":"bg-white/0"} transition-all`}),l.jsx("button",{onClick:()=>{s(!1),setTimeout(t,200)},className:"z-10 top-0 left-0 right-0 bottom-0 fixed bg-transparent cursor-pointer"}),l.jsx("div",{className:`z-20 bg-white h-full w-[100%] md:w-[106rem] md:max-w-[90vw] md:border-l-2 md:border-l-slate-200 shadow-lg fixed scrollbar-thin scrollbar-thumb-slate-200 scrollbar-slate-50 overflow-auto ${n?"right-0":"-right-[90vw]"} top-0 transition-all flex flex-col`,"data-testid":"right-hand-panel-content",ref:i,children:e})]})},gbe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,mbe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ybe={};function b8(e,t){return(ybe.jsx?mbe:gbe).test(e)}var yp={},KA,v8;function xbe(){if(v8)return KA;v8=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,r=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,c=`
`,u="/",h="*",f="",g="comment",m="declaration";KA=function(b,S){if(typeof b!="string")throw new TypeError("First argument must be a string");if(!b)return[];S=S||{};var C=1,M=1;function N(H){var z=H.match(t);z&&(C+=z.length);var $=H.lastIndexOf(c);M=~$?H.length-$:M+H.length}function T(){var H={line:C,column:M};return function(z){return z.position=new E(H),I(),z}}function E(H){this.start=H,this.end={line:C,column:M},this.source=S.source}E.prototype.content=b;function k(H){var z=new Error(S.source+":"+C+":"+M+": "+H);if(z.reason=H,z.filename=S.source,z.line=C,z.column=M,z.source=b,!S.silent)throw z}function L(H){var z=H.exec(b);if(z){var $=z[0];return N($),b=b.slice($.length),z}}function I(){L(n)}function _(H){var z;for(H=H||[];z=F();)z!==!1&&H.push(z);return H}function F(){var H=T();if(!(u!=b.charAt(0)||h!=b.charAt(1))){for(var z=2;f!=b.charAt(z)&&(h!=b.charAt(z)||u!=b.charAt(z+1));)++z;if(z+=2,f===b.charAt(z-1))return k("End of comment missing");var $=b.slice(2,z-2);return M+=2,N($),b=b.slice(z),M+=2,H({type:g,comment:$})}}function G(){var H=T(),z=L(s);if(z){if(F(),!L(i))return k("property missing ':'");var $=L(r),P=H({type:m,property:y(z[0].replace(e,f)),value:$?y($[0].replace(e,f)):f});return L(a),P}}function U(){var H=[];_(H);for(var z;z=G();)z!==!1&&(H.push(z),_(H));return H}return I(),U()};function y(b){return b?b.replace(o,f):f}return KA}var S8;function bbe(){if(S8)return yp;S8=1;var e=yp&&yp.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(yp,"__esModule",{value:!0}),yp.default=n;const t=e(xbe());function n(s,i){let r=null;if(!s||typeof s!="string")return r;const a=(0,t.default)(s),o=typeof i=="function";return a.forEach(c=>{if(c.type!=="declaration")return;const{property:u,value:h}=c;o?i(u,h,c):h&&(r=r||{},r[u]=h)}),r}return yp}var yy={},w8;function vbe(){if(w8)return yy;w8=1,Object.defineProperty(yy,"__esModule",{value:!0}),yy.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,r=function(u){return!u||n.test(u)||e.test(u)},a=function(u,h){return h.toUpperCase()},o=function(u,h){return"".concat(h,"-")},c=function(u,h){return h===void 0&&(h={}),r(u)?u:(u=u.toLowerCase(),h.reactCompat?u=u.replace(i,o):u=u.replace(s,o),u.replace(t,a))};return yy.camelCase=c,yy}var xy,C8;function Sbe(){if(C8)return xy;C8=1;var e=xy&&xy.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(bbe()),n=vbe();function s(i,r){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(o,c){o&&c&&(a[(0,n.camelCase)(o,r)]=c)}),a}return s.default=s,xy=s,xy}var wbe=Sbe();const Cbe=$g(wbe),$I={}.hasOwnProperty,Mbe=new Map,jbe=/[A-Z]/g,Nbe=new Set(["table","tbody","thead","tfoot","tr"]),Abe=new Set(["td","th"]),rG="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function aG(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let s;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=Rbe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=Obe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:s,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Ak:xse,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},r=oG(i,e,void 0);return r&&typeof r!="string"?r:i.create(e,i.Fragment,{children:r||void 0},void 0)}function oG(e,t,n){if(t.type==="element")return Tbe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Ebe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return kbe(e,t,n);if(t.type==="mdxjsEsm")return Dbe(e,t);if(t.type==="root")return Ibe(e,t,n);if(t.type==="text")return Lbe(e,t)}function Tbe(e,t,n){const s=e.schema;let i=s;t.tagName.toLowerCase()==="svg"&&s.space==="html"&&(i=Ak,e.schema=i),e.ancestors.push(t);const r=cG(e,t.tagName,!1),a=_be(e,t);let o=VI(e,t);return Nbe.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!bse(c):!0})),lG(e,a,r,t),BI(a,o),e.ancestors.pop(),e.schema=s,e.create(t,r,a,n)}function Ebe(e,t){if(t.data&&t.data.estree&&e.evaluater){const s=t.data.estree.body[0];return Ro(s.type==="ExpressionStatement"),e.evaluater.evaluateExpression(s.expression)}kx(e,t.position)}function Dbe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);kx(e,t.position)}function kbe(e,t,n){const s=e.schema;let i=s;t.name==="svg"&&s.space==="html"&&(i=Ak,e.schema=i),e.ancestors.push(t);const r=t.name===null?e.Fragment:cG(e,t.name,!0),a=Pbe(e,t),o=VI(e,t);return lG(e,a,r,t),BI(a,o),e.ancestors.pop(),e.schema=s,e.create(t,r,a,n)}function Ibe(e,t,n){const s={};return BI(s,VI(e,t)),e.create(t,e.Fragment,s,n)}function Lbe(e,t){return t.value}function lG(e,t,n,s){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=s)}function BI(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Obe(e,t,n){return s;function s(i,r,a,o){const u=Array.isArray(a.children)?n:t;return o?u(r,a,o):u(r,a)}}function Rbe(e,t){return n;function n(s,i,r,a){const o=Array.isArray(r.children),c=Mse(s);return t(i,r,a,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function _be(e,t){const n={};let s,i;for(i in t.properties)if(i!=="children"&&$I.call(t.properties,i)){const r=zbe(e,i,t.properties[i]);if(r){const[a,o]=r;e.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&Abe.has(t.tagName)?s=o:n[a]=o}}if(s){const r=n.style||(n.style={});r[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return n}function Pbe(e,t){const n={};for(const s of t.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&e.evaluater){const r=s.data.estree.body[0];Ro(r.type==="ExpressionStatement");const a=r.expression;Ro(a.type==="ObjectExpression");const o=a.properties[0];Ro(o.type==="SpreadElement"),Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else kx(e,t.position);else{const i=s.name;let r;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&e.evaluater){const o=s.value.data.estree.body[0];Ro(o.type==="ExpressionStatement"),r=e.evaluater.evaluateExpression(o.expression)}else kx(e,t.position);else r=s.value===null?!0:s.value;n[i]=r}return n}function VI(e,t){const n=[];let s=-1;const i=e.passKeys?new Map:Mbe;for(;++s<t.children.length;){const r=t.children[s];let a;if(e.passKeys){const c=r.type==="element"?r.tagName:r.type==="mdxJsxFlowElement"||r.type==="mdxJsxTextElement"?r.name:void 0;if(c){const u=i.get(c)||0;a=c+"-"+u,i.set(c,u+1)}}const o=oG(e,r,a);o!==void 0&&n.push(o)}return n}function zbe(e,t,n){const s=vse(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=s.commaSeparated?Sse(n):wse(n)),s.property==="style"){let i=typeof n=="object"?n:Fbe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=$be(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&s.space?Cse[s.property]||s.property:s.attribute,n]}}function Fbe(e,t){try{return Cbe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const s=n,i=new TB("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=rG+"#cannot-parse-style-attribute",i}}function cG(e,t,n){let s;if(!n)s={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let r=-1,a;for(;++r<i.length;){const o=b8(i[r])?{type:"Identifier",name:i[r]}:{type:"Literal",value:i[r]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(r&&o.type==="Literal"),optional:!1}:o}s=a}else s=b8(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(s.type==="Literal"){const i=s.value;return $I.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(s);kx(e)}function kx(e,t){const n=new TB("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=rG+"#cannot-handle-mdx-estrees-without-createevaluater",n}function $be(e){const t={};let n;for(n in e)$I.call(e,n)&&(t[Bbe(n)]=e[n]);return t}function Bbe(e){let t=e.replace(jbe,Vbe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Vbe(e){return"-"+e.toLowerCase()}const ng={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ube={};function UI(e,t){const n=Ube,s=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return uG(e,s,i)}function uG(e,t,n){if(Hbe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return M8(e.children,t,n)}return Array.isArray(e)?M8(e,t,n):""}function M8(e,t,n){const s=[];let i=-1;for(;++i<e.length;)s[i]=uG(e[i],t,n);return s.join("")}function Hbe(e){return!!(e&&typeof e=="object")}const dG={}.hasOwnProperty;function Gbe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Wbe(n)(jse(Nse(n).document().write(Ase()(e,t,!0))))}function Wbe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:r(kt),autolinkProtocol:_,autolinkEmail:_,atxHeading:r(lt),blockQuote:r(Te),characterEscape:_,characterReference:_,codeFenced:r(Be),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:r(Be,a),codeText:r(Ge,a),codeTextData:_,data:_,codeFlowValue:_,definition:r(Je),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:r(et),hardBreakEscape:r(pt),hardBreakTrailing:r(pt),htmlFlow:r(it,a),htmlFlowData:_,htmlText:r(it,a),htmlTextData:_,image:r(dn),label:a,link:r(kt),listItem:r(Ye),listItemValue:g,listOrdered:r(Lt,f),listUnordered:r(Lt),paragraph:r(Yt),reference:oe,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:r(lt),strong:r(An),thematicBreak:r(Jt)},exit:{atxHeading:c(),atxHeadingSequence:E,autolink:c(),autolinkEmail:Ae,autolinkProtocol:be,blockQuote:c(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:ye,characterReferenceMarkerNumeric:ye,characterReferenceValue:je,characterReference:me,codeFenced:c(S),codeFencedFence:b,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:F,codeIndented:c(C),codeText:c($),codeTextData:F,data:F,definition:c(),definitionDestinationString:T,definitionLabelString:M,definitionTitleString:N,emphasis:c(),hardBreakEscape:c(U),hardBreakTrailing:c(U),htmlFlow:c(H),htmlFlowData:F,htmlText:c(z),htmlTextData:F,image:c(B),label:K,labelText:Y,lineEnding:G,link:c(P),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Ee,resourceDestinationString:te,resourceTitleString:se,resource:fe,setextHeading:c(I),setextHeadingLineSequence:L,setextHeadingText:k,strong:c(),thematicBreak:c()}};hG(t,(e||{}).mdastExtensions||[]);const n={};return s;function s(le){let ge={type:"root",children:[]};const Qe={stack:[ge],tokenStack:[],config:t,enter:o,exit:u,buffer:a,resume:h,data:n},De=[];let Ze=-1;for(;++Ze<le.length;)if(le[Ze][1].type==="listOrdered"||le[Ze][1].type==="listUnordered")if(le[Ze][0]==="enter")De.push(Ze);else{const gn=De.pop();Ze=i(le,gn,Ze)}for(Ze=-1;++Ze<le.length;){const gn=t[le[Ze][0]];dG.call(gn,le[Ze][1].type)&&gn[le[Ze][1].type].call(Object.assign({sliceSerialize:le[Ze][2].sliceSerialize},Qe),le[Ze][1])}if(Qe.tokenStack.length>0){const gn=Qe.tokenStack[Qe.tokenStack.length-1];(gn[1]||j8).call(Qe,void 0,gn[0])}for(ge.position={start:_u(le.length>0?le[0][1].start:{line:1,column:1,offset:0}),end:_u(le.length>0?le[le.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<t.transforms.length;)ge=t.transforms[Ze](ge)||ge;return ge}function i(le,ge,Qe){let De=ge-1,Ze=-1,gn=!1,$t,Wn,Xn,ai;for(;++De<=Qe;){const Sn=le[De];switch(Sn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Sn[0]==="enter"?Ze++:Ze--,ai=void 0;break}case"lineEndingBlank":{Sn[0]==="enter"&&($t&&!ai&&!Ze&&!Xn&&(Xn=De),ai=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ai=void 0}if(!Ze&&Sn[0]==="enter"&&Sn[1].type==="listItemPrefix"||Ze===-1&&Sn[0]==="exit"&&(Sn[1].type==="listUnordered"||Sn[1].type==="listOrdered")){if($t){let Xr=De;for(Wn=void 0;Xr--;){const bi=le[Xr];if(bi[1].type==="lineEnding"||bi[1].type==="lineEndingBlank"){if(bi[0]==="exit")continue;Wn&&(le[Wn][1].type="lineEndingBlank",gn=!0),bi[1].type="lineEnding",Wn=Xr}else if(!(bi[1].type==="linePrefix"||bi[1].type==="blockQuotePrefix"||bi[1].type==="blockQuotePrefixWhitespace"||bi[1].type==="blockQuoteMarker"||bi[1].type==="listItemIndent"))break}Xn&&(!Wn||Xn<Wn)&&($t._spread=!0),$t.end=Object.assign({},Wn?le[Wn][1].start:Sn[1].end),le.splice(Wn||De,0,["exit",$t,Sn[2]]),De++,Qe++}if(Sn[1].type==="listItemPrefix"){const Xr={type:"listItem",_spread:!1,start:Object.assign({},Sn[1].start),end:void 0};$t=Xr,le.splice(De,0,["enter",Xr,Sn[2]]),De++,Qe++,Xn=void 0,ai=!0}}}return le[ge][1]._spread=gn,Qe}function r(le,ge){return Qe;function Qe(De){o.call(this,le(De),De),ge&&ge.call(this,De)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(le,ge,Qe){this.stack[this.stack.length-1].children.push(le),this.stack.push(le),this.tokenStack.push([ge,Qe||void 0]),le.position={start:_u(ge.start),end:void 0}}function c(le){return ge;function ge(Qe){le&&le.call(this,Qe),u.call(this,Qe)}}function u(le,ge){const Qe=this.stack.pop(),De=this.tokenStack.pop();if(De)De[0].type!==le.type&&(ge?ge.call(this,le,De[0]):(De[1]||j8).call(this,le,De[0]));else throw new Error("Cannot close `"+le.type+"` ("+tS({start:le.start,end:le.end})+"): its not open");Qe.position.end=_u(le.end)}function h(){return UI(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(le){if(this.data.expectingFirstListItemValue){const ge=this.stack[this.stack.length-2];ge.start=Number.parseInt(this.sliceSerialize(le),10),this.data.expectingFirstListItemValue=void 0}}function m(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.lang=le}function y(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.meta=le}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le.replace(/(\r?\n|\r)$/g,"")}function M(le){const ge=this.resume(),Qe=this.stack[this.stack.length-1];Qe.label=ge,Qe.identifier=Ky(this.sliceSerialize(le)).toLowerCase()}function N(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.title=le}function T(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.url=le}function E(le){const ge=this.stack[this.stack.length-1];if(!ge.depth){const Qe=this.sliceSerialize(le).length;ge.depth=Qe}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function L(le){const ge=this.stack[this.stack.length-1];ge.depth=this.sliceSerialize(le).codePointAt(0)===61?1:2}function I(){this.data.setextHeadingSlurpLineEnding=void 0}function _(le){const Qe=this.stack[this.stack.length-1].children;let De=Qe[Qe.length-1];(!De||De.type!=="text")&&(De=Xt(),De.position={start:_u(le.start),end:void 0},Qe.push(De)),this.stack.push(De)}function F(le){const ge=this.stack.pop();ge.value+=this.sliceSerialize(le),ge.position.end=_u(le.end)}function G(le){const ge=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Qe=ge.children[ge.children.length-1];Qe.position.end=_u(le.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ge.type)&&(_.call(this,le),F.call(this,le))}function U(){this.data.atHardBreak=!0}function H(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le}function z(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le}function $(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.value=le}function P(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=ge,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function B(){const le=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";le.type+="Reference",le.referenceType=ge,delete le.url,delete le.title}else delete le.identifier,delete le.label;this.data.referenceType=void 0}function Y(le){const ge=this.sliceSerialize(le),Qe=this.stack[this.stack.length-2];Qe.label=Tse(ge),Qe.identifier=Ky(ge).toLowerCase()}function K(){const le=this.stack[this.stack.length-1],ge=this.resume(),Qe=this.stack[this.stack.length-1];if(this.data.inReference=!0,Qe.type==="link"){const De=le.children;Qe.children=De}else Qe.alt=ge}function te(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.url=le}function se(){const le=this.resume(),ge=this.stack[this.stack.length-1];ge.title=le}function fe(){this.data.inReference=void 0}function oe(){this.data.referenceType="collapsed"}function Ee(le){const ge=this.resume(),Qe=this.stack[this.stack.length-1];Qe.label=ge,Qe.identifier=Ky(this.sliceSerialize(le)).toLowerCase(),this.data.referenceType="full"}function ye(le){this.data.characterReferenceType=le.type}function je(le){const ge=this.sliceSerialize(le),Qe=this.data.characterReferenceType;let De;Qe?(De=Dse(ge,Qe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):De=Ese(ge);const Ze=this.stack[this.stack.length-1];Ze.value+=De}function me(le){const ge=this.stack.pop();ge.position.end=_u(le.end)}function be(le){F.call(this,le);const ge=this.stack[this.stack.length-1];ge.url=this.sliceSerialize(le)}function Ae(le){F.call(this,le);const ge=this.stack[this.stack.length-1];ge.url="mailto:"+this.sliceSerialize(le)}function Te(){return{type:"blockquote",children:[]}}function Be(){return{type:"code",lang:null,meta:null,value:""}}function Ge(){return{type:"inlineCode",value:""}}function Je(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function et(){return{type:"emphasis",children:[]}}function lt(){return{type:"heading",depth:0,children:[]}}function pt(){return{type:"break"}}function it(){return{type:"html",value:""}}function dn(){return{type:"image",title:null,url:"",alt:null}}function kt(){return{type:"link",title:null,url:"",children:[]}}function Lt(le){return{type:"list",ordered:le.type==="listOrdered",start:null,spread:le._spread,children:[]}}function Ye(le){return{type:"listItem",spread:le._spread,checked:null,children:[]}}function Yt(){return{type:"paragraph",children:[]}}function An(){return{type:"strong",children:[]}}function Xt(){return{type:"text",value:""}}function Jt(){return{type:"thematicBreak"}}}function _u(e){return{line:e.line,column:e.column,offset:e.offset}}function hG(e,t){let n=-1;for(;++n<t.length;){const s=t[n];Array.isArray(s)?hG(e,s):Ybe(e,s)}}function Ybe(e,t){let n;for(n in t)if(dG.call(t,n))switch(n){case"canContainEols":{const s=t[n];s&&e[n].push(...s);break}case"transforms":{const s=t[n];s&&e[n].push(...s);break}case"enter":case"exit":{const s=t[n];s&&Object.assign(e[n],s);break}}}function j8(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+tS({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+tS({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+tS({start:t.start,end:t.end})+") is still open")}function fG(e){const t=this;t.parser=n;function n(s){return Gbe(s,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}const Kbe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",N8=[],A8={allowDangerousHtml:!0},qbe=/^(https?|ircs?|mailto|xmpp)$/i,Zbe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function W0(e){const t=Qbe(e),n=Xbe(e);return Jbe(t.runSync(t.parse(n),n),e)}function Qbe(e){const t=e.rehypePlugins||N8,n=e.remarkPlugins||N8,s=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...A8}:A8;return EB().use(fG).use(n).use(DB,s).use(t)}function Xbe(e){const t=e.children||"",n=new kB;return typeof t=="string"&&(n.value=t),n}function Jbe(e,t){const n=t.allowedElements,s=t.allowElement,i=t.components,r=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||eve;for(const h of Zbe)Object.hasOwn(t,h.from)&&IB("Unexpected `"+h.from+"` prop, "+(h.to?"use `"+h.to+"` instead":"remove it")+" (see <"+Kbe+"#"+h.id+"> for more info)");return Fg(e,u),aG(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function u(h,f,g){if(h.type==="raw"&&g&&typeof f=="number")return a?g.children.splice(f,1):g.children[f]={type:"text",value:h.value},f;if(h.type==="element"){let m;for(m in ng)if(Object.hasOwn(ng,m)&&Object.hasOwn(h.properties,m)){const y=h.properties[m],b=ng[m];(b===null||b.includes(h.tagName))&&(h.properties[m]=c(String(y||""),m,h))}}if(h.type==="element"){let m=n?!n.includes(h.tagName):r?r.includes(h.tagName):!1;if(!m&&s&&typeof f=="number"&&(m=!s(h,f,g)),m&&g&&typeof f=="number")return o&&h.children?g.children.splice(f,1,...h.children):g.children.splice(f,1),f}}}function eve(e){const t=e.indexOf(":"),n=e.indexOf("?"),s=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||s!==-1&&t>s||qbe.test(e.slice(0,t))?e:""}function pG(){const[e,t]=w.useState(null);return[e,async s=>{if(!navigator?.clipboard)return console.warn("Clipboard not supported"),!1;try{return await navigator.clipboard.writeText(s),t(s),!0}catch(i){return console.warn("Copy failed",i),t(null),!1}}]}const Uc=({className:e,iconClassName:t,children:n,textToCopy:s,itemType:i,onClick:r,disabled:a,placement:o})=>{const[,c]=pG(),[u,h]=w.useState(!1);w.useEffect(()=>{if(u){const g=setTimeout(()=>{h(!1)},1e3);return()=>{clearTimeout(g)}}},[u]);const f=a?"Remove the organization list to share this view":`Copy ${i} to clipboard`;return l.jsx(Sr,{content:l.jsx("div",{className:`mt-0.5 ${u?"bg-green-700":"bg-slate-800"} text-white px-4 py-1.5 text-sm font-semibold rounded-3xl`,children:u?"Copied!":f}),className:"flex items-center",placement:o,children:l.jsx("button",{className:`disabled:opacity-50 ${e}`,onClick:g=>{r?.(),g.stopPropagation(),c(s),h(!0)},disabled:a,children:n??l.jsx(Uk,{className:`w-4 h-4 opacity-30 hover:opacity-60 ${t}`})})})},tve=()=>{const e=yt();return It({mutationFn:async n=>await Ue({url:"/contact-lists",method:"POST",body:JSON.stringify(n),contentType:"application/json"}),mutationKey:["addList"],onSettled:async()=>{await e.invalidateQueries({queryKey:["lists"]}),await e.invalidateQueries({queryKey:["organizationPeople"]}),await e.invalidateQueries({queryKey:["functionPeople"]}),await e.invalidateQueries({queryKey:["jobPeople"]}),e.invalidateQueries({queryKey:["teamPeople"]}).catch(console.log)}})},gG=({backAction:e,callback:t,people:n,source:s})=>{const{data:i,mutate:r,isSuccess:a}=tve(),[o,c]=w.useState(""),[u,h]=w.useState(!1);w.useEffect(()=>{u&&r({name:o,people:n?.map(g=>g.id)??[],source:s})},[u]),w.useEffect(()=>{a&&(h(!1),t(i))},[a,i]),es("enter",g=>{g.preventDefault(),g.stopPropagation(),h(!0)},[],{enableOnFormTags:["INPUT"]});const f=n?"Create and add to list":"Create list";return l.jsxs("form",{className:"flex flex-col gap-2 p-5",onSubmit:g=>{g.preventDefault(),g.stopPropagation(),h(!0)},children:[e&&l.jsx("button",{className:"text-slate-400 hover:text-slate-600 font-medium text-sm text-left mb-4",onClick:g=>{g.stopPropagation(),e()},children:" back"}),l.jsx("label",{className:"text-slate-400 text-sm font-medium",children:"List name"}),l.jsx("input",{className:"rounded-md px-3 py-2 border-slate-100 border focus:border-slate-300 focus:ring-0 focus:outline-0",type:"text",placeholder:"List name",autoFocus:!0,value:o,onChange:g=>c(g.target.value),required:!0}),l.jsx("div",{children:l.jsx("button",{type:"submit",className:"text-left text-green-600 hover:text-green-800 inline-block font-medium border-0",disabled:u,onClick:g=>{g.stopPropagation()},children:u?"Creating...":f})})]})},v2=()=>nt({url:"/contact-lists",queryKey:["lists","/contact-lists"],transform:e=>[...e].sort((t,n)=>n.edited_at.localeCompare(t.edited_at)),refetchOnWindowFocus:"always"}),nve=()=>{const e=yt();return It({mutationFn:async({listId:n,people:s,source:i})=>await Ue({url:`/contact-lists/${n}/people`,method:"POST",body:JSON.stringify({people:s,source:i}),contentType:"application/json"}),onSuccess:(n,s)=>{e.invalidateQueries({queryKey:["lists"]}).catch(console.log),e.invalidateQueries({queryKey:["getLists",s.listId]}).catch(console.log),e.invalidateQueries({queryKey:["teamPeople"]}).catch(console.log),e.invalidateQueries({queryKey:["organizationPeople"]}).catch(console.log),e.invalidateQueries({queryKey:["jobPeople"]}).catch(console.log),e.invalidateQueries({queryKey:["functionPeople"]}).catch(console.log)}})},Ix=e=>p2(e,{lower:!0}),sve=({people:e,onSelectList:t,onSelectNewList:n,source:s})=>{const{data:i,isLoading:r}=v2(),{mutate:a}=nve();if(r)return null;const o=i?.sort((f,g)=>new Date(g.edited_at).getTime()-new Date(f.edited_at).getTime())[0],c=e.length===1&&e[0].lists?e[0].lists.map(f=>f.id):[],u=(f,g=!1)=>{const m=async b=>{b.stopPropagation(),await a({listId:f.id,people:e.map(S=>S.id),source:s}),t(f)},y=c.includes(f.id);return l.jsxs("div",{className:`relative px-5 py-1 font-medium ${y?"bg-green-100":"hover:bg-slate-100"}`,onClick:m,children:[f.name,l.jsx("div",{className:"absolute top-0 right-0 h-8 w-8",children:l.jsx(Ht,{description:"Open list in new window",children:l.jsx("a",{href:`/lists/${f.id}-${Ix(f.name)}`,className:" text-slate-600 hover:text-green-600 h-8 w-8 flex items-center justify-center",target:"_blank",rel:"noreferrer",children:l.jsx(ls,{className:"w-4 h-4"})})})})]},g?"latest":f.id)},h=f=>l.jsx("div",{className:"px-5 text-slate-400 text-sm font-medium",children:f});return l.jsxs("div",{className:"py-5 flex flex-col gap-4",children:[o&&l.jsxs("div",{children:[h("Recently used"),u(o,!0)]}),l.jsxs("div",{children:[h("All lists"),l.jsx("div",{children:i?.filter(f=>f.id!==o?.id).map(f=>u(f))}),l.jsx("button",{onClick:f=>{f.stopPropagation(),n()},className:"px-5 py-1 hover:bg-slate-100 text-green-600 block w-full text-left font-medium",children:"Add to new List..."})]})]})},ive=({callback:e,people:t,list:n})=>(w.useEffect(()=>{Tt.success(l.jsxs("span",{className:"font-normal whitespace-nowrap",children:["Added"," ",t.length>1?`${t.length} people`:t[0].name," ","to '",n.name,"'."," ",l.jsx("a",{href:`/lists/${n.id}-${Ix(n.name)}`,target:"_blank",rel:"noreferrer",className:"font-semibold text-green-600 hover:text-green-900 pl-2",children:"View list "})]}),{duration:4e3,style:{maxWidth:"none"}}),e()},[n,t]),null),HI=({successCallback:e,people:t,source:n,button:s,className:i,isBulkAdd:r})=>{const[a,o]=w.useState(!1),[c,u]=w.useState("SELECT_LIST"),[h,f]=w.useState(null),{data:g,isLoading:m}=v2();if(w.useEffect(()=>{!m&&c==="LOADING"&&(f(null),g&&g.length===0?u("CREATE_LIST"):u("SELECT_LIST"))},[m,c]),w.useEffect(()=>{h&&o(h?.name)},[h]),m)return l.jsx("div",{className:"p-3 text-slate-400 animate-pulse",children:"Loading..."});const y=t[0]?.lists??[],b=a||y?.length>0,S=a?`Added to '${a}'`:y?.length>0?y.length===1?`In '${y[0].name}'`:`In ${y.length} lists`:"Add to List";return l.jsxs(gi,{className:"truncate",children:[s??l.jsx("div",{className:"flex flex-1 flex-row gap-[2px] items-center w-full truncate",children:l.jsx(qi,{className:`truncate rounded-full ${b?"bg-green-100 text-green-800":"bg-slate-200 hover:bg-slate-300 text-slate-600"} px-3 h-[1.5rem] font-medium truncate focus:outline-hidden focus:bg-slate-300`,children:l.jsx("span",{className:"",children:S})})}),l.jsx(Ca,{portal:!0,anchor:{to:"bottom start",offset:0,gap:7},className:`mt-1 border border-slate-200 shadow-md w-[20rem] bg-white rounded-md z-20 ${i} `,children:({close:C})=>l.jsxs(l.Fragment,{children:[c==="LOADING"&&l.jsx("div",{className:"flex items-center justify-center"}),c==="SELECT_LIST"&&l.jsx(sve,{people:t,onSelectList:M=>{f(M),u("SUCCESS")},source:n,onSelectNewList:()=>u("CREATE_LIST")}),c==="CREATE_LIST"&&l.jsx(gG,{people:t,source:n,callback:M=>{u("SUCCESS"),f(M)},backAction:()=>u("SELECT_LIST")}),c==="SUCCESS"&&h&&l.jsx(ive,{list:h,people:t,callback:()=>{C(),e&&e(),u("LOADING")}})]})})]})},rve=(e,t)=>{if(!e)return"";const n=r=>r.indexOf(" ")>-1?r.split(" ")[1]:r,s=n(e),i=t?n(t):null;return s===i?`${s}`:`${s}-${i??"current"}`},mG=(e,t=!1)=>{let n=e?.replaceAll("Show less","")?.replaceAll("Show more","");return t&&(n=n?.replace(/<!--[\s\S]*?-->/g,"")?.replace(/<[^>]*>/g,"")),n=n?.replaceAll("\\n",`
`).trim().replace(/(\n\s*){3,}/g,`


`).replaceAll(/\n/g,`

`).replaceAll("-.","-").replaceAll("","-").replaceAll("","-").replaceAll("","-").replaceAll(/^-(\S)/gm,"- $1").replaceAll(/^o (.)/gm,"- $1").slice(0,2e3)??"",n.length>=2e3&&(n+="..."),n},M1=e=>{if(e??="current",e.toLowerCase()==="current")return new Date;const t=new Date(e);return isNaN(t.getTime())?new Date(e.length===4?`${e}-01-01`:`${e}-01`):t},T8=e=>e.sort((t,n)=>{const s=M1(t.date_from),i=M1(t.date_to),r=M1(n.date_from),a=M1(n.date_to);return a.getTime()!==i.getTime()?a.getTime()-i.getTime():r.getTime()-s.getTime()}),Zr=({title:e})=>l.jsx(yV,{title:t=>`${e} | ${t}`}),yG=({title:e,subtitle:t,numberCode:n})=>(w.useEffect(()=>{localStorage.removeItem("REACT_QUERY_OFFLINE_CACHE")},[]),l.jsxs(l.Fragment,{children:[l.jsx(Zr,{title:`${n?.toString()??"Error"}`}),l.jsx("main",{className:"grid min-h-full place-items-center py-24 px-6 md:py-32 md:px-8",children:l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:"/img/sumblemander.svg",width:"169",height:"170",className:"mx-auto mb-8"}),n&&l.jsx("p",{className:"text-base font-semibold text-green-600",children:n}),l.jsx("h1",{className:"mt-4 text-3xl font-bold tracking-tight text-slate-900 md:text-5xl",children:e||"Page not found"}),l.jsx("p",{className:"mt-6 text-base leading-7 text-slate-600",children:t||"Sorry, we couldnt find the page youre looking for."}),n!==403&&l.jsx("div",{className:"mt-10 flex items-center justify-center gap-x-6",children:l.jsx("a",{href:"/",className:"rounded-md bg-green-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-xs hover:bg-green-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600",children:"Go back home"})})]})})]})),xg=({title:e,subtitle:t,numberCode:n})=>(w.useEffect(()=>{const s=new Error("404 Not Found");FB(s)},[]),l.jsx(yG,{title:e||"Page not found",subtitle:t||"Sorry, we couldn't find the page you're looking for.",numberCode:n||404})),ave=()=>l.jsx("span",{className:"text-slate-300",children:"Not found"}),ove=({person:e})=>{const t=yt(),n=async()=>(await Ue({url:"/people/email",method:"POST",body:"token="+e.email_token})).data;return It({mutationKey:["peopleEmail",e.email_token],mutationFn:n,onSuccess:()=>{t.invalidateQueries({queryKey:["jobPeople"]}),t.invalidateQueries({queryKey:["teamPeople"]}),t.invalidateQueries({queryKey:["profile"]}),t.invalidateQueries({queryKey:["grants"]}),t.invalidateQueries({queryKey:["getLists"]}),t.invalidateQueries({queryKey:["organizationPerson"]})}})},lve=({placement:e,className:t})=>{const{data:n}=Gt(),s=`You have used your ${n&&n.monthly_credits}
     credits this month. Tap to request more via email.`;return l.jsxs(Sr,{content:l.jsx("div",{className:"bg-slate-800 text-white rounded-md text-sm font-medium px-2.5 py-1 max-w-[14rem]",children:s}),placement:e??"bottom-end",children:[l.jsx("a",{href:`mailto:sales@sumble.com?subject=Credit Request for ${n&&n.email}`,className:`inline-flex px-3 py-[0.15rem] rounded-md text-slate-500 font-medium bg-slate-100 ${t}`,onClick:i=>{i.stopPropagation()},target:"_blank",rel:"noreferrer",children:"Request credits"}),l.jsx("div",{className:"md:hidden py-2",children:s})]})},cve=()=>l.jsx(Sr,{content:l.jsx("div",{className:"bg-slate-800 text-white rounded-md text-sm font-medium px-2.5 py-1 max-w-[14rem]",children:"Contact reveal is not enabled for your account"}),placement:"bottom-end",children:l.jsx("div",{className:"inline-flex px-3 py-[0.15rem] rounded-md text-slate-500 font-medium bg-slate-100",children:"Not enabled"})}),qh=({person:e,type:t,onReveal:n})=>{const s=["peopleEmail",e.email_token],{mutate:i,isPending:r}=ove({person:e}),{data:a}=Gt(),o=Qhe({mutationKey:s}),c=XV({filters:{mutationKey:s},select:m=>m.state.data}),u=c.length?c[0]:void 0,h=(a&&a?.credits_remaining)??0,f=a&&a.can_reveal_contacts,g=u??e.contact_info??null;return l.jsx(l.Fragment,{children:g===null?l.jsx(l.Fragment,{children:h===0||!f?h===0?l.jsx(lve,{}):l.jsx(cve,{}):l.jsx(Ht,{delay:0,description:`Search for ${t}this will consume 10 credits`,children:l.jsx("button",{className:"text-green-700 bg-green-100 hover:bg-green-200  rounded-md px-2 text-[0.95rem] h-[1.5rem] flex items-center font-medium",onClick:m=>{m.stopPropagation(),m.preventDefault(),i(),n?.()},children:r||o?"Checking...":"Get contact"})})}):l.jsx(l.Fragment,{children:(g?.[t]??[]).length>0?l.jsxs("div",{className:"flex flex-row truncate gap-1",children:[t==="emails"&&(g?.[t]??[]).map(m=>l.jsx(gt,{href:`mailto:${m}`,text:m,type:"general"},m)),t==="phone"&&(g?.[t]?l.jsx(gt,{href:`tel:${g?.[t]}`,text:g?.[t],type:"general"},g?.[t]):"Not found")]}):l.jsx(ave,{})})})},GI=({personIds:e})=>{const{data:t,isSuccess:n}=Gt(),s=(t&&n&&t?.can_send_to_sfdc)??!1,i=s&&e&&e.length>0;return nt({url:"/people/crm-presence",method:"POST",body:JSON.stringify({person_ids:e}),contentType:"application/json",queryKey:["peopleCrmPresence",s.toString(),JSON.stringify(e)],enabled:i,refetchOnWindowFocus:"always"})},uve="/people",dve=()=>{const e=yt();return It({mutationFn:async({organizationId:n,personId:s,isContact:i=!0,linkedinUrl:r,accountMapping:a})=>{const o=qr({isContact:i.toString(),linkedin_url:r,...a&&{account_id:a.account_id}}),c=`${uve}/${n}/${s}/salesforce-import?${o}`;return await Ue({url:c,method:"POST",contentType:"application/json"})},onSuccess:()=>{e.invalidateQueries({predicate:n=>n.queryKey[0]==="teamPeople"||n.queryKey[0]==="jobPeople"||n.queryKey[0]==="functionPeople"||n.queryKey[0]==="feed"||n.queryKey[0]==="people"||n.queryKey[0]==="organizationPeople"||n.queryKey[0]==="peopleCrmPresence"})},onError:n=>{const s=n?.detail||n?.message||"An error occurred";ln.error(s,{className:"bg-red-700! text-white! font-medium!"})}})},Y0=({className:e,isOpen:t,setIsOpen:n,children:s})=>l.jsxs(N0,{open:t,onClose:()=>n(!1),children:[l.jsx("div",{className:"fixed inset-0 z-10 flex items-center w-screen justify-center",children:l.jsx(A0,{className:`bg-white border border-slate-100 p-8 rounded-lg z-10 flex flex-col gap-3 max-w-[30rem] w-[90vw] shadow-xl ${e}`,children:s})}),l.jsx(f2,{})]}),Zh=({children:e,className:t,iconOnly:n,...s})=>l.jsx("button",{className:`bg-white border border-slate-300 hover:border-slate-400! text-slate-500 hover:text-slate-700 whitespace-nowrap text-[0.9rem] font-medium ${n?"px-1":"px-2"} rounded-full h-[1.5rem] flex items-center justify-center ${t}`,...s,children:e}),hve=()=>l.jsx(Zh,{children:l.jsx(pg,{className:"w-6 h-auto text-slate-500"})}),fve=()=>l.jsx(Ose,{className:"h-px bg-slate-100"}),pve=({items:e,heading:t})=>l.jsxs(Ise,{className:"p-2",children:[t&&l.jsx(Lse,{className:"h-8 flex items-center px-3 text-slate-400",children:l.jsx("div",{className:"relative top-[1px]",children:t})}),e.map((n,s)=>l.jsx(AB,{disabled:n.disabled,children:l.jsx(gve,{...n})},s))]}),gve=({onClick:e,disabled:t,icon:n,label:s,count:i,hotkey:r})=>(es(r||"",a=>{if(!t&&r){a.preventDefault();const o={preventDefault:()=>{},stopPropagation:()=>{},target:a.target,currentTarget:a.target};e(o)}},{enabled:!!r&&!t,scopes:["dropdowns"]}),l.jsxs("button",{className:`rounded-md w-full px-3 py-2 hover:bg-slate-100 text-left flex flex-row items-center justify-between gap-2 ${t?"pointer-events-none opacity-50":""}`,onClick:e,disabled:t,children:[n&&l.jsx("div",{children:n}),l.jsx("div",{className:"font-medium w-full",children:s}),r&&l.jsx("span",{className:"ml-auto text-sm font-semibold text-slate-400",children:r.toUpperCase()}),i!==void 0&&l.jsx("span",{className:"ml-6 text-sm font-medium text-slate-400 whitespace-nowrap",children:i})]})),E8=e=>({"bottom start":"origin-top-left!","bottom end":"origin-top-right!",bottom:"origin-top!","top start":"origin-bottom-left!","top end":"origin-bottom-right!",top:"origin-bottom!","left start":"origin-right-top!","left end":"origin-right-bottom!",left:"origin-right!","right start":"origin-left-top!","right end":"origin-left-bottom!",right:"origin-left!"})[e??"bottom start"]??"origin-top-left!",mve=({sections:e,anchor:t,dontAnchor:n,menuClassName:s,title:i})=>{const{enableScope:r,disableScope:a}=kse();w.useEffect(()=>(r("dropdowns"),()=>{a("filters")}),[r,a]);const o=E8(typeof t=="string"?t:void 0);return l.jsxs(Nk,{transition:!0,anchor:n?!1:t??"bottom start",className:`${o} transition! duration-150! ease-out! data-closed:scale-95! data-closed:opacity-0 focus:outline-none! focus:ring-0 [--anchor-gap:0.25rem] min-w-[18rem] bg-white shadow-lg rounded-lg border border-slate-200 ${n?"absolute":""} ${s}`,children:[i&&l.jsx("div",{className:"px-5 py-4 pb-0",children:l.jsx("h3",{className:"font-medium text-slate-400",children:i})}),e.map((c,u)=>l.jsxs(Xe.Fragment,{children:[l.jsx(pve,{...c}),u<e.length-1&&l.jsx(fve,{})]},u))]})},yve=({open:e,onClose:t})=>{const n=w.useRef(e);return w.useEffect(()=>{n.current&&!e&&t&&t(),n.current=e},[e,t]),null},K0=({buttonClassName:e="",className:t,tooltip:n,classNameTooltip:s,children:i,onClose:r,triggerHotkey:a,...o})=>{const c=w.useRef(null);return es(a||"",u=>{if(a&&c.current){u.preventDefault(),c.current.focus();const h=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",keyCode:13,which:13,bubbles:!0,cancelable:!0});c.current.dispatchEvent(h)}},{enabled:!!a}),l.jsx(Qw,{as:"div",className:`${t??""} flex relative`,children:({open:u})=>l.jsxs(l.Fragment,{children:[l.jsx(yve,{open:u,onClose:r}),l.jsxs(Ht,{description:n&&!u?n:null,className:`truncate ${s} `,children:[l.jsx(jk,{ref:c,onClick:h=>{h.preventDefault()},className:`focus:outline-none focus:ring-0 ${e}`,children:typeof i=="function"?i(u):i??l.jsx(hve,{})}),u&&l.jsx(mve,{...o})]})]})})},JE=({className:e})=>l.jsx("svg",{fill:"currentColor",width:"800px",height:"800px",viewBox:"0 0 24 24",role:"img",xmlns:"http://www.w3.org/2000/svg",className:`w-4 h-4 ${e??""}`,children:l.jsx("path",{d:"M10.005 5.416c.75-.796 1.845-1.306 3.046-1.306 1.56 0 2.954.9 3.689 2.205.63-.3 1.35-.45 2.101-.45 2.849 0 5.159 2.34 5.159 5.22s-2.311 5.22-5.176 5.22c-.345 0-.689-.044-1.02-.104-.645 1.17-1.875 1.95-3.3 1.95-.6 0-1.155-.15-1.65-.375-.659 1.546-2.189 2.624-3.975 2.624-1.859 0-3.45-1.169-4.05-2.819-.27.061-.54.075-.825.075-2.204 0-4.005-1.8-4.005-4.05 0-1.5.811-2.805 2.01-3.51-.255-.57-.39-1.2-.39-1.846 0-2.58 2.1-4.649 4.65-4.649 1.53 0 2.85.704 3.72 1.8"})}),xG=({crmEntityType:e,crmEntityUrl:t,isInCrm:n,isLoading:s,organizationId:i,personId:r,profileUrl:a,sfdcAccountMapped:o,sfdcAccountMappings:c,showText:u=!1,iconClassName:h,buttonClassName:f="bg-slate-200 hover:bg-slate-300 text-slate-400",selectedButtonClassName:g="bg-green-200 hover:bg-green-300 text-green-600",onClick:m})=>{const{mutate:y,isPending:b,isSuccess:S,data:C}=dve(),{data:M}=Gt(),[N,T]=w.useState(void 0),[E,k]=w.useState(null);w.useEffect(()=>{S&&C&&(C.action?.intent_changes?T(C.url):C?.url&&window.open(C.url,"_blank"))},[S,C]);const L=o,I=c&&c.length>1,_=`${u?"px-3 h-[1.6rem]! items-center flex rounded-full":"h-6 w-6 text-slate-500 flex items-center justify-center rounded-md"} ${s?"pointer-events-none opacity-30":""} ${n?g:f} ${b?"opacity-50 cursor-not-allowed pointer-events-none":"cursor-pointer"}`,F=`${n?`Open ${e} in`:"Add to"} SFDC (Salesforce)`,G=(U,H)=>{if(!L&&!I&&U.preventDefault(),U.stopPropagation(),m?.(),n&&t){window.open(t,"_blank");return}if(!i)return;const z=E||c?.[0];y({organizationId:i,personId:r,isContact:H==="Contact",linkedinUrl:a,accountMapping:z})};return l.jsxs(l.Fragment,{children:[M&&M.can_send_to_sfdc?l.jsx(Ht,{description:u?"":F,children:!n&&L?l.jsx(K0,{onClose:()=>k(null),sections:[{items:[...I&&!E?(c??[]).map(U=>({label:l.jsxs("div",{className:"w-full flex flex-row justify-between",children:[l.jsx("div",{className:"flex-1",children:U.account_name}),U.hq_country&&l.jsx("div",{className:"text-slate-400",children:U.hq_country})]}),onClick:H=>{H.preventDefault(),H.stopPropagation(),k(U)}})):[],...!I||E?[{label:"Add as Contact",onClick:U=>G(U,"Contact"),hotkey:"c"},{label:"Add as Lead",onClick:U=>G(U,"Lead"),hotkey:"l"}]:[]]}],children:l.jsxs("div",{className:`${_}`,children:[l.jsx(JE,{className:h})," ",u&&l.jsx("span",{className:"relative ml-2 text-slate-500 font-medium",children:F})]})}):l.jsxs("button",{className:_,onClick:U=>G(U,"Lead"),disabled:b,children:[l.jsx(JE,{className:h}),u&&l.jsx("span",{className:"relative ml-2 text-slate-500 font-medium",children:F})]})}):null,l.jsx(Y0,{isOpen:!!N,setIsOpen:U=>T(U?N:void 0),children:l.jsxs("div",{className:"flex flex-col gap-8 pb-2 max-w-[25rem]",children:[l.jsx("div",{children:C?.message??(C?.action?`We requested that Salesforce ${C?.action.intended_action.toLowerCase()??""} this record as a ${C?.action.intended_entity??""}, but ${C?.action.action_type==="Existing"?"they have updated an existing":"they have created it as a"} ${C?.action.entity_type??""}.`:"Something went wrong while trying to add this person to Salesforce.")}),l.jsx("div",{children:l.jsx(Re,{to:N??"",target:"_blank",className:"bg-green-600 font-medium hover:bg-green-700 rounded-lg text-white px-4 py-3",doNotPassQuery:!0,children:"Ok, take me to Salesforce "})})]})})]})},xve=({exp:e})=>{const[t,n]=w.useState(!0),s=e.description&&e.description!=="",i=mG(e.description??"",!0);return l.jsxs("div",{className:`py-1 first:pt-0 last:pb-0 ${s&&"cursor-pointer hover:bg-slate-50 hover:bg-opacity-75"}`,onClick:e.description?()=>n(r=>!r):()=>{},children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:gap-2 relative",children:[l.jsx("div",{className:"text-slate-400 flex-none w-32 tabular-nums",children:rve(e.date_from,e.date_to)}),l.jsxs("div",{className:"flex-1",children:[e.title??"",l.jsx("span",{className:"text-slate-500",children:e.title&&e.company_name&&" at "}),e.company_name]}),s&&l.jsx("div",{className:"max-md:absolute max-md:right-0 max-md:top-0",children:l.jsx(Kr,{className:`h-5 w-5 text-slate-400 transition-transform ${t?"-rotate-180":""}`})})]}),t&&s&&l.jsx("div",{className:"md:ml-[8rem] md:pl-2 mt-2 mb-6 text-slate-400! pr-2",children:l.jsx("div",{className:"prose leading-[1.2] person-preview",children:l.jsx(W0,{rehypePlugins:[],children:i})})})]})},bG=({source:e,people:t})=>{const{data:n}=Gt(),{organizationId:s}=He(),{sendEvent:i}=zn(),{personId:r}=He(),a=t.find(g=>g.id===Number(r)||g.id===r),{data:o,isLoading:c}=GI({personIds:a?[a.id]:[]}),u=o&&o.length>0?o[0]:!1,h=mG(a?.description??"");w.useEffect(()=>{i("Person Viewed",{person_id:a?.id})},[a]);const f="flex flex-row gap-2 md:gap-3 pt-2";return a?a&&l.jsxs(l.Fragment,{children:[e==="job_function"&&l.jsx(Re,{className:"text-green-600 px-4 md:px-10 mt-4 font-medium hover:text-green-500",to:"..",children:" Back to all people"}),l.jsxs("div",{className:"pb-24 px-4 md:px-10",children:[l.jsxs("div",{className:`pb-4 md:sticky ${e!=="people"?"md:top-[9rem]":"md:top-0"} pt-4 bg-white/50 backdrop-blur-lg z-10`,children:[l.jsx("h1",{className:"text-2xl font-semibold",children:a.name}),l.jsx("h2",{className:"text-2xl text-slate-700",children:a.title})]}),l.jsxs("div",{className:"flex flex-col gap-2 divide-y divide-slate-100",children:[n&&n.can_send_to_sfdc&&l.jsxs("div",{className:`${f}`,children:[l.jsx("div",{className:"flex-none w-24 text-slate-400",children:"Salesforce"}),l.jsx("div",{className:"flex-1",children:l.jsx(xG,{showText:!0,isLoading:c,isInCrm:(u&&u.is_in_crm)??!1,crmEntityType:u?u.crm_entity_type:void 0,crmEntityUrl:u?u.crm_entity_url:void 0,organizationId:s,profileUrl:a.profile_url,personId:a.id,sfdcAccountMapped:u?u.sfdc_account_mapped:!1,sfdcAccountMappings:u?u.sfdc_account_mappings:[]})})]}),l.jsxs("div",{className:`${f}`,children:[l.jsx("div",{className:"flex-none w-24 text-slate-400",children:"Lists"}),l.jsx("div",{className:"flex-1",children:l.jsx(HI,{source:e,people:[a]})})]}),a.email_token&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`${f}`,children:[l.jsx("div",{className:"flex-none w-24 text-slate-400",children:"Emails"}),l.jsx("div",{className:"flex-1 flex flex-col md:flex-row md:items-center gap-1 md:gap-3",children:l.jsx(qh,{type:"emails",person:a})})]}),l.jsxs("div",{className:`${f}`,children:[l.jsx("div",{className:"flex-none w-24 text-slate-400",children:"Phone"}),l.jsx("div",{className:"flex-1 flex flex-col md:flex-row md:items-center gap-1 md:gap-3",children:l.jsx(qh,{type:"phone",person:a})})]})]}),a.profile_url&&l.jsxs("div",{className:`${f}`,children:[l.jsx("div",{className:"flex-none w-24 text-slate-400",children:"LinkedIn"}),l.jsx("div",{className:"flex-1 truncate",children:l.jsxs("div",{className:"inline-flex items-center bg-slate-100 rounded-md px-2 py-1 text-slate-600 gap-4",children:[l.jsx("a",{href:a.profile_url,target:"_blank",rel:"noreferrer",className:"text-slate-500 font-medium hover:text-slate-700",children:a.profile_url}),l.jsx(Uc,{textToCopy:a.profile_url,itemType:"LinkedIn URL"})]})})]}),l.jsxs("div",{className:`${f}`,children:[l.jsx("div",{className:"flex-none w-24 text-slate-400",children:"Location"}),l.jsx("div",{className:"flex-1",children:a.location})]}),a.description&&a.description.trim()!==""&&l.jsxs("div",{className:`${f}`,children:[l.jsx("div",{className:"flex-none w-24 text-slate-400",children:"Description"}),l.jsx("div",{className:"flex-1 py-0.5",children:l.jsx("div",{className:"prose leading-[1.2] person-preview",children:l.jsx(W0,{rehypePlugins:[],children:h})})})]}),a.technologies&&a.technologies.length>0&&l.jsxs("div",{className:`${f}`,children:[l.jsx("div",{className:"flex-none w-24 text-slate-400",children:"Skills"}),l.jsx("div",{className:"flex-1 flex flex-row flex-wrap gap-2",children:a.technologies.sort((g,m)=>g.name.localeCompare(m.name)).map(g=>l.jsx(gt,{className:"cursor-pointer pointer-events-none hover:bg-slate-100",type:g.selected?"general_with_selected":"general",selected:g.selected,hideArrow:!0,text:g.skill_names[0]},g.id))})]}),a.experience&&a.experience.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`${f}`,children:[l.jsx("div",{className:"flex-none w-24 text-slate-400",children:"Started"}),l.jsx("div",{className:"flex-1 divide-y divide-slate-100",children:T8(a.experience)[0].date_from})]}),l.jsxs("div",{className:`${f}`,children:[l.jsx("div",{className:"flex-none w-24 text-slate-400",children:"Experience"}),l.jsx("div",{className:"flex-1 divide-y divide-slate-100",children:T8(a.experience).map((g,m)=>l.jsx(xve,{exp:g},`${g.title}${m}`))})]})]})]})]}),e==="job_function"&&l.jsx(Re,{className:"text-green-600 px-6 md:px-10 mt-4 mb-10 font-medium hover:text-green-500",to:"..",children:" Back to all people"})]}):l.jsx(xg,{})},q0=(e,t,n)=>{const s=`/people/${e}/${t}`,i=(n??[]).map(o=>`techs=${o}`).join("&"),r=i?`${s}?${i}`:s;return nt({url:r,queryKey:["organizationPerson",s,i],enabled:!!e&&!!t})},vG=()=>{const e=Gn("technology")??[],t=Gn("technology_category")??[],{data:n}=$0({}),s=new Set(n?.technology_categories?.filter(r=>t.includes(r.slug)).flatMap(r=>r.techs.map(a=>a.slug))??[]);return Array.from(new Set([...e,...s]))},bve=e=>{const t=He();switch(e){case"org-people":return`/orgs/${t.organizationId}/people`;case"subsidiary-people":return`/orgs/${t.rootOrganizationId}/people`;case"signals":return"/signals";case"people":default:return"/people"}},S2=()=>{const{personId:e,organizationId:t,rootOrganizationId:n}=He(),s=t??n,i=vG(),{data:r,isLoading:a}=q0(s??"",e??"",i);return l.jsxs(l.Fragment,{children:[a&&l.jsx("div",{className:"flex-1 flex text-slate-400 font-medium animate-pulse pt-4 px-4 md:px-10",children:"Loading..."}),!a&&r&&l.jsx(bG,{people:[r],source:"people"})]})},vve=({closeContext:e})=>{const t=Qt(),n=bve(e);return l.jsxs(FI,{dispelAction:()=>t({pathname:n,search:window.location.search}),children:[l.jsxs("div",{className:"flex flex-row justify-between h-12 items-start pt-1.5 px-4 md:px-10",children:[l.jsx("div",{className:"text-slate-400 font-medium",children:"View person"}),l.jsx(Re,{to:n,className:"text-slate-600 font-medium hover:text-green-600",children:"Close"})]}),l.jsx(S2,{})]})},eD=e=>l.jsx(vve,{...e}),Sve=({items:e,className:t=""})=>l.jsx("ul",{className:`flex flex-col gap-2 flex-1 ${t}`,children:e.map((n,s)=>l.jsxs("li",{className:"flex items-start gap-2 text-slate-700",children:[!n?.toString().startsWith("Everything in")&&l.jsx(ar,{className:"flex-none size-5 text-slate-400"}),l.jsx("div",{className:"leading-5",children:n})]},s))}),qA=({title:e,subtitle:t,priceLabel:n,ctaLabel:s,onCta:i,features:r,highlight:a=!1,glow:o,footer:c,className:u=""})=>l.jsxs("div",{className:`flex flex-col gap-6 rounded-3xl border ${o?"shadow-[0_0px_8px_rgba(0,166,61,0.2)]!":"border-slate-200"} bg-white p-6 md:p-9! ${u}`,children:[l.jsxs("div",{className:"border-b border-slate-200 pb-8 flex flex-col gap-3 min-h-[15rem] items-center mb-1",children:[l.jsx("h3",{className:"font-semibold text-slate-900 font-next text-4xl tracking-[0.05rem]",children:e}),l.jsx("p",{className:"text-slate-500 leading-[1.3] flex-none h-[5rem] text-center",children:t}),l.jsx("div",{className:"font-semibold text-slate-900 h-[2.5rem]",children:n}),l.jsx("button",{onClick:i,className:`mt-auto w-full rounded-2xl py-4 font-semibold transition-colors ${a?"bg-green-600 border border-green-600 text-white hover:bg-green-500 hover:border-green-500!":"bg-white border border-slate-300 text-slate-900 hover:border-slate-400!"}`,children:s})]}),l.jsx(Sve,{items:r}),c&&l.jsx("div",{className:"text-slate-500 pt-10 flex-none w-full text-center",children:c})]}),WI=e=>`${window.location.origin}/account/billing?stripe-return=${e}`,wve=(e="pro_monthly")=>{const t=WI("subscribed");return It({mutationFn:async()=>await Ue({url:"/account/payment/generate-subscription-portal-url",method:"POST",body:{price_lookup_key:e,success_url:t,cancel_url:t}}),onSuccess:s=>{s?.url&&(window.location.href=s.url)}})},w2=()=>{const e=WI("portal");return It({mutationFn:async()=>await Ue({url:`/account/payment/generate-billing-portal-url?return_url=${e}`,method:"GET"}),onSuccess:n=>{n?.url&&(window.location.href=n.url)}})},SG=({onClose:e,title:t})=>{const{data:n}=Gt(),{mutate:s}=wve(),{mutate:i}=w2(),r=n===!1?void 0:n,a=r?.subscription?.tier;return l.jsx("div",{children:l.jsxs("div",{className:"fixed top-0 left-0 right-0 bottom-0 flex z-100 overflow-auto p-7 px-10",children:[l.jsx("div",{className:"fixed inset-0 bg-slate-50/75 backdrop-blur-sm! ",onClick:e}),l.jsxs("div",{className:"flex items-center justify-between fixed top-9 left-10 z-10",children:[l.jsx("button",{onClick:e,className:"text-base text-slate-600 hover:text-slate-900",children:" Back"}),l.jsx("div",{})]}),l.jsxs("div",{className:"relative w-full flex-1 gap-10 flex flex-col justify-between",children:[l.jsx("div",{className:"text-[1.6rem] font-semibold",children:l.jsx("h1",{className:"text-center",children:t??"Upgrade your plan"})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-[3rem] max-w-[86rem] mx-auto",children:[l.jsx(qA,{title:"Free",subtitle:l.jsxs(l.Fragment,{children:["Get your bearings,",l.jsx("br",{}),"define your territory"]}),priceLabel:l.jsx("span",{className:"text-[1.6rem]",children:"USD 0"}),ctaLabel:a===ei.free?"Keep using Sumble for free":"Use Free plan",onCta:()=>{r?.is_on_trial&&Tt("You will be automatically downgraded to the free plan when your trial ends.",{duration:5e3}),e?.()},features:["Tech, Job Function, and Firmographic search filters","Browse organizations","200 credits a month","Receive 7 signals a week","Choose orgs to receive signals on","See first page of results","Simple Slack integration"]}),l.jsx(qA,{title:"Pro",subtitle:l.jsxs(l.Fragment,{children:["Generate pipeline, close deals,",l.jsx("br",{}),"grow accounts"]}),priceLabel:l.jsxs("span",{className:"text-[1.6rem]",children:["USD 99",l.jsx("span",{className:"font-normal text-base text-slate-500",children:"/month"})]}),ctaLabel:a===ei.pro?"Keep using Sumble Pro":"Get Pro plan",onCta:()=>{if(a===ei.pro){r?.is_on_trial&&i(),e?.();return}r?s():window.location.href="/account/login"},glow:!0,highlight:!0,features:["Everything in Free, and:","Project-based search filters","Find people in organizations","Full text search","9900 credits a month","Up to 20 signals a day","10 pages of results"],footer:l.jsx(Re,{to:"https://docs.sumble.com/web-application/sumble-pro",target:"_blank",className:"text-green-600 hover:text-green-500",children:"Find out more about Pro "})}),l.jsx(qA,{title:"Enterprise",subtitle:l.jsxs(l.Fragment,{children:["For teams operating at scale",l.jsx("br",{}),""]}),priceLabel:l.jsx("span",{className:"text-[1.6rem]"}),ctaLabel:"Talk to Sales",onCta:()=>window.open("https://calendly.com/jared-sumble/sumble-enterprise","_blank"),highlight:!0,features:["Everything in Pro, and:","Customised onboarding","RevOps data integrations (SFDC, Snowflake, Databricks, )","Workflow integrations (SFDC)","Sales enablement and dedicated support","Company-wide signal definition"],footer:l.jsxs("span",{className:"text-sm text-slate-400",children:["Looking for a particular feature?"," ",l.jsx("a",{href:"mailto:support@sumble.com",className:"text-green-600 hover:text-green-500",children:"Get in touch!"})]})})]}),l.jsx("div",{children:""})]})]})})},Cve=()=>{const[e,t]=Ut("showPricing",rd),n=()=>{t(void 0)};return e?l.jsx(SG,{onClose:n}):null},Mve=()=>(w.useEffect(()=>{window.location.href="https://docs.sumble.com"},[]),null),xp=({children:e})=>{const t=Qt(),n=Rt(),s=yt(),[i,r]=w.useState(!1);return w.useEffect(()=>{localStorage.getItem("Authorization")?r(!0):s.invalidateQueries({queryKey:["profile"]}).then(()=>{const a=iI(n.pathname,n.search);t(`/account/login?return=${a}`),ln("Please login to access this page.")}).catch(a=>console.log(a))},[]),i?l.jsx(l.Fragment,{children:e}):null},jve=()=>{const{isLoggedIn:e,sendLogout:t}=w.useContext(go),n=Qt();return w.useEffect(()=>{t?.()},[t]),w.useEffect(()=>{e||(Tt("Logged out successfully."),n("/"))},[e]),l.jsx("div",{className:"flex flex-1 bg-slate-50 items-center justify-center",children:l.jsx("div",{className:"font-xl font-semibold",children:e?"Logging out...":"Logged out, redirecting you to the homepage..."})})},Nve=()=>{const[e]=Ni(),{postGmailAuthCode:t}=w.useContext(go),[n,s]=w.useState(null);return w.useEffect(()=>{(async()=>{try{const r=e.get("code");if(r&&t){const a=await t(r);a&&s(a)}}catch(r){s({status:500,success:!1,token:null,error:{detail:r instanceof Error&&r.message||"Unknown error"}})}})().catch(r=>s({status:500,success:!1,token:null,error:{detail:r instanceof Error&&r.message||"Unknown error"}}))},[e]),l.jsx("div",{className:"text-lg text-slate-500 text-center",children:n?.error?l.jsxs("div",{children:[n.error.detail,l.jsx("br",{}),l.jsx(Td,{to:"/account/login",className:"text-green-700 hover:text-green-600",children:" Sign in again"})]}):l.jsx("div",{className:"animate-pulse",children:"Processing..."})})};function YI(){const e=Qt(),t=gU();return(s,i)=>{if(typeof s=="string"){const r=`${s}${s.includes("?")?t.replace("?","&"):t}`;e(r,i)}else{const r={...s,search:t};e(r,i)}}}const wG=({className:e,children:t})=>{const n=Qt();return window.history.state&&window.history.state.idx>0?l.jsx("button",{className:e,onClick:()=>n(-1),children:t??" Back"}):null},Ave=()=>{const{sendMagicLink:e}=w.useContext(go),[t,n]=w.useState(""),[s,i]=w.useState(""),r=YI(),a=async()=>{if(t&&e)try{await e(t),r(`../validate?email=${encodeURIComponent(t)}`)}catch(o){i(o.detail||"An error occurred")}};return l.jsxs(l.Fragment,{children:[l.jsxs("form",{onSubmit:o=>{o.preventDefault(),a()},className:"flex flex-col gap-4 w-full max-w-[25rem]",children:[l.jsx("input",{type:"email",value:t,onChange:o=>n(o.target.value),className:"text-lg border border-slate-200 rounded-lg placeholder-slate-400 px-3 py-3",placeholder:"Enter your email",required:!0,autoFocus:!0}),l.jsxs("button",{disabled:!t,className:"text-white text-lg border-0 rounded-lg px-3 py-3 bg-green-600 font-medium flex flex-row gap-2 items-center justify-center hover:bg-opacity-90 transition-colors disabled:opacity-20",type:"submit",children:[l.jsx(Hk,{className:"w-6 h-6 text-white"}),"Continue with email"]}),l.jsx("div",{className:"relative w-full",children:s&&l.jsx("p",{className:"text-center text-red-500 text-sm absolute w-full",children:s})})]}),l.jsx("div",{children:l.jsx(wG,{className:"text-slate-400 hover:text-slate-500"})})]})},Tve=()=>{const{validateMagicLink:e}=w.useContext(go),[t,n]=w.useState(""),[s,i]=w.useState(!1),[r]=Ni(),a=r.get("email")??"",o=Qt(),[c,u]=w.useState(!1),h=g=>{const m=g.target.value;(/^\d+$/.test(m)&&m.length<=6||m==="")&&n(m)},f=async()=>{u(!0);try{const g=await e?.(a,t);g&&g.success===!1&&i(g.error?.detail||g.error?.error||"Invalid code")}finally{u(!1)}};return w.useEffect(()=>{(!a||a==="")&&o("/account/login/email")},[a]),w.useEffect(()=>{i(!1),t.length===6&&f().then(null,g=>{console.log(g)})},[t]),w.useEffect(()=>{r.get("code")&&n(r.get("code")??"")},[]),l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"w-full max-w-[25rem] flex flex-col items-center gap-8",children:[l.jsxs("p",{className:"text-center text-lg leading-[1.3] text-slate-500",children:["We've emailed you a six-digit code.",l.jsx("br",{}),"Please enter it below:"]}),l.jsx("input",{type:"text",value:t,onChange:h,className:"text-2xl text-center tracking-wider border border-slate-200 rounded-lg placeholder-slate-400 px-3 py-3 w-full",placeholder:""}),l.jsx("button",{disabled:t.length!==6||c,className:"w-full text-white text-lg border-0 rounded-lg px-3 py-3 bg-green-600 font-medium flex flex-row gap-2 items-center justify-center hover:bg-opacity-90 transition-colors disabled:opacity-60",onClick:()=>{f().then(null,g=>{console.log(g)})},children:c?"Validating ... ":l.jsxs(l.Fragment,{children:["Verify code and login"," ",l.jsx(qS,{className:"w-4 h-4 text-white"})]})}),l.jsx("div",{className:"relative w-full",children:s&&l.jsx("p",{className:"text-center text-red-500 text-sm absolute w-full",children:s})})]}),l.jsx(wG,{className:"text-slate-400 hover:text-slate-500"})]})},Eve=()=>{const[e]=Ni(),t=Qt(),{isLoggedIn:n,isLoading:s}=w.useContext(go),i=e.get("return");return w.useEffect(()=>{i&&!s&&!n&&localStorage.setItem("returnUrl",i)},[i,n,s]),w.useEffect(()=>{if(n){window&&window?.lintrk&&window.lintrk("track",{conversion_id:21981417}),Tt("Logged in successfully.");let r=e.get("return")||"/";localStorage.getItem("returnUrl")&&typeof localStorage.getItem("returnUrl")=="string"&&(r=localStorage.getItem("returnUrl")||r,localStorage.removeItem("returnUrl")),t(r)}},[n]),l.jsxs(iG,{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-semibold",children:"Sign in to Sumble"}),l.jsxs(Pc,{children:[l.jsx(rn,{path:"/",element:l.jsx(sG,{})}),l.jsx(rn,{path:"/email",element:l.jsx(Ave,{})}),l.jsx(rn,{path:"/oauth",element:l.jsx(Nve,{})}),l.jsx(rn,{path:"/validate",element:l.jsx(Tve,{})}),l.jsx(rn,{path:"/*",element:l.jsx(of,{to:"./",replace:!0})})]})]})},CG=(e,t,n)=>{const s=w.useRef(null);w.useEffect(()=>(s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{e()},t),()=>{s.current&&clearTimeout(s.current)}),n)},Z0=()=>{const e=yt();return It({mutationFn:async s=>{const i=new URLSearchParams;return s.map(r=>i.append(r.field,r.value)),await Ue({url:"/account/profile",method:"PUT",body:i.toString()})},onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]})}})},Dve=()=>{const e=yt();return It({mutationFn:async()=>await Ue({url:"/account",method:"DELETE"}),onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]})}})},kve=({setIsShowingDeleteModal:e})=>{const{mutate:t,isSuccess:n}=Dve(),s=yt(),i=Qt(),r=()=>{t()};return w.useEffect(()=>{n&&(localStorage.removeItem("Authorization"),s.invalidateQueries({queryKey:["profile"]}).then(()=>{i("/"),ln("Account deleted.")}).catch(a=>console.log(a)))},[n]),l.jsx(d2,{setIsShowingDeleteModal:e,handleDelete:r,title:"Delete account?",description:"All of your data will be permanently removed from our servers forever. This action cannot be undone."})},Ive=()=>{const e=yt();return It({mutationFn:async()=>await Ue({url:"/account/slack/disconnect",method:"POST"}),onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]}).catch(s=>console.log(s))}})},Lve=(e,t)=>`slack://app?team=${t}&id=${e}`,Ove=()=>{const{data:e,isLoading:t}=Gt(),{mutate:n}=Ive(),{slack_app_id:s,slack_team_id:i}=e||{slack_app_id:null,slack_team_id:null},r=s&&i;return l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs(Re,{to:r?Lve(s,i):"/integrations/slack",className:"relative block border-0 text-white font-semibold hover:bg-green-500 bg-green-600 transition-colors rounded-md py-2 px-4",children:[t?"Loading":r?"Open Sumble in Slack ":"Install Sumble on Slack ",l.jsxs("svg",{className:"absolute w-auto h-full right-0 top-0 p-2",width:"127",height:"127",viewBox:"0 0 127 127",children:[l.jsx("path",{d:"M27.2 80c0 7.3-5.9 13.2-13.2 13.2C6.7 93.2.8 87.3.8 80c0-7.3 5.9-13.2 13.2-13.2h13.2V80zm6.6 0c0-7.3 5.9-13.2 13.2-13.2 7.3 0 13.2 5.9 13.2 13.2v33c0 7.3-5.9 13.2-13.2 13.2-7.3 0-13.2-5.9-13.2-13.2V80z",fill:"currentColor"}),l.jsx("path",{d:"M47 27c-7.3 0-13.2-5.9-13.2-13.2C33.8 6.5 39.7.6 47 .6c7.3 0 13.2 5.9 13.2 13.2V27H47zm0 6.7c7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2H13.9C6.6 60.1.7 54.2.7 46.9c0-7.3 5.9-13.2 13.2-13.2H47z",fill:"currentColor"}),l.jsx("path",{d:"M99.9 46.9c0-7.3 5.9-13.2 13.2-13.2 7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2H99.9V46.9zm-6.6 0c0 7.3-5.9 13.2-13.2 13.2-7.3 0-13.2-5.9-13.2-13.2V13.8C66.9 6.5 72.8.6 80.1.6c7.3 0 13.2 5.9 13.2 13.2v33.1z",fill:"currentColor"}),l.jsx("path",{d:"M80.1 99.8c7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2-7.3 0-13.2-5.9-13.2-13.2V99.8h13.2zm0-6.6c-7.3 0-13.2-5.9-13.2-13.2 0-7.3 5.9-13.2 13.2-13.2h33.1c7.3 0 13.2 5.9 13.2 13.2 0 7.3-5.9 13.2-13.2 13.2H80.1z",fill:"currentColor"})]})]}),r&&l.jsx("button",{className:"relative block border-0 text-red-700/70 font-semibold bg-red-200 hover:bg-red-300! transition-colors rounded-md py-2 px-4 text-left",onClick:()=>n(),children:"Disconnect your account from Slack"})]})},hf=({title:e})=>l.jsxs(l.Fragment,{children:[l.jsx(Zr,{title:e}),l.jsx("h2",{className:"max-md:hidden font-medium text-slate-700 md:h-13! flex flex-row items-center mb-5! bg-white sticky top-0 z-1",children:e})]}),bg=({children:e,className:t})=>l.jsx("div",{className:`md:border-t-2 border-slate-100 pt-6 flex flex-col gap-2 ${t}`,children:e}),xd=({label:e,children:t,className:n})=>l.jsxs("div",{className:`flex flex-col md:flex-row gap-4 ${n}`,children:[l.jsx("div",{className:"flex-none w-full md:w-[14rem]! text-slate-400",children:e}),l.jsx("div",{className:"flex-1 flex flex-col gap-2 items-start",children:t})]}),Rve=[{fieldName:"name",fieldLabel:"Full name",editable:!0},{fieldName:"company",fieldLabel:"Company",editable:!0},{fieldName:"slack_app_id",fieldLabel:"Slack",component:l.jsx(Ove,{}),editable:!1},{fieldName:"email",fieldLabel:"Email",editable:!1,tooltip:l.jsx("div",{className:"text-slate-400",children:"Email is not editable"})}],_ve=({component:e,fieldName:t,fieldLabel:n,editable:s,origValue:i,placeholder:r,tooltip:a,required:o})=>{const[c,u]=w.useState(i),{mutate:h}=Z0();return CG(()=>{i!==c&&c!==void 0&&h([{field:t,value:String(c)}])},1e3,[c]),l.jsx(xd,{label:n,className:"md:items-center",children:l.jsx("div",{className:"w-full md:max-w-[20rem]",children:e||(s?l.jsx("input",{type:"text",className:"border border-slate-200 rounded-md px-2 py-2 w-full bg-white placeholder-slate-300",value:c||"",onChange:f=>{u(f.target.value)},required:o,placeholder:r??""}):l.jsx(Sr,{placement:"top-end",content:a,children:l.jsx("div",{className:"cursor-normal border border-slate-200 rounded-md px-2 py-2 w-full bg-slate-50 text-slate-400",children:c})}))})})},Pve=()=>{const{mutate:e}=Z0(),{data:t}=Gt(),n=t&&!t.unsubscribed_feed_at,s=()=>{e([{field:"subscribed_to_feed",value:(!n).toString()}])};return l.jsxs("div",{className:"flex flex-row items-center gap-3 max-md:pb-4",children:[l.jsx(LB,{checked:n,onClick:s,className:`${n?"bg-green-700":"bg-slate-200"} relative inline-flex h-[1.8rem] w-[3.3rem] shrink-0 cursor-pointer rounded-full border-4 border-transparent transition duration-200 ease-in-out focus:outline-hidden focus:ring-2 focus:ring-green-700 focus:ring-offset-2`,children:l.jsxs("span",{className:`${n?"translate-x-3":"translate-x-0"} pointer-events-none relative inline-block h-[1.2rem] w-[1.2rem] transform rounded-full bg-white shadow ring-0 transition-all duration-200 ease-in-out`,children:[l.jsx("span",{className:`${n?"opacity-0 duration-100 ease-out":"opacity-100 duration-200 ease-in"}
                                        absolute inset-0 flex h-full w-full items-center justify-center transition-opacity
                                    `,"aria-hidden":"true"}),l.jsx("span",{className:`${n?"opacity-100 duration-200 ease-in":"opacity-0 duration-100 ease-out"}
                                        absolute inset-0 flex h-full w-full items-center justify-center transition-opacity`,"aria-hidden":"true"})]})}),l.jsx("button",{onClick:()=>s(),className:"text-slate-500 max-md:text-left max-md:leading-[1.2] ",children:"Receive a weekly email with alerts"})]})},zve=()=>{const{data:e,isLoading:t}=Gt(),[n,s]=w.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx(hf,{title:"Account"}),l.jsxs("div",{className:"flex flex-col gap-1 md:pt-0 md:mr-10 max-md:p-5",children:[l.jsx("div",{className:"flex-1 flex flex-col ",children:l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"flex-1 flex flex-col gap-4 w-full",children:l.jsx("div",{children:!t&&e&&l.jsxs(bg,{className:"gap-6",children:[Rve.map(i=>l.jsx(_ve,{origValue:e[i.fieldName],placeholder:`Add your ${i.fieldLabel.toLowerCase()}`,...i},i.fieldLabel)),l.jsx(xd,{label:"Weekly email",children:l.jsx(Pve,{})})]})})})})}),n&&l.jsx(kve,{setIsShowingDeleteModal:s})]})]})},Fve=({children:e,className:t,to:n,...s})=>l.jsx(pV,{className:({isActive:i})=>`flex items-center justify-start rounded-lg pl-8 pr-2 py-1.25 font-medium text-slate-700 hover:text-slate-900 ${i?"bg-slate-100 text-slate-900":""} ${t??""}`,to:n,...s,children:e}),D8=[{to:"/account/settings",label:"Account"},{to:"/account/api-keys",label:"API Keys"},{to:"/account/billing",label:"Plan/Billing"},{to:"/account/usage",label:"Credit Usage"},{to:"/account/purchase",label:"Purchase Credits"},{to:"/account/exports",label:"Export History"},{to:"/account/logout",label:"Log out",icon:rue,className:"mt-auto flex items-center px-4 w-full hover:bg-slate-50 text-red-700!"}],$ve=()=>{const{pathname:e}=Rt(),[t,n]=w.useState(!1),s=D8.find(i=>e.startsWith(i.to));return l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>n(!t),className:"bg-white z-5 md:hidden flex flex-none sticky top-0 items-center justify-center h-[3rem] border-b-2 border-slate-100 font-medium text-slate-700",children:[s?.label||"Menu",l.jsx("span",{className:"absolute right-4",children:l.jsx(Kr,{className:`w-5 h-5 transition-transform ${t?"rotate-[180deg]":"rotate-[0deg]"}`,"aria-hidden":"true"})})]}),l.jsx("div",{className:`md:pt-15 ${t?"":"max-md:hidden"} border-solid max-md:border-b-2 max-md:border-r-0 flex-none flex flex-col md:w-[17.5rem] md:pt-4 max-md:px-4 border-r-2 border-slate-100 mb-7 md:mr-10 sticky top-0`,children:l.jsx("div",{className:"flex-1 p-2 flex flex-col",children:D8.map(i=>l.jsxs(Fve,{to:i.to,className:i.className,onClick:()=>n(!1),children:[i.icon&&l.jsx(i.icon,{className:"w-6 h-6 mr-2"}),i.label]},i.to))})})]})},Bve=()=>nt({url:"/account/grants",queryKey:["grants"],refetchOnWindowFocus:"always"});var Vve=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,Uve=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,Hve=/[^-+\dA-Z]/g;function tD(e,t,n,s){if(arguments.length===1&&typeof e=="string"&&!/\d/.test(e)&&(t=e,e=void 0),e=e||e===0?e:new Date,e instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");t=String(k8[t]||t||k8.default);var i=t.slice(0,4);(i==="UTC:"||i==="GMT:")&&(t=t.slice(4),n=!0,i==="GMT:"&&(s=!0));var r=function(){return n?"getUTC":"get"},a=function(){return e[r()+"Date"]()},o=function(){return e[r()+"Day"]()},c=function(){return e[r()+"Month"]()},u=function(){return e[r()+"FullYear"]()},h=function(){return e[r()+"Hours"]()},f=function(){return e[r()+"Minutes"]()},g=function(){return e[r()+"Seconds"]()},m=function(){return e[r()+"Milliseconds"]()},y=function(){return n?0:e.getTimezoneOffset()},b=function(){return Gve(e)},S=function(){return Wve(e)},C={d:function(){return a()},dd:function(){return oa(a())},ddd:function(){return Ir.dayNames[o()]},DDD:function(){return I8({y:u(),m:c(),d:a(),_:r(),dayName:Ir.dayNames[o()],short:!0})},dddd:function(){return Ir.dayNames[o()+7]},DDDD:function(){return I8({y:u(),m:c(),d:a(),_:r(),dayName:Ir.dayNames[o()+7]})},m:function(){return c()+1},mm:function(){return oa(c()+1)},mmm:function(){return Ir.monthNames[c()]},mmmm:function(){return Ir.monthNames[c()+12]},yy:function(){return String(u()).slice(2)},yyyy:function(){return oa(u(),4)},h:function(){return h()%12||12},hh:function(){return oa(h()%12||12)},H:function(){return h()},HH:function(){return oa(h())},M:function(){return f()},MM:function(){return oa(f())},s:function(){return g()},ss:function(){return oa(g())},l:function(){return oa(m(),3)},L:function(){return oa(Math.floor(m()/10))},t:function(){return h()<12?Ir.timeNames[0]:Ir.timeNames[1]},tt:function(){return h()<12?Ir.timeNames[2]:Ir.timeNames[3]},T:function(){return h()<12?Ir.timeNames[4]:Ir.timeNames[5]},TT:function(){return h()<12?Ir.timeNames[6]:Ir.timeNames[7]},Z:function(){return s?"GMT":n?"UTC":Yve(e)},o:function(){return(y()>0?"-":"+")+oa(Math.floor(Math.abs(y())/60)*100+Math.abs(y())%60,4)},p:function(){return(y()>0?"-":"+")+oa(Math.floor(Math.abs(y())/60),2)+":"+oa(Math.floor(Math.abs(y())%60),2)},S:function(){return["th","st","nd","rd"][a()%10>3?0:(a()%100-a()%10!=10)*a()%10]},W:function(){return b()},WW:function(){return oa(b())},N:function(){return S()}};return t.replace(Vve,function(M){return M in C?C[M]():M.slice(1,M.length-1)})}var k8={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},Ir={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},oa=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(t).padStart(n,"0")},I8=function(t){var n=t.y,s=t.m,i=t.d,r=t._,a=t.dayName,o=t.short,c=o===void 0?!1:o,u=new Date,h=new Date;h.setDate(h[r+"Date"]()-1);var f=new Date;f.setDate(f[r+"Date"]()+1);var g=function(){return u[r+"Date"]()},m=function(){return u[r+"Month"]()},y=function(){return u[r+"FullYear"]()},b=function(){return h[r+"Date"]()},S=function(){return h[r+"Month"]()},C=function(){return h[r+"FullYear"]()},M=function(){return f[r+"Date"]()},N=function(){return f[r+"Month"]()},T=function(){return f[r+"FullYear"]()};return y()===n&&m()===s&&g()===i?c?"Tdy":"Today":C()===n&&S()===s&&b()===i?c?"Ysd":"Yesterday":T()===n&&N()===s&&M()===i?c?"Tmw":"Tomorrow":a},Gve=function(t){var n=new Date(t.getFullYear(),t.getMonth(),t.getDate());n.setDate(n.getDate()-(n.getDay()+6)%7+3);var s=new Date(n.getFullYear(),0,4);s.setDate(s.getDate()-(s.getDay()+6)%7+3);var i=n.getTimezoneOffset()-s.getTimezoneOffset();n.setHours(n.getHours()-i);var r=(n-s)/(864e5*7);return 1+Math.floor(r)},Wve=function(t){var n=t.getDay();return n===0&&(n=7),n},Yve=function(t){return(String(t).match(Uve)||[""]).pop().replace(Hve,"").replace(/GMT\+0000/g,"UTC")};function nD(e){let t=Math.floor(e/31536e3);return t>1?t+"y":(t=Math.floor(e/2592e3),t>1?t+"mo":(t=Math.floor(e/86400),t>1?t+"d":(t=Math.floor(e/3600),t>1?t+"h":(t=Math.floor(e/60),t>1?t+"m":isNaN(Math.floor(e))?!1:Math.floor(e)+"s"))))}function Pl(e){if(!e)return null;const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/1e3);return nD(n)}function Kve(e){if(!e)return null;const t=new Date(e),n=Math.floor((new Date().getTime()-t.getTime())/1e3);return n>0?`${nD(n)} ago`:`${nD(-n)} from now`}const C2=e=>{const t=yt(),n=async()=>{t.prefetchQuery({queryKey:e,staleTime:2800})};return w.useEffect(()=>{n()},[]),n},KI=()=>C2(["profile"]);function MG(e,t){window.dispatchEvent(new StorageEvent("storage",{key:e,newValue:t}))}const qve=(e,t)=>{const n=JSON.stringify(t);window.localStorage.setItem(e,n),MG(e,n)},Zve=e=>{window.localStorage.removeItem(e),MG(e,null)},L8=e=>window.localStorage.getItem(e),Qve=e=>(window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)),Xve=()=>{throw Error("useLocalStorage is a client-only hook")};function qI(e,t){const n=()=>L8(e),s=w.useSyncExternalStore(Qve,n,Xve),i=w.useCallback(r=>{try{const a=typeof r=="function"?r(JSON.parse(s)):r;a==null?Zve(e):qve(e,a)}catch(a){console.warn(a)}},[e,s]);return w.useEffect(()=>{L8(e)===null&&typeof t<"u"},[e,t]),[s?JSON.parse(s):t,i]}function jG(e){const[t,n]=w.useState(e),[s,i]=w.useState(null);return e!==t&&(i(t),n(e)),s}const Jve=()=>{const e=KI(),t=C2(["grants"]),[n]=Ni(),{data:s}=Gt(),i=jG(s&&s.credits_remaining),r=w.useRef(null),a=n.get("stripe_success")==="1";w.useEffect(()=>{a&&(r.current=setInterval(()=>{e(),t()},3e3),setTimeout(()=>{r.current&&clearInterval(r.current)},3e4))},[a]),w.useEffect(()=>{a&&Tt.success("Payment successful! Your credits will be applied within 30 seconds.",{duration:5e3})},[a]),w.useEffect(()=>{a&&s&&i&&s.credits_remaining!==i&&clearInterval(r.current)},[s,i])},sw=({to:e,children:t,...n})=>l.jsxs(Re,{to:e,className:"text-green-600 hover:text-green-700 font-medium",...n,children:[t," "]}),e1e=({used:e,total:t})=>l.jsxs("div",{className:"relative bg-slate-100",children:[l.jsxs("div",{className:"z-1 relative px-1",children:[$e(e),"  ",$e(t)]}),l.jsx("div",{className:"z-0 absolute bg-green-100 top-0 left-0 h-full",style:{width:`${e/t*100}%`}})]}),t1e=()=>{const{data:e,isLoading:t}=Gt(),{data:n,isLoading:s}=Bve();KI(),C2(["grants"]),Jve();const{mutate:i}=w2();return t||!e?null:l.jsxs(l.Fragment,{children:[l.jsx(hf,{title:"Credit Usage"}),l.jsxs("div",{className:"flex flex-col gap-10 md:pt-0 md:mr-10 max-md:p-5",children:[l.jsx(bg,{children:l.jsxs(xd,{label:"Credits",children:[l.jsxs("div",{className:"font-medium text-[1.5rem]",children:[$e(e.credits_remaining)," credits remaining"]}),l.jsxs("div",{className:"flex flex-col gap-0.5 font-medium",children:[e.subscription.tier==="free"&&l.jsx(sw,{to:"/pricing",children:"Upgrade your plan for more monthly credits"}),l.jsx(sw,{to:"/account/purchase",children:"Purchase once-off credits"})]})]})}),l.jsx(bg,{children:l.jsxs(xd,{label:"Credit History",children:[l.jsxs("div",{className:"flex-1 text-slate-600 mt-1",children:["Based on your plan,"," ",e.credits_remaining===0?"you've used your ":"you receive ",$e(e.monthly_credits)," credits",e.credits_remaining===0?" this ":" each ","month.",l.jsx("br",{}),"Credits are used in order of soonest expiry."]}),l.jsxs("div",{className:"pt-8 max-md:text-sm flex flex-col divide-y divide-slate-100 w-full border-b border-slate-100 max-w-[80rem]",children:[l.jsxs("div",{className:"grid grid-cols-9 gap-4 text-slate-400 w-full h-12 items-center",children:[l.jsxs("div",{className:"text-slate-400",children:[l.jsx("span",{className:"max-md:hidden",children:"Credit type"}),l.jsx("span",{className:"md:hidden",children:"Type"})]}),l.jsx("div",{className:"text-slate-400 col-span-2",children:"Usage"}),l.jsx("div",{className:"text-slate-400 col-span-2",children:"Granted"}),l.jsx("div",{className:"text-slate-400 col-span-4",children:"Expires"})]}),!s&&n&&n.length>0&&n.map(r=>l.jsxs("div",{className:"grid grid-cols-9 gap-4 w-full h-12 items-center",children:[l.jsxs("div",{children:[r.grant_type==="free_grant"?"Free":r.grant_type==="purchased_credits"?"Paid":r.grant_type==="manual_grant"?"Manual grant":"N/A",r.invoice_token&&l.jsx("a",{href:`/api/account/invoice/${r.invoice_token}`,target:"_blank",rel:"noreferrer",className:"text-slate-400 ml-2 text-sm",children:"View Invoice"})]}),l.jsx("div",{className:"col-span-2",children:r.used_credits===null?l.jsx("div",{className:"text-slate-400",children:"Expired"}):l.jsx(e1e,{used:r.used_credits??0,total:r.grant_credits})}),l.jsx("div",{className:"col-span-2",children:tD(r.starts_at,"mmm d, yyyy")}),l.jsxs("div",{className:"col-span-4",children:[tD(r.expires_at,"mmm d, yyyy")," ",l.jsxs("span",{className:"text-slate-400 max-md:hidden",children:["(",Kve(r.expires_at),")"]})]})]},r.id))]})]})}),e.is_admin&&l.jsx("div",{children:l.jsxs("button",{className:"text-slate-400 flex flex-row items-center gap-1 hover:text-slate-600",onClick:()=>{i()},children:["View previous invoices on Stripe"," ",l.jsx(ls,{className:"w-4 h-4"})]})})]})]})},n1e=()=>nt({url:"/credits/packages"}),s1e=()=>It({mutationFn:async t=>(await Ue({url:"/account/payment/portal",method:"POST",body:t})).url}),Lx=e=>{const t=typeof e=="string"?parseFloat(e):e;if(typeof t!="number"||isNaN(t))throw new Error("Input must be a valid number");const n=1e6,s=1e3,i=(r,a)=>r.toLocaleString(void 0,{maximumFractionDigits:1}).replace(/\.0$/,"")+a;return Math.abs(t)>=n?i(t/n,"M"):Math.abs(t)>=s?i(t/s,"k"):t.toLocaleString()};var by={},Lr={},vy={},Sy={},O8;function ZI(){if(O8)return Sy;O8=1,Object.defineProperty(Sy,"__esModule",{value:!0}),Sy.Direction=void 0;var e;return(function(t){t.Right="to right",t.Left="to left",t.Down="to bottom",t.Up="to top"})(e||(Sy.Direction=e={})),Sy}var R8;function NG(){return R8||(R8=1,(function(e){var t=vy&&vy.__spreadArray||function(U,H,z){if(z||arguments.length===2)for(var $=0,P=H.length,B;$<P;$++)(B||!($ in H))&&(B||(B=Array.prototype.slice.call(H,0,$)),B[$]=H[$]);return U.concat(B||Array.prototype.slice.call(H))};Object.defineProperty(e,"__esModule",{value:!0}),e.isIOS=e.useThumbOverlap=e.assertUnreachable=e.voidFn=e.getTrackBackground=e.replaceAt=e.schd=e.translate=e.getClosestThumbIndex=e.translateThumbs=e.getPaddingAndBorder=e.getMargin=e.checkInitialOverlap=e.checkValuesAgainstBoundaries=e.checkBoundaries=e.isVertical=e.relativeValue=e.normalizeValue=e.isStepDivisible=e.isTouchEvent=e.getStepDecimals=void 0;var n=Dk(),s=ZI(),i=function(U){var H=U.toString().split(".")[1];return H?H.length:0};e.getStepDecimals=i;function r(U){return U.touches&&U.touches.length||U.changedTouches&&U.changedTouches.length}e.isTouchEvent=r;function a(U,H,z){var $=(H-U)/z,P=8,B=Number($.toFixed(P));return parseInt(B.toString(),10)===B}e.isStepDivisible=a;function o(U,H,z,$,P,B,Y){var K=1e11;if(U=Math.round(U*K)/K,!B){var te=Y[H-1],se=Y[H+1];if(te&&te>U)return te;if(se&&se<U)return se}if(U>$)return $;if(U<z)return z;var fe=Math.floor(U*K-z*K)%Math.floor(P*K),oe=Math.floor(U*K-Math.abs(fe)),Ee=fe===0?U:oe/K,ye=Math.abs(fe/K)<P/2?Ee:Ee+P,je=(0,e.getStepDecimals)(P);return parseFloat(ye.toFixed(je))}e.normalizeValue=o;function c(U,H,z){return(U-H)/(z-H)}e.relativeValue=c;function u(U){return U===s.Direction.Up||U===s.Direction.Down}e.isVertical=u;function h(U,H,z){if(H>=z)throw new RangeError("min (".concat(H,") is equal/bigger than max (").concat(z,")"));if(U<H)throw new RangeError("value (".concat(U,") is smaller than min (").concat(H,")"));if(U>z)throw new RangeError("value (".concat(U,") is bigger than max (").concat(z,")"))}e.checkBoundaries=h;function f(U,H,z){return U<H?H:U>z?z:U}e.checkValuesAgainstBoundaries=f;function g(U){if(!(U.length<2)&&!U.slice(1).every(function(H,z){return U[z]<=H}))throw new RangeError("values={[".concat(U,"]} needs to be sorted when allowOverlap={false}"))}e.checkInitialOverlap=g;function m(U){var H=window.getComputedStyle(U);return{top:parseInt(H["margin-top"],10),bottom:parseInt(H["margin-bottom"],10),left:parseInt(H["margin-left"],10),right:parseInt(H["margin-right"],10)}}e.getMargin=m;function y(U){var H=window.getComputedStyle(U);return{top:parseInt(H["padding-top"],10)+parseInt(H["border-top-width"],10),bottom:parseInt(H["padding-bottom"],10)+parseInt(H["border-bottom-width"],10),left:parseInt(H["padding-left"],10)+parseInt(H["border-left-width"],10),right:parseInt(H["padding-right"],10)+parseInt(H["border-right-width"],10)}}e.getPaddingAndBorder=y;function b(U,H,z){var $=z?-1:1;U.forEach(function(P,B){return C(P,$*H[B].x,H[B].y)})}e.translateThumbs=b;function S(U,H,z,$){for(var P=0,B=F(U[0],H,z,$),Y=1;Y<U.length;Y++){var K=F(U[Y],H,z,$);K<B&&(B=K,P=Y)}return P}e.getClosestThumbIndex=S;function C(U,H,z){U.style.transform="translate(".concat(H,"px, ").concat(z,"px)")}e.translate=C;var M=function(U){var H=[],z=null,$=function(){for(var P=[],B=0;B<arguments.length;B++)P[B]=arguments[B];H=P,!z&&(z=requestAnimationFrame(function(){z=null,U.apply(void 0,H)}))};return $};e.schd=M;function N(U,H,z){var $=U.slice(0);return $[H]=z,$}e.replaceAt=N;function T(U){var H=U.values,z=U.colors,$=U.min,P=U.max,B=U.direction,Y=B===void 0?s.Direction.Right:B,K=U.rtl,te=K===void 0?!1:K;te&&Y===s.Direction.Right?Y=s.Direction.Left:te&&s.Direction.Left&&(Y=s.Direction.Right);var se=H.slice(0).sort(function(oe,Ee){return oe-Ee}).map(function(oe){return(oe-$)/(P-$)*100}),fe=se.reduce(function(oe,Ee,ye){return"".concat(oe,", ").concat(z[ye]," ").concat(Ee,"%, ").concat(z[ye+1]," ").concat(Ee,"%")},"");return"linear-gradient(".concat(Y,", ").concat(z[0]," 0%").concat(fe,", ").concat(z[z.length-1]," 100%)")}e.getTrackBackground=T;function E(){}e.voidFn=E;function k(U){throw new Error("Didn't expect to get here")}e.assertUnreachable=k;var L=function(U,H,z,$,P){P===void 0&&(P=function(Y){return Y});var B=Math.ceil(t([U],Array.from(U.children),!0).reduce(function(Y,K){var te=Math.ceil(K.getBoundingClientRect().width);if(K.innerText&&K.innerText.includes(z)&&K.childElementCount===0){var se=K.cloneNode(!0);se.innerHTML=P(H.toFixed($)),se.style.visibility="hidden",document.body.appendChild(se),te=Math.ceil(se.getBoundingClientRect().width),document.body.removeChild(se)}return te>Y?te:Y},U.getBoundingClientRect().width));return B},I=function(U,H,z,$,P,B,Y){Y===void 0&&(Y=function(se){return se});var K=[],te=function(se){var fe=L(z[se],$[se],P,B,Y),oe=H[se].x;H.forEach(function(Ee,ye){var je=Ee.x,me=L(z[ye],$[ye],P,B,Y);se!==ye&&(oe>=je&&oe<=je+me||oe+fe>=je&&oe+fe<=je+me)&&(K.includes(ye)||(K.push(se),K.push(ye),K=t(t([],K,!0),[se,ye],!1),te(ye)))})};return te(U),Array.from(new Set(K.sort()))},_=function(U,H,z,$,P,B){$===void 0&&($=.1),P===void 0&&(P=" - "),B===void 0&&(B=function(ye){return ye});var Y=(0,e.getStepDecimals)($),K=(0,n.useState)({}),te=K[0],se=K[1],fe=(0,n.useState)(B(H[z].toFixed(Y))),oe=fe[0],Ee=fe[1];return(0,n.useEffect)(function(){if(U){var ye=U.getThumbs();if(ye.length<1)return;var je={},me=U.getOffsets(),be=I(z,me,ye,H,P,Y,B),Ae=B(H[z].toFixed(Y));if(be.length){var Te=be.reduce(function(lt,pt,it,dn){return lt.length?t(t([],lt,!0),[me[dn[it]].x],!1):[me[dn[it]].x]},[]);if(Math.min.apply(Math,Te)===me[z].x){var Be=[];be.forEach(function(lt){Be.push(H[lt].toFixed(Y))}),Ae=Array.from(new Set(Be.sort(function(lt,pt){return parseFloat(lt)-parseFloat(pt)}))).map(B).join(P);var Ge=Math.min.apply(Math,Te),Je=Math.max.apply(Math,Te),et=ye[be[Te.indexOf(Je)]].getBoundingClientRect().width;je.left="".concat(Math.abs(Ge-(Je+et))/2,"px"),je.transform="translate(-50%, 0)"}else je.visibility="hidden"}Ee(Ae),se(je)}},[U,H]),[oe,te]};e.useThumbOverlap=_;function F(U,H,z,$){var P=U.getBoundingClientRect(),B=P.left,Y=P.top,K=P.width,te=P.height;return u($)?Math.abs(z-(Y+te/2)):Math.abs(H-(B+K/2))}var G=function(){var U,H=((U=navigator.userAgentData)===null||U===void 0?void 0:U.platform)||navigator.platform;return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(H)||navigator.userAgent.includes("Mac")&&"ontouchend"in document};e.isIOS=G})(vy)),vy}var _8;function i1e(){if(_8)return Lr;_8=1;var e=Lr&&Lr.__extends||(function(){var f=function(g,m){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var S in b)Object.prototype.hasOwnProperty.call(b,S)&&(y[S]=b[S])},f(g,m)};return function(g,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");f(g,m);function y(){this.constructor=g}g.prototype=m===null?Object.create(m):(y.prototype=m.prototype,new y)}})(),t=Lr&&Lr.__createBinding||(Object.create?(function(f,g,m,y){y===void 0&&(y=m);var b=Object.getOwnPropertyDescriptor(g,m);(!b||("get"in b?!g.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return g[m]}}),Object.defineProperty(f,y,b)}):(function(f,g,m,y){y===void 0&&(y=m),f[y]=g[m]})),n=Lr&&Lr.__setModuleDefault||(Object.create?(function(f,g){Object.defineProperty(f,"default",{enumerable:!0,value:g})}):function(f,g){f.default=g}),s=Lr&&Lr.__importStar||function(f){if(f&&f.__esModule)return f;var g={};if(f!=null)for(var m in f)m!=="default"&&Object.prototype.hasOwnProperty.call(f,m)&&t(g,f,m);return n(g,f),g},i=Lr&&Lr.__spreadArray||function(f,g,m){if(m||arguments.length===2)for(var y=0,b=g.length,S;y<b;y++)(S||!(y in g))&&(S||(S=Array.prototype.slice.call(g,0,y)),S[y]=g[y]);return f.concat(S||Array.prototype.slice.call(g))};Object.defineProperty(Lr,"__esModule",{value:!0});var r=s(Dk()),a=NG(),o=ZI(),c=["ArrowRight","ArrowUp","k","PageUp"],u=["ArrowLeft","ArrowDown","j","PageDown"],h=(function(f){e(g,f);function g(m){var y=f.call(this,m)||this;if(y.trackRef=r.createRef(),y.thumbRefs=[],y.state={draggedTrackPos:[-1,-1],draggedThumbIndex:-1,thumbZIndexes:new Array(y.props.values.length).fill(0).map(function(b,S){return S}),isChanged:!1,markOffsets:[]},y.getOffsets=function(){var b=y.props,S=b.direction,C=b.values,M=b.min,N=b.max,T=y.trackRef.current;if(!T)return console.warn("No track element found."),[];var E=T.getBoundingClientRect(),k=(0,a.getPaddingAndBorder)(T);return y.getThumbs().map(function(L,I){var _={x:0,y:0},F=L.getBoundingClientRect(),G=(0,a.getMargin)(L);switch(S){case o.Direction.Right:return _.x=(G.left+k.left)*-1,_.y=((F.height-E.height)/2+k.top)*-1,_.x+=E.width*(0,a.relativeValue)(C[I],M,N)-F.width/2,_;case o.Direction.Left:return _.x=(G.right+k.right)*-1,_.y=((F.height-E.height)/2+k.top)*-1,_.x+=E.width-E.width*(0,a.relativeValue)(C[I],M,N)-F.width/2,_;case o.Direction.Up:return _.x=((F.width-E.width)/2+G.left+k.left)*-1,_.y=-k.left,_.y+=E.height-E.height*(0,a.relativeValue)(C[I],M,N)-F.height/2,_;case o.Direction.Down:return _.x=((F.width-E.width)/2+G.left+k.left)*-1,_.y=-k.left,_.y+=E.height*(0,a.relativeValue)(C[I],M,N)-F.height/2,_;default:return(0,a.assertUnreachable)(S)}})},y.getThumbs=function(){return y.trackRef&&y.trackRef.current?Array.from(y.trackRef.current.children).filter(function(b){return b.hasAttribute("aria-valuenow")}):(console.warn("No thumbs found in the track container. Did you forget to pass & spread the `props` param in renderTrack?"),[])},y.getTargetIndex=function(b){return y.getThumbs().findIndex(function(S){return S===b.target||S.contains(b.target)})},y.addTouchEvents=function(b){document.addEventListener("touchmove",y.schdOnTouchMove,{passive:!1}),document.addEventListener("touchend",y.schdOnEnd,{passive:!1}),document.addEventListener("touchcancel",y.schdOnEnd,{passive:!1})},y.addMouseEvents=function(b){document.addEventListener("mousemove",y.schdOnMouseMove),document.addEventListener("mouseup",y.schdOnEnd)},y.onMouseDownTrack=function(b){var S;if(!(b.button!==0||(0,a.isIOS)()))if(b.persist(),b.preventDefault(),y.addMouseEvents(b.nativeEvent),y.props.values.length>1&&y.props.draggableTrack){if(y.thumbRefs.some(function(M){var N;return(N=M.current)===null||N===void 0?void 0:N.contains(b.target)}))return;y.setState({draggedTrackPos:[b.clientX,b.clientY]},function(){return y.onMove(b.clientX,b.clientY)})}else{var C=(0,a.getClosestThumbIndex)(y.thumbRefs.map(function(M){return M.current}),b.clientX,b.clientY,y.props.direction);(S=y.thumbRefs[C].current)===null||S===void 0||S.focus(),y.setState({draggedThumbIndex:C},function(){return y.onMove(b.clientX,b.clientY)})}},y.onResize=function(){(0,a.translateThumbs)(y.getThumbs(),y.getOffsets(),y.props.rtl),y.calculateMarkOffsets()},y.onTouchStartTrack=function(b){var S;if(b.persist(),y.addTouchEvents(b.nativeEvent),y.props.values.length>1&&y.props.draggableTrack){if(y.thumbRefs.some(function(M){var N;return(N=M.current)===null||N===void 0?void 0:N.contains(b.target)}))return;y.setState({draggedTrackPos:[b.touches[0].clientX,b.touches[0].clientY]},function(){return y.onMove(b.touches[0].clientX,b.touches[0].clientY)})}else{var C=(0,a.getClosestThumbIndex)(y.thumbRefs.map(function(M){return M.current}),b.touches[0].clientX,b.touches[0].clientY,y.props.direction);(S=y.thumbRefs[C].current)===null||S===void 0||S.focus(),y.setState({draggedThumbIndex:C},function(){return y.onMove(b.touches[0].clientX,b.touches[0].clientY)})}},y.onMouseOrTouchStart=function(b){if(!y.props.disabled){var S=(0,a.isTouchEvent)(b);if(!(!S&&b.button!==0)){var C=y.getTargetIndex(b);C!==-1&&(S?y.addTouchEvents(b):y.addMouseEvents(b),y.setState({draggedThumbIndex:C,thumbZIndexes:y.state.thumbZIndexes.map(function(M,N){return N===C?Math.max.apply(Math,y.state.thumbZIndexes):M<=y.state.thumbZIndexes[C]?M:M-1})}))}}},y.onMouseMove=function(b){b.preventDefault(),y.onMove(b.clientX,b.clientY)},y.onTouchMove=function(b){b.preventDefault(),y.onMove(b.touches[0].clientX,b.touches[0].clientY)},y.onKeyDown=function(b){var S=y.props,C=S.values,M=S.onChange,N=S.step,T=S.rtl,E=S.direction,k=y.state.isChanged,L=y.getTargetIndex(b.nativeEvent),I=T||E===o.Direction.Left||E===o.Direction.Down?-1:1;L!==-1&&(c.includes(b.key)?(b.preventDefault(),y.setState({draggedThumbIndex:L,isChanged:!0}),M((0,a.replaceAt)(C,L,y.normalizeValue(C[L]+I*(b.key==="PageUp"?N*10:N),L)))):u.includes(b.key)?(b.preventDefault(),y.setState({draggedThumbIndex:L,isChanged:!0}),M((0,a.replaceAt)(C,L,y.normalizeValue(C[L]-I*(b.key==="PageDown"?N*10:N),L)))):b.key==="Tab"?y.setState({draggedThumbIndex:-1},function(){k&&y.fireOnFinalChange()}):k&&y.fireOnFinalChange())},y.onKeyUp=function(b){var S=y.state.isChanged;y.setState({draggedThumbIndex:-1},function(){S&&y.fireOnFinalChange()})},y.onMove=function(b,S){var C=y.state,M=C.draggedThumbIndex,N=C.draggedTrackPos,T=y.props,E=T.direction,k=T.min,L=T.max,I=T.onChange,_=T.values,F=T.step,G=T.rtl;if(M===-1&&N[0]===-1&&N[1]===-1)return null;var U=y.trackRef.current;if(!U)return null;var H=U.getBoundingClientRect(),z=(0,a.isVertical)(E)?H.height:H.width;if(N[0]!==-1&&N[1]!==-1){var $=b-N[0],P=S-N[1],B=0;switch(E){case o.Direction.Right:case o.Direction.Left:B=$/z*(L-k);break;case o.Direction.Down:case o.Direction.Up:B=P/z*(L-k);break;default:(0,a.assertUnreachable)(E)}if(G&&(B*=-1),Math.abs(B)>=F/2){for(var Y=0;Y<y.thumbRefs.length;Y++){if(_[Y]===L&&Math.sign(B)===1||_[Y]===k&&Math.sign(B)===-1)return;var K=_[Y]+B;K>L?B=L-_[Y]:K<k&&(B=k-_[Y])}for(var te=_.slice(0),Y=0;Y<y.thumbRefs.length;Y++)te=(0,a.replaceAt)(te,Y,y.normalizeValue(_[Y]+B,Y));y.setState({draggedTrackPos:[b,S]}),I(te)}}else{var se=0;switch(E){case o.Direction.Right:se=(b-H.left)/z*(L-k)+k;break;case o.Direction.Left:se=(z-(b-H.left))/z*(L-k)+k;break;case o.Direction.Down:se=(S-H.top)/z*(L-k)+k;break;case o.Direction.Up:se=(z-(S-H.top))/z*(L-k)+k;break;default:(0,a.assertUnreachable)(E)}G&&(se=L+k-se),Math.abs(_[M]-se)>=F/2&&I((0,a.replaceAt)(_,M,y.normalizeValue(se,M)))}},y.normalizeValue=function(b,S){var C=y.props,M=C.min,N=C.max,T=C.step,E=C.allowOverlap,k=C.values;return(0,a.normalizeValue)(b,S,M,N,T,E,k)},y.onEnd=function(b){if(b.preventDefault(),document.removeEventListener("mousemove",y.schdOnMouseMove),document.removeEventListener("touchmove",y.schdOnTouchMove),document.removeEventListener("mouseup",y.schdOnEnd),document.removeEventListener("touchend",y.schdOnEnd),document.removeEventListener("touchcancel",y.schdOnEnd),y.state.draggedThumbIndex===-1&&y.state.draggedTrackPos[0]===-1&&y.state.draggedTrackPos[1]===-1)return null;y.setState({draggedThumbIndex:-1,draggedTrackPos:[-1,-1]},function(){y.fireOnFinalChange()})},y.fireOnFinalChange=function(){y.setState({isChanged:!1});var b=y.props,S=b.onFinalChange,C=b.values;S&&S(C)},y.updateMarkRefs=function(b){if(!b.renderMark){y.numOfMarks=void 0,y.markRefs=void 0;return}y.numOfMarks=(b.max-b.min)/y.props.step,y.markRefs=[];for(var S=0;S<y.numOfMarks+1;S++)y.markRefs[S]=r.createRef()},y.calculateMarkOffsets=function(){if(!(!y.props.renderMark||!y.trackRef||!y.numOfMarks||!y.markRefs||y.trackRef.current===null)){for(var b=window.getComputedStyle(y.trackRef.current),S=parseInt(b.width,10),C=parseInt(b.height,10),M=parseInt(b.paddingLeft,10),N=parseInt(b.paddingTop,10),T=[],E=0;E<y.numOfMarks+1;E++){var k=9999,L=9999;if(y.markRefs[E].current){var I=y.markRefs[E].current.getBoundingClientRect();k=I.height,L=I.width}y.props.direction===o.Direction.Left||y.props.direction===o.Direction.Right?T.push([Math.round(S/y.numOfMarks*E+M-L/2),-Math.round((k-C)/2)]):T.push([Math.round(C/y.numOfMarks*E+N-k/2),-Math.round((L-S)/2)])}y.setState({markOffsets:T})}},m.step===0)throw new Error('"step" property should be a positive number');return y.schdOnMouseMove=(0,a.schd)(y.onMouseMove),y.schdOnTouchMove=(0,a.schd)(y.onTouchMove),y.schdOnEnd=(0,a.schd)(y.onEnd),y.thumbRefs=m.values.map(function(){return r.createRef()}),y.updateMarkRefs(m),y}return g.prototype.componentDidMount=function(){var m=this,y=this.props,b=y.values,S=y.min,C=y.step;this.resizeObserver=window.ResizeObserver?new window.ResizeObserver(this.onResize):{observe:function(){return window.addEventListener("resize",m.onResize)},unobserve:function(){return window.removeEventListener("resize",m.onResize)}},document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart,{passive:!1}),!this.props.allowOverlap&&(0,a.checkInitialOverlap)(this.props.values),this.props.values.forEach(function(M){return(0,a.checkBoundaries)(M,m.props.min,m.props.max)}),this.resizeObserver.observe(this.trackRef.current),(0,a.translateThumbs)(this.getThumbs(),this.getOffsets(),this.props.rtl),this.calculateMarkOffsets(),b.forEach(function(M){(0,a.isStepDivisible)(S,M,C)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")})},g.prototype.componentDidUpdate=function(m,y){var b=this.props,S=b.max,C=b.min,M=b.step,N=b.values,T=b.rtl;(m.max!==S||m.min!==C||m.step!==M)&&this.updateMarkRefs(this.props),(0,a.translateThumbs)(this.getThumbs(),this.getOffsets(),T),(m.max!==S||m.min!==C||m.step!==M||y.markOffsets.length!==this.state.markOffsets.length)&&(this.calculateMarkOffsets(),N.forEach(function(E){(0,a.isStepDivisible)(C,E,M)||console.warn("The `values` property is in conflict with the current `step`, `min`, and `max` properties. Please provide values that are accessible using the min, max, and step values.")}))},g.prototype.componentWillUnmount=function(){var m={passive:!1};document.removeEventListener("mousedown",this.onMouseOrTouchStart,m),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchend",this.schdOnEnd),this.resizeObserver.unobserve(this.trackRef.current)},g.prototype.render=function(){var m=this,y=this.props,b=y.label,S=y.labelledBy,C=y.renderTrack,M=y.renderThumb,N=y.renderMark,T=N===void 0?function(){return null}:N,E=y.values,k=y.min,L=y.max,I=y.allowOverlap,_=y.disabled,F=this.state,G=F.draggedThumbIndex,U=F.thumbZIndexes,H=F.markOffsets;return C({props:{style:{transform:"scale(1)",cursor:G>-1?"grabbing":this.props.draggableTrack?(0,a.isVertical)(this.props.direction)?"ns-resize":"ew-resize":E.length===1&&!_?"pointer":"inherit"},onMouseDown:_?a.voidFn:this.onMouseDownTrack,onTouchStart:_?a.voidFn:this.onTouchStartTrack,ref:this.trackRef},isDragged:this.state.draggedThumbIndex>-1,disabled:_,children:i(i([],H.map(function(z,$,P){return T({props:{style:m.props.direction===o.Direction.Left||m.props.direction===o.Direction.Right?{position:"absolute",left:"".concat(z[0],"px"),marginTop:"".concat(z[1],"px")}:{position:"absolute",top:"".concat(z[0],"px"),marginLeft:"".concat(z[1],"px")},key:"mark".concat($),ref:m.markRefs[$]},index:$})}),!0),E.map(function(z,$){var P=m.state.draggedThumbIndex===$;return M({index:$,value:z,isDragged:P,props:{style:{position:"absolute",zIndex:U[$],cursor:_?"inherit":P?"grabbing":"grab",userSelect:"none",touchAction:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none"},key:$,tabIndex:_?void 0:0,"aria-valuemax":I?L:E[$+1]||L,"aria-valuemin":I?k:E[$-1]||k,"aria-valuenow":z,draggable:!1,ref:m.thumbRefs[$],"aria-label":b,"aria-labelledby":S,role:"slider",onKeyDown:_?a.voidFn:m.onKeyDown,onKeyUp:_?a.voidFn:m.onKeyUp}})}),!0)})},g.defaultProps={label:"Accessibility label",labelledBy:null,step:1,direction:o.Direction.Right,rtl:!1,disabled:!1,allowOverlap:!1,draggableTrack:!1,min:0,max:100},g})(r.Component);return Lr.default=h,Lr}var P8;function r1e(){return P8||(P8=1,(function(e){var t=by&&by.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.checkValuesAgainstBoundaries=e.relativeValue=e.useThumbOverlap=e.Direction=e.getTrackBackground=e.Range=void 0;var n=t(i1e());e.Range=n.default;var s=NG();Object.defineProperty(e,"getTrackBackground",{enumerable:!0,get:function(){return s.getTrackBackground}}),Object.defineProperty(e,"useThumbOverlap",{enumerable:!0,get:function(){return s.useThumbOverlap}}),Object.defineProperty(e,"relativeValue",{enumerable:!0,get:function(){return s.relativeValue}}),Object.defineProperty(e,"checkValuesAgainstBoundaries",{enumerable:!0,get:function(){return s.checkValuesAgainstBoundaries}});var i=ZI();Object.defineProperty(e,"Direction",{enumerable:!0,get:function(){return i.Direction}})})(by)),by}var bd=r1e();const a1e=[{question:"What are credits?",answer:"Credits are a way to pay for self-service access to our data. You can purchase credits in packages and use them to export data generated in the web app, to make API calls or for contact enrichment."},{question:"How do credits work?",answer:l.jsxs(l.Fragment,{children:["Credits are used on a per-row basis when you export data. The base cost is 2 credits per row, with an additional credit per row for filter terms (e.g., technology, job function, or migration feed) past the 1st."," "]})},{question:"Do I need credits to use Sumble on the web?",answer:"No, Sumble on the web is currently free to use. You only need credits to export data."},{question:"Can I trial the export functionality and other premium features?",answer:"Yes, we give every user a small monthly credit allocation for free, so that you can ensure that Sumble's data and workflow is right for you."},{question:"Is this a subscription or a one-time purchase?",answer:"Credits are a one-time purchase. You can buy more credits whenever you need them. You will continue to receive the free monthly credit allocation alongside the purchased credits."},{question:"Do you have larger packages / custom enterprise pricing?",answer:l.jsxs(l.Fragment,{children:["Yes, we can provide custom packages for enterprise customers. Please"," ",l.jsx("a",{href:"https://calendly.com/anthony-goldbloom/30-mins-rh",target:"_blank",className:"text-green-600 hover:text-green-500",rel:"noreferrer",children:"book a time with us"})," ","to discuss your needs."]})},{question:"Do credits expire?",answer:"Yes, credits expire 3 months after purchase."},{question:"Can I share credits with my team?",answer:"Currently, credits purchased online are tied to individual accounts and cannot be shared. We recommend that each team member purchases their own credits or you utilise a single central account. Please contact sales@sumble.com if you would like to discuss a team package."},{question:"Do you provide Snowflake, Salesforce, or other custom integrations?",answer:l.jsxs(l.Fragment,{children:["Yes, we can hook into a number of RevOps and ABM systems.",l.jsx("br",{}),"Visit"," ",l.jsx("a",{href:"https://docs.sumble.com/enterprise-services",children:"our docs page"})," ","for more info,"," ",l.jsx("a",{className:"text-green-600",href:"https://calendly.com/anthony-goldbloom/30-mins-rh",children:"book a time"}),", or"," ",l.jsx("a",{className:"text-green-600",href:"mailto:sales@sumble.com",children:"email us"})," ","when you're ready to chat."]})},{question:"Are credits refundable?",answer:"No, credit purchases are non-refundable."},{question:"How do I contact support?",answer:l.jsxs(l.Fragment,{children:["You can contact us at"," ",l.jsx("a",{className:"text-green-600",href:"mailto:support@sumble.com",children:"support@sumble.com"}),"."]})}],o1e=()=>l.jsxs(l.Fragment,{children:[l.jsx("h2",{className:"pt-16 text-[1.4rem] font-medium ",children:"Frequently Asked Questions"}),l.jsx("div",{className:"border-2 border-slate-100 rounded-lg max-w-[65rem]",children:a1e.map(e=>l.jsxs("details",{className:"group border-b-2 last:border-b-0 border-b-slate-100 md:text-lg pb-4 text-slate-700",children:[l.jsxs("summary",{className:"flex flex-row items-center p-4 md:p-8 pt-4 pb-0 cursor-pointer hover:text-slate-900 justify-between font-semibold",children:[l.jsx("div",{children:e.question}),l.jsx("div",{children:l.jsx(Kr,{className:"w-6 h-6 group-open:rotate-180 transition-transform"})})]}),l.jsx("div",{className:"text-slate-500 p-4 py-8 md:p-8 pt-1 pb-0",children:e.answer})]},e.question))}),l.jsx("div",{className:"h-[6rem] flex-none"})]}),l1e=()=>{const{data:e,isLoading:t,isError:n}=n1e(),s=e??[],[i,r]=w.useState(0),a=0,o=Object.keys(s).length,c=1,{mutate:u,data:h}=s1e();if(w.useEffect(()=>{h&&(window.location.href=h)},[h]),t||n)return null;const f=i===s.length;return l.jsxs(l.Fragment,{children:[l.jsx(hf,{title:"Purchase Credits"}),l.jsxs("div",{className:"flex flex-col gap-6 md:mr-10 mb-24 max-md:p-5 md:pt-0",children:[l.jsxs("div",{className:"bg-slate-100 rounded-xl px-5 md:px-10 max-w-[65rem] py-8",children:[l.jsx("h3",{className:"pb-16 -mt-2 text-slate-400 font-medium",children:"Select your credit package"}),l.jsx("div",{className:"w-full relative h-24 px-2",children:l.jsx(bd.Range,{step:c,values:[i],min:a,max:o,onChange:g=>r(g[0]),renderMark:({props:g,index:m})=>w.createElement("div",{className:"relative top-10 left-0 flex flex-col items-center gap-1",...g,key:g.key,style:{...g.style}},l.jsx("div",{className:"h-4 w-[2px] bg-slate-200"}),l.jsx("div",{className:"max-md:hidden text-sm text-slate-500",children:m===s.length?"25k+":Lx(s[m].credits)})),renderTrack:({props:g,children:m})=>l.jsx("div",{onMouseDown:g.onMouseDown,onTouchStart:g.onTouchStart,style:{...g.style,height:"36px",display:"flex",width:"100%"},children:l.jsx("div",{ref:g.ref,className:"h-[5px] w-full rounded-xs self-center",style:{background:bd.getTrackBackground({values:[i],colors:["rgb(22 163 74 / var(--tw-bg-opacity, 1))","rgb(226 232 240 / var(--tw-bg-opacity, 1))"],min:a,max:o,rtl:!1})},children:m})}),renderThumb:({props:g})=>w.createElement("div",{...g,key:g.key,className:"w-6 h-6 bg-green-600 rounded-full z-5 ring-0! outline-hidden!",style:{...g.style}})})}),l.jsxs("div",{className:"flex flex-row items-center justify-between gap-4",children:[l.jsx("div",{className:"flex flex-row gap-4 items-end",children:l.jsxs("div",{className:"md:text-[1.4rem] md:leading-[1.7rem] font-medium text-slate-600",children:[f?"25k+":Lx(s[i].credits)," ","credits"]})}),l.jsxs("div",{className:"flex flex-row gap-6 items-center",children:[l.jsx("div",{className:"md:text-[1.4rem] md:leading-[1.7rem] font-medium text-slate-500",children:f?"Enterprise":l.jsxs(l.Fragment,{children:["USD $",$e(s[i].package_price)]})}),l.jsx("button",{className:"bg-green-600 hover:bg-green-500 text-white rounded-lg px-2 whitespace-nowrap md:px-4 md:py-1.5! md:text-lg font-medium",onClick:()=>f?window.location.href="https://calendly.com/anthony-goldbloom/30-mins-rh":u({credits:s[i].credits}),children:f?"Book a time ":"Purchase "})]})]})]}),l.jsx(o1e,{})]})]})},c1e=()=>l.jsxs(l.Fragment,{children:[l.jsx(hf,{title:"Purchase Credits"}),l.jsx("div",{className:"flex flex-col gap-6 md:mr-10 mb-24 max-md:p-5 md:pt-0",children:l.jsx("div",{className:"bg-slate-100 rounded-xl px-5 md:px-10 max-w-[65rem] py-8",children:l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsx("div",{className:"flex flex-row items-center justify-between",children:l.jsx("div",{className:"bg-slate-200 px-3 py-0.5 rounded-lg uppercase tracking-wide font-semibold text-slate-500",children:"Pro & Enterprise Only"})}),l.jsx("div",{className:"text-slate-600 text-lg",children:"Credit packages are available exclusively to Sumble Pro and Enterprise customers. Upgrade your plan to purchase additional credits and unlock the full power of Sumble's data and insights."}),l.jsx("div",{className:"flex justify-center pt-4",children:l.jsx(Re,{to:"/pricing",className:"bg-green-600 hover:bg-green-500 text-white rounded-lg px-6 py-3 text-center font-medium",children:"View Plans"})})]})})})]}),u1e=()=>{const{data:e}=Gt();return e?e.subscription.tier===ei.free?l.jsx(c1e,{}):l.jsx(l1e,{}):null},d1e=()=>{const e=WI("cancel");return It({mutationFn:async()=>await Ue({url:`/account/payment/generate-subscription-cancel-url?return_url=${e}`,method:"GET"}),onSuccess:n=>{n?.url&&(window.location.href=n.url)}})},z8=e=>e?new Date(e*1e3).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",h1e=()=>{const{data:e}=Gt(),t=e===!1?void 0:e,{mutate:n}=w2(),{mutate:s}=d1e(),i=u=>{switch(u){case ei.pro:return"Pro";case ei.enterprise:return"Enterprise";default:return"Free"}},r=t?.subscription?.trial_end?t.subscription.trial_end*1e3:void 0,a=Date.now(),o=t?.subscription.tier===ei.pro&&r?r>a:!1,c=o?Math.max(0,Math.ceil((r-a)/(1440*60*1e3))):void 0;return l.jsxs("div",{className:"md:mr-10 max-md:p-5",children:[l.jsx(hf,{title:"Plan/Billing"}),l.jsxs("div",{className:"flex flex-col gap-10",children:[l.jsx(bg,{children:l.jsx(xd,{label:"Current plan",children:l.jsxs("div",{className:"font-medium text-[1.5rem]",children:[l.jsx("div",{className:"",children:`${i(t?.subscription?.tier)} plan`}),l.jsxs("div",{className:"text-slate-900 font-medium ",children:[o&&c!==void 0?`Trial ends in ${c} day${c===1?"":"s"}`:"",t?.subscription?.renews_at?`Next billing date: ${z8(t.subscription.renews_at)}`:null,t?.subscription?.ends_at?`Ends at: ${z8(t.subscription.ends_at)}`:null]}),l.jsxs("div",{className:"flex flex-col gap-0.5 text-base pt-1",children:[t?.subscription?.tier===ei.enterprise?l.jsx("div",{className:"font-normal text-slate-500",children:"Enterprise accounts are centrally managed. Contact your team admin for more details."}):l.jsx(sw,{to:"/pricing",children:"Change plan"}),t?.subscription?.tier===ei.pro?l.jsx("div",{children:l.jsx("button",{className:"text-green-600 hover:text-green-500",onClick:()=>n(),children:t?.is_on_trial?"Add payment details to stay on Pro ":"Manage subscription "})}):null]})]})})}),l.jsx(bg,{children:l.jsx(xd,{label:"Previous usage",children:l.jsx(sw,{to:"/account/usage",children:"View credit usage"})})}),t?.subscription?.tier===ei.pro&&t.subscription.started_at?l.jsx("div",{children:l.jsx("button",{className:"text-red-600 hover:text-red-500 text-sm",onClick:()=>s(),children:"Cancel subscription"})}):null]})]})},AG=e=>{const t=It({mutationKey:["exportUrl"],mutationFn:async()=>{if(!e)throw new Error("Export ID is required.");const n=`/account/exports/${e}/url`;return await Ue({url:n})}});return w.useEffect(()=>{t.isSuccess&&t.data&&(window.location.href=t.data)},[t.data,t.isSuccess]),t},f1e=()=>nt({url:"/account/exports",queryKey:["exports","/account/exports"],staleTime:1e3*60,refetchInterval:1e3*60,refetchOnWindowFocus:"always"}),p1e=({query:e,created_at:t,id:n,export_type:s,generated_at:i})=>{const{mutate:r,status:a}=AG(n),o=s==="jobs"?"Job Posts":s==="people"?"People":"Organizations",c=!i;return l.jsxs("div",{className:"flex flex-row justify-between py-3 gap-4 items-center",children:[l.jsx("div",{className:"flex-1 w-full",children:l.jsx(h2,{fullSizeText:!0,returnNullOnEmpty:!0,allInOneLine:!0,filters:{orgNameOrList:o,advanced_query:e,q:""},hideArrow:!0})}),l.jsxs("div",{className:"flex-none text-slate-500",children:[new Date(t).toDateString()," ",new Date(t).toLocaleTimeString()]}),l.jsx("div",{children:l.jsxs("button",{style:c?{backgroundColor:"#9ca3af",cursor:"not-allowed"}:{backgroundColor:"#16a34a"},className:"px-4 py-1 text-white font-medium rounded-md",onClick:()=>r(),disabled:c||a!=="idle",children:[c&&"Not Ready",!c&&a==="pending"&&"Downloading...",!c&&a==="idle"&&"Download",!c&&a==="success"&&"Downloaded",!c&&a==="error"&&"Error"]})})]})},g1e=()=>{C2(["exports"]);const{data:e}=f1e(),{exportId:t}=He(),{mutate:n}=AG(t??"");return w.useEffect(()=>{t&&n&&(n(),Tt.success("Your download is beginning now...",{duration:1e4}))},[t,n]),l.jsxs(l.Fragment,{children:[l.jsx(hf,{title:"Export History"}),l.jsx("div",{className:"flex flex-col gap-6 md:mr-10 mb-24 max-md:p-5 md:pt-0",children:e&&l.jsx(l.Fragment,{children:e.length===0?l.jsxs("div",{children:[l.jsx("p",{className:"text-slate-500",children:"You have not exported any data yet."}),l.jsx("p",{className:"text-slate-500",children:"When you export data, it will appear here."})]}):l.jsx("div",{className:"flex flex-col divide-slate-100 divide-y-2 border-y-2 border-slate-100",children:e.map(s=>l.jsx(p1e,{...s},s.id))})})})]})},m1e=()=>nt({url:"/account/api-keys",queryKey:["apiKeys"]}),y1e=()=>{const e=yt();return It({mutationFn:async n=>await Ue({url:"/account/api-keys",method:"POST",body:JSON.stringify(n),contentType:"application/json"}),mutationKey:["createApiKey"],onSettled:async()=>{await e.invalidateQueries({queryKey:["apiKeys"]})}})},x1e=()=>{const e=yt();return It({mutationFn:async n=>{await Ue({url:`/account/api-keys/${n}`,method:"DELETE"})},mutationKey:["deleteApiKey"],onSettled:async()=>{await e.invalidateQueries({queryKey:["apiKeys"]})}})},b1e=()=>{const{data:e,isLoading:t}=m1e(),n=y1e(),s=x1e(),[i,r]=w.useState(""),[a,o]=w.useState({}),[c,u]=w.useState(null),[h,f]=w.useState(null),[g,m]=w.useState(null),y=async M=>{if(M.preventDefault(),!!i.trim())try{const N=await n.mutateAsync({name:i});r(""),ln.success("API key created successfully"),N.token&&(f(N.token),m(N.id),o(T=>({...T,[N.id]:!1})))}catch{ln.error("Failed to create API key")}},b=async()=>{if(c)try{await s.mutateAsync(c),ln.success("API key deleted successfully"),u(null)}catch{ln.error("Failed to delete API key")}},S=M=>{o(N=>({...N,[M]:!N[M]}))},C=async M=>{try{await navigator.clipboard.writeText(M),ln.success("Token copied to clipboard")}catch{ln.error("Failed to copy token")}};return l.jsxs(l.Fragment,{children:[l.jsx(hf,{title:"API Keys"}),l.jsx("div",{className:"flex flex-col gap-1 md:pt-0 md:mr-10 max-md:p-5",children:l.jsx("div",{className:"flex-1 flex flex-col",children:l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"flex-1 flex flex-col gap-4 w-full",children:l.jsxs(bg,{className:"gap-6",children:[l.jsxs("div",{className:"bg-slate-100 rounded-xl px-5 md:px-10 max-w-[65rem] py-8",children:[l.jsx("p",{className:"pb-4 -mt-2 text-slate-400 font-medium",children:"Use our API to programmatically enrich organizations with comprehensive data and find relevant people within companies."}),l.jsx("a",{href:"https://docs.sumble.com/api",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-green-600 hover:text-green-700 font-medium text-sm",children:"View API Documentation "})]}),l.jsx(xd,{label:"Create New API Key",children:l.jsxs("form",{onSubmit:y,className:"flex gap-3 w-full",children:[l.jsx("input",{type:"text",className:"border border-slate-200 rounded-md px-2 py-2 flex-1 bg-white placeholder-slate-300",placeholder:"Enter key name",value:i,onChange:M=>r(M.target.value),required:!0}),l.jsx("button",{type:"submit",disabled:!i.trim()||n.isPending,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n.isPending?"Creating...":"Create Key"})]})}),l.jsx(xd,{label:"Your API Keys",children:l.jsx("div",{className:"w-full space-y-4",children:t?l.jsx("div",{className:"text-slate-500",children:"Loading API keys..."}):e&&e.length>0?e.map(M=>{const N=g===M.id,T=N?h:M.token;return l.jsxs("div",{className:"border border-slate-200 rounded-md p-4 bg-white",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-slate-900",children:M.name}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Created:"," ",new Date(M.created_at).toLocaleDateString()]})]}),l.jsx("button",{onClick:()=>u(M.id),className:"text-red-600 hover:text-red-800 px-3 py-1 rounded border border-red-300 hover:border-red-500",children:"Delete"})]}),T&&l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx("div",{className:"flex-1 font-mono text-sm bg-slate-50 p-2 rounded border break-all",children:a[M.id]?T:"".repeat(32)}),l.jsx("button",{onClick:()=>S(M.id),className:"p-2 text-slate-500 hover:text-slate-700",title:a[M.id]?"Hide token":"Show token",children:a[M.id]?l.jsx(TV,{className:"w-4 h-4"}):l.jsx(Yle,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>C(T),className:"px-3 py-1 text-sm bg-slate-100 hover:bg-slate-200 rounded border",children:"Copy"})]}),N&&l.jsx("p",{className:"text-xs text-orange-600 mt-2",children:" Make sure to copy your API key now. You won't be able to see it again!"})]})]},M.id)}):l.jsx("div",{className:"text-slate-500 text-center py-8",children:"No API keys yet. Create your first API key above."})})})]})})})})}),c&&l.jsx($o,{isAlert:!0,isDisabled:s.isPending,setIsShowingConfirmModal:M=>!M&&u(null),handleConfirm:b,handleCancel:()=>u(null),title:"Delete API Key",description:"Are you sure you want to delete this API key? This action cannot be undone and will immediately revoke access for any applications using this key.",confirmLabel:s.isPending?"Deleting...":"Delete Key",cancelLabel:"Cancel"})]})},M2=({children:e,dontStackOnMobile:t=!1,className:n=""})=>l.jsx("div",{className:`flex-1 w-full md:-mt-13 h-[100vh] z-20 ${n}`,children:l.jsx("div",{className:`flex ${t?"flex-row":"flex-col md:flex-row"}  h-full`,children:e})}),v1e=()=>{const e=Rt(),t=e.pathname.startsWith("/account/login")||e.pathname.startsWith("/account/logout");return l.jsxs(l.Fragment,{children:[l.jsx(Zr,{title:"Settings"}),t?l.jsxs(Pc,{children:[l.jsx(rn,{path:"login/*",element:l.jsx(Eve,{})}),l.jsx(rn,{path:"logout",element:l.jsx(jve,{})})]}):l.jsxs(M2,{children:[l.jsx($ve,{}),l.jsx("div",{className:"flex-1 overflow-auto",children:l.jsxs(Pc,{children:[l.jsx(rn,{path:"settings",element:l.jsx(xp,{children:l.jsx(zve,{})})}),l.jsx(rn,{path:"api-keys",element:l.jsx(xp,{children:l.jsx(b1e,{})})}),l.jsx(rn,{path:"usage",element:l.jsx(xp,{children:l.jsx(t1e,{})})}),l.jsx(rn,{path:"purchase",element:l.jsx(xp,{children:l.jsx(u1e,{})})}),l.jsx(rn,{path:"billing",element:l.jsx(xp,{children:l.jsx(h1e,{})})}),l.jsx(rn,{path:"exports/:exportId?",element:l.jsx(xp,{children:l.jsx(g1e,{})})}),l.jsx(rn,{path:"*",element:l.jsx(of,{to:"/account/settings",replace:!0})})]})})]})]})};var ir=(e=>(e.group="group",e.user="user",e))(ir||{});const S1e=({isMobileAccountsListOpen:e,setIsMobileAccountsListOpen:t})=>{const{pathname:n}=Rt(),{data:s}=qo();return l.jsx("div",{className:`md:pt-15 ${e?"":"max-md:hidden"} max-md:fixed max-md:top-[6.4rem] max-md:z-10 max-md:bottom-0 max-md:bg-white flex-none md:w-[17.5rem] max-md:w-[80vw] border-r-2 border-slate-100 h-full overflow-auto`,children:s&&s.length>0?l.jsxs("div",{className:"flex flex-col gap-1 p-2",children:[s.map(i=>{const r=n.includes(`/account-lists/${i.id}`);return l.jsxs(Re,{to:`/account-lists/${i.id}`,onClick:()=>{t(!1)},className:`flex items-center justify-between rounded-lg pl-2 md:pl-8! pr-2 py-1.25 font-medium text-slate-700 hover:text-slate-900 ${r?"bg-slate-100 text-slate-900":""}`,children:[i.type===ir.group?l.jsx("div",{className:"-ml-6 pr-2 max-md:hidden",children:l.jsx(fg,{className:"size-4 text-slate-400"})}):null,l.jsx("div",{className:"",children:i.name}),l.jsx("div",{className:"text-sm font-medium text-slate-300 relative top-[0.06rem] pl-2",children:$e(i.items_count)})]},i.id)}),l.jsx("div",{className:"px-6 md:pl-8! pt-8",children:l.jsx(Re,{to:"/upload",className:"font-medium text-green-600 hover:text-green-700 whitespace-nowrap",children:"Upload a new list via CSV "})})]}):l.jsx("div",{className:"px-10 text-slate-400",children:"No account lists found."})})},w1e=(e,t={})=>{const n=qr(t),s=`/account/account-lists/${e}${n?`?${n}`:""}`;return nt({url:s,queryKey:["accountListsNew",e.toString(),n],delayKey:`$accountListsNew|${e}|${n}`,staleTime:Zi(1440),refetchOnWindowFocus:"always"})};function ba(e,t){const[n,s]=w.useState(e);return w.useEffect(()=>{const i=setTimeout(()=>{s(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}const C1e=(e,t,n)=>e?Number(e.replace(/\D/g,""))-(n||0):(t||0)-(n||0),zl=(e,t,n)=>{const s=C1e(n??null,e??0,t??0);return[s+1,s+(t??0)]};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function yo(){return{accessor:(e,t)=>typeof e=="function"?{...t,accessorFn:e}:{...t,accessorKey:e},display:e=>e,group:e=>e}}function Qu(e,t){return typeof e=="function"?e(t):e}function va(e,t){return n=>{t.setState(s=>({...s,[e]:Qu(n,s[e])}))}}function j2(e){return e instanceof Function}function M1e(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function j1e(e,t){const n=[],s=i=>{i.forEach(r=>{n.push(r);const a=t(r);a!=null&&a.length&&s(a)})};return s(e),n}function Ct(e,t,n){let s=[],i;return r=>{let a;n.key&&n.debug&&(a=Date.now());const o=e(r);if(!(o.length!==s.length||o.some((h,f)=>s[f]!==h)))return i;s=o;let u;if(n.key&&n.debug&&(u=Date.now()),i=t(...o),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const h=Math.round((Date.now()-a)*100)/100,f=Math.round((Date.now()-u)*100)/100,g=f/16,m=(y,b)=>{for(y=String(y);y.length<b;)y=" "+y;return y};console.info(`%c ${m(f,5)} /${m(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*g,120))}deg 100% 31%);`,n?.key)}return i}}function Mt(e,t,n,s){return{debug:()=>{var i;return(i=e?.debugAll)!=null?i:e[t]},key:!1,onChange:s}}function N1e(e,t,n,s){const i=()=>{var a;return(a=r.getValue())!=null?a:e.options.renderFallbackValue},r={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(s),renderValue:i,getContext:Ct(()=>[e,n,t,r],(a,o,c,u)=>({table:a,column:o,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),Mt(e.options,"debugCells"))};return e._features.forEach(a=>{a.createCell==null||a.createCell(r,n,t,e)},{}),r}function A1e(e,t,n,s){var i,r;const o={...e._getDefaultColumnDef(),...t},c=o.accessorKey;let u=(i=(r=o.id)!=null?r:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?i:typeof o.header=="string"?o.header:void 0,h;if(o.accessorFn?h=o.accessorFn:c&&(c.includes(".")?h=g=>{let m=g;for(const b of c.split(".")){var y;m=(y=m)==null?void 0:y[b]}return m}:h=g=>g[o.accessorKey]),!u)throw new Error;let f={id:`${String(u)}`,accessorFn:h,parent:s,depth:n,columnDef:o,columns:[],getFlatColumns:Ct(()=>[!0],()=>{var g;return[f,...(g=f.columns)==null?void 0:g.flatMap(m=>m.getFlatColumns())]},Mt(e.options,"debugColumns")),getLeafColumns:Ct(()=>[e._getOrderColumnsFn()],g=>{var m;if((m=f.columns)!=null&&m.length){let y=f.columns.flatMap(b=>b.getLeafColumns());return g(y)}return[f]},Mt(e.options,"debugColumns"))};for(const g of e._features)g.createColumn==null||g.createColumn(f,e);return f}const Ji="debugHeaders";function F8(e,t,n){var s;let r={id:(s=n.id)!=null?s:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const a=[],o=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(o),a.push(c)};return o(r),a},getContext:()=>({table:e,header:r,column:t})};return e._features.forEach(a=>{a.createHeader==null||a.createHeader(r,e)}),r}const T1e={createTable:e=>{e.getHeaderGroups=Ct(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,s,i)=>{var r,a;const o=(r=s?.map(f=>n.find(g=>g.id===f)).filter(Boolean))!=null?r:[],c=(a=i?.map(f=>n.find(g=>g.id===f)).filter(Boolean))!=null?a:[],u=n.filter(f=>!(s!=null&&s.includes(f.id))&&!(i!=null&&i.includes(f.id)));return j1(t,[...o,...u,...c],e)},Mt(e.options,Ji)),e.getCenterHeaderGroups=Ct(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,s,i)=>(n=n.filter(r=>!(s!=null&&s.includes(r.id))&&!(i!=null&&i.includes(r.id))),j1(t,n,e,"center")),Mt(e.options,Ji)),e.getLeftHeaderGroups=Ct(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,s)=>{var i;const r=(i=s?.map(a=>n.find(o=>o.id===a)).filter(Boolean))!=null?i:[];return j1(t,r,e,"left")},Mt(e.options,Ji)),e.getRightHeaderGroups=Ct(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,s)=>{var i;const r=(i=s?.map(a=>n.find(o=>o.id===a)).filter(Boolean))!=null?i:[];return j1(t,r,e,"right")},Mt(e.options,Ji)),e.getFooterGroups=Ct(()=>[e.getHeaderGroups()],t=>[...t].reverse(),Mt(e.options,Ji)),e.getLeftFooterGroups=Ct(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),Mt(e.options,Ji)),e.getCenterFooterGroups=Ct(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),Mt(e.options,Ji)),e.getRightFooterGroups=Ct(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),Mt(e.options,Ji)),e.getFlatHeaders=Ct(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),Mt(e.options,Ji)),e.getLeftFlatHeaders=Ct(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),Mt(e.options,Ji)),e.getCenterFlatHeaders=Ct(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),Mt(e.options,Ji)),e.getRightFlatHeaders=Ct(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),Mt(e.options,Ji)),e.getCenterLeafHeaders=Ct(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),Mt(e.options,Ji)),e.getLeftLeafHeaders=Ct(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),Mt(e.options,Ji)),e.getRightLeafHeaders=Ct(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),Mt(e.options,Ji)),e.getLeafHeaders=Ct(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,s)=>{var i,r,a,o,c,u;return[...(i=(r=t[0])==null?void 0:r.headers)!=null?i:[],...(a=(o=n[0])==null?void 0:o.headers)!=null?a:[],...(c=(u=s[0])==null?void 0:u.headers)!=null?c:[]].map(h=>h.getLeafHeaders()).flat()},Mt(e.options,Ji))}};function j1(e,t,n,s){var i,r;let a=0;const o=function(g,m){m===void 0&&(m=1),a=Math.max(a,m),g.filter(y=>y.getIsVisible()).forEach(y=>{var b;(b=y.columns)!=null&&b.length&&o(y.columns,m+1)},0)};o(e);let c=[];const u=(g,m)=>{const y={depth:m,id:[s,`${m}`].filter(Boolean).join("_"),headers:[]},b=[];g.forEach(S=>{const C=[...b].reverse()[0],M=S.column.depth===y.depth;let N,T=!1;if(M&&S.column.parent?N=S.column.parent:(N=S.column,T=!0),C&&C?.column===N)C.subHeaders.push(S);else{const E=F8(n,N,{id:[s,m,N.id,S?.id].filter(Boolean).join("_"),isPlaceholder:T,placeholderId:T?`${b.filter(k=>k.column===N).length}`:void 0,depth:m,index:b.length});E.subHeaders.push(S),b.push(E)}y.headers.push(S),S.headerGroup=y}),c.push(y),m>0&&u(b,m-1)},h=t.map((g,m)=>F8(n,g,{depth:a,index:m}));u(h,a-1),c.reverse();const f=g=>g.filter(y=>y.column.getIsVisible()).map(y=>{let b=0,S=0,C=[0];y.subHeaders&&y.subHeaders.length?(C=[],f(y.subHeaders).forEach(N=>{let{colSpan:T,rowSpan:E}=N;b+=T,C.push(E)})):b=1;const M=Math.min(...C);return S=S+M,y.colSpan=b,y.rowSpan=S,{colSpan:b,rowSpan:S}});return f((i=(r=c[0])==null?void 0:r.headers)!=null?i:[]),c}const E1e=(e,t,n,s,i,r,a)=>{let o={id:t,index:s,original:n,depth:i,parentId:a,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(o._valuesCache.hasOwnProperty(c))return o._valuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return o._valuesCache[c]=u.accessorFn(o.original,s),o._valuesCache[c]},getUniqueValues:c=>{if(o._uniqueValuesCache.hasOwnProperty(c))return o._uniqueValuesCache[c];const u=e.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(o._uniqueValuesCache[c]=u.columnDef.getUniqueValues(o.original,s),o._uniqueValuesCache[c]):(o._uniqueValuesCache[c]=[o.getValue(c)],o._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=o.getValue(c))!=null?u:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>j1e(o.subRows,c=>c.subRows),getParentRow:()=>o.parentId?e.getRow(o.parentId,!0):void 0,getParentRows:()=>{let c=[],u=o;for(;;){const h=u.getParentRow();if(!h)break;c.push(h),u=h}return c.reverse()},getAllCells:Ct(()=>[e.getAllLeafColumns()],c=>c.map(u=>N1e(e,o,u,u.id)),Mt(e.options,"debugRows")),_getAllCellsByColumnId:Ct(()=>[o.getAllCells()],c=>c.reduce((u,h)=>(u[h.column.id]=h,u),{}),Mt(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const u=e._features[c];u==null||u.createRow==null||u.createRow(o,e)}return o},D1e={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},TG=(e,t,n)=>{var s,i;const r=n==null||(s=n.toString())==null?void 0:s.toLowerCase();return!!(!((i=e.getValue(t))==null||(i=i.toString())==null||(i=i.toLowerCase())==null)&&i.includes(r))};TG.autoRemove=e=>Vo(e);const EG=(e,t,n)=>{var s;return!!(!((s=e.getValue(t))==null||(s=s.toString())==null)&&s.includes(n))};EG.autoRemove=e=>Vo(e);const DG=(e,t,n)=>{var s;return((s=e.getValue(t))==null||(s=s.toString())==null?void 0:s.toLowerCase())===n?.toLowerCase()};DG.autoRemove=e=>Vo(e);const kG=(e,t,n)=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(n)};kG.autoRemove=e=>Vo(e);const IG=(e,t,n)=>!n.some(s=>{var i;return!((i=e.getValue(t))!=null&&i.includes(s))});IG.autoRemove=e=>Vo(e)||!(e!=null&&e.length);const LG=(e,t,n)=>n.some(s=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(s)});LG.autoRemove=e=>Vo(e)||!(e!=null&&e.length);const OG=(e,t,n)=>e.getValue(t)===n;OG.autoRemove=e=>Vo(e);const RG=(e,t,n)=>e.getValue(t)==n;RG.autoRemove=e=>Vo(e);const QI=(e,t,n)=>{let[s,i]=n;const r=e.getValue(t);return r>=s&&r<=i};QI.resolveFilterValue=e=>{let[t,n]=e,s=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,r=t===null||Number.isNaN(s)?-1/0:s,a=n===null||Number.isNaN(i)?1/0:i;if(r>a){const o=r;r=a,a=o}return[r,a]};QI.autoRemove=e=>Vo(e)||Vo(e[0])&&Vo(e[1]);const Mc={includesString:TG,includesStringSensitive:EG,equalsString:DG,arrIncludes:kG,arrIncludesAll:IG,arrIncludesSome:LG,equals:OG,weakEquals:RG,inNumberRange:QI};function Vo(e){return e==null||e===""}const k1e={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:va("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],s=n?.getValue(e.id);return typeof s=="string"?Mc.includesString:typeof s=="number"?Mc.inNumberRange:typeof s=="boolean"||s!==null&&typeof s=="object"?Mc.equals:Array.isArray(s)?Mc.arrIncludes:Mc.weakEquals},e.getFilterFn=()=>{var n,s;return j2(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(s=t.options.filterFns)==null?void 0:s[e.columnDef.filterFn])!=null?n:Mc[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,s,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((s=t.options.enableColumnFilters)!=null?s:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(s=>s.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,s;return(n=(s=t.getState().columnFilters)==null?void 0:s.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(s=>{const i=e.getFilterFn(),r=s?.find(h=>h.id===e.id),a=Qu(n,r?r.value:void 0);if($8(i,a,e)){var o;return(o=s?.filter(h=>h.id!==e.id))!=null?o:[]}const c={id:e.id,value:a};if(r){var u;return(u=s?.map(h=>h.id===e.id?c:h))!=null?u:[]}return s!=null&&s.length?[...s,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),s=i=>{var r;return(r=Qu(t,i))==null?void 0:r.filter(a=>{const o=n.find(c=>c.id===a.id);if(o){const c=o.getFilterFn();if($8(c,a.value,o))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(s)},e.resetColumnFilters=t=>{var n,s;e.setColumnFilters(t?[]:(n=(s=e.initialState)==null?void 0:s.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function $8(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const I1e=(e,t,n)=>n.reduce((s,i)=>{const r=i.getValue(e);return s+(typeof r=="number"?r:0)},0),L1e=(e,t,n)=>{let s;return n.forEach(i=>{const r=i.getValue(e);r!=null&&(s>r||s===void 0&&r>=r)&&(s=r)}),s},O1e=(e,t,n)=>{let s;return n.forEach(i=>{const r=i.getValue(e);r!=null&&(s<r||s===void 0&&r>=r)&&(s=r)}),s},R1e=(e,t,n)=>{let s,i;return n.forEach(r=>{const a=r.getValue(e);a!=null&&(s===void 0?a>=a&&(s=i=a):(s>a&&(s=a),i<a&&(i=a)))}),[s,i]},_1e=(e,t)=>{let n=0,s=0;if(t.forEach(i=>{let r=i.getValue(e);r!=null&&(r=+r)>=r&&(++n,s+=r)}),n)return s/n},P1e=(e,t)=>{if(!t.length)return;const n=t.map(r=>r.getValue(e));if(!M1e(n))return;if(n.length===1)return n[0];const s=Math.floor(n.length/2),i=n.sort((r,a)=>r-a);return n.length%2!==0?i[s]:(i[s-1]+i[s])/2},z1e=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),F1e=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,$1e=(e,t)=>t.length,ZA={sum:I1e,min:L1e,max:O1e,extent:R1e,mean:_1e,median:P1e,unique:z1e,uniqueCount:F1e,count:$1e},B1e={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:va("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(s=>s!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,s;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((s=t.options.enableGrouping)!=null?s:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],s=n?.getValue(e.id);if(typeof s=="number")return ZA.sum;if(Object.prototype.toString.call(s)==="[object Date]")return ZA.extent},e.getAggregationFn=()=>{var n,s;if(!e)throw new Error;return j2(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(s=t.options.aggregationFns)==null?void 0:s[e.columnDef.aggregationFn])!=null?n:ZA[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,s;e.setGrouping(t?[]:(n=(s=e.initialState)==null?void 0:s.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const s=t.getColumn(n);return s!=null&&s.columnDef.getGroupingValue?(e._groupingValuesCache[n]=s.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,s)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function V1e(e,t,n){if(!(t!=null&&t.length)||!n)return e;const s=e.filter(r=>!t.includes(r.id));return n==="remove"?s:[...t.map(r=>e.find(a=>a.id===r)).filter(Boolean),...s]}const U1e={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:va("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=Ct(n=>[tx(t,n)],n=>n.findIndex(s=>s.id===e.id),Mt(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var s;return((s=tx(t,n)[0])==null?void 0:s.id)===e.id},e.getIsLastColumn=n=>{var s;const i=tx(t,n);return((s=i[i.length-1])==null?void 0:s.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Ct(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,s)=>i=>{let r=[];if(!(t!=null&&t.length))r=i;else{const a=[...t],o=[...i];for(;o.length&&a.length;){const c=a.shift(),u=o.findIndex(h=>h.id===c);u>-1&&r.push(o.splice(u,1)[0])}r=[...r,...o]}return V1e(r,n,s)},Mt(e.options,"debugTable"))}},QA=()=>({left:[],right:[]}),H1e={getInitialState:e=>({columnPinning:QA(),...e}),getDefaultOptions:e=>({onColumnPinningChange:va("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const s=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var r,a;if(n==="right"){var o,c;return{left:((o=i?.left)!=null?o:[]).filter(f=>!(s!=null&&s.includes(f))),right:[...((c=i?.right)!=null?c:[]).filter(f=>!(s!=null&&s.includes(f))),...s]}}if(n==="left"){var u,h;return{left:[...((u=i?.left)!=null?u:[]).filter(f=>!(s!=null&&s.includes(f))),...s],right:((h=i?.right)!=null?h:[]).filter(f=>!(s!=null&&s.includes(f)))}}return{left:((r=i?.left)!=null?r:[]).filter(f=>!(s!=null&&s.includes(f))),right:((a=i?.right)!=null?a:[]).filter(f=>!(s!=null&&s.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(s=>{var i,r,a;return((i=s.columnDef.enablePinning)!=null?i:!0)&&((r=(a=t.options.enableColumnPinning)!=null?a:t.options.enablePinning)!=null?r:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(o=>o.id),{left:s,right:i}=t.getState().columnPinning,r=n.some(o=>s?.includes(o)),a=n.some(o=>i?.includes(o));return r?"left":a?"right":!1},e.getPinnedIndex=()=>{var n,s;const i=e.getIsPinned();return i?(n=(s=t.getState().columnPinning)==null||(s=s[i])==null?void 0:s.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=Ct(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,s,i)=>{const r=[...s??[],...i??[]];return n.filter(a=>!r.includes(a.column.id))},Mt(t.options,"debugRows")),e.getLeftVisibleCells=Ct(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,s)=>(s??[]).map(r=>n.find(a=>a.column.id===r)).filter(Boolean).map(r=>({...r,position:"left"})),Mt(t.options,"debugRows")),e.getRightVisibleCells=Ct(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,s)=>(s??[]).map(r=>n.find(a=>a.column.id===r)).filter(Boolean).map(r=>({...r,position:"right"})),Mt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,s;return e.setColumnPinning(t?QA():(n=(s=e.initialState)==null?void 0:s.columnPinning)!=null?n:QA())},e.getIsSomeColumnsPinned=t=>{var n;const s=e.getState().columnPinning;if(!t){var i,r;return!!((i=s.left)!=null&&i.length||(r=s.right)!=null&&r.length)}return!!((n=s[t])!=null&&n.length)},e.getLeftLeafColumns=Ct(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(s=>t.find(i=>i.id===s)).filter(Boolean),Mt(e.options,"debugColumns")),e.getRightLeafColumns=Ct(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(s=>t.find(i=>i.id===s)).filter(Boolean),Mt(e.options,"debugColumns")),e.getCenterLeafColumns=Ct(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,s)=>{const i=[...n??[],...s??[]];return t.filter(r=>!i.includes(r.id))},Mt(e.options,"debugColumns"))}};function G1e(e){return e||(typeof document<"u"?document:null)}const N1={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},XA=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),W1e={getDefaultColumnDef:()=>N1,getInitialState:e=>({columnSizing:{},columnSizingInfo:XA(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:va("columnSizing",e),onColumnSizingInfoChange:va("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,s,i;const r=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:N1.minSize,(s=r??e.columnDef.size)!=null?s:N1.size),(i=e.columnDef.maxSize)!=null?i:N1.maxSize)},e.getStart=Ct(n=>[n,tx(t,n),t.getState().columnSizing],(n,s)=>s.slice(0,e.getIndex(n)).reduce((i,r)=>i+r.getSize(),0),Mt(t.options,"debugColumns")),e.getAfter=Ct(n=>[n,tx(t,n),t.getState().columnSizing],(n,s)=>s.slice(e.getIndex(n)+1).reduce((i,r)=>i+r.getSize(),0),Mt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:s,...i}=n;return i})},e.getCanResize=()=>{var n,s;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((s=t.options.enableColumnResizing)!=null?s:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const s=i=>{if(i.subHeaders.length)i.subHeaders.forEach(s);else{var r;n+=(r=i.column.getSize())!=null?r:0}};return s(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const s=t.getColumn(e.column.id),i=s?.getCanResize();return r=>{if(!s||!i||(r.persist==null||r.persist(),JA(r)&&r.touches&&r.touches.length>1))return;const a=e.getSize(),o=e?e.getLeafHeaders().map(C=>[C.column.id,C.column.getSize()]):[[s.id,s.getSize()]],c=JA(r)?Math.round(r.touches[0].clientX):r.clientX,u={},h=(C,M)=>{typeof M=="number"&&(t.setColumnSizingInfo(N=>{var T,E;const k=t.options.columnResizeDirection==="rtl"?-1:1,L=(M-((T=N?.startOffset)!=null?T:0))*k,I=Math.max(L/((E=N?.startSize)!=null?E:0),-.999999);return N.columnSizingStart.forEach(_=>{let[F,G]=_;u[F]=Math.round(Math.max(G+G*I,0)*100)/100}),{...N,deltaOffset:L,deltaPercentage:I}}),(t.options.columnResizeMode==="onChange"||C==="end")&&t.setColumnSizing(N=>({...N,...u})))},f=C=>h("move",C),g=C=>{h("end",C),t.setColumnSizingInfo(M=>({...M,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},m=G1e(n),y={moveHandler:C=>f(C.clientX),upHandler:C=>{m?.removeEventListener("mousemove",y.moveHandler),m?.removeEventListener("mouseup",y.upHandler),g(C.clientX)}},b={moveHandler:C=>(C.cancelable&&(C.preventDefault(),C.stopPropagation()),f(C.touches[0].clientX),!1),upHandler:C=>{var M;m?.removeEventListener("touchmove",b.moveHandler),m?.removeEventListener("touchend",b.upHandler),C.cancelable&&(C.preventDefault(),C.stopPropagation()),g((M=C.touches[0])==null?void 0:M.clientX)}},S=Y1e()?{passive:!1}:!1;JA(r)?(m?.addEventListener("touchmove",b.moveHandler,S),m?.addEventListener("touchend",b.upHandler,S)):(m?.addEventListener("mousemove",y.moveHandler,S),m?.addEventListener("mouseup",y.upHandler,S)),t.setColumnSizingInfo(C=>({...C,startOffset:c,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:o,isResizingColumn:s.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?XA():(n=e.initialState.columnSizingInfo)!=null?n:XA())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((s,i)=>s+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((s,i)=>s+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((s,i)=>s+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((s,i)=>s+i.getSize(),0))!=null?t:0}}};let A1=null;function Y1e(){if(typeof A1=="boolean")return A1;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return A1=e,A1}function JA(e){return e.type==="touchstart"}const K1e={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:va("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(s=>({...s,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,s;const i=e.columns;return(n=i.length?i.some(r=>r.getIsVisible()):(s=t.getState().columnVisibility)==null?void 0:s[e.id])!=null?n:!0},e.getCanHide=()=>{var n,s;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((s=t.options.enableHiding)!=null?s:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Ct(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(s=>s.column.getIsVisible()),Mt(t.options,"debugRows")),e.getVisibleCells=Ct(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,s,i)=>[...n,...s,...i],Mt(t.options,"debugRows"))},createTable:e=>{const t=(n,s)=>Ct(()=>[s(),s().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(r=>r.getIsVisible==null?void 0:r.getIsVisible()),Mt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var s;e.setColumnVisibility(n?{}:(s=e.initialState.columnVisibility)!=null?s:{})},e.toggleAllColumnsVisible=n=>{var s;n=(s=n)!=null?s:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,r)=>({...i,[r.id]:n||!(r.getCanHide!=null&&r.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var s;e.toggleAllColumnsVisible((s=n.target)==null?void 0:s.checked)}}};function tx(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const q1e={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Z1e={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:va("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const s=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof s=="string"||typeof s=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,s,i,r;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((s=t.options.enableGlobalFilter)!=null?s:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((r=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?r:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Mc.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:s}=e.options;return j2(s)?s:s==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[s])!=null?t:Mc[s]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Q1e={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:va("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var s,i;if(!t){e._queue(()=>{t=!0});return}if((s=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?s:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=s=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(s),e.toggleAllRowsExpanded=s=>{s??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=s=>{var i,r;e.setExpanded(s?{}:(i=(r=e.initialState)==null?void 0:r.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(s=>s.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>s=>{s.persist==null||s.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const s=e.getState().expanded;return s===!0||Object.values(s).some(Boolean)},e.getIsAllRowsExpanded=()=>{const s=e.getState().expanded;return typeof s=="boolean"?s===!0:!(!Object.keys(s).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let s=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(r=>{const a=r.split(".");s=Math.max(s,a.length)}),s},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(s=>{var i;const r=s===!0?!0:!!(s!=null&&s[e.id]);let a={};if(s===!0?Object.keys(t.getRowModel().rowsById).forEach(o=>{a[o]=!0}):a=s,n=(i=n)!=null?i:!r,!r&&n)return{...a,[e.id]:!0};if(r&&!n){const{[e.id]:o,...c}=a;return c}return s})},e.getIsExpanded=()=>{var n;const s=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:s===!0||s?.[e.id])},e.getCanExpand=()=>{var n,s,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((s=t.options.enableExpanding)!=null?s:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,s=e;for(;n&&s.parentId;)s=t.getRow(s.parentId,!0),n=s.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},sD=0,iD=10,eT=()=>({pageIndex:sD,pageSize:iD}),X1e={getInitialState:e=>({...e,pagination:{...eT(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:va("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var s,i;if(!t){e._queue(()=>{t=!0});return}if((s=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?s:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=s=>{const i=r=>Qu(s,r);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=s=>{var i;e.setPagination(s?eT():(i=e.initialState.pagination)!=null?i:eT())},e.setPageIndex=s=>{e.setPagination(i=>{let r=Qu(s,i.pageIndex);const a=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return r=Math.max(0,Math.min(r,a)),{...i,pageIndex:r}})},e.resetPageIndex=s=>{var i,r;e.setPageIndex(s?sD:(i=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageIndex)!=null?i:sD)},e.resetPageSize=s=>{var i,r;e.setPageSize(s?iD:(i=(r=e.initialState)==null||(r=r.pagination)==null?void 0:r.pageSize)!=null?i:iD)},e.setPageSize=s=>{e.setPagination(i=>{const r=Math.max(1,Qu(s,i.pageSize)),a=i.pageSize*i.pageIndex,o=Math.floor(a/r);return{...i,pageIndex:o,pageSize:r}})},e.setPageCount=s=>e.setPagination(i=>{var r;let a=Qu(s,(r=e.options.pageCount)!=null?r:-1);return typeof a=="number"&&(a=Math.max(-1,a)),{...i,pageCount:a}}),e.getPageOptions=Ct(()=>[e.getPageCount()],s=>{let i=[];return s&&s>0&&(i=[...new Array(s)].fill(null).map((r,a)=>a)),i},Mt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:s}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:s<i-1},e.previousPage=()=>e.setPageIndex(s=>s-1),e.nextPage=()=>e.setPageIndex(s=>s+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var s;return(s=e.options.pageCount)!=null?s:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var s;return(s=e.options.rowCount)!=null?s:e.getPrePaginationRowModel().rows.length}}},tT=()=>({top:[],bottom:[]}),J1e={getInitialState:e=>({rowPinning:tT(),...e}),getDefaultOptions:e=>({onRowPinningChange:va("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,s,i)=>{const r=s?e.getLeafRows().map(c=>{let{id:u}=c;return u}):[],a=i?e.getParentRows().map(c=>{let{id:u}=c;return u}):[],o=new Set([...a,e.id,...r]);t.setRowPinning(c=>{var u,h;if(n==="bottom"){var f,g;return{top:((f=c?.top)!=null?f:[]).filter(b=>!(o!=null&&o.has(b))),bottom:[...((g=c?.bottom)!=null?g:[]).filter(b=>!(o!=null&&o.has(b))),...Array.from(o)]}}if(n==="top"){var m,y;return{top:[...((m=c?.top)!=null?m:[]).filter(b=>!(o!=null&&o.has(b))),...Array.from(o)],bottom:((y=c?.bottom)!=null?y:[]).filter(b=>!(o!=null&&o.has(b)))}}return{top:((u=c?.top)!=null?u:[]).filter(b=>!(o!=null&&o.has(b))),bottom:((h=c?.bottom)!=null?h:[]).filter(b=>!(o!=null&&o.has(b)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:s,enablePinning:i}=t.options;return typeof s=="function"?s(e):(n=s??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:s,bottom:i}=t.getState().rowPinning,r=n.some(o=>s?.includes(o)),a=n.some(o=>i?.includes(o));return r?"top":a?"bottom":!1},e.getPinnedIndex=()=>{var n,s;const i=e.getIsPinned();if(!i)return-1;const r=(n=i==="top"?t.getTopRows():t.getBottomRows())==null?void 0:n.map(a=>{let{id:o}=a;return o});return(s=r?.indexOf(e.id))!=null?s:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,s;return e.setRowPinning(t?tT():(n=(s=e.initialState)==null?void 0:s.rowPinning)!=null?n:tT())},e.getIsSomeRowsPinned=t=>{var n;const s=e.getState().rowPinning;if(!t){var i,r;return!!((i=s.top)!=null&&i.length||(r=s.bottom)!=null&&r.length)}return!!((n=s[t])!=null&&n.length)},e._getPinnedRows=(t,n,s)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(n??[]).map(a=>{const o=e.getRow(a,!0);return o.getIsAllParentsExpanded()?o:null}):(n??[]).map(a=>t.find(o=>o.id===a))).filter(Boolean).map(a=>({...a,position:s}))},e.getTopRows=Ct(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,n)=>e._getPinnedRows(t,n,"top"),Mt(e.options,"debugRows")),e.getBottomRows=Ct(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,n)=>e._getPinnedRows(t,n,"bottom"),Mt(e.options,"debugRows")),e.getCenterRows=Ct(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,s)=>{const i=new Set([...n??[],...s??[]]);return t.filter(r=>!i.has(r.id))},Mt(e.options,"debugRows"))}},eSe={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:va("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const s={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(r=>{r.getCanSelect()&&(s[r.id]=!0)}):i.forEach(r=>{delete s[r.id]}),s})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const s=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(r=>{rD(i,r.id,s,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Ct(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?nT(e,n):{rows:[],flatRows:[],rowsById:{}},Mt(e.options,"debugTable")),e.getFilteredSelectedRowModel=Ct(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?nT(e,n):{rows:[],flatRows:[],rowsById:{}},Mt(e.options,"debugTable")),e.getGroupedSelectedRowModel=Ct(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?nT(e,n):{rows:[],flatRows:[],rowsById:{}},Mt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let s=!!(t.length&&Object.keys(n).length);return s&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(s=!1),s},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let s=!!t.length;return s&&t.some(i=>!n[i.id])&&(s=!1),s},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,s)=>{const i=e.getIsSelected();t.setRowSelection(r=>{var a;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return r;const o={...r};return rD(o,e.id,n,(a=s?.selectChildren)!=null?a:!0,t),o})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return XI(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return aD(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return aD(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return s=>{var i;n&&e.toggleSelected((i=s.target)==null?void 0:i.checked)}}}},rD=(e,t,n,s,i)=>{var r;const a=i.getRow(t,!0);n?(a.getCanMultiSelect()||Object.keys(e).forEach(o=>delete e[o]),a.getCanSelect()&&(e[t]=!0)):delete e[t],s&&(r=a.subRows)!=null&&r.length&&a.getCanSelectSubRows()&&a.subRows.forEach(o=>rD(e,o.id,n,s,i))};function nT(e,t){const n=e.getState().rowSelection,s=[],i={},r=function(a,o){return a.map(c=>{var u;const h=XI(c,n);if(h&&(s.push(c),i[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:r(c.subRows)}),h)return c}).filter(Boolean)};return{rows:r(t.rows),flatRows:s,rowsById:i}}function XI(e,t){var n;return(n=t[e.id])!=null?n:!1}function aD(e,t,n){var s;if(!((s=e.subRows)!=null&&s.length))return!1;let i=!0,r=!1;return e.subRows.forEach(a=>{if(!(r&&!i)&&(a.getCanSelect()&&(XI(a,t)?r=!0:i=!1),a.subRows&&a.subRows.length)){const o=aD(a,t);o==="all"?r=!0:(o==="some"&&(r=!0),i=!1)}}),i?"all":r?"some":!1}const oD=/([0-9]+)/gm,tSe=(e,t,n)=>_G(vd(e.getValue(n)).toLowerCase(),vd(t.getValue(n)).toLowerCase()),nSe=(e,t,n)=>_G(vd(e.getValue(n)),vd(t.getValue(n))),sSe=(e,t,n)=>JI(vd(e.getValue(n)).toLowerCase(),vd(t.getValue(n)).toLowerCase()),iSe=(e,t,n)=>JI(vd(e.getValue(n)),vd(t.getValue(n))),rSe=(e,t,n)=>{const s=e.getValue(n),i=t.getValue(n);return s>i?1:s<i?-1:0},aSe=(e,t,n)=>JI(e.getValue(n),t.getValue(n));function JI(e,t){return e===t?0:e>t?1:-1}function vd(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function _G(e,t){const n=e.split(oD).filter(Boolean),s=t.split(oD).filter(Boolean);for(;n.length&&s.length;){const i=n.shift(),r=s.shift(),a=parseInt(i,10),o=parseInt(r,10),c=[a,o].sort();if(isNaN(c[0])){if(i>r)return 1;if(r>i)return-1;continue}if(isNaN(c[1]))return isNaN(a)?-1:1;if(a>o)return 1;if(o>a)return-1}return n.length-s.length}const wy={alphanumeric:tSe,alphanumericCaseSensitive:nSe,text:sSe,textCaseSensitive:iSe,datetime:rSe,basic:aSe},oSe={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:va("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let s=!1;for(const i of n){const r=i?.getValue(e.id);if(Object.prototype.toString.call(r)==="[object Date]")return wy.datetime;if(typeof r=="string"&&(s=!0,r.split(oD).length>1))return wy.alphanumeric}return s?wy.text:wy.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof n?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,s;if(!e)throw new Error;return j2(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(s=t.options.sortingFns)==null?void 0:s[e.columnDef.sortingFn])!=null?n:wy[e.columnDef.sortingFn]},e.toggleSorting=(n,s)=>{const i=e.getNextSortingOrder(),r=typeof n<"u"&&n!==null;t.setSorting(a=>{const o=a?.find(m=>m.id===e.id),c=a?.findIndex(m=>m.id===e.id);let u=[],h,f=r?n:i==="desc";if(a!=null&&a.length&&e.getCanMultiSort()&&s?o?h="toggle":h="add":a!=null&&a.length&&c!==a.length-1?h="replace":o?h="toggle":h="replace",h==="toggle"&&(r||i||(h="remove")),h==="add"){var g;u=[...a,{id:e.id,desc:f}],u.splice(0,u.length-((g=t.options.maxMultiSortColCount)!=null?g:Number.MAX_SAFE_INTEGER))}else h==="toggle"?u=a.map(m=>m.id===e.id?{...m,desc:f}:m):h==="remove"?u=a.filter(m=>m.id!==e.id):u=[{id:e.id,desc:f}];return u})},e.getFirstSortDir=()=>{var n,s;return((n=(s=e.columnDef.sortDescFirst)!=null?s:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var s,i;const r=e.getFirstSortDir(),a=e.getIsSorted();return a?a!==r&&((s=t.options.enableSortingRemoval)==null||s)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:a==="desc"?"asc":"desc":r},e.getCanSort=()=>{var n,s;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((s=t.options.enableSorting)!=null?s:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,s;return(n=(s=e.columnDef.enableMultiSort)!=null?s:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const s=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return s?s.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,s;return(n=(s=t.getState().sorting)==null?void 0:s.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(s=>s.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return s=>{n&&(s.persist==null||s.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(s):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,s;e.setSorting(t?[]:(n=(s=e.initialState)==null?void 0:s.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},lSe=[T1e,K1e,U1e,H1e,D1e,k1e,q1e,Z1e,oSe,B1e,Q1e,X1e,J1e,eSe,W1e];function cSe(e){var t,n;const s=[...lSe,...(t=e._features)!=null?t:[]];let i={_features:s};const r=i._features.reduce((g,m)=>Object.assign(g,m.getDefaultOptions==null?void 0:m.getDefaultOptions(i)),{}),a=g=>i.options.mergeOptions?i.options.mergeOptions(r,g):{...r,...g};let c={...{},...(n=e.initialState)!=null?n:{}};i._features.forEach(g=>{var m;c=(m=g.getInitialState==null?void 0:g.getInitialState(c))!=null?m:c});const u=[];let h=!1;const f={_features:s,options:{...r,...e},initialState:c,_queue:g=>{u.push(g),h||(h=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();h=!1}).catch(m=>setTimeout(()=>{throw m})))},reset:()=>{i.setState(i.initialState)},setOptions:g=>{const m=Qu(g,i.options);i.options=a(m)},getState:()=>i.options.state,setState:g=>{i.options.onStateChange==null||i.options.onStateChange(g)},_getRowId:(g,m,y)=>{var b;return(b=i.options.getRowId==null?void 0:i.options.getRowId(g,m,y))!=null?b:`${y?[y.id,m].join("."):m}`},getCoreRowModel:()=>(i._getCoreRowModel||(i._getCoreRowModel=i.options.getCoreRowModel(i)),i._getCoreRowModel()),getRowModel:()=>i.getPaginationRowModel(),getRow:(g,m)=>{let y=(m?i.getPrePaginationRowModel():i.getRowModel()).rowsById[g];if(!y&&(y=i.getCoreRowModel().rowsById[g],!y))throw new Error;return y},_getDefaultColumnDef:Ct(()=>[i.options.defaultColumn],g=>{var m;return g=(m=g)!=null?m:{},{header:y=>{const b=y.header.column.columnDef;return b.accessorKey?b.accessorKey:b.accessorFn?b.id:null},cell:y=>{var b,S;return(b=(S=y.renderValue())==null||S.toString==null?void 0:S.toString())!=null?b:null},...i._features.reduce((y,b)=>Object.assign(y,b.getDefaultColumnDef==null?void 0:b.getDefaultColumnDef()),{}),...g}},Mt(e,"debugColumns")),_getColumnDefs:()=>i.options.columns,getAllColumns:Ct(()=>[i._getColumnDefs()],g=>{const m=function(y,b,S){return S===void 0&&(S=0),y.map(C=>{const M=A1e(i,C,S,b),N=C;return M.columns=N.columns?m(N.columns,M,S+1):[],M})};return m(g)},Mt(e,"debugColumns")),getAllFlatColumns:Ct(()=>[i.getAllColumns()],g=>g.flatMap(m=>m.getFlatColumns()),Mt(e,"debugColumns")),_getAllFlatColumnsById:Ct(()=>[i.getAllFlatColumns()],g=>g.reduce((m,y)=>(m[y.id]=y,m),{}),Mt(e,"debugColumns")),getAllLeafColumns:Ct(()=>[i.getAllColumns(),i._getOrderColumnsFn()],(g,m)=>{let y=g.flatMap(b=>b.getLeafColumns());return m(y)},Mt(e,"debugColumns")),getColumn:g=>i._getAllFlatColumnsById()[g]};Object.assign(i,f);for(let g=0;g<i._features.length;g++){const m=i._features[g];m==null||m.createTable==null||m.createTable(i)}return i}function uSe(){return e=>Ct(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},s=function(i,r,a){r===void 0&&(r=0);const o=[];for(let u=0;u<i.length;u++){const h=E1e(e,e._getRowId(i[u],u,a),i[u],u,r,void 0,a?.id);if(n.flatRows.push(h),n.rowsById[h.id]=h,o.push(h),e.options.getSubRows){var c;h.originalSubRows=e.options.getSubRows(i[u],u),(c=h.originalSubRows)!=null&&c.length&&(h.subRows=s(h.originalSubRows,r+1,h))}}return o};return n.rows=s(t),n},Mt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function dSe(){return e=>Ct(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(t,n,s)=>!n.rows.length||t!==!0&&!Object.keys(t??{}).length||!s?n:hSe(n),Mt(e.options,"debugTable"))}function hSe(e){const t=[],n=s=>{var i;t.push(s),(i=s.subRows)!=null&&i.length&&s.getIsExpanded()&&s.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function fSe(){return e=>Ct(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const s=e.getState().sorting,i=[],r=s.filter(c=>{var u;return(u=e.getColumn(c.id))==null?void 0:u.getCanSort()}),a={};r.forEach(c=>{const u=e.getColumn(c.id);u&&(a[c.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const o=c=>{const u=c.map(h=>({...h}));return u.sort((h,f)=>{for(let m=0;m<r.length;m+=1){var g;const y=r[m],b=a[y.id],S=b.sortUndefined,C=(g=y?.desc)!=null?g:!1;let M=0;if(S){const N=h.getValue(y.id),T=f.getValue(y.id),E=N===void 0,k=T===void 0;if(E||k){if(S==="first")return E?-1:1;if(S==="last")return E?1:-1;M=E&&k?0:E?S:-S}}if(M===0&&(M=b.sortingFn(h,f,y.id)),M!==0)return C&&(M*=-1),b.invertSorting&&(M*=-1),M}return h.index-f.index}),u.forEach(h=>{var f;i.push(h),(f=h.subRows)!=null&&f.length&&(h.subRows=o(h.subRows))}),u};return{rows:o(n.rows),flatRows:i,rowsById:n.rowsById}},Mt(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function eL(e,t){return e?pSe(e)?w.createElement(e,t):e:null}function pSe(e){return gSe(e)||typeof e=="function"||mSe(e)}function gSe(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function mSe(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function ySe(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=w.useState(()=>({current:cSe(t)})),[s,i]=w.useState(()=>n.current.initialState);return n.current.setOptions(r=>({...r,...e,state:{...s,...e.state},onStateChange:a=>{i(a),e.onStateChange==null||e.onStateChange(a)}})),n.current}const Fl=({hidden:e,onChange:t,placeholderText:n,value:s})=>{const i=w.useRef(null),[r,a]=w.useState(!1),c=G0()<=768;es("slash",()=>{setTimeout(()=>i.current?.focus(),50)},{scopes:["filters"]},[i]),es("Escape",()=>{i.current?.blur()},{enableOnFormTags:!0,scopes:["filters"]},[i]),w.useEffect(()=>{e&&a(!1)},[e]);const u=n.replace("Filter ",c?"":"Filter ").replace("Matched ",c?"":"Matched ").replace("Search ",c?"":"Search ");return es("down",h=>{if(i.current&&i.current===document.activeElement){h.preventDefault();const f=document.querySelectorAll("#jump-here-from-search-input a")[0];f&&f instanceof HTMLElement&&f.focus()}},{enableOnFormTags:!0,scopes:["filters"]},[]),l.jsx("div",{className:`md:flex-none w-[16rem] md:w-[18rem] ${e?"opacity-60":"opacity-100"}`,children:l.jsxs("div",{className:"relative rounded-md",children:[l.jsx("div",{className:`pointer-events-none absolute inset-y-0 left-2.5 flex items-center pl-0 ${e?"opacity-25":""}`,children:l.jsx(Sx,{className:"h-5 w-5 mr-2 text-slate-400"})}),l.jsx("input",{ref:i,type:"search",id:"filter-bar-search","data-testid":"filter-bar-search",disabled:e,className:`placeholder-slate-400 py-2 pr-3 bg-white block w-full font-medium
                        pl-9 border border-slate-200
                     active:outline-0 focus:outline-0 focus:ring-0`,placeholder:u,value:s,onChange:t,onFocus:()=>a(!0),onBlur:()=>{a(!1)}}),!r&&!e&&(!s||s!=="")&&l.jsx("div",{className:"absolute top-2.5 right-2 h-[1.4rem] w-[1.3rem] cursor-text",onClick:()=>{i.current?.focus()},children:l.jsx(Sr,{placement:"bottom",content:l.jsx("div",{className:"bg-slate-800 text-white p-2 py-1 rounded-md text-sm",children:"Hit '/' key to jump into search"}),children:l.jsx("div",{className:"max-md:hidden bg-white border border-b-[3px] h-[1.4rem] border-slate-200 rounded-md flex items-center justify-center text-[0.7rem] font-bold text-slate-300",children:"/"})})})]})})},xSe=e=>t=>t!==null&&typeof t=="object"&&e in t,T1=xSe("match"),E1=e=>typeof e<"u";function bSe({curr:e,next:t,prev:n,clipBy:s=3}){const i=e.text.split(" "),r=i.length;if(e.match||s>=r)return e.text;const a="...";return E1(t)&&E1(n)&&T1(n)&&T1(t)?r>s*2?[...i.slice(0,s),a,...i.slice(-s)].join(" "):e.text:E1(t)&&T1(t)?[a,...i.slice(-s)].join(" "):E1(n)&&T1(n)?[...i.slice(0,s),a].join(" "):e.text}const vSe=e=>e.replace(/[|\\{}()[\]^$+*?.-]/g,t=>`\\${t}`),SSe=e=>e.replace(/\s{2,}/g," ").split(" ").join("|"),wSe=({terms:e,matchExactly:t=!1})=>{if(typeof e!="string")throw new TypeError("Expected a string");const n=vSe(e.trim());return`(${t?n:SSe(n)})`},CSe=({terms:e,matchExactly:t=!1})=>{try{const n=/^([/~@;%#'])(.*?)\1([gimsuy]*)$/.exec(e);return n?new RegExp(n[2],n[3]):new RegExp(wSe({terms:e,matchExactly:t}),"ig")}catch{throw new TypeError("Expected terms to be either a string or a RegExp!")}};let B8=36,PG="";for(;B8--;)PG+=B8.toString(36);function V8(e=11){let t="",n=e;for(;n--;)t+=PG[Math.random()*36|0];return t}const MSe=e=>e.length>0,jSe=({text:e,query:t,clipBy:n,matchExactly:s=!1})=>{const i=typeof t=="string"?t.trim():t;if(i==="")return[{key:V8(),text:e,match:!1}];const r=CSe({terms:t,matchExactly:s});return e.split(r).filter(MSe).map(a=>({key:V8(),text:a,match:s?a.toLowerCase()===i.toLowerCase():r.test(a)})).map((a,o,c)=>({...a,...typeof n=="number"&&{text:bSe({curr:a,...o<c.length-1&&{next:c[o+1]},...o>0&&{prev:c[o-1]},clipBy:n})}}))},ad=({highlightClassName:e,searchWord:t,textToHighlight:n,sanitize:s})=>{const i=s?s(n):n,r=jSe({text:i,query:t});return l.jsx("span",{children:r.map(a=>a.match?l.jsx("mark",{className:e,children:a.text},a.key):l.jsx("span",{children:a.text},a.key))})},NSe=({caption:e,children:t,currentRange:n,currentResults:s,hasNext:i,hasPrevious:r,isFetching:a,isLoading:o,next:c,numbersOnLeft:u,pageOptions:h,previous:f,showPeoplePerOrganizationControl:g,peoplePerOrgSelector:m,totalResults:y})=>{const b=y===0;return l.jsx(l.Fragment,{children:l.jsxs("nav",{className:`w-full flex items-center justify-between gap-2 border-slate-100 bg-white ${u?"pt-4 border-t":"border-t-2 px-4 py-4 md:px-10 md:py-8"}`,"aria-label":"Pagination",children:[t&&l.jsx("div",{className:`${u?"":"flex-1"} flex flex-row gap-2`,children:t}),l.jsxs("div",{className:`flex-[2] max-xl:flex-[3] flex flex-row items-center ${u&&!t?"justify-between gap-4":"gap-8 justify-end"}`,children:[l.jsxs("div",{className:`flex gap-4 items-center max-md:hidden text-slate-500 ${o||a?"opacity-30":""} ${b?"invisible":""}`,children:[l.jsxs("span",{children:[l.jsx("span",{className:"font-medium",children:n?`${$e(n[0])}${$e(n[1])}`:`0${$e(s)}`})," ","of"," ",l.jsx("span",{className:"font-medium","data-testid":"total-count","data-count":y,children:$e(y)}),e&&` ${e}`]}),g&&m]}),l.jsxs("div",{className:"flex justify-between md:justify-end items-center",children:[l.jsx("div",{className:"pr-4",children:h}),l.jsx("button",{disabled:!r,onClick:()=>f(),className:`${r?"":"opacity-20"} relative inline-flex items-center rounded-md bg-white px-5 py-2 font-semibold text-slate-800 ring-1 ring-inset ring-slate-200 hover:bg-slate-50 focus-visible:outline-offset-0`,children:"Previous"}),l.jsx("button",{disabled:!i,onClick:()=>c(),className:`${i?"":"opacity-20"} relative ml-3 inline-flex items-center rounded-md bg-white px-5 py-2 font-semibold text-slate-800 ring-1 ring-inset ring-slate-200 hover:bg-slate-50 focus-visible:outline-offset-0`,children:"Next"})]})]})]})})},Zo=Xe.memo(NSe),lD=({disabled:e,icon:t,isSelected:n,message:s,onClick:i,className:r})=>l.jsxs(qi,{disabled:e,onClick:e?()=>{}:i,className:`h-10 flex flex-row gap-5 items-center px-5 ${n?"bg-green-600/10":"hover:bg-slate-100"} ${r} ${e?"opacity-50 pointer-events-none":""}`,children:[t,s]}),ASe=({columnName:e,column:t})=>{const n=t.columnDef.meta?.sortMessage,s=t.columnDef.meta?.sortFlipOrder,i=t.getIsSorted();return!t.getCanSort()&&!t.getCanHide()?null:l.jsx(Rse,{enter:"transition duration-100 ease-out",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:l.jsx(Ca,{className:`cursor-auto absolute bg-white top-[2.5rem]
                    w-[20rem] py-3 shadow-lg shadow-slate-800/20 border border-slate-200 rounded-lg text-slate-700 select-none z-10`,children:l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"flex flex-col",children:[t.columnDef.meta?.additionalOptions,t.getCanSort()&&l.jsxs(l.Fragment,{children:[l.jsx(lD,{onClick:()=>t.toggleSorting(!1),className:`${s?"order-1":"order-0"}`,icon:l.jsx(Vk,{className:"w-5 h-5"}),isSelected:i==="asc",message:`Sort ${n?n[1]:"A  Z"}`}),l.jsx(lD,{onClick:()=>t.toggleSorting(!0),className:`${s?"order-0":"order-1"}`,icon:l.jsx(KS,{className:"w-5 h-5"}),isSelected:i==="desc",message:`Sort ${n?n[0]:"Z  A"}`})]})]}),t.getCanHide()&&t.getCanSort()&&l.jsx("div",{className:"w-full h-px bg-slate-100 my-2"}),t.getCanHide()===!0&&l.jsx(l.Fragment,{children:l.jsxs(gi.Button,{onClick:t.getToggleVisibilityHandler(),className:"h-10 flex flex-row gap-5 items-center hover:bg-slate-100 px-5",children:[l.jsx(TV,{className:"w-5 h-5"}),l.jsxs("div",{children:["Hide"," ",l.jsx("span",{className:"font-semibold",children:e})," ","column"]})]})})]})})})},TSe=({table:e})=>{const t="h-10";return l.jsxs(gi,{className:`relative ${t} flex items-center justify-center flex-1`,as:"div",children:[l.jsx(qi,{className:`min-w-[5rem] w-full hover:bg-slate-50 ml-auto ${t} leading-1 flex pt-0.5 justify-start pl-3 font-medium text-2xl relative text-slate-500 active:outline-hidden focus:outline-hidden`,children:"+"}),l.jsxs(Ca,{className:"fixed top-0 bottom-0 max-md:border-y-0 md:top-[13.3rem] md:bottom-[6.65rem] z-10 bg-white right-0 w-[20rem] border-2 border-slate-100  text-slate-700 flex flex-col items-start font-medium border-r-0",children:[l.jsxs("div",{className:"p-5 py-2 flex flex-row justify-between items-center w-full",children:["Columns",l.jsx(qi,{className:"relative -top-[0.1rem] text-2xl leading-[1rem] text-slate-500 hover:text-slate-800",children:""})]}),l.jsx("div",{className:"flex flex-col overflow-auto w-full p-5 py-2 pb-4",children:e.getAllColumns().map(n=>n&&l.jsx("div",{className:"flex flex-row items-center justify-between w-full",children:l.jsxs("label",{className:"flex flex-row items-center gap-4 h-8 cursor-pointer",htmlFor:`${n.id}-checkbox`,children:[l.jsx("input",{id:`${n.id}-checkbox`,type:"checkbox",className:"h-[1.125rem] w-[1.125rem] rounded-sm focus:outline-hidden focus:ring-0 disabled:opacity-25 cursor-pointer",checked:n.getIsVisible(),onClick:()=>{n.toggleVisibility()},disabled:n.getCanHide()===!1}),l.jsx("div",{className:"cursor-pointer",children:n.columnDef.id})]})},n.id))})]})]})},iw=e=>p2(e,{remove:/[^a-zA-Z0-9]/g}),ESe=({headerSource:e,hasScrolled:t,isFirst:n,leftAlignFirstColumn:s,index:i,isResizing:r,pinColumns:a})=>{const o=e,{sorting:c}=w.useContext(_l);return l.jsx(l.Fragment,{children:l.jsxs(gi,{as:"div",className:`relative bg-slate-0 group flex-none flex-row gap-1 items-center bg-sumble bg ${s?"":"first:pl-4 md:first:pl-8"} font-normal text-slate-400 text-left top-0 whitespace-nowrap
                    header-${o.id} ${o.column.columnDef.meta?.colClass} ${o.column.columnDef.meta?.headClass}
                    ${a&&i<a?"md:sticky md:z-3 md:bg-white":""}
                    ${a&&i===a-1?t?"md:border-r-[3px]! md:border-slate-100!":"md:border-r! md:border-slate-100!":""}
                    ${a&&i===a?"md:border-l-0!":""}`,style:{width:`calc(var(--header-${iw(o.id)}-size) * 1px)`,left:a&&i<a?o.getStart():void 0},children:[o.column.getCanResize()&&!o.column.columnDef.meta?.autoSize&&l.jsx("div",{className:`${r&&!o.column.getIsResizing()?"":"group-hover:opacity-100"} select-none absolute cursor-pointer top-0 -right-0 w-[6px] z-10 bottom-0 bg-green-500/10 hover:bg-green-500 ${o.column.getIsResizing()?"bg-green-500/100":"opacity-0"} `,onMouseDown:o.getResizeHandler(),onTouchStart:o.getResizeHandler()}),l.jsxs(qi,{className:`relative flex flex-row justify-between items-center w-full ${s&&n?"":"pl-2"} pr-3 py-1.5
                        ${o.column.getCanSort()?"cursor-pointer select-none":""} focus:outline-hidden active:outline-hidden font-medium min-h-10`,children:[l.jsx("div",{className:`flex flex-row gap-2 items-center w-full ${o.column.columnDef.meta?.headAlign==="center"?"justify-center":o.column.columnDef.meta?.headAlign==="right"?"justify-end":""}`,children:l.jsx("div",{className:"",children:o.isPlaceholder?null:eL(o.column.columnDef.header,o.getContext())})}),{asc:l.jsx(Vk,{className:"w-4 h-4 text-slate-400 absolute right-2"}),desc:l.jsx(KS,{className:"w-4 h-4 text-slate-400 absolute right-2"})}[o.column.getIsSorted()]??null,c.length===0&&o.column.columnDef.meta?.isDefaultSort&&l.jsx(KS,{className:"w-4 h-4 text-slate-400 absolute right-2"}),o.column.columnDef.meta?.tipText&&l.jsx(r2,{className:"h-4 w-4 absolute right-2"}),o.column.columnDef.meta?.tipText&&l.jsx("div",{className:"hidden group-hover:block absolute whitespace-normal top-[2.6rem] left-[0.25rem] text-sm leading-1  border shadow-lg bg-slate-50 border-slate-200 p-2 z-30 w-[16rem] text-slate-600",children:o.column.columnDef.meta.tipText})]}),l.jsx(ASe,{column:o.column,columnName:o.column.columnDef.id||""})]})})},DSe=({disallowSorting:e,isLoading:t,isPreviousData:n,isResizing:s,itemPlural:i,hasScrolled:r,pinColumns:a,tableData:o,showColumnVisibilityToggle:c,leftAlignFirstColumn:u})=>{const h=o.getHeaderGroups()[0];return l.jsxs("div",{className:"sticky top-0 bg-white z-5",children:[t||o===void 0||n&&l.jsx("div",{className:`absolute left-0 top-0 h-[2.4rem] bg-white ${u?"px-0":"px-6 md:px-10"} z-10 flex items-center`,children:l.jsx("span",{className:"text-slate-300 animate-pulse",children:n?`Updating ${i}...`:`Loading ${i}...`})})," ",!t&&o!==void 0&&h&&l.jsxs("div",{className:"flex divide-x divide-slate-100 border-b-2 border-b-slate-100",children:[h.headers.map((f,g)=>l.jsx(ESe,{hasScrolled:r,index:g,disallowSorting:e,headerSource:f,isFirst:g===0,leftAlignFirstColumn:u,isResizing:s,pinColumns:a},f.id)),c?l.jsx(TSe,{table:o}):l.jsx("div",{})]})]})},kSe=()=>l.jsxs("div",{className:"flex flex-col flex-1 w-full px-10 py-7 gap-1.5 max-w-[50rem] text-[1.25rem] text-slate-500",children:[l.jsxs("h2",{className:"font-medium flex flex-row gap-2 text-slate-400 pb-3",children:[l.jsx(l2,{className:"w-7 h-7"}),"Timed out, please refresh or narrow your query"]}),l.jsx("p",{children:"If this keeps happening, try narrowing your filters further."}),l.jsx("div",{className:"pt-6",children:l.jsx("button",{onClick:()=>location.reload(),className:"bg-green-600 text-white px-5 py-1.5 rounded-lg font-medium hover:bg-green-700",children:"Refresh"})})]}),ISe=({pinColumns:e,colClass:t,id:n,index:s,hasScrolled:i,left:r,noClick:a,cellRender:o,cellLink:c,cellLinkTarget:u,cellLinkCallback:h,rowData:f})=>{const g={left:r,width:`calc(var(--col-${iw(n)}-size) * 1px)`},m=YI();return l.jsx("div",{className:`root-cell ${a?"":"cursor-pointer"} overflow-hidden relative tabular-nums align-top first:pl-4 md:first:pl-10 pl-2 text-slate-600 pr-3 cell-${n} ${t}
                    ${e&&s<e?"md:sticky md:z-3 md:bg-white group-focus-within:bg-green-50":""}
                    ${e&&s===e-1?i?"md:border-r-[3px]! md:border-slate-100!":"md:border-r! md:border-slate-100!":""}
                    ${e&&s===e?"md:border-l-0!":""}`,style:g,onClick:y=>{y.target instanceof HTMLElement&&y.target.classList.contains("root-cell")&&(h?.(f),m(c))},children:c===""?l.jsx("div",{className:"flex max-w-full py-2",children:o}):n==="Favorite"||n==="Teams"?l.jsx("span",{className:"block w-full",children:o}):l.jsx(Re,{className:"flex max-w-full py-2",to:c,target:u,doNotPassQuery:c.includes("?"),onClick:()=>h?.(f),children:o})})},LSe=Xe.memo(ISe),OSe=({start:e,index:t,itemPlural:n,isExpanded:s,isHighlighted:i,isPreviousData:r,leftAlignFirstColumn:a,hasScrolled:o,measureElement:c,noClick:u,cells:h,pinColumns:f,cellLinkCallback:g})=>{const m=w.useMemo(()=>({transform:`translateY(${e}px)`}),[e]);return l.jsx("div",{style:m,id:t===0?"jump-here-from-search-input":void 0,"data-testid":`table-row-${n}`,"data-index":t,className:`group group/row z-1 absolute flex divide-slate-100 first:border-t-0 border-r border-slate-100 ${i?"bg-amber-50":u?"":"hover:bg-slate-50"} divide-x transition-opacity ${r?"opacity-30":"opacity-100"} focus-within:bg-green-50 kb-table-item`,ref:c,children:h.map((y,b)=>l.jsx(LSe,{colClass:`${y.column.columnDef.meta?.colClass} ${f&&b<f&&!u?"group-hover:bg-slate-50":""} ${a?"first:pl-0!":""}`,pinColumns:f,index:b,hasScrolled:o,left:f&&b<f?y.column.getStart():void 0,id:y.column.id,cellRender:eL(y.column.columnDef.cell,y.getContext()),noClick:u,cellLink:u?"":y.row.original.link?y.row.original.link.replace("_team_slug_",y.row.original.teams?.[0]?.slug||"_team_slug_"):"",cellLinkTarget:n==="teams"&&y.row.original.type===1?"_blank":void 0,cellLinkCallback:g,rowData:y.row.original},y.column.id))},`table-row-${n}-${t}-${s?"expanded":"collapsed"}`)},RSe=Xe.memo(OSe),_Se=()=>l.jsxs("div",{className:"flex flex-col flex-1 w-full px-10 py-7 gap-1.5 text-[1.25rem] text-slate-500",children:[l.jsxs("h2",{className:"font-medium flex flex-row gap-2 pb-3",children:["Please create and select an account list and apply a filter in order to search for people",l.jsxs("span",{children:["(",l.jsx(Re,{to:"/people?loom=3e7e6aa9318f4fc99c67030b1b9548ca",className:"text-green-600 hover:text-green-500",children:"demo video <3 mins"}),")."]})]}),l.jsxs("p",{className:"text-slate-400",children:["To create an account list, you can:",l.jsxs("ol",{className:"pl-4 pt-2",children:[l.jsx("li",{children:"1. upload a CSV"}),l.jsx("li",{children:"2. manually star accounts"}),l.jsx("li",{children:"3. save the results of a query on the organization page"})]})]})]}),PSe=()=>l.jsx("div",{className:"flex flex-col flex-1 w-full px-10 py-7 gap-1.5 max-w-[50rem] text-[1.25rem] text-slate-500",children:l.jsx("h2",{className:"font-medium flex flex-row gap-2 pb-3",children:"Please specify a person filter in order to search for people."})}),zSe=()=>70;function FSe({emptyMessage:e,error:t,isError:n,isLoading:s,isPreviousData:i,itemPlural:r,hasScrolled:a,matchRow:o,noClick:c,parentRef:u,pinColumns:h,length:f,rows:g,allColumnWidth:m,leftAlignFirstColumn:y,cellLinkCallback:b}){const S=w.useCallback(()=>u.current,[u]),C=_se({count:f,getScrollElement:S,estimateSize:zSe,overscan:20}),M=w.useMemo(()=>!s&&!i&&!n&&f===0,[s,i,n,f]);es("down",E=>{if(E&&E.target&&E.target instanceof HTMLElement&&E.target?.closest(".kb-table-item")){E.preventDefault();const k=E.target.closest(".kb-table-item")?.nextElementSibling;k&&k instanceof HTMLElement&&k.querySelector("a")?.focus()}},{scopes:["tables"]},[]),es("up",E=>{if(E&&E.target&&E.target instanceof HTMLElement&&E.target?.closest(".kb-table-item")){E.preventDefault();const k=E.target.closest(".kb-table-item")?.previousElementSibling;k&&k instanceof HTMLElement?k.querySelector("a")?.focus():document.getElementById("filter-bar-search")?.focus()}},{scopes:["tables"]},[]);const N=C.getTotalSize(),T=w.useMemo(()=>({height:N}),[N]);return l.jsxs("div",{className:`divide-y divide-slate-100 transition-opacity relative border-b border-slate-100 ${i?"animate-pulse light":""}`,style:T,children:[M&&l.jsx("div",{className:"text-slate-300 flex-1 flex flex-col justify-start w-full text-left pt-4 px-10",children:e??l.jsxs("div",{children:["No ",r," found."]})}),!s&&n&&l.jsx(l.Fragment,{children:t&&typeof t=="object"&&"detail"in t&&typeof t.detail=="string"?t.detail.includes("There was a timeout")?l.jsx(kSe,{}):t.detail==="set list"?l.jsx(_Se,{}):t.detail==="set people filter"?l.jsx(PSe,{}):l.jsx("div",{className:"",children:l.jsx("div",{className:"px-6 py-2 text-slate-500",children:t.detail})}):""}),!n&&C.getVirtualItems().map(E=>l.jsx($Se,{virtualRow:E,measureElement:C.measureElement,isPreviousData:i,leftAlignFirstColumn:y,itemPlural:r,noClick:c,pinColumns:h,hasScrolled:a,matchRow:o,rows:g,_allColumnWidth:m,cellLinkCallback:b},E.key))]})}function $Se({virtualRow:e,matchRow:t,measureElement:n,isPreviousData:s,itemPlural:i,leftAlignFirstColumn:r,noClick:a,pinColumns:o,hasScrolled:c,_allColumnWidth:u,rows:h,cellLinkCallback:f}){const g=h[e.index],m=g.getVisibleCells(),y=t&&g.original[t.key]===t.value;return l.jsx(RSe,{measureElement:n,cells:m,index:e.index,isExpanded:g.getIsExpanded(),isHighlighted:y,isPreviousData:s,itemPlural:i,noClick:a,leftAlignFirstColumn:r,start:e.start,pinColumns:o,hasScrolled:c,cellLinkCallback:f},e.key)}const U8=e=>{const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let n="";for(let s=0;s<e;s++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},BSe=({numberOfColumns:e=5,numberOfRows:t=50,lengthOfEachColumnData:n=[],columnHeaders:s=[]}={})=>{const i=s.length?s:Array.from({length:e},()=>U8(5)),r=n.length?n:Array.from({length:e},()=>Math.floor(Math.random()*19)+2),a=Array.from({length:t},()=>i.map((o,c)=>{const u=r[c]+(Math.floor(Math.random()*10)-10);return U8(u)}));return[i,...a]},Q0=({message:e="This data is only available on the Sumble Pro plan and above.",buttonText:t="Upgrade now",className:n="",showUpgradeButton:s=!0})=>{const[i]=w.useState(BSe()),[r,a]=Ni(),o=r.get("p"),c=o&&/^p\d+$/.test(o)&&o!=="p1";return l.jsxs("div",{className:`flex-1 relative overflow-hidden min-h-0 ${n}`,children:[l.jsx("div",{className:"z-[1] w-full flex flex-col overflow-hidden",children:i.map((u,h)=>l.jsx("div",{className:"flex-1 flex flex-row gap-4 px-10",children:u.map((f,g)=>l.jsx("div",{className:`flex flex-row gap-3 flex-1 py-1.5 ${h===0?"text-slate-400":""}`,children:h>0&&g===u.length-2?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-[0.9rem] inline-block bg-green-300 text-white rounded-full px-2",children:f.slice(0,5)}),l.jsx("div",{className:"text-[0.9rem] inline-block bg-purple-300 text-white rounded-full px-2",children:f.slice(0,4)})]}):f},g))},h))}),l.jsxs("div",{className:"absolute inset-0 z-[2] bg-white/70 backdrop-blur-sm! flex flex-col items-center justify-center text-center p-8 gap-6",children:[l.jsx("h3",{className:"text-4xl tracking-[0.025rem] font-next text-green-600",children:"Sumble Pro"}),l.jsx("p",{className:"text-gray-600",children:e}),s&&l.jsx("button",{onClick:()=>{a(u=>(u.set("showPricing","1"),u))},className:"flex items-center justify-center bg-green-600 hover:bg-green-700 disabled:opacity-50 text-white font-semibold h-[3rem] px-6 rounded-lg shadow-sm transition-colors duration-200",children:t}),c&&l.jsx("button",{className:"text-slate-400 hover:text-slate-500 cursor-pointer",onClick:()=>{a(u=>(u.delete("p"),u))},children:" Return to first page of results"})]})]})},VSe=({maxPages:e,showUpgradeButton:t=!1,className:n=""})=>{const s=Number(e);let i=`Web app results are limited to the first${s===1?"":" "+s} page${s===1?"":"s"}.`;return t&&(i="Free users can view only 1 page of results. Upgrade to Pro to unlock up to 10 pages."),l.jsx(Q0,{className:n,showUpgradeButton:t,message:i})},USe=({cellContents:e,addon:t})=>{const n=w.useRef(null),{setAutoResizeWidth:s}=w.useContext(_l),{width:i}=lU({ref:n});return w.useEffect(()=>{if(e.column.columnDef.id&&i){const r=t?.[e.column.columnDef.id]||0;s(e.column.columnDef.id,i+r)}},[i,t]),l.jsx("div",{className:"invisible fixed top-0 left-0 z-50 pointer-events-none",ref:n,children:eL(e.column.columnDef.cell,e.getContext())})},HSe=({content:e,onWidthMeasured:t})=>{const n=w.useRef(null),{width:s}=lU({ref:n});return w.useEffect(()=>{s!==void 0&&t(s)},[s,t]),l.jsx("div",{className:"invisible fixed top-0 left-0 z-50 pointer-events-none",ref:n,children:e||""})},GSe=({autoResizeColumns:e,data:t,measurementValues:n,addon:s})=>{const i=t.getRowModel().rows,[r,a]=w.useState({}),o=w.useRef({}),c=(f,g,m)=>{o.current[f]||(o.current[f]=[]),o.current[f][g]=m;const y=n?.[f]?.length||0;o.current[f].filter(S=>S!==void 0).length===y&&y>0&&setTimeout(()=>{const S=Math.max(...o.current[f]),C=o.current[f].indexOf(S);a(M=>({...M,[f]:C}))},50)},u=w.useMemo(()=>e.map(f=>{const g=r[f]??0;return i.length?(g<i.length?i[g]:i[0]).getAllCells().find(y=>y.column.id===f):null}).filter(Boolean),[e,r,i]),h=w.useMemo(()=>n?Object.entries(n).flatMap(([f,g])=>g.map((m,y)=>l.jsx(HSe,{content:m,onWidthMeasured:b=>c(f,y,b)},`${f}-${y}`))):null,[n]);return i.length?l.jsxs("div",{children:[h,u.map(f=>l.jsx(USe,{cellContents:f,addon:s},f.column.id))]}):null};function WSe({append:e,canExpand:t,className:n,collapseOnFilterChange:s,columns:i,columnsName:r,data:a,disallowSorting:o,emptyMessage:c,getRowId:u,isExpanded:h,isFirstLevelExpanded:f,isLoading:g,isFullWidth:m=!0,isPreviousData:y,isError:b,error:S,itemPlural:C,leftAlignFirstColumn:M,matchRow:N,noClick:T,pinColumns:E,prepend:k,showColumnVisibilityToggle:L=!0,measurementValues:I,autoSizeAddon:_,cellLinkCallback:F,lockedMessage:G,lockedButtonText:U,lockedTableClass:H}){const z=w.useRef(null),$=w.useRef(0),[P,B]=Xe.useState(!1),{allColumnsConfig:Y,changeQueue:K,currentTable:te,updateIndividualColumnConfig:se,setChangeQueue:fe,setCurrentTable:oe,sorting:Ee,setSorting:ye,autoResizeWidths:je}=w.useContext(_l),me=Y?.[r],{advSearch:be,q:Ae,teamQ:Te}=ze(),[Be,Ge]=Xe.useState(me?.columnVisibility?JSON.parse(me.columnVisibility):{}),[Je,et]=Xe.useState(me?.columnSizing?JSON.parse(me.columnSizing):{}),lt=w.useMemo(()=>i.find(De=>De.id==="Matched")?.size,[i]),pt=ySe({columnResizeDirection:"ltr",columnResizeMode:"onChange",columns:i,data:a,enableExpanding:t,getCoreRowModel:uSe(),getRowId:u??void 0,getExpandedRowModel:dSe(),getSortedRowModel:fSe(),getSubRows:De=>De.children,onColumnVisibilityChange:De=>{Ge(De)},onSortingChange:ye,onColumnSizingChange:et,state:{sorting:Ee,columnVisibility:Be,columnSizing:Je},initialState:{expanded:f?a.reduce((De,Ze,gn)=>(De[Ze.id??gn]=!0,De),{}):{}}});w.useEffect(()=>(r&&oe&&(oe(r),me?.columnVisibility&&Ge(JSON.parse(me.columnVisibility)),me?.columnSizing&&et(JSON.parse(me.columnSizing))),()=>{oe&&oe(void 0)}),[r]),w.useEffect(()=>{if(Y&&Object.keys(Y).length>0&&r&&!P){const De=Y[r];De?.columnVisibility&&Ge(JSON.parse(De.columnVisibility)),De?.columnSizing&&et(JSON.parse(De.columnSizing)),B(!0)}},[Y,r]),w.useEffect(()=>{se&&Be&&se(r,{columnVisibility:JSON.stringify(Be),columnSizing:JSON.stringify(Je)})},[Be,Je]),w.useEffect(()=>{if(K&&K.length>0){const De={...Be};K.forEach(Ze=>{Ze.table===te&&(De[Ze.columnId]=Ze.visibility)}),Ge(De),fe&&fe([])}},[K]),w.useEffect(()=>{h&&pt.toggleAllRowsExpanded(!0)},[h]),w.useEffect(()=>{s&&pt.toggleAllRowsExpanded(!1)},[be,Ae,Te]);const it=pt.getAllColumns().some(De=>De.getIsResizing()),dn=pt.getAllColumns().reduce((De,Ze)=>Ze.getIsVisible()?(Ze.columnDef.meta?.autoSize?je[Ze.id]??Ze.columnDef.size??0:Ze.getSize())+De:De,0);w.useEffect(()=>{lt&&lt!==$.current&&et({...Je,Matched:lt}),$.current=lt??0},[lt]);const[kt,Lt]=w.useState(0),Ye=w.useMemo(()=>kt>0,[kt]);w.useEffect(()=>{const De=()=>{z.current&&Lt(z.current.scrollLeft)},Ze=z.current;return Ze&&Ze.addEventListener("scroll",De),()=>{Ze&&Ze.removeEventListener("scroll",De)}},[]);const Yt=pt.getRowModel().rows.length,An=pt.getAllColumns().reduce((De,Ze)=>De+Ze.getSize(),""),Xt=pt.getRowModel().rows,Jt=w.useMemo(()=>{const De=pt.getFlatHeaders(),Ze={};for(let gn=0;gn<De.length;gn++){const $t=De[gn],Wn=$t.column.columnDef.meta?.autoSize?je[$t.column.id]??$t.column.getSize():$t.column.getSize(),Xn=$t.column.columnDef.meta?.autoSize?je[$t.column.id]??$t.getSize():$t.getSize();Ze[`--header-${iw($t.id)}-size`]=Xn,Ze[`--col-${iw($t.column.id)}-size`]=Wn}return Ze},[pt.getState().columnSizingInfo,pt.getState().columnSizing,i.length,Be,je]),le=w.useMemo(()=>i.filter(De=>De.meta?.autoSize===!0).map(De=>De.id),[i]),ge=w.useMemo(()=>{if(b&&S?.max_pages)return S.max_pages},[b,S]),Qe=w.useMemo(()=>!b||ge?!1:S?.response?.status===402,[b,S,ge]);return l.jsxs("div",{className:`flex-1 overflow-y-scroll overscroll-none overflow-x-auto ${m?"md:min-w-[1280px] md:w-[calc(100vw-14rem)]":""} flex flex-col ${n}`,id:`${C}-scroll`,ref:z,style:{...Jt},children:[k,l.jsxs("div",{className:`relative flex-1 flex flex-col ${Qe||ge?"overflow-hidden":""}`,children:[g&&l.jsx("div",{className:`flex-1 flex flex-col ${M?"":"px-10"} pt-2`,children:l.jsxs("div",{className:"animate-pulse text-slate-400",children:["Loading ",C,"..."]})}),Qe&&l.jsx(Q0,{message:G,buttonText:U,className:H}),ge&&l.jsx(VSe,{maxPages:ge,showUpgradeButton:S?.response?.status===402}),!g&&!Qe&&!ge&&l.jsxs("div",{className:"min-w-full bg-white border-slate-200 flex-1",style:{minWidth:`calc(${dn}px + ${L?5:.2}rem)`},children:[l.jsx(DSe,{disallowSorting:o,isLoading:g,isPreviousData:y,isResizing:it,leftAlignFirstColumn:M,hasScrolled:Ye,itemPlural:C,tableData:pt,pinColumns:E,showColumnVisibilityToggle:L}),l.jsx(FSe,{emptyMessage:c,error:S,isError:b&&!Qe,isLoading:g,isPreviousData:y,itemPlural:C,hasScrolled:Ye,leftAlignFirstColumn:M,matchRow:N,noClick:T,parentRef:z,pinColumns:E,rows:Xt,allColumnWidth:An,length:Yt,cellLinkCallback:F}),le.length>0&&l.jsx(GSe,{autoResizeColumns:le,data:pt,measurementValues:I,addon:_})]})]}),e]})}const Qo=Xe.memo(WSe),rw=({checked:e,onChange:t,label:n,subtitle:s,reverse:i=!1,containerClassName:r="",labelClassName:a="",disabled:o=!1})=>{const c=()=>{o||t(!e)};return l.jsxs("div",{className:`flex ${i?"flex-row-reverse":"flex-row"} items-center justify-between ${r} ${i?" ":"gap-8"} ${o?"opacity-50":""}`,children:[l.jsxs("div",{className:`flex flex-col ${i?"items-end":""} ${o?"cursor-not-allowed":"cursor-pointer"}`,onClick:c,children:[l.jsx("label",{className:`font-medium text-slate-700 select-none ${a}`,children:n}),s&&l.jsx("span",{className:"text-sm text-slate-500 select-none",children:s})]}),l.jsx(LB,{checked:o?!1:e,onChange:o?()=>{}:t,disabled:o,className:`${o?"bg-slate-200":e?"bg-green-600":"bg-slate-200"} ${o?"cursor-not-allowed opacity-50":"cursor-pointer"} relative inline-flex h-[1.6rem] w-[3rem] shrink-0 rounded-full border-4 border-transparent transition duration-200 ease-in-out focus:outline-hidden focus:ring-2 focus:ring-green-700 focus:ring-offset-2`,children:l.jsxs("span",{className:`${o?"translate-x-0":e?"translate-x-[0.66rem]!":"translate-x-0"} pointer-events-none relative inline-block h-[1.05rem] w-[1.05rem] transform rounded-full bg-white shadow ring-0 transition-all duration-200 ease-in-out`,children:[l.jsx("span",{className:`${o?"opacity-100 duration-200 ease-in":e?"opacity-0 duration-100 ease-out":"opacity-100 duration-200 ease-in"}
                                        absolute inset-0 flex h-full w-full items-center justify-center transition-opacity
                                    `,"aria-hidden":"true"}),l.jsx("span",{className:`${o?"opacity-0 duration-100 ease-out":e?"opacity-100 duration-200 ease-in":"opacity-0 duration-100 ease-out"}
                                        absolute inset-0 flex h-full w-full items-center justify-center transition-opacity`,"aria-hidden":"true"})]})})]})},zG=()=>{const{organizationId:e,teamId:t}=He(),s=`/locations/countries?${qr({organization_slug:e,team_slug:t})}`;return nt({url:s,queryKey:["countriesList",s]})},N2=()=>{const e=yt();return It({mutationFn:async({settings_id:s,settings_level:i,values:r})=>{const a=`/account/signals-settings/${i}/${s}`;return await Ue({url:a,method:"PUT",headers:{"Content-Type":"application/json"},body:r})},onMutate:async({settings_id:s,settings_level:i,values:r})=>{await e.cancelQueries({queryKey:["signalsSettings",i]});const a=e.getQueryData(["signalsSettings",i]);return e.setQueryData(["signalsSettings",i],o=>o&&{...o,[s]:{...o[s],...r}}),{previousSettings:a,settings_level:i}},onError:(s,i,r)=>{r?.previousSettings&&e.setQueryData(["signalsSettings",r.settings_level],r.previousSettings),Tt.error("Failed to update signals settings")},onSuccess:()=>{},onSettled:(s,i,r)=>{e.invalidateQueries({queryKey:["signalsSettings",r.settings_level]}),e.invalidateQueries({queryKey:["profile_feed"]}),e.invalidateQueries({queryKey:["profile"]})}})},cD=e=>nt({url:`/account/signals-settings/${e}`,queryKey:["signalsSettings",e],staleTime:Zi(),delayKey:`signalsSettings|${e}`,refetchOnWindowFocus:"always"}),YSe=({rule:e})=>{const{mutate:t}=N2();return l.jsxs("div",{className:"grid grid-cols-3 px-10 py-2 gap-1 border-b last:border-b-0 border-slate-100 hover:bg-slate-50",children:[l.jsx("div",{children:l.jsx("span",{className:"font-medium",children:e.settings_name})}),l.jsxs("div",{className:"col-span-2 flex justify-between",children:[e.type==="include_in_signals"&&l.jsx(gt,{disallowClick:!0,hideArrow:!0,type:"general",text:e.value===!0?"Include in Signals":"Do not send any Signals"}),e.type==="include_subsidiaries_in_signals"&&l.jsx(gt,{disallowClick:!0,hideArrow:!0,type:"general",text:e.value===!0?"Send subsidiary Signals":"Do not send subsidiary Signals"}),e.type==="include_all_countries"&&e.value===!1&&l.jsx(gt,{disallowClick:!0,hideArrow:!0,type:"general",text:`${e.extraFields?.countries?.join(", ")}`}),l.jsx(Zh,{onClick:()=>{t({settings_id:e.settings_id,settings_level:e.settings_level,values:{[e.type]:null,...e.type==="include_all_countries"&&{countries:[]}}})},children:"Remove"})]})]})},KSe=({setIsOpen:e})=>{const{data:t}=cD("organization"),n=w.useMemo(()=>t?Object.values(t).flatMap(i=>{const r=[];return i.include_in_signals!==null&&r.push({type:"include_in_signals",settings_id:i.settings_id,settings_name:i.settings_name,settings_level:"organization",value:i.include_in_signals}),i.include_subsidiaries_in_signals!==null&&r.push({type:"include_subsidiaries_in_signals",settings_id:i.settings_id,settings_name:i.settings_name,settings_level:"organization",value:i.include_subsidiaries_in_signals}),i.include_all_countries!==null&&r.push({type:"include_all_countries",settings_id:i.settings_id,settings_name:i.settings_name,settings_level:"organization",value:i.include_all_countries,extraFields:{countries:i.countries}}),r}).sort((i,r)=>i?.settings_name&&r?.settings_name?i.settings_name.localeCompare(r.settings_name,void 0,{sensitivity:"base"}):0):[],[t]);return l.jsxs(Y0,{isOpen:!0,setIsOpen:e,className:"max-w-[50rem] h-[43rem] max-h-[90vh] p-0! gap-0!",children:[l.jsx("div",{className:"font-medium text-[1.4rem] px-8 py-4 border-b border-slate-100",children:"Signals Rules"}),l.jsx("div",{className:"flex flex-col overflow-y-auto h-full ",children:n.map(s=>l.jsx(YSe,{rule:s},`${s.settings_id}-${s.settings_level}`))}),l.jsxs("div",{className:"text-slate-400 px-8 py-4 text-sm text-center border-t border-slate-100",children:["Add new rules by clicking on the"," ",l.jsx(Zh,{disabled:!0,className:"inline! mx-2",children:l.jsx(pg,{className:"w-3 h-3 inline"})})," ","button on any item in your"," ",l.jsx(Re,{to:"/account-lists",target:"_blank",className:"text-slate-600 font-medium",children:"Account Lists"})," ","or your"," ",l.jsx(Re,{to:"/signals",target:"_blank",className:"text-slate-600 font-medium",children:"Signals page"}),"."]})]})},FG=({buttonText:e,buttonClass:t})=>{const[n,s]=w.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx("button",{className:t,onClick:()=>s(!0),children:e}),n&&l.jsx(KSe,{setIsOpen:s})]})},qSe=({label:e,subtitle:t,containerClassName:n,onChange:s,signals_settings:i})=>{const{data:r}=zG(),a=i?.include_all_countries??!0?"All countries":(i?.countries??[]).join(", ");return l.jsxs("div",{className:`flex flex-row gap-8 items-center justify-between ${n}`,children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("label",{className:"font-medium text-slate-800",children:e}),t&&l.jsx("span",{className:"text-sm text-slate-500",children:t})]}),l.jsx(OB,{value:i?.countries??[],onChange:s,multiple:!0,children:l.jsxs("div",{className:"relative",children:[l.jsxs(RB,{className:"relative w-48 cursor-default rounded-md border border-slate-300 bg-white py-1 pl-3 pr-10 text-left text-slate-800 shadow-sm focus:border-green-500 focus:outline-none focus:ring-1 focus:ring-green-500",children:[l.jsx("span",{className:"block truncate",children:a}),l.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:l.jsx(Kr,{className:"w-6 h-6"})})]}),l.jsx(_B,{anchor:"bottom",className:"absolute z-10 mt-1 max-h-60 overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:(r??[]).map(o=>l.jsx(gE,{value:o.name,className:"relative cursor-default select-none py-2 pl-10 pr-4 text-gray-900 data-[active]:bg-green-100 ",children:({selected:c})=>l.jsxs(l.Fragment,{children:[l.jsx("span",{className:`block truncate ${c?"font-semibold":"font-normal"}`,children:o.name}),c&&l.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-green-600",children:l.jsx(ar,{className:"w-5 h-5"})})]})},o.name))})]})})]})},$G=({id:e,level:t,signals_settings:n,button:s,anchorTo:i="bottom end"})=>{const{mutate:r}=N2();return l.jsx(gi,{children:()=>l.jsxs(l.Fragment,{children:[l.jsx(qi,{as:"div",className:"focus:outline-0 focus:ring-0",children:s}),l.jsx(Ca,{portal:!0,anchor:{to:i,offset:0,gap:12},className:"shadow-lg",children:l.jsxs("div",{className:"bg-white px-8 p-3 flex flex-col gap-4 shadow-slate-800/20 border border-slate-200/70 rounded-lg",children:[l.jsxs("div",{className:"",children:[l.jsx(rw,{checked:n?.include_in_signals??!0,onChange:a=>{r({settings_id:e,settings_level:t,values:{include_in_signals:a}})},label:`Include this ${t} in Signals`,containerClassName:"border-b border-slate-200 h-16"}),l.jsx(rw,{checked:n?.include_subsidiaries_in_signals??!0,disabled:!(n?.include_in_signals??!0),onChange:a=>{r({settings_id:e,settings_level:t,values:{include_subsidiaries_in_signals:a}})},label:"Include subsidiaries in Signals",containerClassName:"border-b border-slate-200 h-16"}),l.jsx(qSe,{label:"Countries to use for Signals",signals_settings:n,containerClassName:"border-b border-slate-200 h-16",onChange:a=>{r({settings_id:e,settings_level:t,values:{include_all_countries:a.length===0,countries:a}})}})]}),l.jsx("div",{className:"mt-7 pb-2 flex justify-end",children:l.jsx(FG,{buttonText:l.jsxs(l.Fragment,{children:["View all of your Signals rules"," ",l.jsx(ls,{className:"w-4 h-4"})]}),buttonClass:"text-green-600 flex flex-row items-center gap-1 hover:text-green-700 font-medium"})})]})})]})})},ZSe=({item:e,list:t,signalsSettings:n})=>l.jsxs("div",{className:"flex items-center gap-2 w-full",children:[e.sumble_id&&l.jsx(gt,{disallowClick:!0,hideArrow:!0,type:n?.include_in_signals??!0?"techs":"job_levels",text:n?.include_in_signals??!0?"Included in Signals":"Excluded from Signals"}),n?.include_subsidiaries_in_signals===!1&&l.jsx(gt,{disallowClick:!0,hideArrow:!0,type:"general",text:"No Subsidiaries"}),n?.include_all_countries===!1&&l.jsx(gt,{disallowClick:!0,hideArrow:!0,type:"general",text:`${n.countries.join(", ")}`}),e.sumble_id&&l.jsx($G,{id:e.sumble_id,level:"organization",signals_settings:n,button:l.jsx(Zh,{children:t.type===ir.group?"+ Add Rule":"+ Add Signals Rule"})})]}),QSe=({listId:e})=>{const t=`/account/account-lists/${e}`,n=yt();return It({mutationFn:async()=>await Ue({url:t,method:"DELETE"}),onSettled:()=>{n.invalidateQueries({queryKey:["accountListsNew"]})}})},BG=({id:e,buttonLabel:t,className:n})=>{const[s,i]=w.useState(!1),{mutate:r}=QSe({listId:e}),{accountListById:a}=nI(),o=a[e??"null"];return o?l.jsxs(l.Fragment,{children:[l.jsx(Ht,{description:`${o.read_only?"Can't delete this list":o.deletable?"Delete this list":"Clear this list"}`,delay:0,children:l.jsx("button",{onClick:c=>{c.stopPropagation(),o.read_only||i(!0)},className:`${n} ${o.read_only?"disabled opacity-30":""}`,children:t??l.jsx(a2,{className:"w-5 h-5 mt-1 text-red-800/20 group-hover:text-red-800/40"})})}),s&&l.jsx($o,{handleConfirm:()=>{r(),i(!1)},isAlert:!1,setIsShowingConfirmModal:i,title:o.deletable?"Confirm delete list":"Confirm empty list",confirmLabel:e?"Delete list":"Empty list",description:l.jsxs(l.Fragment,{children:["You're about to"," ",o.deletable?"delete the list ":"empty the list ",l.jsx("strong",{children:o.name}),o.deletable?" and all its contents":"",". This action cannot be undone."]})})]}):null},VG=()=>{const e=yt();return It({mutationFn:async({listId:s,org_ids:i})=>{const r=`/account/account-lists/${s}/items`;return await Ue({url:r,method:"DELETE",headers:{"Content-Type":"application/json"},body:i.map(a=>({sumble_id:a}))})},onSettled:()=>{e.invalidateQueries({queryKey:["accountListsNew"]}),Tt.success("Removed from list")}})},XSe=({item:e,list:t})=>{const{mutate:n}=VG(),s=w.useCallback(i=>{i.stopPropagation(),i.preventDefault(),n({org_ids:[e.sumble_id],listId:t.id})},[n,e.sumble_id,t.id]);return t.type===ir.group||t.read_only?null:l.jsx(Zh,{onClick:s,children:"Remove"})};var Cy={exports:{}},H8;function JSe(){if(H8)return Cy.exports;H8=1;var e={:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"C",:"C",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"Y",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"c",:"c",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"y",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",C:"C",c:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"G",:"g",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"K",:"k",K:"K",k:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"l",:"l",:"M",:"m",M:"M",m:"m",:"N",:"n",:"N",:"n",:"N",:"n",:"n",N:"N",n:"n",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",P:"P",p:"p",:"R",:"r",:"R",:"r",:"R",:"r",R:"R",r:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"S",:"s",:"s",:"S",:"s",:"T",:"t",:"t",:"T",:"T",:"t",:"T",:"t",T:"T",t:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",V:"V",v:"v",:"W",:"w",:"W",:"w",X:"X",x:"x",:"Y",:"y",:"Y",Y:"Y",y:"y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"s",:"f",:"O",:"o",:"U",:"u",:"A",:"a",:"I",:"i",:"O",:"o",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"A",:"a",:"AE",:"ae",:"O",:"o",:"TH",:"th",:"P",:"p",:"S",:"s",X:"X",x:"x",:"",:"",:"",:"",A:"A",a:"a",E:"E",e:"e",I:"I",i:"i",:"N",:"n",:"O",:"o",:"O",:"o",:"U",:"u",:"W",:"w",:"Y",:"y",:"A",:"a",:"E",:"e",:"I",:"i",:"O",:"o",:"R",:"r",:"U",:"u",B:"B",b:"b",:"C",:"c",:"E",:"e",F:"F",f:"f",:"G",:"g",:"H",:"h",J:"J",:"j",:"K",:"k",M:"M",m:"m",P:"P",p:"p",Q:"Q",q:"q",:"R",:"r",:"S",:"s",V:"V",v:"v",W:"W",w:"w",X:"X",x:"x",Y:"Y",y:"y",A:"A",a:"a",B:"B",b:"b",:"D",:"d",:"E",:"e",:"E",:"e",:"H",:"h",I:"I",i:"i",:"I",:"i",M:"M",m:"m",O:"O",o:"o",Q:"Q",q:"q",U:"U",u:"u",X:"X",x:"x",Z:"Z",z:"z",:"",:"",:"",:""},t=Object.keys(e).join("|"),n=new RegExp(t,"g"),s=new RegExp(t,"");function i(o){return e[o]}var r=function(o){return o.replace(n,i)},a=function(o){return!!o.match(s)};return Cy.exports=r,Cy.exports.has=a,Cy.exports.remove=r,Cy.exports}var ewe=JSe();const $h=$g(ewe),twe=(e,t)=>nt({url:`/account/account-lists/${e}/item/${t}/matches`,queryKey:["accountListsNew",e.toString(),t.toString(),"matches"],delayKey:`$accountListsNew|${e}|${t}|matches`,staleTime:Zi(1440)}),UG=e=>{const t=yt();return It({mutationFn:async({listId:i,items:r})=>{const a=`/account/account-lists/${i}/items`;return await Ue({url:a,method:"PATCH",headers:{"Content-Type":"application/json"},body:r})},onMutate:async({listId:i,items:r})=>{t.setQueryData(["accountListsNew",i,e],a=>a&&{...a,items:a.items.map(c=>{const u=r.find(h=>h.id===c.id);return u?{...c,...u}:c})})},onSuccess:()=>{Tt.success("List updated successfully"),t.invalidateQueries({queryKey:["accountListsNew"]})},onError:()=>{Tt.error("Failed to update list")}})},nwe=({item:e,onClick:t})=>l.jsxs("div",{onClick:()=>t(e),className:"grid grid-cols-3 gap-2 border-b border-slate-200 px-10 py-2 hover:bg-green-50",children:[l.jsx("div",{className:"",children:e.name?l.jsx(gt,{text:e.name,type:e.name_similarity===0?"general":e.name_similarity>=1?"techs":"country",disallowClick:!0,hideArrow:!0}):l.jsx("span",{className:"text-slate-300",children:""})}),l.jsxs("div",{className:"col-span-2 flex justify-between",children:[e.url?l.jsx("div",{className:"max-w-[20rem]",children:l.jsx(gt,{text:e.url,type:e.url_similarity===0?"general":e.url_similarity>=1?"techs":"country",disallowClick:!0,tooltip:e.url.length>40?e.url:"",hideArrow:!0})}):l.jsx("span",{className:"text-slate-300",children:""}),e.country?l.jsx("div",{className:"max-w-[20rem]",children:l.jsx(gt,{text:e.country,type:"general",disallowClick:!0,hideArrow:!0})}):l.jsx("span",{className:"text-slate-300",children:""})]})]}),swe=({listId:e,item:t,token:n,close:s})=>{const{data:i,isLoading:r}=twe(e,t.id),{mutate:a}=UG(n),[o,c]=w.useState(""),[u,h]=w.useState(""),f=w.useMemo(()=>i?!o&&!u?i:i.filter(g=>{const m=!o||g.name.toLowerCase().includes(o.toLowerCase()),y=!u||g.url&&g.url.toLowerCase().includes(u.toLowerCase());return m&&y}):[],[i,o,u]);return l.jsxs("div",{className:"bg-white w-[70rem] mr-6 mb-12 max-w-[80vw] max-h-[50vh] py-4 pb-6 shadow-lg flex flex-col shadow-slate-800/20 border border-slate-200/70 rounded-xl text-slate-700 mt-1 ml-12",children:[l.jsxs("div",{className:"px-10 pb-6 text-slate-400 font-medium",children:["Find match for"," ",l.jsxs("span",{className:"text-slate-800",children:[t.source_name," ",t.source_url&&`(${t.source_url})`]})]}),r?l.jsx("div",{className:"text-center",children:"Loading..."}):l.jsx(l.Fragment,{children:l.jsxs("div",{className:"flex flex-col overflow-y-auto h-full pt-2",children:[l.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center border-b border-slate-100 px-10 py-0 font-medium text-slate-400",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Sx,{className:"w-4 h-4"}),l.jsx("input",{className:"px-0 py-0 border-0 focus:ring-0 focus:border-0 placeholder:text-slate-400! font-medium text-slate-600",type:"text",placeholder:"Name",value:o,onChange:g=>c(g.target.value)})]}),l.jsxs("div",{className:"col-span-2 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Sx,{className:"w-4 h-4"}),l.jsx("input",{className:"px-0 py-0 border-0 focus:ring-0 focus:border-0 placeholder:text-slate-400! font-medium text-slate-600",type:"text",placeholder:"URL",value:u,onChange:g=>h(g.target.value)})]}),l.jsx("div",{children:"Location"})]})]}),f&&f.length>0?f.map((g,m)=>l.jsx(nwe,{onClick:y=>{a({listId:e,items:[{id:t.id,sumble_id:y.id,sumble_similarity:y.similarity,sumble_name_similarity:y.name_similarity,sumble_url_similarity:y.url_similarity}]}),s()},item:g},m)):l.jsx("div",{className:"px-10 pt-4 pb-24 text-slate-300 min-w-[40rem]",children:"No matches found"})]})})]})},G8=({listId:e,item:t,token:n,button:s,anchorTo:i="bottom start"})=>l.jsx(gi,{children:({close:r})=>l.jsxs(l.Fragment,{children:[l.jsx(qi,{as:"div",className:"focus:outline-0 focus:ring-0",children:s}),l.jsx(Ca,{portal:!0,anchor:{to:i,offset:0,gap:0},children:l.jsx(swe,{listId:e,item:t,token:n,close:r})})]})}),iwe=({initialValue:e,setValue:t})=>{const[n,s]=w.useState(e),i=ba(n,1e3),r=w.useRef(!1);return w.useEffect(()=>{r.current||s(e),r.current=!1},[e]),w.useEffect(()=>{i!==e&&t(i!==""?i:null)},[i,t,e]),{valueForInput:n??"",onChange:c=>{r.current=!0,s(c.target.value||"")}}},Pu=yo(),rwe=(e,t,n,s,i,r=!0)=>{const a=[];return e.type===ir.group&&a.push(Pu.accessor("source_name",{header:"Source Organization",id:"SourceName",cell:o=>o.row.original.source_sfdc_url?l.jsx(gt,{type:"general",href:o.row.original.source_sfdc_url,text:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(JE,{}),l.jsx(ad,{highlightClassName:"font-bold bg-transparent text-slate-700 whitespace-normal",searchWord:i??"",textToHighlight:o.getValue()??"",sanitize:c=>$h(c)})]}),doNotPassQuery:!0}):l.jsx(ad,{highlightClassName:"font-bold bg-transparent text-slate-700 whitespace-normal",searchWord:i??"",textToHighlight:o.getValue()??"",sanitize:c=>$h(c)}),size:300,sortingFn:(o,c)=>{const u=(o.original.source_name||"").toLowerCase(),h=(c.original.source_name||"").toLowerCase();return u.localeCompare(h,void 0,{numeric:!0,sensitivity:"base"})},meta:{autoSize:!0}}),Pu.accessor("source_url",{header:"Source URL",id:"Source URL",cell:o=>{const c=o.getValue();return c?l.jsx(gt,{text:c,type:"url_matched",customLabel:"source",href:`https://${c}`,doNotPassQuery:!0}):l.jsx("span",{className:"text-slate-300",children:""})},size:250,sortingFn:(o,c)=>{const u=(o.original.source_url||"").toLowerCase(),h=(c.original.source_url||"").toLowerCase();return u.localeCompare(h,void 0,{numeric:!0,sensitivity:"base"})},meta:{autoSize:!0}})),a.push(Pu.accessor("sumble_name",{header:`${e.type===ir.group?"Sumble ":""}Organization`,id:"Organization",cell:o=>{const{mutate:c}=UG(n),u=h=>{h.stopPropagation(),h.preventDefault(),c({items:[{id:o.row.original.id}],listId:e.id})};return o.getValue()?l.jsxs("div",{className:"flex items-center gap-2 group/cell pr-5",children:[l.jsx(gt,{type:e.type===ir.group?o.row.original.source_name===o.row.original.sumble_name?"url_matched":"url_not_matched":"url_matched",href:`/orgs/${o.row.original.sumble_slug}`,text:l.jsx(ad,{highlightClassName:"font-bold bg-transparent text-slate-700 whitespace-normal",searchWord:i??"",textToHighlight:o.getValue()??"",sanitize:h=>$h(h)}),doNotPassQuery:!0}),e.type===ir.group&&o.row.original.sumble_id&&l.jsx(G8,{listId:e.id,item:o.row.original,token:n,anchorTo:"bottom end",button:l.jsx(Zh,{className:"opacity-50 group-hover:opacity-100",children:"Fix"})}),e.type===ir.group&&o.row.original.sumble_id&&l.jsx(Zh,{onClick:u,className:"opacity-50 group-hover:opacity-100",children:"Unlink"})]}):l.jsx("div",{className:"group",children:l.jsx(G8,{listId:e.id,item:o.row.original,token:n,button:l.jsxs("div",{className:"flex cursor-pointer items-center gap-1 text-slate-600/50 hover:text-slate-700",children:["Find match"," ",l.jsx(ls,{className:"w-4 h-4"})]})})})},size:300,enableResizing:!0,sortingFn:(o,c)=>{const u=(o.original.sumble_name||"").toLowerCase(),h=(c.original.sumble_name||"").toLowerCase();return u.localeCompare(h,void 0,{numeric:!0,sensitivity:"base"})},meta:{autoSize:!0}}),Pu.accessor("sumble_urls",{header:`${e.type===ir.group?"Sumble ":""}URL`,id:"Sumble URL",cell:o=>{const c=o.getValue(),u=o.row.original.source_url,h=c?c.find(f=>f===u)||c[0]:null;return h?l.jsx(gt,{text:h,type:e.type===ir.group?h===u?"url_matched":"url_not_matched":"url_matched",customLabel:e.type===ir.group?"sumble":"",href:`https://${h}`,doNotPassQuery:!0}):l.jsx("span",{className:"text-slate-300",children:""})},size:250,enableSorting:!1,meta:{autoSize:!0}}),Pu.accessor("employee_count",{header:"Employee Count",id:"EmployeeCount",cell:o=>{const c=o.getValue();return c?l.jsx("span",{className:"text-slate-500",children:$e(c)}):l.jsx("span",{className:"text-slate-300",children:""})},meta:{sortFlipOrder:!0,sortMessage:["largest  smallest","smallest  largest"]},enableResizing:!0,size:150,minSize:150}),Pu.accessor("created_at",{header:"Added",id:"Added",cell:o=>{const c=new Date(o.getValue());return l.jsx("span",{className:"text-slate-500",children:c.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})},meta:{sortMessage:["recent  oldest","oldest  recent"],sortFlipOrder:!0},minSize:150,size:150,enableResizing:!1,enableSorting:!0}),r?Pu.display({header:"Signal Settings",id:"Actions",cell:o=>l.jsx(ZSe,{item:o.row.original,list:e,signalsSettings:o.row.original.sumble_id?s?.[o.row.original.sumble_id]:void 0}),size:500,minSize:150,enableResizing:!0}):null,e.type!==ir.group?Pu.display({header:"Manage",id:"Remove",cell:o=>l.jsx(XSe,{item:o.row.original,list:e}),minSize:150,size:150,enableResizing:!1,enableHiding:!1}):null),a.filter(o=>o!=null)},awe=({setIsMobileAccountsListOpen:e})=>{const[t,n]=w.useState(null),{listId:s}=He(),i=df("ACCOUNT_LISTS_NEW"),[r,a]=w.useState(),{valueForInput:o,onChange:c}=iwe({initialValue:r,setValue:a}),u={next_page_token:t??"",q:r??"",...i},{data:h,error:f,isLoading:g,isError:m,isPlaceholderData:y}=w1e(Number(s),u),{data:b}=cD("list"),{data:S}=cD("organization"),{mutate:C}=N2(),M=w.useMemo(()=>h?.items??[],[h?.items]),{autoResizeWidths:N}=w.useContext(_l),T=w.useMemo(()=>b?.[Number(s)]??{include_in_signals:!0},[b,s]),E=w.useMemo(()=>h?rwe(h,N,t??null,S,r??void 0,T.include_in_signals):[],[h,t,r,S,N,T]),k=w.useMemo(()=>({Organization:0,SourceName:50,Actions:50}),[]),L=w.useMemo(()=>{if(M.length!==0)return{Organization:M.map(_=>_.sumble_name??""),"Sumble URL":M.map(_=>_.sumble_urls?.[0]??""),SourceName:M.map(_=>_.source_name??""),"Source URL":M.map(_=>_.source_url??"")}},[M]),I=zl(h?.items_count??0,h?.page_info?.results_count??0,h?.page_info?.next_page_token??"");return w.useEffect(()=>{s&&n(null)},[s]),w.useEffect(()=>{r&&n(null)},[r]),g&&!h?null:l.jsxs("div",{className:"flex-1 max-md:w-full",children:[l.jsx(Zr,{title:h?.name||"Account Lists"}),l.jsxs("div",{className:"px-4 h-13 items-center md:px-10 flex flex-row justify-between md:mb-4",children:[l.jsx("h2",{className:"md:text-2xl font-semibold flex flex-row max-md:flex-1",children:l.jsxs("div",{className:`text-slate-700 max-md:flex-1 flex flex-row gap-6 font-medium text-[1rem] ${g?"hidden":""}`,onClick:()=>{e(_=>!_)},children:[l.jsx("div",{children:h?.name}),h?.type===ir.group?l.jsxs("span",{className:"text-slate-400 flex flex-row gap-1 items-center",children:[l.jsx(fg,{className:"w-4 h-4"})," Shared list"]}):null,l.jsx(Kr,{className:"w-6 h-6 md:hidden text-slate-400"})]})}),l.jsxs("div",{className:"flex flex-row gap-2 md:gap-4 items-center justify-between",children:[s&&l.jsxs("div",{className:"flex flex-row items-center gap-2.5 border px-2 pr-3 py-1.5 border-slate-200 rounded-2xl",children:[l.jsx(rw,{checked:b?.[Number(s)]?.include_in_signals??!0,onChange:_=>{C({settings_id:Number(s),settings_level:"list",values:{include_in_signals:_}})},reverse:!0,containerClassName:"gap-2 row-r",label:"Use list for Signals"}),l.jsx("div",{className:"h-[1.3rem] w-[1px] bg-slate-200"}),l.jsx($G,{id:Number(s),level:"list",signals_settings:b?.[Number(s)],button:l.jsx(Yk,{className:"w-6 h-6"}),anchorTo:"bottom end"})]}),h?.type!==ir.group?l.jsx(BG,{className:"ml-auto text-[1rem] text-red-700! hover:text-red-600!",id:Number(s),buttonLabel:h&&h.deletable?"Delete list":"Clear list"}):null]})]}),l.jsx("div",{className:"border-y-2 border-slate-100 pl-10 pb-4 pt-4",children:l.jsx(Fl,{hidden:!1,placeholderText:"Search your accounts...",value:o,onChange:c})}),l.jsxs(l.Fragment,{children:[l.jsx(Qo,{className:`w-full h-[calc(100vh-11rem)] md:w-[calc(100vw-31.5rem)]! md:h-[calc(100vh-15.63rem)] ${y?"opacity-50":""}`,columns:E,columnsName:"ACCOUNT_LISTS_NEW",data:M,disallowSorting:!0,isLoading:g,isFullWidth:!1,isError:m,error:f,isPreviousData:y,itemPlural:"accounts",pinColumns:1,noClick:!0,measurementValues:L,autoSizeAddon:k}),l.jsx(Zo,{totalResults:h?.items_count||0,currentResults:h?.items.length||0,currentRange:I,hasNext:!!h?.page_info.next_page_token,hasPrevious:!!h?.page_info.previous_page_token,next:()=>{n(h?.page_info.next_page_token??"")},previous:()=>{n(h?.page_info.previous_page_token??"")}})]})]})},owe=()=>{const{isLoading:e,data:t}=qo(),n=Qt(),{listId:s}=He();w.useEffect(()=>{!s&&t&&t.length>0&&n("/account-lists/"+t[0].id)},[s,t]);const[i,r]=w.useState(!1);return e?null:l.jsxs(M2,{children:[l.jsx(S1e,{isMobileAccountsListOpen:i,setIsMobileAccountsListOpen:r}),s?l.jsx(awe,{setIsMobileAccountsListOpen:r}):null]})},lwe=()=>nt({url:"/admin/customers",admin:!0,queryKey:["admin","customersList"],staleTime:Zi(300)}),cwe=({autoOpen:e})=>{const{data:t,isLoading:n}=lwe(),[s,i]=Ut("conf",ps),r=s?.split("~")[0]||null,a=s?.split("~")[1]||null,o=w.useRef(null),c=r&&a?{id:r==="domain"?"DOMAIN_NAME":a,name:r==="domain"?"Enter domain name":t?.find(y=>y.id===Number(a))?.name||a}:null,[u,h]=w.useState(c),[f,g]=w.useState(r==="domain"?a:null),m=ba(f,1e3);return w.useEffect(()=>{e&&o.current&&o.current.click()},[e]),w.useEffect(()=>{u&&u.id==="DOMAIN_NAME"?i(m?`domain~${m}`:null):u&&i(`customer_id~${u.id}`)},[u,m]),n?null:l.jsx("div",{className:"mb-6",children:l.jsx("div",{children:u&&u.id==="DOMAIN_NAME"?l.jsxs("div",{className:"flex flex-row items-center gap-4",children:[l.jsx("input",{type:"text",placeholder:"Enter domain name",className:"border border-slate-200 rounded-lg px-4 py-2 w-[20rem]",value:f??"",autoFocus:!0,onChange:y=>g(y.target.value)}),l.jsxs("button",{onClick:()=>{g(null),h(null)},className:"text-slate-400 hover:text-slate-600 flex items-center gap-1",children:[l.jsx(jV,{className:"text-slate-400 size-4"}),"back"]})]}):l.jsx("div",{className:"max-w-[20rem]",children:l.jsxs(OB,{value:u,onChange:h,children:[l.jsxs(RB,{ref:o,className:"bg-white border-slate-200 rounded-lg px-4 py-2 pr-2 border w-full text-left flex flex-row justify-between items-center",children:[u?l.jsxs("div",{className:"flex flex-1 flex-row items-center justify-between",children:[l.jsx("div",{children:u.name}),l.jsxs("div",{className:"text-slate-400 pr-2",children:["ID ",u.id]})]}):"Select a customer...",l.jsx(Kr,{className:"text-slate-400 size-6"})]}),l.jsxs(_B,{anchor:"bottom",className:"w-[20rem] bg-white border border-slate-200 rounded-lg mt-1 max-h-120 overflow-y-auto py-2",children:[l.jsxs(gE,{value:{id:"DOMAIN_NAME",name:"Enter domain name"},className:"data-focus:bg-green-100 px-4 py-2 text-slate-400 flex flex-row gap-2",children:[l.jsx(jce,{className:"text-slate-400 size-6"}),"Enter a domain name..."]}),t?.map(y=>l.jsxs(gE,{value:y,className:"data-focus:bg-green-100 px-4 py-2 flex flex-row justify-between",children:[y.name," ",l.jsxs("span",{className:"text-slate-400 pr-2",children:["ID ",y.id]})]},y.id))]})]})})})})},uwe=(e,t)=>nt({url:()=>!e||!t?.trim()?void 0:`/admin/config/signal-configs?${new URLSearchParams({[e]:t}).toString()}`,admin:!0,enabled:!!e&&!!t?.trim(),queryKey:["admin","signal-configs",e||"",t||""]}),dwe=({type:e,value:t})=>{const n=yt();return It({mutationFn:async i=>{const a={updates:i.map((o,c)=>({id:o.id,sort_order:c+1}))};await Ue({url:"/admin/config/signal-configs/reorder",method:"PATCH",body:a,admin:!0})},mutationKey:["reorderSignalConfigs",e,t],onSuccess:(i,r)=>{Tt.success(`Reordered ${r.length} signal config${r.length!==1?"s":""}`)},onError:i=>{console.error("Failed to reorder signal configs:",i),Tt.error("Failed to reorder signal configs")},onSettled:()=>{n.invalidateQueries({queryKey:["admin","signal-configs",e||"",t||""]})}})},HG=e=>{if(!e)return null;if("alert_display_type"in e&&e.alert_display_type)return{display_type:`${e.alert_display_type}`,title:`${e.alert_title}`,explanation:e.explanation};if(e.alert_type==="champion_alert"&&!e.alert_display_type)return{display_type:"Champion Alert",title:`${e.person_name} moved ${e.old_organization_name?`from ${e.old_organization_name} `:""}to ${e.new_organization_name} ${e.new_title?`as ${e.new_title}`:""}`,explanation:`They joined ${e.start_date?`in ${e.start_date}`:""} from ${e.old_organization_name} ${e.old_title?`, previously ${e.old_title}`:""}`};{const t=e.alert_type;return t?t==="project"?{display_type:`New ${e.matched_projects?.[0]?.name??""} project`,title:`${e.organization_name} is working on a ${e.matched_projects?.[0]?.name??""} project`,explanation:e.explanation}:t==="org_technology_first_mentions"?{display_type:"First mention in organization",title:`${e.organization_name} mentioned ${e.matched_technologies[0]?.name} for the first time`,explanation:e.explanation}:t==="team_technology_first_mentions"?{display_type:"First mention on team",title:`${e.organization_name}'s ${e.teams[0]?.name} team mentioned ${e.matched_technologies[0]?.name}`,explanation:e.explanation}:t==="job_function_recent_hires"?{display_type:`New hire in  ${e.matched_job_functions[0]} job function`,title:`${e.organization_name} hired ${e.person_name} as ${e.explanation}`,explanation:void 0}:t==="technology_any_mentions"?{display_type:`${e.matched_technologies[0]?.name} mentioned`,title:`${e.organization_name} is hiring a ${e.title} for ${e.matched_technologies[0]?.name}`,explanation:e.explanation}:t==="technology_recent_hires"?{display_type:`New hire using ${e.matched_technologies[0]?.name}`,title:`${e.organization_name} hired ${e.person_name}`,explanation:e.explanation}:t==="job_function_trends"?{display_type:"Job function trend",title:e.explanation??`${e.matched_job_functions[0]} trend`,explanation:""}:t==="technology_trends"?{display_type:"Technology trend",title:e.explanation??`
                ${e.matched_technologies[0]?.name} trend`,explanation:""}:null:null}},ff=()=>It({mutationFn:async n=>{await Ue({url:"/activity",method:"POST",body:JSON.stringify(n),contentType:"application/json"})}}),GG=async(e,t)=>{await e.cancelQueries({queryKey:["profile_feed"]});for(const r of t)await e.cancelQueries({queryKey:["signal",`us${r.alertId}`]});const n=e.getQueriesData({queryKey:["profile_feed"]}),s=e.getQueriesData({queryKey:["signal"]}),i=new Map(t.map(r=>[r.alertId,{field:r.fieldName,value:r.value}]));return e.setQueriesData({queryKey:["profile_feed"]},r=>r&&{...r,feed_items:r.feed_items.map(a=>{const o=i.get(a.alert_id);return o!==void 0?{...a,[o.field]:o.value}:a})}),t.forEach(r=>{e.setQueriesData({queryKey:["signal",`us${r.alertId}`]},a=>a&&{...a,[r.fieldName]:r.value})}),{previousFeedData:n,previousSignalData:s}},WG=(e,t,n)=>{t.forEach(([s,i])=>{e.setQueryData(s,i)}),n&&n.forEach(([s,i])=>{e.setQueryData(s,i)})},YG=()=>{const e="/account/feeds/set-favorite",t=yt();return It({mutationFn:async({signals:i})=>{const r={signals:i.map(o=>({alert_id:o.alertId,is_favorite:o.isFavorite}))};return{data:(await Ue({url:e,method:"POST",body:JSON.stringify(r),contentType:"application/json"})).data,signals:i}},mutationKey:["signalsFavorite"],onMutate:async({signals:i})=>{const r=i.map(a=>({alertId:a.alertId,fieldName:"is_favorite",value:a.isFavorite}));return await GG(t,r)},onError:(i,r,a)=>{a?.previousFeedData&&WG(t,a.previousFeedData,a.previousSignalData)},onSuccess:({signals:i})=>{const r=i.map(a=>a.alertId);t.invalidateQueries({queryKey:["profile_feed"]}),r.forEach(a=>{t.invalidateQueries({queryKey:["signal",`us${a.toString()}`]})})}})};function uD({signal:e}){const t=YG(),n=s=>{s.preventDefault(),s.stopPropagation(),t.mutate({signals:[{alertId:e.alert_id,isFavorite:!e.is_favorite}]})};return l.jsx("div",{children:l.jsx(Ht,{description:e.is_favorite?"Unfavorite":"Favorite",hotkey:"",placement:"bottom",children:l.jsx("button",{onClick:n,className:"",children:e.is_favorite?l.jsx(Fc,{className:"size-5 text-green-500",fill:"currentColor"}):l.jsx(Fc,{className:"size-5 text-slate-400 hover:text-slate-600"})})})})}const dD={high:"",medium:"",low:""},KG=e=>{if(!e||!e.alert_priority)return null;if(e&&"type"in e&&e.type==="champion_alert")return dD.high;const t=e&&"alert_priority"in e?e.alert_priority??"low":"low";return dD[t]},hwe=({item:e,domain:t,isSelected:n=!1,onShiftClick:s,onNormalClick:i})=>{const{signalId:r}=He(),a=r===String(e.alert_id),o=KG(e),{sendEvent:c}=zn(),{mutate:u}=ff(),h=HG(e),f=g=>{u({activity_type:"alert_click",content:{alert_id:g.alert_id,source:"app",alert_type:"unified_signal"}})};return h?l.jsx(Re,{to:`/signals/us/${e.alert_id}`,className:`group block rounded-md p-3 md:px-6 md:pr-3 md:py-4 m-2 select-none ${a?"bg-slate-100":""} ${n?"bg-slate-100 outline-slate-100 outline-3":""}`,onClick:g=>{if(g.shiftKey&&s){s(g);return}i&&i(),c("signals_browser_card_click",{category:"Signals"}),f(e)},children:l.jsxs("div",{className:"flex flex-row gap-2 md:gap-8 justify-between",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("div",{className:"text-slate-400 text-sm font-medium",children:h.display_type}),l.jsxs("div",{className:"flex flex-row gap-3",children:[l.jsx("div",{className:"max-md:hidden flex-none mt-1",children:l.jsx(Wg,{url:t??void 0,orgName:("organization_name"in e?e.organization_name:e.new_organization_name)??"",className:"mix-blend-darken"})}),l.jsx("div",{className:`font-medium leading-[1.3] ${e.is_useful===!0||e.is_useful===!1?"text-slate-400":"text-slate-800"}`,children:h.title})]})]}),l.jsxs("div",{className:"flex flex-col justify-between items-end group/fav",children:[l.jsx(l.Fragment,{children:e.is_favorite?l.jsx("div",{className:"relative left-0.5",children:l.jsx(uD,{signal:e})}):l.jsx(l.Fragment,{children:l.jsxs("div",{className:"flex",children:[l.jsx(Ht,{description:`${di(e.alert_priority??"Low",!0)} priority`,className:"group-hover/fav:hidden!",children:e.is_useful===!0?l.jsx(kV,{className:"w-5 h-5 text-green-600"}):e.is_useful===!1?l.jsx(gd,{className:"w-5 h-5 text-red-600"}):o}),l.jsx("div",{className:"group-hover/fav:block! hidden relative left-0.5",children:l.jsx(uD,{signal:e})})]})})}),l.jsx("div",{className:"text-sm text-slate-400",children:Pl(e.datetime_pulled)})]})]})}):null},tL={project:"Mention of a project",org_technology_first_mentions:"First mention of tech in org",team_technology_first_mentions:"First mention of tech in team",job_function_recent_hires:"Recent hires in job function",technology_any_mentions:"Any mention of tech",technology_trends:"Trends in technology",technology_recent_hires:"Recent hires in technology",job_function_trends:"Job Function Trend",champion_alert:"Champion Alert"},qG=e=>e?e.children&&Array.isArray(e.children)?e.children.reduce((t,n)=>t+qG(n),0):e.field?1:0:0,fwe=({item:e})=>{const t=qG(e.filter_advanced_query);return t===0?null:l.jsx(Ht,{placement:"bottom-end",delay:0,tooltipClassName:"!bg-white p-4! border border-slate-200",description:l.jsx("div",{className:"text-black max-w-[30rem]",children:e.filter_advanced_query&&l.jsx(bU,{item:e.filter_advanced_query,fullSizeText:!0,vertical:!0,dontTruncate:!0})}),children:l.jsxs("div",{className:"cursor-help -ml-3 text-slate-600 bg-slate-100 px-2 pr-3 h-[1.6rem] font-medium text-[0.9rem] rounded-full flex flex-row gap-2 items-center",children:["+",t]})})},pwe=()=>{const e=yt();return It({mutationFn:async n=>{await Ue({url:`/admin/config/signal-configs/${n}`,method:"DELETE"})},mutationKey:["deleteSignalConfig"],onSettled:async()=>{await e.invalidateQueries({queryKey:["admin","signal-configs"]})}})},gwe=({setIsShowingDeleteModal:e,id:t})=>{const{mutate:n,isSuccess:s}=pwe(),i=()=>{n(t)};return w.useEffect(()=>{s&&(e(!1),ln("Signal configuration deleted."))},[s,e]),l.jsx(d2,{setIsShowingDeleteModal:e,handleDelete:i,title:"Delete signal configuration?",description:"This will permanently remove this signal configuration. This action cannot be undone."})},mwe=({item:e,dragHandleProps:t})=>{const[n,s]=w.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"hover:bg-slate-50/50! bg-white border border-slate-200/50 rounded-2xl px-5 flex flex-row gap-4 items-center mb-3",children:[l.jsx("div",{children:l.jsx("div",{...t,className:"size-8 flex items-center justify-center bg-slate-200 text-slate-600 rounded-full cursor-grab active:cursor-grabbing",children:e.sort_order})}),l.jsx("div",{children:dD[e.priority??"low"]}),l.jsx(Re,{to:`/admin/configs/signals/${e.id}`,className:"ml-4 block flex-1 py-5",children:e.name}),l.jsxs("div",{className:"text-slate-400",children:[$e(e.signal_count_7d??0)??0," in last 7d"]}),l.jsx("div",{children:l.jsxs("div",{className:"text-green-800 bg-green-100 px-2 pr-3 h-[1.6rem] font-medium text-[0.9rem] rounded-full flex flex-row gap-2 items-center",children:[l.jsx(Bk,{className:"size-4 opacity-50"}),e.signal_type&&tL[e.signal_type]]})}),l.jsx(fwe,{item:e}),l.jsx(Re,{to:`/admin/configs/signals/${e.id}`,className:"ml-4",children:l.jsx(i2,{})}),l.jsx("div",{className:"cursor-pointer ",onClick:()=>s(!0),children:l.jsx(a2,{className:"text-slate-400 hover:text-red-600"})})]}),n&&l.jsx(gwe,{setIsShowingDeleteModal:s,id:e.id})]})};function xr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ywe=typeof Symbol=="function"&&Symbol.observable||"@@observable",W8=ywe,Y8=()=>Math.random().toString(36).substring(7).split("").join("."),xwe={INIT:`@@redux/INIT${Y8()}`,REPLACE:`@@redux/REPLACE${Y8()}`},K8=xwe;function bwe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ZG(e,t,n){if(typeof e!="function")throw new Error(xr(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xr(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xr(1));return n(ZG)(e,t)}let s=e,i=t,r=new Map,a=r,o=0,c=!1;function u(){a===r&&(a=new Map,r.forEach((S,C)=>{a.set(C,S)}))}function h(){if(c)throw new Error(xr(3));return i}function f(S){if(typeof S!="function")throw new Error(xr(4));if(c)throw new Error(xr(5));let C=!0;u();const M=o++;return a.set(M,S),function(){if(C){if(c)throw new Error(xr(6));C=!1,u(),a.delete(M),r=null}}}function g(S){if(!bwe(S))throw new Error(xr(7));if(typeof S.type>"u")throw new Error(xr(8));if(typeof S.type!="string")throw new Error(xr(17));if(c)throw new Error(xr(9));try{c=!0,i=s(i,S)}finally{c=!1}return(r=a).forEach(M=>{M()}),S}function m(S){if(typeof S!="function")throw new Error(xr(10));s=S,g({type:K8.REPLACE})}function y(){const S=f;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(xr(11));function M(){const T=C;T.next&&T.next(h())}return M(),{unsubscribe:S(M)}},[W8](){return this}}}return g({type:K8.INIT}),{dispatch:g,subscribe:f,getState:h,replaceReducer:m,[W8]:y}}function q8(e,t){return function(...n){return t(e.apply(this,n))}}function Z8(e,t){if(typeof e=="function")return q8(e,t);if(typeof e!="object"||e===null)throw new Error(xr(16));const n={};for(const s in e){const i=e[s];typeof i=="function"&&(n[s]=q8(i,t))}return n}function QG(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...s)=>t(n(...s)))}function vwe(...e){return t=>(n,s)=>{const i=t(n,s);let r=()=>{throw new Error(xr(15))};const a={getState:i.getState,dispatch:(c,...u)=>r(c,...u)},o=e.map(c=>c(a));return r=QG(...o)(i.dispatch),{...i,dispatch:r}}}var Swe=w.version.startsWith("19"),wwe=Symbol.for(Swe?"react.transitional.element":"react.element"),Cwe=Symbol.for("react.portal"),Mwe=Symbol.for("react.fragment"),jwe=Symbol.for("react.strict_mode"),Nwe=Symbol.for("react.profiler"),Awe=Symbol.for("react.consumer"),Twe=Symbol.for("react.context"),XG=Symbol.for("react.forward_ref"),Ewe=Symbol.for("react.suspense"),Dwe=Symbol.for("react.suspense_list"),nL=Symbol.for("react.memo"),kwe=Symbol.for("react.lazy"),Iwe=XG,Lwe=nL;function Owe(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case wwe:switch(e=e.type,e){case Mwe:case Nwe:case jwe:case Ewe:case Dwe:return e;default:switch(e=e&&e.$$typeof,e){case Twe:case XG:case kwe:case nL:return e;case Awe:return e;default:return t}}case Cwe:return t}}}function Rwe(e){return Owe(e)===nL}function _we(e,t,n,s,{areStatesEqual:i,areOwnPropsEqual:r,areStatePropsEqual:a}){let o=!1,c,u,h,f,g;function m(M,N){return c=M,u=N,h=e(c,u),f=t(s,u),g=n(h,f,u),o=!0,g}function y(){return h=e(c,u),t.dependsOnOwnProps&&(f=t(s,u)),g=n(h,f,u),g}function b(){return e.dependsOnOwnProps&&(h=e(c,u)),t.dependsOnOwnProps&&(f=t(s,u)),g=n(h,f,u),g}function S(){const M=e(c,u),N=!a(M,h);return h=M,N&&(g=n(h,f,u)),g}function C(M,N){const T=!r(N,u),E=!i(M,c,N,u);return c=M,u=N,T&&E?y():T?b():E?S():g}return function(N,T){return o?C(N,T):m(N,T)}}function Pwe(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:s,...i}){const r=t(e,i),a=n(e,i),o=s(e,i);return _we(r,a,o,e,i)}function zwe(e,t){const n={};for(const s in e){const i=e[s];typeof i=="function"&&(n[s]=(...r)=>t(i(...r)))}return n}function hD(e){return function(n){const s=e(n);function i(){return s}return i.dependsOnOwnProps=!1,i}}function Q8(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function JG(e,t){return function(s,{displayName:i}){const r=function(o,c){return r.dependsOnOwnProps?r.mapToProps(o,c):r.mapToProps(o,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(o,c){r.mapToProps=e,r.dependsOnOwnProps=Q8(e);let u=r(o,c);return typeof u=="function"&&(r.mapToProps=u,r.dependsOnOwnProps=Q8(u),u=r(o,c)),u},r}}function sL(e,t){return(n,s)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${s.wrappedComponentName}.`)}}function Fwe(e){return e&&typeof e=="object"?hD(t=>zwe(e,t)):e?typeof e=="function"?JG(e):sL(e,"mapDispatchToProps"):hD(t=>({dispatch:t}))}function $we(e){return e?typeof e=="function"?JG(e):sL(e,"mapStateToProps"):hD(()=>({}))}function Bwe(e,t,n){return{...n,...e,...t}}function Vwe(e){return function(n,{displayName:s,areMergedPropsEqual:i}){let r=!1,a;return function(c,u,h){const f=e(c,u,h);return r?i(f,a)||(a=f):(r=!0,a=f),a}}}function Uwe(e){return e?typeof e=="function"?Vwe(e):sL(e,"mergeProps"):()=>Bwe}function Hwe(e){e()}function Gwe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Hwe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=e;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!s||e===null||(s=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var X8={notify(){},get:()=>[]};function eW(e,t){let n,s=X8,i=0,r=!1;function a(b){h();const S=s.subscribe(b);let C=!1;return()=>{C||(C=!0,S(),f())}}function o(){s.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return r}function h(){i++,n||(n=t?t.addNestedSub(c):e.subscribe(c),s=Gwe())}function f(){i--,n&&i===0&&(n(),n=void 0,s.clear(),s=X8)}function g(){r||(r=!0,h())}function m(){r&&(r=!1,f())}const y={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:g,tryUnsubscribe:m,getListeners:()=>s};return y}var Wwe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ywe=Wwe(),Kwe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",qwe=Kwe(),Zwe=()=>Ywe||qwe?w.useLayoutEffect:w.useEffect,aw=Zwe();function J8(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function sT(e,t){if(J8(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!J8(e[n[i]],t[n[i]]))return!1;return!0}var Qwe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Xwe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Jwe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tW={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},e2e={[Iwe]:Jwe,[Lwe]:tW};function e7(e){return Rwe(e)?tW:e2e[e.$$typeof]||Qwe}var t2e=Object.defineProperty,n2e=Object.getOwnPropertyNames,t7=Object.getOwnPropertySymbols,s2e=Object.getOwnPropertyDescriptor,i2e=Object.getPrototypeOf,n7=Object.prototype;function fD(e,t){if(typeof t!="string"){if(n7){const r=i2e(t);r&&r!==n7&&fD(e,r)}let n=n2e(t);t7&&(n=n.concat(t7(t)));const s=e7(e),i=e7(t);for(let r=0;r<n.length;++r){const a=n[r];if(!Xwe[a]&&!(i&&i[a])&&!(s&&s[a])){const o=s2e(t,a);try{t2e(e,a,o)}catch{}}}}return e}var r2e=Symbol.for("react-redux-context"),a2e=typeof globalThis<"u"?globalThis:{};function o2e(){if(!w.createContext)return{};const e=a2e[r2e]??=new Map;let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var nW=o2e(),l2e=[null,null];function c2e(e,t,n){aw(()=>e(...t),n)}function u2e(e,t,n,s,i,r){e.current=s,n.current=!1,i.current&&(i.current=null,r())}function d2e(e,t,n,s,i,r,a,o,c,u,h){if(!e)return()=>{};let f=!1,g=null;const m=()=>{if(f||!o.current)return;const b=t.getState();let S,C;try{S=s(b,i.current)}catch(M){C=M,g=M}C||(g=null),S===r.current?a.current||u():(r.current=S,c.current=S,a.current=!0,h())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,g)throw g}}function h2e(e,t){return e===t}function f2e(e,t,n,{pure:s,areStatesEqual:i=h2e,areOwnPropsEqual:r=sT,areStatePropsEqual:a=sT,areMergedPropsEqual:o=sT,forwardRef:c=!1,context:u=nW}={}){const h=u,f=$we(e),g=Fwe(t),m=Uwe(n),y=!!e;return S=>{const C=S.displayName||S.name||"Component",M=`Connect(${C})`,N={shouldHandleStateChanges:y,displayName:M,wrappedComponentName:C,WrappedComponent:S,initMapStateToProps:f,initMapDispatchToProps:g,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:a,areOwnPropsEqual:r,areMergedPropsEqual:o};function T(L){const[I,_,F]=w.useMemo(()=>{const{reactReduxForwardedRef:Ge,...Je}=L;return[L.context,Ge,Je]},[L]),G=w.useMemo(()=>{let Ge=h;return I?.Consumer,Ge},[I,h]),U=w.useContext(G),H=!!L.store&&!!L.store.getState&&!!L.store.dispatch,z=!!U&&!!U.store,$=H?L.store:U.store,P=z?U.getServerState:$.getState,B=w.useMemo(()=>Pwe($.dispatch,N),[$]),[Y,K]=w.useMemo(()=>{if(!y)return l2e;const Ge=eW($,H?void 0:U.subscription),Je=Ge.notifyNestedSubs.bind(Ge);return[Ge,Je]},[$,H,U]),te=w.useMemo(()=>H?U:{...U,subscription:Y},[H,U,Y]),se=w.useRef(void 0),fe=w.useRef(F),oe=w.useRef(void 0),Ee=w.useRef(!1),ye=w.useRef(!1),je=w.useRef(void 0);aw(()=>(ye.current=!0,()=>{ye.current=!1}),[]);const me=w.useMemo(()=>()=>oe.current&&F===fe.current?oe.current:B($.getState(),F),[$,F]),be=w.useMemo(()=>Je=>Y?d2e(y,$,Y,B,fe,se,Ee,ye,oe,K,Je):()=>{},[Y]);c2e(u2e,[fe,se,Ee,F,oe,K]);let Ae;try{Ae=w.useSyncExternalStore(be,me,P?()=>B(P(),F):me)}catch(Ge){throw je.current&&(Ge.message+=`
The error may be correlated with this previous error:
${je.current.stack}

`),Ge}aw(()=>{je.current=void 0,oe.current=void 0,se.current=Ae});const Te=w.useMemo(()=>w.createElement(S,{...Ae,ref:_}),[_,S,Ae]);return w.useMemo(()=>y?w.createElement(G.Provider,{value:te},Te):Te,[G,Te,te])}const k=w.memo(T);if(k.WrappedComponent=S,k.displayName=T.displayName=M,c){const I=w.forwardRef(function(F,G){return w.createElement(k,{...F,reactReduxForwardedRef:G})});return I.displayName=M,I.WrappedComponent=S,fD(I,S)}return fD(k,S)}}var sW=f2e;function p2e(e){const{children:t,context:n,serverState:s,store:i}=e,r=w.useMemo(()=>{const c=eW(i);return{store:i,subscription:c,getServerState:s?()=>s:void 0}},[i,s]),a=w.useMemo(()=>i.getState(),[i]);aw(()=>{const{subscription:c}=r;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[r,a]);const o=n||nW;return w.createElement(o.Provider,{value:r},t)}var g2e=p2e,m2e="Invariant failed";function y2e(e,t){throw new Error(m2e)}var _o=function(t){var n=t.top,s=t.right,i=t.bottom,r=t.left,a=s-r,o=i-n,c={top:n,right:s,bottom:i,left:r,width:a,height:o,x:r,y:n,center:{x:(s+r)/2,y:(i+n)/2}};return c},iL=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},s7=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},x2e=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},iT={top:0,right:0,bottom:0,left:0},rL=function(t){var n=t.borderBox,s=t.margin,i=s===void 0?iT:s,r=t.border,a=r===void 0?iT:r,o=t.padding,c=o===void 0?iT:o,u=_o(iL(n,i)),h=_o(s7(n,a)),f=_o(s7(h,c));return{marginBox:u,borderBox:_o(n),paddingBox:h,contentBox:f,margin:i,border:a,padding:c}},Ba=function(t){var n=t.slice(0,-2),s=t.slice(-2);if(s!=="px")return 0;var i=Number(n);return isNaN(i)&&y2e(),i},b2e=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ow=function(t,n){var s=t.borderBox,i=t.border,r=t.margin,a=t.padding,o=x2e(s,n);return rL({borderBox:o,border:i,margin:r,padding:a})},lw=function(t,n){return n===void 0&&(n=b2e()),ow(t,n)},iW=function(t,n){var s={top:Ba(n.marginTop),right:Ba(n.marginRight),bottom:Ba(n.marginBottom),left:Ba(n.marginLeft)},i={top:Ba(n.paddingTop),right:Ba(n.paddingRight),bottom:Ba(n.paddingBottom),left:Ba(n.paddingLeft)},r={top:Ba(n.borderTopWidth),right:Ba(n.borderRightWidth),bottom:Ba(n.borderBottomWidth),left:Ba(n.borderLeftWidth)};return rL({borderBox:t,margin:s,padding:i,border:r})},rW=function(t){var n=t.getBoundingClientRect(),s=window.getComputedStyle(t);return iW(n,s)},Ox=function(t){var n=[],s=null,i=function(){for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];n=o,!s&&(s=requestAnimationFrame(function(){s=null,t.apply(void 0,n)}))};return i.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},i};function aW(e,t){}aW.bind(null,"warn");aW.bind(null,"error");function od(){}function v2e(e,t){return{...e,...t}}function no(e,t,n){const s=t.map(i=>{const r=v2e(n,i.options);return e.addEventListener(i.eventName,i.fn,r),function(){e.removeEventListener(i.eventName,i.fn,r)}});return function(){s.forEach(r=>{r()})}}const S2e="Invariant failed";class cw extends Error{}cw.prototype.toString=function(){return this.message};function Le(e,t){throw new cw(S2e)}let w2e=class extends Xe.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=od,this.onWindowError=n=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),n.error instanceof cw&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=no(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof cw){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const C2e=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,uw=e=>e+1,M2e=e=>`
  You have lifted an item in position ${uw(e.source.index)}
`,oW=(e,t)=>{const n=e.droppableId===t.droppableId,s=uw(e.index),i=uw(t.index);return n?`
      You have moved the item from position ${s}
      to position ${i}
    `:`
    You have moved the item from position ${s}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},lW=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,j2e=e=>{const t=e.destination;if(t)return oW(e.source,t);const n=e.combine;return n?lW(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},i7=e=>`
  The item has returned to its starting position
  of ${uw(e.index)}
`,N2e=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${i7(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${oW(e.source,t)}
    `:n?`
      You have dropped the item.
      ${lW(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${i7(e.source)}
  `},pS={dragHandleUsageInstructions:C2e,onDragStart:M2e,onDragUpdate:j2e,onDragEnd:N2e};function A2e(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function cW(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!A2e(e[n],t[n]))return!1;return!0}function cn(e,t){const n=w.useState(()=>({inputs:t,result:e()}))[0],s=w.useRef(!0),i=w.useRef(n),a=s.current||!!(t&&i.current.inputs&&cW(t,i.current.inputs))?i.current:{inputs:t,result:e()};return w.useEffect(()=>{s.current=!1,i.current=a},[a]),a.result}function dt(e,t){return cn(()=>e,t)}const ji={x:0,y:0},Gi=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),pa=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),ld=(e,t)=>e.x===t.x&&e.y===t.y,Zg=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Qh=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},Rx=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),r7=(e,t)=>Math.min(...t.map(n=>Rx(e,n))),uW=e=>t=>({x:e(t.x),y:e(t.y)});var T2e=(e,t)=>{const n=_o({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const X0=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),a7=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],E2e={top:0,right:0,bottom:0,left:0},D2e=(e,t)=>t?X0(e,t.scroll.diff.displacement):e,k2e=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,I2e=(e,t)=>t&&t.shouldClipSubject?T2e(t.pageMarginBox,e):_o(e);var vg=({page:e,withPlaceholder:t,axis:n,frame:s})=>{const i=D2e(e.marginBox,s),r=k2e(i,n,t),a=I2e(r,s);return{page:e,withPlaceholder:t,active:a}},aL=(e,t)=>{e.frame||Le();const n=e.frame,s=pa(t,n.scroll.initial),i=Zg(s),r={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:s,displacement:i},max:n.scroll.max}},a=vg({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:r});return{...e,frame:r,subject:a}};function Mi(e,t=cW){let n=null;function s(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const r=e.apply(this,i);return n={lastResult:r,lastArgs:i,lastThis:this},r}return s.clear=function(){n=null},s}const dW=Mi(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),hW=Mi(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),A2=Mi(e=>Object.values(e)),L2e=Mi(e=>Object.values(e));var Qg=Mi((e,t)=>L2e(t).filter(s=>e===s.descriptor.droppableId).sort((s,i)=>s.descriptor.index-i.descriptor.index));function oL(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function T2(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var E2=Mi((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),O2e=({isMovingForward:e,draggable:t,destination:n,insideDestination:s,previousImpact:i})=>{if(!n.isCombineEnabled||!oL(i))return null;function a(m){const y={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...i,at:y}}const o=i.displaced.all,c=o.length?o[0]:null;if(e)return c?a(c):null;const u=E2(t,s);if(!c){if(!u.length)return null;const m=u[u.length-1];return a(m.descriptor.id)}const h=u.findIndex(m=>m.descriptor.id===c);h===-1&&Le();const f=h-1;if(f<0)return null;const g=u[f];return a(g.descriptor.id)},Xg=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const fW={point:ji,value:0},_x={invisible:{},visible:{},all:[]},R2e={displaced:_x,displacedBy:fW,at:null};var ro=(e,t)=>n=>e<=n&&n<=t,pW=e=>{const t=ro(e.top,e.bottom),n=ro(e.left,e.right);return s=>{if(t(s.top)&&t(s.bottom)&&n(s.left)&&n(s.right))return!0;const r=t(s.top)||t(s.bottom),a=n(s.left)||n(s.right);if(r&&a)return!0;const c=s.top<e.top&&s.bottom>e.bottom,u=s.left<e.left&&s.right>e.right;return c&&u?!0:c&&a||u&&r}},_2e=e=>{const t=ro(e.top,e.bottom),n=ro(e.left,e.right);return s=>t(s.top)&&t(s.bottom)&&n(s.left)&&n(s.right)};const lL={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},gW={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var P2e=e=>t=>{const n=ro(t.top,t.bottom),s=ro(t.left,t.right);return i=>e===lL?n(i.top)&&n(i.bottom):s(i.left)&&s(i.right)};const z2e=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:ji;return X0(e,n)},F2e=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,$2e=(e,t,n)=>n(t)(e),cL=({target:e,destination:t,viewport:n,withDroppableDisplacement:s,isVisibleThroughFrameFn:i})=>{const r=s?z2e(e,t):e;return F2e(r,t,i)&&$2e(r,n,i)},B2e=e=>cL({...e,isVisibleThroughFrameFn:pW}),mW=e=>cL({...e,isVisibleThroughFrameFn:_2e}),V2e=e=>cL({...e,isVisibleThroughFrameFn:P2e(e.destination.axis)}),U2e=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:s,visible:i}=t;if(s[e])return!1;const r=i[e];return r?r.shouldAnimate:!0};function H2e(e,t){const n=e.page.marginBox,s={top:t.point.y,right:0,bottom:0,left:t.point.x};return _o(iL(n,s))}function Px({afterDragging:e,destination:t,displacedBy:n,viewport:s,forceShouldAnimate:i,last:r}){return e.reduce(function(o,c){const u=H2e(c,n),h=c.descriptor.id;if(o.all.push(h),!B2e({target:u,destination:t,viewport:s,withDroppableDisplacement:!0}))return o.invisible[c.descriptor.id]=!0,o;const g=U2e(h,r,i),m={draggableId:h,shouldAnimate:g};return o.visible[h]=m,o},{all:[],visible:{},invisible:{}})}function G2e(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function o7({insideDestination:e,inHomeList:t,displacedBy:n,destination:s}){const i=G2e(e,{inHomeList:t});return{displaced:_x,displacedBy:n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:i}}}}function dw({draggable:e,insideDestination:t,destination:n,viewport:s,displacedBy:i,last:r,index:a,forceShouldAnimate:o}){const c=Xg(e,n);if(a==null)return o7({insideDestination:t,inHomeList:c,displacedBy:i,destination:n});const u=t.find(y=>y.descriptor.index===a);if(!u)return o7({insideDestination:t,inHomeList:c,displacedBy:i,destination:n});const h=E2(e,t),f=t.indexOf(u),g=h.slice(f);return{displaced:Px({afterDragging:g,destination:n,displacedBy:i,last:r,viewport:s.frame,forceShouldAnimate:o}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function Sd(e,t){return!!t.effected[e]}var W2e=({isMovingForward:e,destination:t,draggables:n,combine:s,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const r=s.draggableId,o=n[r].descriptor.index;return Sd(r,i)?e?o:o-1:e?o+1:o},Y2e=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:s})=>{if(!n.length)return null;const i=s.index,r=e?i+1:i-1,a=n[0].descriptor.index,o=n[n.length-1].descriptor.index,c=t?o:o+1;return r<a||r>c?null:r},K2e=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:s,destination:i,insideDestination:r,previousImpact:a,viewport:o,afterCritical:c})=>{const u=a.at;if(u||Le(),u.type==="REORDER"){const f=Y2e({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:r});return f==null?null:dw({draggable:n,insideDestination:r,destination:i,viewport:o,last:a.displaced,displacedBy:a.displacedBy,index:f})}const h=W2e({isMovingForward:e,destination:i,displaced:a.displaced,draggables:s,combine:u.combine,afterCritical:c});return h==null?null:dw({draggable:n,insideDestination:r,destination:i,viewport:o,last:a.displaced,displacedBy:a.displacedBy,index:h})},q2e=({displaced:e,afterCritical:t,combineWith:n,displacedBy:s})=>{const i=!!(e.visible[n]||e.invisible[n]);return Sd(n,t)?i?ji:Zg(s.point):i?s.point:ji},Z2e=({afterCritical:e,impact:t,draggables:n})=>{const s=T2(t);s||Le();const i=s.draggableId,r=n[i].page.borderBox.center,a=q2e({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Gi(r,a)};const yW=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Q2e=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,uL=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,l7=({axis:e,moveRelativeTo:t,isMoving:n})=>Qh(e.line,t.marginBox[e.end]+yW(e,n),uL(e,t.marginBox,n)),c7=({axis:e,moveRelativeTo:t,isMoving:n})=>Qh(e.line,t.marginBox[e.start]-Q2e(e,n),uL(e,t.marginBox,n)),X2e=({axis:e,moveInto:t,isMoving:n})=>Qh(e.line,t.contentBox[e.start]+yW(e,n),uL(e,t.contentBox,n));var J2e=({impact:e,draggable:t,draggables:n,droppable:s,afterCritical:i})=>{const r=Qg(s.descriptor.id,n),a=t.page,o=s.axis;if(!r.length)return X2e({axis:o,moveInto:s.page,isMoving:a});const{displaced:c,displacedBy:u}=e,h=c.all[0];if(h){const g=n[h];if(Sd(h,i))return c7({axis:o,moveRelativeTo:g.page,isMoving:a});const m=ow(g.page,u.point);return c7({axis:o,moveRelativeTo:m,isMoving:a})}const f=r[r.length-1];if(f.descriptor.id===t.descriptor.id)return a.borderBox.center;if(Sd(f.descriptor.id,i)){const g=ow(f.page,Zg(i.displacedBy.point));return l7({axis:o,moveRelativeTo:g,isMoving:a})}return l7({axis:o,moveRelativeTo:f.page,isMoving:a})},pD=(e,t)=>{const n=e.frame;return n?Gi(t,n.scroll.diff.displacement):t};const eCe=({impact:e,draggable:t,droppable:n,draggables:s,afterCritical:i})=>{const r=t.page.borderBox.center,a=e.at;return!n||!a?r:a.type==="REORDER"?J2e({impact:e,draggable:t,draggables:s,droppable:n,afterCritical:i}):Z2e({impact:e,draggables:s,afterCritical:i})};var D2=e=>{const t=eCe(e),n=e.droppable;return n?pD(n,t):t},xW=(e,t)=>{const n=pa(t,e.scroll.initial),s=Zg(n);return{frame:_o({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:s}}}};function u7(e,t){return e.map(n=>t[n])}function tCe(e,t){for(let n=0;n<t.length;n++){const s=t[n].visible[e];if(s)return s}return null}var nCe=({impact:e,viewport:t,destination:n,draggables:s,maxScrollChange:i})=>{const r=xW(t,Gi(t.scroll.current,i)),a=n.frame?aL(n,Gi(n.frame.scroll.current,i)):n,o=e.displaced,c=Px({afterDragging:u7(o.all,s),destination:n,displacedBy:e.displacedBy,viewport:r.frame,last:o,forceShouldAnimate:!1}),u=Px({afterDragging:u7(o.all,s),destination:a,displacedBy:e.displacedBy,viewport:t.frame,last:o,forceShouldAnimate:!1}),h={},f={},g=[o,c,u];return o.all.forEach(y=>{const b=tCe(y,g);if(b){f[y]=b;return}h[y]=!0}),{...e,displaced:{all:o.all,invisible:h,visible:f}}},sCe=(e,t)=>Gi(e.scroll.diff.displacement,t),dL=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const s=sCe(n,e),i=pa(s,t.page.borderBox.center);return Gi(t.client.borderBox.center,i)},bW=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:s,withDroppableDisplacement:i,onlyOnMainAxis:r=!1})=>{const a=pa(n,e.page.borderBox.center),c={target:X0(e.page.borderBox,a),destination:t,withDroppableDisplacement:i,viewport:s};return r?V2e(c):mW(c)},iCe=({isMovingForward:e,draggable:t,destination:n,draggables:s,previousImpact:i,viewport:r,previousPageBorderBoxCenter:a,previousClientSelection:o,afterCritical:c})=>{if(!n.isEnabled)return null;const u=Qg(n.descriptor.id,s),h=Xg(t,n),f=O2e({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:i})||K2e({isMovingForward:e,isInHomeList:h,draggable:t,draggables:s,destination:n,insideDestination:u,previousImpact:i,viewport:r,afterCritical:c});if(!f)return null;const g=D2({impact:f,draggable:t,droppable:n,draggables:s,afterCritical:c});if(bW({draggable:t,destination:n,newPageBorderBoxCenter:g,viewport:r.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:dL({pageBorderBoxCenter:g,draggable:t,viewport:r}),impact:f,scrollJumpRequest:null};const y=pa(g,a),b=nCe({impact:f,viewport:r,destination:n,draggables:s,maxScrollChange:y});return{clientSelection:o,impact:b,scrollJumpRequest:y}};const yr=e=>{const t=e.subject.active;return t||Le(),t};var rCe=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:s,viewport:i})=>{const r=n.subject.active;if(!r)return null;const a=n.axis,o=ro(r[a.start],r[a.end]),c=A2(s).filter(h=>h!==n).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>pW(i.frame)(yr(h))).filter(h=>{const f=yr(h);return e?r[a.crossAxisEnd]<f[a.crossAxisEnd]:f[a.crossAxisStart]<r[a.crossAxisStart]}).filter(h=>{const f=yr(h),g=ro(f[a.start],f[a.end]);return o(f[a.start])||o(f[a.end])||g(r[a.start])||g(r[a.end])}).sort((h,f)=>{const g=yr(h)[a.crossAxisStart],m=yr(f)[a.crossAxisStart];return e?g-m:m-g}).filter((h,f,g)=>yr(h)[a.crossAxisStart]===yr(g[0])[a.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(h=>ro(yr(h)[a.start],yr(h)[a.end])(t[a.line]));return u.length===1?u[0]:u.length>1?u.sort((h,f)=>yr(h)[a.start]-yr(f)[a.start])[0]:c.sort((h,f)=>{const g=r7(t,a7(yr(h))),m=r7(t,a7(yr(f)));return g!==m?g-m:yr(h)[a.start]-yr(f)[a.start]})[0]};const d7=(e,t)=>{const n=e.page.borderBox.center;return Sd(e.descriptor.id,t)?pa(n,t.displacedBy.point):n},aCe=(e,t)=>{const n=e.page.borderBox;return Sd(e.descriptor.id,t)?X0(n,Zg(t.displacedBy.point)):n};var oCe=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:s,afterCritical:i})=>s.filter(a=>mW({target:aCe(a,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((a,o)=>{const c=Rx(e,pD(n,d7(a,i))),u=Rx(e,pD(n,d7(o,i)));return c<u?-1:u<c?1:a.descriptor.index-o.descriptor.index})[0]||null,J0=Mi(function(t,n){const s=n[t.line];return{value:s,point:Qh(t.line,s)}});const lCe=(e,t,n)=>{const s=e.axis;if(e.descriptor.mode==="virtual")return Qh(s.line,t[s.line]);const i=e.subject.page.contentBox[s.size],c=Qg(e.descriptor.id,n).reduce((u,h)=>u+h.client.marginBox[s.size],0)+t[s.line]-i;return c<=0?null:Qh(s.line,c)},vW=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),SW=(e,t,n)=>{const s=e.frame;Xg(t,e)&&Le(),e.subject.withPlaceholder&&Le();const i=J0(e.axis,t.displaceBy).point,r=lCe(e,i,n),a={placeholderSize:i,increasedBy:r,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!s){const h=vg({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return{...e,subject:h}}const o=r?Gi(s.scroll.max,r):s.scroll.max,c=vW(s,o),u=vg({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},cCe=e=>{const t=e.subject.withPlaceholder;t||Le();const n=e.frame;if(!n){const a=vg({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:a}}const s=t.oldFrameMaxScroll;s||Le();const i=vW(n,s),r=vg({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:r,frame:i}};var uCe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:s,draggables:i,destination:r,viewport:a,afterCritical:o})=>{if(!t){if(n.length)return null;const f={displaced:_x,displacedBy:fW,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:0}}},g=D2({impact:f,draggable:s,droppable:r,draggables:i,afterCritical:o}),m=Xg(s,r)?r:SW(r,s,i);return bW({draggable:s,destination:m,newPageBorderBoxCenter:g,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?f:null}const c=e[r.axis.line]<=t.page.borderBox.center[r.axis.line],u=(()=>{const f=t.descriptor.index;return t.descriptor.id===s.descriptor.id||c?f:f+1})(),h=J0(r.axis,s.displaceBy);return dw({draggable:s,insideDestination:n,destination:r,viewport:a,displacedBy:h,last:_x,index:u})},dCe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:s,draggables:i,droppables:r,viewport:a,afterCritical:o})=>{const c=rCe({isMovingForward:e,pageBorderBoxCenter:t,source:s,droppables:r,viewport:a});if(!c)return null;const u=Qg(c.descriptor.id,i),h=oCe({pageBorderBoxCenter:t,viewport:a,destination:c,insideDestination:u,afterCritical:o}),f=uCe({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:i,moveRelativeTo:h,insideDestination:u,viewport:a,afterCritical:o});if(!f)return null;const g=D2({impact:f,draggable:n,droppable:c,draggables:i,afterCritical:o});return{clientSelection:dL({pageBorderBoxCenter:g,draggable:n,viewport:a}),impact:f,scrollJumpRequest:null}},ga=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const hCe=(e,t)=>{const n=ga(e);return n?t[n]:null};var fCe=({state:e,type:t})=>{const n=hCe(e.impact,e.dimensions.droppables),s=!!n,i=e.dimensions.droppables[e.critical.droppable.id],r=n||i,a=r.axis.direction,o=a==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||a==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(o&&!s)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:f,droppables:g}=e.dimensions;return o?iCe({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:u,destination:r,draggables:f,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):dCe({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:u,isOver:r,draggables:f,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function Nh(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function wW(e){const t=ro(e.top,e.bottom),n=ro(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function pCe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function gCe({pageBorderBox:e,draggable:t,candidates:n}){const s=t.page.borderBox.center,i=n.map(r=>{const a=r.axis,o=Qh(r.axis.line,e.center[a.line],r.page.borderBox.center[a.crossAxisLine]);return{id:r.descriptor.id,distance:Rx(s,o)}}).sort((r,a)=>a.distance-r.distance);return i[0]?i[0].id:null}function mCe({pageBorderBox:e,draggable:t,droppables:n}){const s=A2(n).filter(i=>{if(!i.isEnabled)return!1;const r=i.subject.active;if(!r||!pCe(e,r))return!1;if(wW(r)(e.center))return!0;const a=i.axis,o=r.center[a.crossAxisLine],c=e[a.crossAxisStart],u=e[a.crossAxisEnd],h=ro(r[a.crossAxisStart],r[a.crossAxisEnd]),f=h(c),g=h(u);return!f&&!g?!0:f?c<o:u>o});return s.length?s.length===1?s[0].descriptor.id:gCe({pageBorderBox:e,draggable:t,candidates:s}):null}const CW=(e,t)=>_o(X0(e,t));var yCe=(e,t)=>{const n=e.frame;return n?CW(t,n.scroll.diff.value):t};function MW({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function xCe({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var bCe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:s,last:i,viewport:r,afterCritical:a})=>{const o=n.axis,c=J0(n.axis,t.displaceBy),u=c.value,h=e[o.start],f=e[o.end],m=E2(t,s).find(b=>{const S=b.descriptor.id,C=b.page.borderBox.center[o.line],M=Sd(S,a),N=MW({displaced:i,id:S});return M?N?f<=C:h<C-u:N?f<=C+u:h<C})||null,y=xCe({draggable:t,closest:m,inHomeList:Xg(t,n)});return dw({draggable:t,insideDestination:s,destination:n,viewport:r,last:i,displacedBy:c,index:y})};const vCe=4;var SCe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:s,insideDestination:i,afterCritical:r})=>{if(!s.isCombineEnabled)return null;const a=s.axis,o=J0(s.axis,e.displaceBy),c=o.value,u=t[a.start],h=t[a.end],g=E2(e,i).find(y=>{const b=y.descriptor.id,S=y.page.borderBox,M=S[a.size]/vCe,N=Sd(b,r),T=MW({displaced:n.displaced,id:b});return N?T?h>S[a.start]+M&&h<S[a.end]-M:u>S[a.start]-c+M&&u<S[a.end]-c-M:T?h>S[a.start]+c+M&&h<S[a.end]+c-M:u>S[a.start]+M&&u<S[a.end]-M});return g?{displacedBy:o,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:s.descriptor.id}}}:null},jW=({pageOffset:e,draggable:t,draggables:n,droppables:s,previousImpact:i,viewport:r,afterCritical:a})=>{const o=CW(t.page.borderBox,e),c=mCe({pageBorderBox:o,draggable:t,droppables:s});if(!c)return R2e;const u=s[c],h=Qg(u.descriptor.id,n),f=yCe(u,o);return SCe({pageBorderBoxWithDroppableScroll:f,draggable:t,previousImpact:i,destination:u,insideDestination:h,afterCritical:a})||bCe({pageBorderBoxWithDroppableScroll:f,draggable:t,destination:u,insideDestination:h,last:i.displaced,viewport:r,afterCritical:a})},hL=(e,t)=>({...e,[t.descriptor.id]:t});const wCe=({previousImpact:e,impact:t,droppables:n})=>{const s=ga(e),i=ga(t);if(!s||s===i)return n;const r=n[s];if(!r.subject.withPlaceholder)return n;const a=cCe(r);return hL(n,a)};var CCe=({draggable:e,draggables:t,droppables:n,previousImpact:s,impact:i})=>{const r=wCe({previousImpact:s,impact:i,droppables:n}),a=ga(i);if(!a)return r;const o=n[a];if(Xg(e,o)||o.subject.withPlaceholder)return r;const c=SW(o,e,t);return hL(r,c)},nx=({state:e,clientSelection:t,dimensions:n,viewport:s,impact:i,scrollJumpRequest:r})=>{const a=s||e.viewport,o=n||e.dimensions,c=t||e.current.client.selection,u=pa(c,e.initial.client.selection),h={offset:u,selection:c,borderBoxCenter:Gi(e.initial.client.borderBoxCenter,u)},f={selection:Gi(h.selection,a.scroll.current),borderBoxCenter:Gi(h.borderBoxCenter,a.scroll.current),offset:Gi(h.offset,a.scroll.diff.value)},g={client:h,page:f};if(e.phase==="COLLECTING")return{...e,dimensions:o,viewport:a,current:g};const m=o.draggables[e.critical.draggable.id],y=i||jW({pageOffset:f.offset,draggable:m,draggables:o.draggables,droppables:o.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),b=CCe({draggable:m,impact:y,previousImpact:e.impact,draggables:o.draggables,droppables:o.droppables});return{...e,current:g,dimensions:{draggables:o.draggables,droppables:b},impact:y,viewport:a,scrollJumpRequest:r||null,forceShouldAnimate:r?!1:null}};function MCe(e,t){return e.map(n=>t[n])}var NW=({impact:e,viewport:t,draggables:n,destination:s,forceShouldAnimate:i})=>{const r=e.displaced,a=MCe(r.all,n),o=Px({afterDragging:a,destination:s,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:r});return{...e,displaced:o}},AW=({impact:e,draggable:t,droppable:n,draggables:s,viewport:i,afterCritical:r})=>{const a=D2({impact:e,draggable:t,draggables:s,droppable:n,afterCritical:r});return dL({pageBorderBoxCenter:a,draggable:t,viewport:i})},TW=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Le();const s=e.impact,i=n||e.viewport,r=t||e.dimensions,{draggables:a,droppables:o}=r,c=a[e.critical.draggable.id],u=ga(s);u||Le();const h=o[u],f=NW({impact:s,viewport:i,destination:h,draggables:a}),g=AW({impact:f,draggable:c,droppable:h,draggables:a,viewport:i,afterCritical:e.afterCritical});return nx({impact:f,clientSelection:g,state:e,dimensions:r,viewport:i})},jCe=e=>({index:e.index,droppableId:e.droppableId}),EW=({draggable:e,home:t,draggables:n,viewport:s})=>{const i=J0(t.axis,e.displaceBy),r=Qg(t.descriptor.id,n),a=r.indexOf(e);a===-1&&Le();const o=r.slice(a+1),c=o.reduce((g,m)=>(g[m.descriptor.id]=!0,g),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:c};return{impact:{displaced:Px({afterDragging:o,destination:t,displacedBy:i,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:jCe(e.descriptor)}},afterCritical:u}},NCe=(e,t)=>({draggables:e.draggables,droppables:hL(e.droppables,t)}),ACe=({draggable:e,offset:t,initialWindowScroll:n})=>{const s=ow(e.client,t),i=lw(s,n);return{...e,placeholder:{...e.placeholder,client:s},client:s,page:i}},TCe=e=>{const t=e.frame;return t||Le(),t},ECe=({additions:e,updatedDroppables:t,viewport:n})=>{const s=n.scroll.diff.value;return e.map(i=>{const r=i.descriptor.droppableId,a=t[r],c=TCe(a).scroll.diff.value,u=Gi(s,c);return ACe({draggable:i,offset:u,initialWindowScroll:n.scroll.initial})})},DCe=({state:e,published:t})=>{const n=t.modified.map(C=>{const M=e.dimensions.droppables[C.droppableId];return aL(M,C.scroll)}),s={...e.dimensions.droppables,...dW(n)},i=hW(ECe({additions:t.additions,updatedDroppables:s,viewport:e.viewport})),r={...e.dimensions.draggables,...i};t.removals.forEach(C=>{delete r[C]});const a={droppables:s,draggables:r},o=ga(e.impact),c=o?a.droppables[o]:null,u=a.draggables[e.critical.draggable.id],h=a.droppables[e.critical.droppable.id],{impact:f,afterCritical:g}=EW({draggable:u,home:h,draggables:r,viewport:e.viewport}),m=c&&c.isCombineEnabled?e.impact:f,y=jW({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:m,viewport:e.viewport,afterCritical:g}),b={...e,phase:"DRAGGING",impact:y,onLiftImpact:f,dimensions:a,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?b:{...b,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const gD=e=>e.movementMode==="SNAP",rT=(e,t,n)=>{const s=NCe(e.dimensions,t);return!gD(e)||n?nx({state:e,dimensions:s}):TW({state:e,dimensions:s})};function aT(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const h7={phase:"IDLE",completed:null,shouldFlush:!1};var kCe=(e=h7,t)=>{if(t.type==="FLUSH")return{...h7,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Le();const{critical:n,clientSelection:s,viewport:i,dimensions:r,movementMode:a}=t.payload,o=r.draggables[n.draggable.id],c=r.droppables[n.droppable.id],u={selection:s,borderBoxCenter:o.client.borderBox.center,offset:ji},h={client:u,page:{selection:Gi(u.selection,i.scroll.initial),borderBoxCenter:Gi(u.selection,i.scroll.initial),offset:Gi(u.selection,i.scroll.diff.value)}},f=A2(r.droppables).every(b=>!b.isFixedOnPage),{impact:g,afterCritical:m}=EW({draggable:o,home:c,draggables:r.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:a,dimensions:r,initial:h,current:h,isWindowScrollAllowed:f,impact:g,afterCritical:m,onLiftImpact:g,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Le(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Le(),DCe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Nh(e)||Le();const{client:n}=t.payload;return ld(n,e.current.client.selection)?e:nx({state:e,clientSelection:n,impact:gD(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return aT(e);Nh(e)||Le();const{id:n,newScroll:s}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const r=aL(i,s);return rT(e,r,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Nh(e)||Le();const{id:n,isEnabled:s}=t.payload,i=e.dimensions.droppables[n];i||Le(),i.isEnabled===s&&Le();const r={...i,isEnabled:s};return rT(e,r,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Nh(e)||Le();const{id:n,isCombineEnabled:s}=t.payload,i=e.dimensions.droppables[n];i||Le(),i.isCombineEnabled===s&&Le();const r={...i,isCombineEnabled:s};return rT(e,r,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Nh(e)||Le(),e.isWindowScrollAllowed||Le();const n=t.payload.newScroll;if(ld(e.viewport.scroll.current,n))return aT(e);const s=xW(e.viewport,n);return gD(e)?TW({state:e,viewport:s}):nx({state:e,viewport:s})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Nh(e))return e;const n=t.payload.maxScroll;if(ld(n,e.viewport.scroll.max))return e;const s={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:s}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Le();const n=fCe({state:e,type:t.type});return n?nx({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Le(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:s,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Le(),{phase:"DROP_ANIMATING",completed:n,dropDuration:s,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function kn(e,t){return e instanceof Object&&"type"in e&&e.type===t}const ICe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),LCe=e=>({type:"LIFT",payload:e}),OCe=e=>({type:"INITIAL_PUBLISH",payload:e}),RCe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),_Ce=()=>({type:"COLLECTION_STARTING",payload:null}),PCe=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),zCe=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),FCe=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),DW=e=>({type:"MOVE",payload:e}),$Ce=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),BCe=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),VCe=()=>({type:"MOVE_UP",payload:null}),UCe=()=>({type:"MOVE_DOWN",payload:null}),HCe=()=>({type:"MOVE_RIGHT",payload:null}),GCe=()=>({type:"MOVE_LEFT",payload:null}),fL=()=>({type:"FLUSH",payload:null}),WCe=e=>({type:"DROP_ANIMATE",payload:e}),pL=e=>({type:"DROP_COMPLETE",payload:e}),kW=e=>({type:"DROP",payload:e}),YCe=e=>({type:"DROP_PENDING",payload:e}),IW=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var KCe=e=>({getState:t,dispatch:n})=>s=>i=>{if(!kn(i,"LIFT")){s(i);return}const{id:r,clientSelection:a,movementMode:o}=i.payload,c=t();c.phase==="DROP_ANIMATING"&&n(pL({completed:c.completed})),t().phase!=="IDLE"&&Le(),n(fL()),n(ICe({draggableId:r,movementMode:o}));const h={draggableId:r,scrollOptions:{shouldPublishImmediately:o==="SNAP"}},{critical:f,dimensions:g,viewport:m}=e.startPublishing(h);n(OCe({critical:f,dimensions:g,clientSelection:a,movementMode:o,viewport:m}))},qCe=e=>()=>t=>n=>{kn(n,"INITIAL_PUBLISH")&&e.dragging(),kn(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(kn(n,"FLUSH")||kn(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const gL={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},zx={opacity:{drop:0,combining:.7},scale:{drop:.75}},LW={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},dh=`${LW.outOfTheWay}s ${gL.outOfTheWay}`,sx={fluid:`opacity ${dh}`,snap:`transform ${dh}, opacity ${dh}`,drop:e=>{const t=`${e}s ${gL.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${dh}`,placeholder:`height ${dh}, width ${dh}, margin ${dh}`},f7=e=>ld(e,ji)?void 0:`translate(${e.x}px, ${e.y}px)`,mD={moveTo:f7,drop:(e,t)=>{const n=f7(e);if(n)return t?`${n} scale(${zx.scale.drop})`:n}},{minDropTime:yD,maxDropTime:OW}=LW,ZCe=OW-yD,p7=1500,QCe=.6;var XCe=({current:e,destination:t,reason:n})=>{const s=Rx(e,t);if(s<=0)return yD;if(s>=p7)return OW;const i=s/p7,r=yD+ZCe*i,a=n==="CANCEL"?r*QCe:r;return Number(a.toFixed(2))},JCe=({impact:e,draggable:t,dimensions:n,viewport:s,afterCritical:i})=>{const{draggables:r,droppables:a}=n,o=ga(e),c=o?a[o]:null,u=a[t.descriptor.droppableId],h=AW({impact:e,draggable:t,draggables:r,afterCritical:i,droppable:c||u,viewport:s});return pa(h,t.client.borderBox.center)},eMe=({draggables:e,reason:t,lastImpact:n,home:s,viewport:i,onLiftImpact:r})=>!n.at||t!=="DROP"?{impact:NW({draggables:e,impact:r,destination:s,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:_x},didDropInsideDroppable:!0};const tMe=({getState:e,dispatch:t})=>n=>s=>{if(!kn(s,"DROP")){n(s);return}const i=e(),r=s.payload.reason;if(i.phase==="COLLECTING"){t(YCe({reason:r}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Le(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Le();const o=i.critical,c=i.dimensions,u=c.draggables[i.critical.draggable.id],{impact:h,didDropInsideDroppable:f}=eMe({reason:r,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),g=f?oL(h):null,m=f?T2(h):null,y={index:o.draggable.index,droppableId:o.droppable.id},b={draggableId:u.descriptor.id,type:u.descriptor.type,source:y,reason:r,mode:i.movementMode,destination:g,combine:m},S=JCe({impact:h,draggable:u,dimensions:c,viewport:i.viewport,afterCritical:i.afterCritical}),C={critical:i.critical,afterCritical:i.afterCritical,result:b,impact:h};if(!(!ld(i.current.client.offset,S)||!!b.combine)){t(pL({completed:C}));return}const N=XCe({current:i.current.client.offset,destination:S,reason:r});t(WCe({newHomeClientOffset:S,dropDuration:N,completed:C}))};var RW=()=>({x:window.pageXOffset,y:window.pageYOffset});function nMe(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function sMe({onWindowScroll:e}){function t(){e(RW())}const n=Ox(t),s=nMe(n);let i=od;function r(){return i!==od}function a(){r()&&Le(),i=no(window,[s])}function o(){r()||Le(),n.cancel(),i(),i=od}return{start:a,stop:o,isActive:r}}const iMe=e=>kn(e,"DROP_COMPLETE")||kn(e,"DROP_ANIMATE")||kn(e,"FLUSH"),rMe=e=>{const t=sMe({onWindowScroll:n=>{e.dispatch($Ce({newScroll:n}))}});return n=>s=>{!t.isActive()&&kn(s,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&iMe(s)&&t.stop(),n(s)}};var aMe=e=>{let t=!1,n=!1;const s=setTimeout(()=>{n=!0}),i=r=>{t||n||(t=!0,e(r),clearTimeout(s))};return i.wasCalled=()=>t,i},oMe=()=>{const e=[],t=i=>{const r=e.findIndex(o=>o.timerId===i);r===-1&&Le();const[a]=e.splice(r,1);a.callback()};return{add:i=>{const r=setTimeout(()=>t(r)),a={timerId:r,callback:i};e.push(a)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(r=>{clearTimeout(r.timerId),r.callback()})}}};const lMe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,cMe=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,uMe=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,s=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&s},My=(e,t)=>{t()},D1=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function oT(e,t,n,s){if(!e){n(s(t));return}const i=aMe(n);e(t,{announce:i}),i.wasCalled()||n(s(t))}var dMe=(e,t)=>{const n=oMe();let s=null;const i=(f,g)=>{s&&Le(),My("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:f,mode:g})})},r=(f,g)=>{s&&Le(),My("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(D1(f,g))})},a=(f,g)=>{s&&Le();const m=D1(f,g);s={mode:g,lastCritical:f,lastLocation:m.source,lastCombine:null},n.add(()=>{My("onDragStart",()=>oT(e().onDragStart,m,t,pS.onDragStart))})},o=(f,g)=>{const m=oL(g),y=T2(g);s||Le();const b=!uMe(f,s.lastCritical);b&&(s.lastCritical=f);const S=!lMe(s.lastLocation,m);S&&(s.lastLocation=m);const C=!cMe(s.lastCombine,y);if(C&&(s.lastCombine=y),!b&&!S&&!C)return;const M={...D1(f,s.mode),combine:y,destination:m};n.add(()=>{My("onDragUpdate",()=>oT(e().onDragUpdate,M,t,pS.onDragUpdate))})},c=()=>{s||Le(),n.flush()},u=f=>{s||Le(),s=null,My("onDragEnd",()=>oT(e().onDragEnd,f,t,pS.onDragEnd))};return{beforeCapture:i,beforeStart:r,start:a,update:o,flush:c,drop:u,abort:()=>{if(!s)return;const f={...D1(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};u(f)}}},hMe=(e,t)=>{const n=dMe(e,t);return s=>i=>r=>{if(kn(r,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(r.payload.draggableId,r.payload.movementMode);return}if(kn(r,"INITIAL_PUBLISH")){const o=r.payload.critical;n.beforeStart(o,r.payload.movementMode),i(r),n.start(o,r.payload.movementMode);return}if(kn(r,"DROP_COMPLETE")){const o=r.payload.completed.result;n.flush(),i(r),n.drop(o);return}if(i(r),kn(r,"FLUSH")){n.abort();return}const a=s.getState();a.phase==="DRAGGING"&&n.update(a.critical,a.impact)}};const fMe=e=>t=>n=>{if(!kn(n,"DROP_ANIMATION_FINISHED")){t(n);return}const s=e.getState();s.phase!=="DROP_ANIMATING"&&Le(),e.dispatch(pL({completed:s.completed}))},pMe=e=>{let t=null,n=null;function s(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>r=>{if((kn(r,"FLUSH")||kn(r,"DROP_COMPLETE")||kn(r,"DROP_ANIMATION_FINISHED"))&&s(),i(r),!kn(r,"DROP_ANIMATE"))return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(IW())}};n=requestAnimationFrame(()=>{n=null,t=no(window,[a])})}};var gMe=e=>()=>t=>n=>{(kn(n,"DROP_COMPLETE")||kn(n,"FLUSH")||kn(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},mMe=e=>{let t=!1;return()=>n=>s=>{if(kn(s,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(s.payload.critical.draggable.id),n(s),e.tryRestoreFocusRecorded();return}if(n(s),!!t){if(kn(s,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(kn(s,"DROP_COMPLETE")){t=!1;const i=s.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const yMe=e=>kn(e,"DROP_COMPLETE")||kn(e,"DROP_ANIMATE")||kn(e,"FLUSH");var xMe=e=>t=>n=>s=>{if(yMe(s)){e.stop(),n(s);return}if(kn(s,"INITIAL_PUBLISH")){n(s);const i=t.getState();i.phase!=="DRAGGING"&&Le(),e.start(i);return}n(s),e.scroll(t.getState())};const bMe=e=>t=>n=>{if(t(n),!kn(n,"PUBLISH_WHILE_DRAGGING"))return;const s=e.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||e.dispatch(kW({reason:s.reason})))},vMe=QG;var SMe=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:s,announce:i,autoScroller:r})=>ZG(kCe,vMe(vwe(qCe(n),gMe(e),KCe(e),tMe,fMe,pMe,bMe,xMe(r),rMe,mMe(t),hMe(s,i))));const lT=()=>({additions:{},removals:{},modified:{}});function wMe({registry:e,callbacks:t}){let n=lT(),s=null;const i=()=>{s||(t.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:c,removals:u,modified:h}=n,f=Object.keys(c).map(y=>e.draggable.getById(y).getDimension(ji)).sort((y,b)=>y.descriptor.index-b.descriptor.index),g=Object.keys(h).map(y=>{const S=e.droppable.getById(y).callbacks.getScrollWhileDragging();return{droppableId:y,scroll:S}}),m={additions:f,removals:Object.keys(u),modified:g};n=lT(),t.publish(m)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],i()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],i()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,n=lT())}}}var _W=({scrollHeight:e,scrollWidth:t,height:n,width:s})=>{const i=pa({x:t,y:e},{x:s,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},PW=()=>{const e=document.documentElement;return e||Le(),e},zW=()=>{const e=PW();return _W({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},CMe=()=>{const e=RW(),t=zW(),n=e.y,s=e.x,i=PW(),r=i.clientWidth,a=i.clientHeight,o=s+r,c=n+a;return{frame:_o({top:n,left:s,right:o,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:ji,displacement:ji}}}},MMe=({critical:e,scrollOptions:t,registry:n})=>{const s=CMe(),i=s.scroll.current,r=e.droppable,a=n.droppable.getAllByType(r.type).map(h=>h.callbacks.getDimensionAndWatchScroll(i,t)),o=n.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(i));return{dimensions:{draggables:hW(o),droppables:dW(a)},critical:e,viewport:s}};function g7(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var jMe=(e,t)=>{let n=null;const s=wMe({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(g,m)=>{e.droppable.exists(g)||Le(),n&&t.updateDroppableIsEnabled({id:g,isEnabled:m})},r=(g,m)=>{n&&(e.droppable.exists(g)||Le(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:m}))},a=(g,m)=>{n&&(e.droppable.exists(g)||Le(),t.updateDroppableScroll({id:g,newScroll:m}))},o=(g,m)=>{n&&e.droppable.getById(g).callbacks.scroll(m)},c=()=>{if(!n)return;s.stop();const g=n.critical.droppable;e.droppable.getAllByType(g.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},u=g=>{n||Le();const m=n.critical.draggable;g.type==="ADDITION"&&g7(e,m,g.value)&&s.add(g.value),g.type==="REMOVAL"&&g7(e,m,g.value)&&s.remove(g.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:r,scrollDroppable:o,updateDroppableScroll:a,startPublishing:g=>{n&&Le();const m=e.draggable.getById(g.draggableId),y=e.droppable.getById(m.descriptor.droppableId),b={draggable:m.descriptor,droppable:y.descriptor},S=e.subscribe(u);return n={critical:b,unsubscribe:S},MMe({critical:b,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:c}},FW=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",NMe=e=>{window.scrollBy(e.x,e.y)};const AMe=Mi(e=>A2(e).filter(t=>!(!t.isEnabled||!t.frame))),TMe=(e,t)=>AMe(t).find(s=>(s.frame||Le(),wW(s.frame.pageMarginBox)(e)))||null;var EMe=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return TMe(e,n)};const Fx={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var DMe=(e,t,n=()=>Fx)=>{const s=n(),i=e[t.size]*s.startFromPercentage,r=e[t.size]*s.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:r}},$W=({startOfRange:e,endOfRange:t,current:n})=>{const s=t-e;return s===0?0:(n-e)/s},mL=1,kMe=(e,t,n=()=>Fx)=>{const s=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return s.maxPixelScroll;if(e===t.startScrollingFrom)return mL;const r=1-$W({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),a=s.maxPixelScroll*s.ease(r);return Math.ceil(a)},IMe=(e,t,n)=>{const s=n(),i=s.durationDampening.accelerateAt,r=s.durationDampening.stopDampeningAt,a=t,o=r,u=Date.now()-a;if(u>=r)return e;if(u<i)return mL;const h=$W({startOfRange:i,endOfRange:o,current:u}),f=e*s.ease(h);return Math.ceil(f)},m7=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const r=kMe(e,t,i);return r===0?0:s?Math.max(IMe(r,n,i),mL):r},y7=({container:e,distanceToEdges:t,dragStartTime:n,axis:s,shouldUseTimeDampening:i,getAutoScrollerOptions:r})=>{const a=DMe(e,s,r);return t[s.end]<t[s.start]?m7({distanceToEdge:t[s.end],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:r}):-1*m7({distanceToEdge:t[s.start],thresholds:a,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:r})},LMe=({container:e,subject:t,proposedScroll:n})=>{const s=t.height>e.height,i=t.width>e.width;return!i&&!s?n:i&&s?null:{x:i?0:n.x,y:s?0:n.y}};const OMe=uW(e=>e===0?0:e);var BW=({dragStartTime:e,container:t,subject:n,center:s,shouldUseTimeDampening:i,getAutoScrollerOptions:r})=>{const a={top:s.y-t.top,right:t.right-s.x,bottom:t.bottom-s.y,left:s.x-t.left},o=y7({container:t,distanceToEdges:a,dragStartTime:e,axis:lL,shouldUseTimeDampening:i,getAutoScrollerOptions:r}),c=y7({container:t,distanceToEdges:a,dragStartTime:e,axis:gW,shouldUseTimeDampening:i,getAutoScrollerOptions:r}),u=OMe({x:c,y:o});if(ld(u,ji))return null;const h=LMe({container:t,subject:n,proposedScroll:u});return h?ld(h,ji)?null:h:null};const RMe=uW(e=>e===0?0:e>0?1:-1),yL=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:s})=>{const i=Gi(t,s),r={x:e(i.x,n.x),y:e(i.y,n.y)};return ld(r,ji)?null:r}})(),VW=({max:e,current:t,change:n})=>{const s={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=RMe(n),r=yL({max:s,current:t,change:i});return!r||i.x!==0&&r.x===0||i.y!==0&&r.y===0},xL=(e,t)=>VW({current:e.scroll.current,max:e.scroll.max,change:t}),_Me=(e,t)=>{if(!xL(e,t))return null;const n=e.scroll.max,s=e.scroll.current;return yL({current:s,max:n,change:t})},bL=(e,t)=>{const n=e.frame;return n?VW({current:n.scroll.current,max:n.scroll.max,change:t}):!1},PMe=(e,t)=>{const n=e.frame;return!n||!bL(e,t)?null:yL({current:n.scroll.current,max:n.scroll.max,change:t})};var zMe=({viewport:e,subject:t,center:n,dragStartTime:s,shouldUseTimeDampening:i,getAutoScrollerOptions:r})=>{const a=BW({dragStartTime:s,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:r});return a&&xL(e,a)?a:null},FMe=({droppable:e,subject:t,center:n,dragStartTime:s,shouldUseTimeDampening:i,getAutoScrollerOptions:r})=>{const a=e.frame;if(!a)return null;const o=BW({dragStartTime:s,container:a.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:r});return o&&bL(e,o)?o:null},x7=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:s,scrollDroppable:i,getAutoScrollerOptions:r})=>{const a=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const f=e.viewport,g=zMe({dragStartTime:t,viewport:f,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:r});if(g){s(g);return}}const u=EMe({center:a,destination:ga(e.impact),droppables:e.dimensions.droppables});if(!u)return;const h=FMe({dragStartTime:t,droppable:u,subject:c,center:a,shouldUseTimeDampening:n,getAutoScrollerOptions:r});h&&i(u.descriptor.id,h)},$Me=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>Fx})=>{const s=Ox(e),i=Ox(t);let r=null;const a=u=>{r||Le();const{shouldUseTimeDampening:h,dragStartTime:f}=r;x7({state:u,scrollWindow:s,scrollDroppable:i,dragStartTime:f,shouldUseTimeDampening:h,getAutoScrollerOptions:n})};return{start:u=>{r&&Le();const h=Date.now();let f=!1;const g=()=>{f=!0};x7({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:n}),r={dragStartTime:h,shouldUseTimeDampening:f},f&&a(u)},stop:()=>{r&&(s.cancel(),i.cancel(),r=null)},scroll:a}},BMe=({move:e,scrollDroppable:t,scrollWindow:n})=>{const s=(o,c)=>{const u=Gi(o.current.client.selection,c);e({client:u})},i=(o,c)=>{if(!bL(o,c))return c;const u=PMe(o,c);if(!u)return t(o.descriptor.id,c),null;const h=pa(c,u);return t(o.descriptor.id,h),pa(c,h)},r=(o,c,u)=>{if(!o||!xL(c,u))return u;const h=_Me(c,u);if(!h)return n(u),null;const f=pa(u,h);return n(f),pa(u,f)};return o=>{const c=o.scrollJumpRequest;if(!c)return;const u=ga(o.impact);u||Le();const h=i(o.dimensions.droppables[u],c);if(!h)return;const f=o.viewport,g=r(o.isWindowScrollAllowed,f,h);g&&s(o,g)}},VMe=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:s})=>{const i=$Me({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:s}),r=BMe({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(s().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&r(c)}},start:i.start,stop:i.stop}};const Sg="data-rfd",wg=(()=>{const e=`${Sg}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),xD=(()=>{const e=`${Sg}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),UMe=(()=>{const e=`${Sg}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),b7={contextId:`${Sg}-scroll-container-context-id`},HMe=e=>t=>`[${t}="${e}"]`,jy=(e,t)=>e.map(n=>{const s=n.styles[t];return s?`${n.selector} { ${s} }`:""}).join(" "),GMe="pointer-events: none;";var WMe=e=>{const t=HMe(e),n=(()=>{const o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(wg.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:GMe,dropAnimating:o}}})(),s=(()=>{const o=`
      transition: ${sx.outOfTheWay};
    `;return{selector:t(xD.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}})(),i={selector:t(UMe.contextId),styles:{always:"overflow-anchor: none;"}},a=[s,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:jy(a,"always"),resting:jy(a,"resting"),dragging:jy(a,"dragging"),dropAnimating:jy(a,"dropAnimating"),userCancel:jy(a,"userCancel")}};const ma=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,cT=()=>{const e=document.querySelector("head");return e||Le(),e},v7=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function YMe(e,t){const n=cn(()=>WMe(e),[e]),s=w.useRef(null),i=w.useRef(null),r=dt(Mi(f=>{const g=i.current;g||Le(),g.textContent=f}),[]),a=dt(f=>{const g=s.current;g||Le(),g.textContent=f},[]);ma(()=>{!s.current&&!i.current||Le();const f=v7(t),g=v7(t);return s.current=f,i.current=g,f.setAttribute(`${Sg}-always`,e),g.setAttribute(`${Sg}-dynamic`,e),cT().appendChild(f),cT().appendChild(g),a(n.always),r(n.resting),()=>{const m=y=>{const b=y.current;b||Le(),cT().removeChild(b),y.current=null};m(s),m(i)}},[t,a,r,n.always,n.resting,e]);const o=dt(()=>r(n.dragging),[r,n.dragging]),c=dt(f=>{if(f==="DROP"){r(n.dropAnimating);return}r(n.userCancel)},[r,n.dropAnimating,n.userCancel]),u=dt(()=>{i.current&&r(n.resting)},[r,n.resting]);return cn(()=>({dragging:o,dropping:c,resting:u}),[o,c,u])}function UW(e,t){return Array.from(e.querySelectorAll(t))}var HW=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function k2(e){return e instanceof HW(e).HTMLElement}function KMe(e,t){const n=`[${wg.contextId}="${e}"]`,s=UW(document,n);if(!s.length)return null;const i=s.find(r=>r.getAttribute(wg.draggableId)===t);return!i||!k2(i)?null:i}function qMe(e){const t=w.useRef({}),n=w.useRef(null),s=w.useRef(null),i=w.useRef(!1),r=dt(function(g,m){const y={id:g,focus:m};return t.current[g]=y,function(){const S=t.current;S[g]!==y&&delete S[g]}},[]),a=dt(function(g){const m=KMe(e,g);m&&m!==document.activeElement&&m.focus()},[e]),o=dt(function(g,m){n.current===g&&(n.current=m)},[]),c=dt(function(){s.current||i.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const g=n.current;g&&a(g)}))},[a]),u=dt(function(g){n.current=null;const m=document.activeElement;m&&m.getAttribute(wg.draggableId)===g&&(n.current=g)},[]);return ma(()=>(i.current=!0,function(){i.current=!1;const g=s.current;g&&cancelAnimationFrame(g)}),[]),cn(()=>({register:r,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:o}),[r,u,c,o])}function ZMe(){const e={draggables:{},droppables:{}},t=[];function n(f){return t.push(f),function(){const m=t.indexOf(f);m!==-1&&t.splice(m,1)}}function s(f){t.length&&t.forEach(g=>g(f))}function i(f){return e.draggables[f]||null}function r(f){const g=i(f);return g||Le(),g}const a={register:f=>{e.draggables[f.descriptor.id]=f,s({type:"ADDITION",value:f})},update:(f,g)=>{const m=e.draggables[g.descriptor.id];m&&m.uniqueId===f.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[f.descriptor.id]=f)},unregister:f=>{const g=f.descriptor.id,m=i(g);m&&f.uniqueId===m.uniqueId&&(delete e.draggables[g],e.droppables[f.descriptor.droppableId]&&s({type:"REMOVAL",value:f}))},getById:r,findById:i,exists:f=>!!i(f),getAllByType:f=>Object.values(e.draggables).filter(g=>g.descriptor.type===f)};function o(f){return e.droppables[f]||null}function c(f){const g=o(f);return g||Le(),g}const u={register:f=>{e.droppables[f.descriptor.id]=f},unregister:f=>{const g=o(f.descriptor.id);g&&f.uniqueId===g.uniqueId&&delete e.droppables[f.descriptor.id]},getById:c,findById:o,exists:f=>!!o(f),getAllByType:f=>Object.values(e.droppables).filter(g=>g.descriptor.type===f)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:a,droppable:u,subscribe:n,clean:h}}function QMe(){const e=cn(ZMe,[]);return w.useEffect(()=>function(){e.clean()},[e]),e}var vL=Xe.createContext(null),hw=()=>{const e=document.body;return e||Le(),e};const XMe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},JMe=e=>`rfd-announcement-${e}`;function eje(e){const t=cn(()=>JMe(e),[e]),n=w.useRef(null);return w.useEffect(function(){const r=document.createElement("div");return n.current=r,r.id=t,r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true"),sn(r.style,XMe),hw().appendChild(r),function(){setTimeout(function(){const c=hw();c.contains(r)&&c.removeChild(r),r===n.current&&(n.current=null)})}},[t]),dt(i=>{const r=n.current;if(r){r.textContent=i;return}},[])}const tje={separator:"::"};function SL(e,t=tje){const n=Xe.useId();return cn(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function nje({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function sje({contextId:e,text:t}){const n=SL("hidden-text",{separator:"-"}),s=cn(()=>nje({contextId:e,uniqueId:n}),[n,e]);return w.useEffect(function(){const r=document.createElement("div");return r.id=s,r.textContent=t,r.style.display="none",hw().appendChild(r),function(){const o=hw();o.contains(r)&&o.removeChild(r)}},[s,t]),s}var I2=Xe.createContext(null);function GW(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t}function ije(){let e=null;function t(){return!!e}function n(a){return a===e}function s(a){e&&Le();const o={abandon:a};return e=o,o}function i(){e||Le(),e=null}function r(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:s,release:i,tryAbandon:r}}function $x(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const rje=9,aje=13,wL=27,WW=32,oje=33,lje=34,cje=35,uje=36,dje=37,hje=38,fje=39,pje=40,gje={[aje]:!0,[rje]:!0};var YW=e=>{gje[e.keyCode]&&e.preventDefault()};const L2=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(s=>`on${s}`in document)||e})(),KW=0,S7=5;function mje(e,t){return Math.abs(t.x-e.x)>=S7||Math.abs(t.y-e.y)>=S7}const w7={type:"IDLE"};function yje({cancel:e,completed:t,getPhase:n,setPhase:s}){return[{eventName:"mousemove",fn:i=>{const{button:r,clientX:a,clientY:o}=i;if(r!==KW)return;const c={x:a,y:o},u=n();if(u.type==="DRAGGING"){i.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&Le();const h=u.point;if(!mje(h,c))return;i.preventDefault();const f=u.actions.fluidLift(c);s({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:i=>{const r=n();if(r.type!=="DRAGGING"){e();return}i.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===wL){i.preventDefault(),e();return}YW(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const r=n();if(r.type==="IDLE"&&Le(),r.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:L2,fn:e}]}function xje(e){const t=w.useRef(w7),n=w.useRef(od),s=cn(()=>({eventName:"mousedown",fn:function(f){if(f.defaultPrevented||f.button!==KW||f.ctrlKey||f.metaKey||f.shiftKey||f.altKey)return;const g=e.findClosestDraggableId(f);if(!g)return;const m=e.tryGetLock(g,a,{sourceEvent:f});if(!m)return;f.preventDefault();const y={x:f.clientX,y:f.clientY};n.current(),u(m,y)}}),[e]),i=cn(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const f=e.findClosestDraggableId(h);if(!f)return;const g=e.findOptionsForDraggable(f);g&&(g.shouldRespectForcePress||e.canGetLock(f)&&h.preventDefault())}}),[e]),r=dt(function(){const f={passive:!1,capture:!0};n.current=no(window,[i,s],f)},[i,s]),a=dt(()=>{t.current.type!=="IDLE"&&(t.current=w7,n.current(),r())},[r]),o=dt(()=>{const h=t.current;a(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[a]),c=dt(function(){const f={capture:!0,passive:!1},g=yje({cancel:o,completed:a,getPhase:()=>t.current,setPhase:m=>{t.current=m}});n.current=no(window,g,f)},[o,a]),u=dt(function(f,g){t.current.type!=="IDLE"&&Le(),t.current={type:"PENDING",point:g,actions:f},c()},[c]);ma(function(){return r(),function(){n.current()}},[r])}function bje(){}const vje={[lje]:!0,[oje]:!0,[uje]:!0,[cje]:!0};function Sje(e,t){function n(){t(),e.cancel()}function s(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===wL){i.preventDefault(),n();return}if(i.keyCode===WW){i.preventDefault(),s();return}if(i.keyCode===pje){i.preventDefault(),e.moveDown();return}if(i.keyCode===hje){i.preventDefault(),e.moveUp();return}if(i.keyCode===fje){i.preventDefault(),e.moveRight();return}if(i.keyCode===dje){i.preventDefault(),e.moveLeft();return}if(vje[i.keyCode]){i.preventDefault();return}YW(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:L2,fn:n}]}function wje(e){const t=w.useRef(bje),n=cn(()=>({eventName:"keydown",fn:function(r){if(r.defaultPrevented||r.keyCode!==WW)return;const a=e.findClosestDraggableId(r);if(!a)return;const o=e.tryGetLock(a,h,{sourceEvent:r});if(!o)return;r.preventDefault();let c=!0;const u=o.snapLift();t.current();function h(){c||Le(),c=!1,t.current(),s()}t.current=no(window,Sje(u,h),{capture:!0,passive:!1})}}),[e]),s=dt(function(){const r={passive:!1,capture:!0};t.current=no(window,[n],r)},[n]);ma(function(){return s(),function(){t.current()}},[s])}const uT={type:"IDLE"},Cje=120,Mje=.15;function jje({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===wL&&n.preventDefault(),e()}},{eventName:L2,fn:e}]}function Nje({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:r,clientY:a}=s.touches[0],o={x:r,y:a};s.preventDefault(),i.actions.move(o)}},{eventName:"touchend",fn:s=>{const i=n();if(i.type!=="DRAGGING"){e();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:s=>{if(n().type!=="DRAGGING"){e();return}s.preventDefault(),e()}},{eventName:"touchforcechange",fn:s=>{const i=n();i.type==="IDLE"&&Le();const r=s.touches[0];if(!r||!(r.force>=Mje))return;const o=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){o&&e();return}if(o){if(i.hasMoved){s.preventDefault();return}e();return}s.preventDefault()}},{eventName:L2,fn:e}]}function Aje(e){const t=w.useRef(uT),n=w.useRef(od),s=dt(function(){return t.current},[]),i=dt(function(m){t.current=m},[]),r=cn(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const y=e.findClosestDraggableId(m);if(!y)return;const b=e.tryGetLock(y,o,{sourceEvent:m});if(!b)return;const S=m.touches[0],{clientX:C,clientY:M}=S,N={x:C,y:M};n.current(),f(b,N)}}),[e]),a=dt(function(){const m={capture:!0,passive:!1};n.current=no(window,[r],m)},[r]),o=dt(()=>{const g=t.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),i(uT),n.current(),a())},[a,i]),c=dt(()=>{const g=t.current;o(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[o]),u=dt(function(){const m={capture:!0,passive:!1},y={cancel:c,completed:o,getPhase:s},b=no(window,Nje(y),m),S=no(window,jje(y),m);n.current=function(){b(),S()}},[c,s,o]),h=dt(function(){const m=s();m.type!=="PENDING"&&Le();const y=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:y,hasMoved:!1})},[s,i]),f=dt(function(m,y){s().type!=="IDLE"&&Le();const b=setTimeout(h,Cje);i({type:"PENDING",point:y,actions:m,longPressTimerId:b}),u()},[u,s,i,h]);ma(function(){return a(),function(){n.current();const y=s();y.type==="PENDING"&&(clearTimeout(y.longPressTimerId),i(uT))}},[s,a,i]),ma(function(){return no(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Tje=["input","button","textarea","select","option","optgroup","video","audio"];function qW(e,t){if(t==null)return!1;if(Tje.includes(t.tagName.toLowerCase()))return!0;const s=t.getAttribute("contenteditable");return s==="true"||s===""?!0:t===e?!1:qW(e,t.parentElement)}function Eje(e,t){const n=t.target;return k2(n)?qW(e,n):!1}var Dje=e=>_o(e.getBoundingClientRect()).center;function kje(e){return e instanceof HW(e).Element}const Ije=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||e})();function ZW(e,t){return e==null?null:e[Ije](t)?e:ZW(e.parentElement,t)}function Lje(e,t){return e.closest?e.closest(t):ZW(e,t)}function Oje(e){return`[${wg.contextId}="${e}"]`}function Rje(e,t){const n=t.target;if(!kje(n))return null;const s=Oje(e),i=Lje(n,s);return!i||!k2(i)?null:i}function _je(e,t){const n=Rje(e,t);return n?n.getAttribute(wg.draggableId):null}function Pje(e,t){const n=`[${xD.contextId}="${e}"]`,i=UW(document,n).find(r=>r.getAttribute(xD.id)===t);return!i||!k2(i)?null:i}function zje(e){e.preventDefault()}function k1({expected:e,phase:t,isLockActive:n,shouldWarn:s}){return!(!n()||e!==t)}function QW({lockAPI:e,store:t,registry:n,draggableId:s}){if(e.isClaimed())return!1;const i=n.draggable.findById(s);return!(!i||!i.options.isEnabled||!FW(t.getState(),s))}function Fje({lockAPI:e,contextId:t,store:n,registry:s,draggableId:i,forceSensorStop:r,sourceEvent:a}){if(!QW({lockAPI:e,store:n,registry:s,draggableId:i}))return null;const c=s.draggable.getById(i),u=Pje(t,c.descriptor.id);if(!u||a&&!c.options.canDragInteractiveElements&&Eje(u,a))return null;const h=e.claim(r||od);let f="PRE_DRAG";function g(){return c.options.shouldRespectForcePress}function m(){return e.isActive(h)}function y(E,k){k1({expected:E,phase:f,isLockActive:m,shouldWarn:!0})&&n.dispatch(k())}const b=y.bind(null,"DRAGGING");function S(E){function k(){e.release(),f="COMPLETED"}f!=="PRE_DRAG"&&(k(),Le()),n.dispatch(LCe(E.liftActionArgs)),f="DRAGGING";function L(I,_={shouldBlockNextClick:!1}){if(E.cleanup(),_.shouldBlockNextClick){const F=no(window,[{eventName:"click",fn:zje,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(F)}k(),n.dispatch(kW({reason:I}))}return{isActive:()=>k1({expected:"DRAGGING",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:g,drop:I=>L("DROP",I),cancel:I=>L("CANCEL",I),...E.actions}}function C(E){const k=Ox(I=>{b(()=>DW({client:I}))});return{...S({liftActionArgs:{id:i,clientSelection:E,movementMode:"FLUID"},cleanup:()=>k.cancel(),actions:{move:k}}),move:k}}function M(){const E={moveUp:()=>b(VCe),moveRight:()=>b(HCe),moveDown:()=>b(UCe),moveLeft:()=>b(GCe)};return S({liftActionArgs:{id:i,clientSelection:Dje(u),movementMode:"SNAP"},cleanup:od,actions:E})}function N(){k1({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>k1({expected:"PRE_DRAG",phase:f,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:C,snapLift:M,abort:N}}const $je=[xje,wje,Aje];function Bje({contextId:e,store:t,registry:n,customSensors:s,enableDefaultSensors:i}){const r=[...i?$je:[],...s||[]],a=w.useState(()=>ije())[0],o=dt(function(S,C){$x(S)&&!$x(C)&&a.tryAbandon()},[a]);ma(function(){let S=t.getState();return t.subscribe(()=>{const M=t.getState();o(S,M),S=M})},[a,t,o]),ma(()=>a.tryAbandon,[a.tryAbandon]);const c=dt(b=>QW({lockAPI:a,registry:n,store:t,draggableId:b}),[a,n,t]),u=dt((b,S,C)=>Fje({lockAPI:a,registry:n,contextId:e,store:t,draggableId:b,forceSensorStop:S||null,sourceEvent:C&&C.sourceEvent?C.sourceEvent:null}),[e,a,n,t]),h=dt(b=>_je(e,b),[e]),f=dt(b=>{const S=n.draggable.findById(b);return S?S.options:null},[n.draggable]),g=dt(function(){a.isClaimed()&&(a.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(fL()))},[a,t]),m=dt(()=>a.isClaimed(),[a]),y=cn(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:h,findOptionsForDraggable:f,tryReleaseLock:g,isLockClaimed:m}),[c,u,h,f,g,m]);for(let b=0;b<r.length;b++)r[b](y)}const Vje=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Ck.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),Uje=e=>({...Fx,...e.autoScrollerOptions,durationDampening:{...Fx.durationDampening,...e.autoScrollerOptions}});function Ny(e){return e.current||Le(),e.current}function Hje(e){const{contextId:t,setCallbacks:n,sensors:s,nonce:i,dragHandleUsageInstructions:r}=e,a=w.useRef(null),o=GW(e),c=dt(()=>Vje(o.current),[o]),u=dt(()=>Uje(o.current),[o]),h=eje(t),f=sje({contextId:t,text:r}),g=YMe(t,i),m=dt(F=>{Ny(a).dispatch(F)},[]),y=cn(()=>Z8({publishWhileDragging:RCe,updateDroppableScroll:PCe,updateDroppableIsEnabled:zCe,updateDroppableIsCombineEnabled:FCe,collectionStarting:_Ce},m),[m]),b=QMe(),S=cn(()=>jMe(b,y),[b,y]),C=cn(()=>VMe({scrollWindow:NMe,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:u,...Z8({move:DW},m)}),[S.scrollDroppable,m,u]),M=qMe(t),N=cn(()=>SMe({announce:h,autoScroller:C,dimensionMarshal:S,focusMarshal:M,getResponders:c,styleMarshal:g}),[h,C,S,M,c,g]);a.current=N;const T=dt(()=>{const F=Ny(a);F.getState().phase!=="IDLE"&&F.dispatch(fL())},[]),E=dt(()=>{const F=Ny(a).getState();return F.phase==="DROP_ANIMATING"?!0:F.phase==="IDLE"?!1:F.isDragging},[]),k=cn(()=>({isDragging:E,tryAbort:T}),[E,T]);n(k);const L=dt(F=>FW(Ny(a).getState(),F),[]),I=dt(()=>Nh(Ny(a).getState()),[]),_=cn(()=>({marshal:S,focus:M,contextId:t,canLift:L,isMovementAllowed:I,dragHandleUsageInstructionsId:f,registry:b}),[t,S,f,M,L,I,b]);return Bje({contextId:t,store:N,registry:b,customSensors:s||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(()=>T,[T]),Xe.createElement(I2.Provider,{value:_},Xe.createElement(g2e,{context:vL,store:N},e.children))}function Gje(){return Xe.useId()}function Wje(e){const t=Gje(),n=e.dragHandleUsageInstructions||pS.dragHandleUsageInstructions;return Xe.createElement(w2e,null,s=>Xe.createElement(Hje,{nonce:e.nonce,contextId:t,setCallbacks:s,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const C7={dragging:5e3,dropAnimating:4500},Yje=(e,t)=>t?sx.drop(t.duration):e?sx.snap:sx.fluid,Kje=(e,t)=>{if(e)return t?zx.opacity.drop:zx.opacity.combining},qje=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Zje(e){const n=e.dimension.client,{offset:s,combineWith:i,dropping:r}=e,a=!!i,o=qje(e),c=!!r,u=c?mD.drop(s,a):mD.moveTo(s);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:Yje(o,r),transform:u,opacity:Kje(a,c),zIndex:c?C7.dropAnimating:C7.dragging,pointerEvents:"none"}}function Qje(e){return{transform:mD.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Xje(e){return e.type==="DRAGGING"?Zje(e):Qje(e)}function Jje(e,t,n=ji){const s=window.getComputedStyle(t),i=t.getBoundingClientRect(),r=iW(i,s),a=lw(r,n),o={client:r,tagName:t.tagName.toLowerCase(),display:s.display},c={x:r.marginBox.width,y:r.marginBox.height};return{descriptor:e,placeholder:o,displaceBy:c,client:r,page:a}}function eNe(e){const t=SL("draggable"),{descriptor:n,registry:s,getDraggableRef:i,canDragInteractiveElements:r,shouldRespectForcePress:a,isEnabled:o}=e,c=cn(()=>({canDragInteractiveElements:r,shouldRespectForcePress:a,isEnabled:o}),[r,o,a]),u=dt(m=>{const y=i();return y||Le(),Jje(n,y,m)},[n,i]),h=cn(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),f=w.useRef(h),g=w.useRef(!0);ma(()=>(s.draggable.register(f.current),()=>s.draggable.unregister(f.current)),[s.draggable]),ma(()=>{if(g.current){g.current=!1;return}const m=f.current;f.current=h,s.draggable.update(h,m)},[h,s.draggable])}var CL=Xe.createContext(null);function fw(e){const t=w.useContext(e);return t||Le(),t}function tNe(e){e.preventDefault()}const nNe=e=>{const t=w.useRef(null),n=dt((k=null)=>{t.current=k},[]),s=dt(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:r,registry:a}=fw(I2),{type:o,droppableId:c}=fw(CL),u=cn(()=>({id:e.draggableId,index:e.index,type:o,droppableId:c}),[e.draggableId,e.index,o,c]),{children:h,draggableId:f,isEnabled:g,shouldRespectForcePress:m,canDragInteractiveElements:y,isClone:b,mapped:S,dropAnimationFinished:C}=e;if(!b){const k=cn(()=>({descriptor:u,registry:a,getDraggableRef:s,canDragInteractiveElements:y,shouldRespectForcePress:m,isEnabled:g}),[u,a,s,y,m,g]);eNe(k)}const M=cn(()=>g?{tabIndex:0,role:"button","aria-describedby":r,"data-rfd-drag-handle-draggable-id":f,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:tNe}:null,[i,r,f,g]),N=dt(k=>{S.type==="DRAGGING"&&S.dropping&&k.propertyName==="transform"&&Ck.flushSync(C)},[C,S]),T=cn(()=>{const k=Xje(S),L=S.type==="DRAGGING"&&S.dropping?N:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":f,style:k,onTransitionEnd:L},dragHandleProps:M}},[i,M,f,S,N,n]),E=cn(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return Xe.createElement(Xe.Fragment,null,h(T,S.snapshot,E))};var XW=(e,t)=>e===t,JW=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const sNe=e=>e.combine?e.combine.draggableId:null,iNe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function rNe(){const e=Mi((i,r)=>({x:i,y:r})),t=Mi((i,r,a=null,o=null,c=null)=>({isDragging:!0,isClone:r,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:a,combineWith:o,combineTargetFor:null})),n=Mi((i,r,a,o,c=null,u=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:r,offset:i,dimension:a,forceShouldAnimate:h,snapshot:t(r,o,c,u,null)}}));return(i,r)=>{if($x(i)){if(i.critical.draggable.id!==r.draggableId)return null;const a=i.current.client.offset,o=i.dimensions.draggables[r.draggableId],c=ga(i.impact),u=iNe(i.impact),h=i.forceShouldAnimate;return n(e(a.x,a.y),i.movementMode,o,r.isClone,c,u,h)}if(i.phase==="DROP_ANIMATING"){const a=i.completed;if(a.result.draggableId!==r.draggableId)return null;const o=r.isClone,c=i.dimensions.draggables[r.draggableId],u=a.result,h=u.mode,f=JW(u),g=sNe(u),y={duration:i.dropDuration,curve:gL.drop,moveTo:i.newHomeClientOffset,opacity:g?zx.opacity.drop:null,scale:g?zx.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:c,dropping:y,draggingOver:f,combineWith:g,mode:h,forceShouldAnimate:null,snapshot:t(h,o,f,g,y)}}}return null}}function eY(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const aNe={mapped:{type:"SECONDARY",offset:ji,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:eY(null)}};function oNe(){const e=Mi((a,o)=>({x:a,y:o})),t=Mi(eY),n=Mi((a,o=null,c)=>({mapped:{type:"SECONDARY",offset:a,combineTargetFor:o,shouldAnimateDisplacement:c,snapshot:t(o)}})),s=a=>a?n(ji,a,!0):null,i=(a,o,c,u)=>{const h=c.displaced.visible[a],f=!!(u.inVirtualList&&u.effected[a]),g=T2(c),m=g&&g.draggableId===a?o:null;if(!h){if(!f)return s(m);if(c.displaced.invisible[a])return null;const S=Zg(u.displacedBy.point),C=e(S.x,S.y);return n(C,m,!0)}if(f)return s(m);const y=c.displacedBy.point,b=e(y.x,y.y);return n(b,m,h.shouldAnimate)};return(a,o)=>{if($x(a))return a.critical.draggable.id===o.draggableId?null:i(o.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){const c=a.completed;return c.result.draggableId===o.draggableId?null:i(o.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const lNe=()=>{const e=rNe(),t=oNe();return(s,i)=>e(s,i)||t(s,i)||aNe},cNe={dropAnimationFinished:IW},uNe=sW(lNe,cNe,null,{context:vL,areStatePropsEqual:XW})(nNe);function tY(e){return fw(CL).isUsingCloneFor===e.draggableId&&!e.isClone?null:Xe.createElement(uNe,e)}function dNe(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,s=!!e.shouldRespectForcePress;return Xe.createElement(tY,sn({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:s}))}const nY=e=>t=>e===t,hNe=nY("scroll"),fNe=nY("auto"),M7=(e,t)=>t(e.overflowX)||t(e.overflowY),pNe=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return M7(n,hNe)||M7(n,fNe)},gNe=()=>!1,sY=e=>e==null?null:e===document.body?gNe()?e:null:e===document.documentElement?null:pNe(e)?e:sY(e.parentElement);var bD=e=>({x:e.scrollLeft,y:e.scrollTop});const iY=e=>e?window.getComputedStyle(e).position==="fixed"?!0:iY(e.parentElement):!1;var mNe=e=>{const t=sY(e),n=iY(e);return{closestScrollable:t,isFixedOnPage:n}},yNe=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:s,direction:i,client:r,page:a,closest:o})=>{const c=(()=>{if(!o)return null;const{scrollSize:g,client:m}=o,y=_W({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:o.page.marginBox,frameClient:m,scrollSize:g,shouldClipSubject:o.shouldClipSubject,scroll:{initial:o.scroll,current:o.scroll,max:y,diff:{value:ji,displacement:ji}}}})(),u=i==="vertical"?lL:gW,h=vg({page:a,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:s,axis:u,isEnabled:t,client:r,page:a,frame:c,subject:h}};const xNe=(e,t)=>{const n=rW(e);if(!t||e!==t)return n;const s=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,r=s+t.scrollHeight,a=i+t.scrollWidth,c=iL({top:s,right:a,bottom:r,left:i},n.border);return rL({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var bNe=({ref:e,descriptor:t,env:n,windowScroll:s,direction:i,isDropDisabled:r,isCombineEnabled:a,shouldClipSubject:o})=>{const c=n.closestScrollable,u=xNe(e,c),h=lw(u,s),f=(()=>{if(!c)return null;const m=rW(c),y={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:m,page:lw(m,s),scroll:bD(c),scrollSize:y,shouldClipSubject:o}})();return yNe({descriptor:t,isEnabled:!r,isCombineEnabled:a,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:h,closest:f})};const vNe={passive:!1},SNe={passive:!0};var j7=e=>e.shouldPublishImmediately?vNe:SNe;const I1=e=>e&&e.env.closestScrollable||null;function wNe(e){const t=w.useRef(null),n=fw(I2),s=SL("droppable"),{registry:i,marshal:r}=n,a=GW(e),o=cn(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=w.useRef(o),u=cn(()=>Mi((T,E)=>{t.current||Le();const k={x:T,y:E};r.updateDroppableScroll(o.id,k)}),[o.id,r]),h=dt(()=>{const T=t.current;return!T||!T.env.closestScrollable?ji:bD(T.env.closestScrollable)},[]),f=dt(()=>{const T=h();u(T.x,T.y)},[h,u]),g=cn(()=>Ox(f),[f]),m=dt(()=>{const T=t.current,E=I1(T);if(T&&E||Le(),T.scrollOptions.shouldPublishImmediately){f();return}g()},[g,f]),y=dt((T,E)=>{t.current&&Le();const k=a.current,L=k.getDroppableRef();L||Le();const I=mNe(L),_={ref:L,descriptor:o,env:I,scrollOptions:E};t.current=_;const F=bNe({ref:L,descriptor:o,env:I,windowScroll:T,direction:k.direction,isDropDisabled:k.isDropDisabled,isCombineEnabled:k.isCombineEnabled,shouldClipSubject:!k.ignoreContainerClipping}),G=I.closestScrollable;return G&&(G.setAttribute(b7.contextId,n.contextId),G.addEventListener("scroll",m,j7(_.scrollOptions))),F},[n.contextId,o,m,a]),b=dt(()=>{const T=t.current,E=I1(T);return T&&E||Le(),bD(E)},[]),S=dt(()=>{const T=t.current;T||Le();const E=I1(T);t.current=null,E&&(g.cancel(),E.removeAttribute(b7.contextId),E.removeEventListener("scroll",m,j7(T.scrollOptions)))},[m,g]),C=dt(T=>{const E=t.current;E||Le();const k=I1(E);k||Le(),k.scrollTop+=T.y,k.scrollLeft+=T.x},[]),M=cn(()=>({getDimensionAndWatchScroll:y,getScrollWhileDragging:b,dragStopped:S,scroll:C}),[S,y,b,C]),N=cn(()=>({uniqueId:s,descriptor:o,callbacks:M}),[M,o,s]);ma(()=>(c.current=N.descriptor,i.droppable.register(N),()=>{t.current&&S(),i.droppable.unregister(N)}),[M,o,S,N,r,i.droppable]),ma(()=>{t.current&&r.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,r]),ma(()=>{t.current&&r.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,r])}function dT(){}const N7={width:0,height:0,margin:E2e},CNe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?N7:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},MNe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const s=CNe({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?sx.placeholder:null}},jNe=e=>{const t=w.useRef(null),n=dt(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:s,onTransitionEnd:i,onClose:r,contextId:a}=e,[o,c]=w.useState(e.animate==="open");w.useEffect(()=>o?s!=="open"?(n(),c(!1),dT):t.current?dT:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):dT,[s,o,n]);const u=dt(f=>{f.propertyName==="height"&&(i(),s==="close"&&r())},[s,r,i]),h=MNe({isAnimatingOpenOnMount:o,animate:e.animate,placeholder:e.placeholder});return Xe.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":a,onTransitionEnd:u,ref:e.innerRef})};var NNe=Xe.memo(jNe);class ANe extends Xe.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const TNe=e=>{const t=w.useContext(I2);t||Le();const{contextId:n,isMovementAllowed:s}=t,i=w.useRef(null),r=w.useRef(null),{children:a,droppableId:o,type:c,mode:u,direction:h,ignoreContainerClipping:f,isDropDisabled:g,isCombineEnabled:m,snapshot:y,useClone:b,updateViewportMaxScroll:S,getContainerForClone:C}=e,M=dt(()=>i.current,[]),N=dt((G=null)=>{i.current=G},[]);dt(()=>r.current,[]);const T=dt((G=null)=>{r.current=G},[]),E=dt(()=>{s()&&S({maxScroll:zW()})},[s,S]);wNe({droppableId:o,type:c,mode:u,direction:h,isDropDisabled:g,isCombineEnabled:m,ignoreContainerClipping:f,getDroppableRef:M});const k=cn(()=>Xe.createElement(ANe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:G,data:U,animate:H})=>Xe.createElement(NNe,{placeholder:U,onClose:G,innerRef:T,animate:H,contextId:n,onTransitionEnd:E})),[n,E,e.placeholder,e.shouldAnimatePlaceholder,T]),L=cn(()=>({innerRef:N,placeholder:k,droppableProps:{"data-rfd-droppable-id":o,"data-rfd-droppable-context-id":n}}),[n,o,k,N]),I=b?b.dragging.draggableId:null,_=cn(()=>({droppableId:o,type:c,isUsingCloneFor:I}),[o,I,c]);function F(){if(!b)return null;const{dragging:G,render:U}=b,H=Xe.createElement(tY,{draggableId:G.draggableId,index:G.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(z,$)=>U(z,$,G));return Pse.createPortal(H,C())}return Xe.createElement(CL.Provider,{value:_},a(L,y),F())};function ENe(){return document.body||Le(),document.body}const A7={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:ENe},rY=e=>{let t={...e},n;for(n in A7)e[n]===void 0&&(t={...t,[n]:A7[n]});return t},hT=(e,t)=>e===t.droppable.type,T7=(e,t)=>t.draggables[e.draggable.id],DNe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Mi(r=>({draggableId:r.id,type:r.type,source:{index:r.index,droppableId:r.droppableId}})),s=Mi((r,a,o,c,u,h)=>{const f=u.descriptor.id;if(u.descriptor.droppableId===r){const y=h?{render:h,dragging:n(u.descriptor)}:null,b={isDraggingOver:o,draggingOverWith:o?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:y}}if(!a)return t;if(!c)return e;const m={isDraggingOver:o,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(r,a)=>{const o=rY(a),c=o.droppableId,u=o.type,h=!o.isDropDisabled,f=o.renderClone;if($x(r)){const g=r.critical;if(!hT(u,g))return t;const m=T7(g,r.dimensions),y=ga(r.impact)===c;return s(c,h,y,y,m,f)}if(r.phase==="DROP_ANIMATING"){const g=r.completed;if(!hT(u,g.critical))return t;const m=T7(g.critical,r.dimensions);return s(c,h,JW(g.result)===c,ga(g.impact)===c,m,f)}if(r.phase==="IDLE"&&r.completed&&!r.shouldFlush){const g=r.completed;if(!hT(u,g.critical))return t;const m=ga(g.impact)===c,y=!!(g.impact.at&&g.impact.at.type==="COMBINE"),b=g.critical.droppable.id===c;return m?y?e:t:b?e:t}return t}},kNe={updateViewportMaxScroll:BCe},INe=sW(DNe,kNe,(e,t,n)=>({...rY(n),...e,...t}),{context:vL,areStatePropsEqual:XW})(TNe),LNe=({type:e,value:t})=>{const n=Qt(),{isLoading:s,isPlaceholderData:i,data:r,error:a}=uwe(e,t),o=dwe({type:e,value:t}),[c,u]=w.useState([]);w.useEffect(()=>{if(r){const g=[...r].sort((m,y)=>(m.sort_order||0)-(y.sort_order||0));u(g)}},[r]);const h=g=>{if(!g.destination)return;const m=Array.from(c),[y]=m.splice(g.source.index,1);m.splice(g.destination.index,0,y),u(m),o.mutate(m)},f=()=>{!e||!t||n(`/admin/configs/signals/new?type=${e}&value=${t}`)};return l.jsxs("div",{children:[s&&l.jsx("div",{children:"Loading..."}),a&&l.jsx("div",{className:"text-red-600",children:String(a)}),r&&l.jsxs("div",{className:`flex flex-col gap-8 ${o.isPending||i?"opacity-50 pointer-events-none":""}`,children:[l.jsx("div",{children:l.jsxs("div",{className:"flex flex-col gap-0 font-medium",children:[l.jsx("div",{children:"Event triggers"}),l.jsx("div",{className:"text-slate-400",children:"Listed in priority order. Drag the numbers to reorder."})]})}),l.jsx(Wje,{onDragEnd:h,children:l.jsx(INe,{droppableId:"signal-configs",children:g=>l.jsxs("div",{ref:g.innerRef,...g.droppableProps,className:"flex flex-col ",children:[c.map((m,y)=>m.name&&l.jsx(dNe,{draggableId:m.id.toString(),index:y,children:b=>l.jsx("div",{ref:b.innerRef,...b.draggableProps,children:l.jsx(mwe,{item:m,dragHandleProps:b.dragHandleProps})})},m.id)),g.placeholder]})})}),c.length===0&&l.jsx("div",{className:"text-slate-400",children:"No signal configs found for this selection."}),l.jsxs("button",{onClick:f,className:"text-slate-500 text-left hover:text-slate-700",children:[l.jsx(Fo,{className:"inline size-5 mr-2"}),"Add a new signal config"]})]})]})},ONe=()=>{const[e,t]=Ut("conf",ps),n=e?.split("~")[0]||null,s=e?.split("~")[1]||null;return w.useEffect(()=>()=>t(null),[]),l.jsx("div",{className:"flex-1 w-full md:-mt-13 h-[100vh] z-20 overflow-auto",children:l.jsxs("div",{className:"px-10 py-4 pb-24",children:[l.jsx(cwe,{autoOpen:!e}),l.jsx("div",{className:"pt-6",children:n&&s&&l.jsx(LNe,{type:n,value:s})})]})})};function Bx(e,t){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)!==-1)continue;n[s]=e[s]}return n}const RNe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",E7=[],D7={allowDangerousHtml:!0},_Ne=/^(https?|ircs?|mailto|xmpp)$/i,PNe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function zNe(e){const t=e.allowedElements,n=e.allowElement,s=e.children||"",i=e.className,r=e.components,a=e.disallowedElements,o=e.rehypePlugins||E7,c=e.remarkPlugins||E7,u=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...D7}:D7,h=e.skipHtml,f=e.unwrapDisallowed,g=e.urlTransform||FNe,m=EB().use(fG).use(c).use(DB,u).use(o),y=new kB;typeof s=="string"&&(y.value=s);for(const M of PNe)Object.hasOwn(e,M.from)&&IB("Unexpected `"+M.from+"` prop, "+(M.to?"use `"+M.to+"` instead":"remove it")+" (see <"+RNe+"#"+M.id+"> for more info)");const b=m.parse(y);let S=m.runSync(b,y);return i&&(S={type:"element",tagName:"div",properties:{className:i},children:S.type==="root"?S.children:[S]}),Fg(S,C),aG(S,{Fragment:l.Fragment,components:r,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function C(M,N,T){if(M.type==="raw"&&T&&typeof N=="number")return h?T.children.splice(N,1):T.children[N]={type:"text",value:M.value},N;if(M.type==="element"){let E;for(E in ng)if(Object.hasOwn(ng,E)&&Object.hasOwn(M.properties,E)){const k=M.properties[E],L=ng[E];(L===null||L.includes(M.tagName))&&(M.properties[E]=g(String(k||""),E,M))}}if(M.type==="element"){let E=t?!t.includes(M.tagName):a?a.includes(M.tagName):!1;if(!E&&n&&typeof N=="number"&&(E=!n(M,N,T)),E&&T&&typeof N=="number")return f&&M.children?T.children.splice(N,1,...M.children):T.children.splice(N,1),N}}}function FNe(e){const t=e.indexOf(":"),n=e.indexOf("?"),s=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||s!==-1&&t>s||_Ne.test(e.slice(0,t))?e:""}function $Ne(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function BNe(e,t,n){const i=PB((n||{}).ignore||[]),r=VNe(t);let a=-1;for(;++a<r.length;)zse(e,"text",o);function o(u,h){let f=-1,g;for(;++f<h.length;){const m=h[f],y=g?g.children:void 0;if(i(m,y?y.indexOf(m):void 0,g))return;g=m}if(g)return c(u,h)}function c(u,h){const f=h[h.length-1],g=r[a][0],m=r[a][1];let y=0;const S=f.children.indexOf(u);let C=!1,M=[];g.lastIndex=0;let N=g.exec(u.value);for(;N;){const T=N.index,E={index:N.index,input:N.input,stack:[...h,u]};let k=m(...N,E);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?g.lastIndex=T+1:(y!==T&&M.push({type:"text",value:u.value.slice(y,T)}),Array.isArray(k)?M.push(...k):k&&M.push(k),y=T+N[0].length,C=!0),!g.global)break;N=g.exec(u.value)}return C?(y<u.value.length&&M.push({type:"text",value:u.value.slice(y)}),f.children.splice(S,1,...M)):M=[u],S+M.length}}function VNe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let s=-1;for(;++s<n.length;){const i=n[s];t.push([UNe(i[0]),HNe(i[1])])}return t}function UNe(e){return typeof e=="string"?new RegExp($Ne(e),"g"):e}function HNe(e){return typeof e=="function"?e:function(){return e}}const fT="phrasing",pT=["autolink","link","image","label"];function GNe(){return{transforms:[XNe],enter:{literalAutolink:YNe,literalAutolinkEmail:gT,literalAutolinkHttp:gT,literalAutolinkWww:gT},exit:{literalAutolink:QNe,literalAutolinkEmail:ZNe,literalAutolinkHttp:KNe,literalAutolinkWww:qNe}}}function WNe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:fT,notInConstruct:pT},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:fT,notInConstruct:pT},{character:":",before:"[ps]",after:"\\/",inConstruct:fT,notInConstruct:pT}]}}function YNe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function gT(e){this.config.enter.autolinkProtocol.call(this,e)}function KNe(e){this.config.exit.autolinkProtocol.call(this,e)}function qNe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];Ro(t.type==="link"),t.url="http://"+this.sliceSerialize(e)}function ZNe(e){this.config.exit.autolinkEmail.call(this,e)}function QNe(e){this.exit(e)}function XNe(e){BNe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,JNe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),eAe]],{ignore:["link","linkReference"]})}function JNe(e,t,n,s,i){let r="";if(!aY(i)||(/^w/i.test(t)&&(n=t+n,t="",r="http://"),!tAe(n)))return!1;const a=nAe(n+s);if(!a[0])return!1;const o={type:"link",title:null,url:r+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function eAe(e,t,n,s){return!aY(s,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function tAe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function nAe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],s=n.indexOf(")");const i=tP(e,"(");let r=tP(e,")");for(;s!==-1&&i>r;)e+=n.slice(0,s+1),n=n.slice(s+1),s=n.indexOf(")"),r++;return[e,n]}function aY(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Fse(n)||$se(n))&&(!t||n!==47)}oY.peek=dAe;function sAe(){this.buffer()}function iAe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function rAe(){this.buffer()}function aAe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function oAe(e){const t=this.resume(),n=this.stack[this.stack.length-1];Ro(n.type==="footnoteReference"),n.identifier=Ky(this.sliceSerialize(e)).toLowerCase(),n.label=t}function lAe(e){this.exit(e)}function cAe(e){const t=this.resume(),n=this.stack[this.stack.length-1];Ro(n.type==="footnoteDefinition"),n.identifier=Ky(this.sliceSerialize(e)).toLowerCase(),n.label=t}function uAe(e){this.exit(e)}function dAe(){return"["}function oY(e,t,n,s){const i=n.createTracker(s);let r=i.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return r+=i.move(n.safe(n.associationId(e),{after:"]",before:r})),o(),a(),r+=i.move("]"),r}function hAe(){return{enter:{gfmFootnoteCallString:sAe,gfmFootnoteCall:iAe,gfmFootnoteDefinitionLabelString:rAe,gfmFootnoteDefinition:aAe},exit:{gfmFootnoteCallString:oAe,gfmFootnoteCall:lAe,gfmFootnoteDefinitionLabelString:cAe,gfmFootnoteDefinition:uAe}}}function fAe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:oY},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(s,i,r,a){const o=r.createTracker(a);let c=o.move("[^");const u=r.enter("footnoteDefinition"),h=r.enter("label");return c+=o.move(r.safe(r.associationId(s),{before:c,after:"]"})),h(),c+=o.move("]:"),s.children&&s.children.length>0&&(o.shift(4),c+=o.move((t?`
`:" ")+r.indentLines(r.containerFlow(s,o.current()),t?lY:pAe))),u(),c}}function pAe(e,t,n){return t===0?e:lY(e,t,n)}function lY(e,t,n){return(n?"":"    ")+e}const gAe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];cY.peek=vAe;function mAe(){return{canContainEols:["delete"],enter:{strikethrough:xAe},exit:{strikethrough:bAe}}}function yAe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:gAe}],handlers:{delete:cY}}}function xAe(e){this.enter({type:"delete",children:[]},e)}function bAe(e){this.exit(e)}function cY(e,t,n,s){const i=n.createTracker(s),r=n.enter("strikethrough");let a=i.move("~~");return a+=n.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),r(),a}function vAe(){return"~"}function SAe(e){return e.length}function wAe(e,t){const n=t||{},s=(n.align||[]).concat(),i=n.stringLength||SAe,r=[],a=[],o=[],c=[];let u=0,h=-1;for(;++h<e.length;){const b=[],S=[];let C=-1;for(e[h].length>u&&(u=e[h].length);++C<e[h].length;){const M=CAe(e[h][C]);if(n.alignDelimiters!==!1){const N=i(M);S[C]=N,(c[C]===void 0||N>c[C])&&(c[C]=N)}b.push(M)}a[h]=b,o[h]=S}let f=-1;if(typeof s=="object"&&"length"in s)for(;++f<u;)r[f]=k7(s[f]);else{const b=k7(s);for(;++f<u;)r[f]=b}f=-1;const g=[],m=[];for(;++f<u;){const b=r[f];let S="",C="";b===99?(S=":",C=":"):b===108?S=":":b===114&&(C=":");let M=n.alignDelimiters===!1?1:Math.max(1,c[f]-S.length-C.length);const N=S+"-".repeat(M)+C;n.alignDelimiters!==!1&&(M=S.length+M+C.length,M>c[f]&&(c[f]=M),m[f]=M),g[f]=N}a.splice(1,0,g),o.splice(1,0,m),h=-1;const y=[];for(;++h<a.length;){const b=a[h],S=o[h];f=-1;const C=[];for(;++f<u;){const M=b[f]||"";let N="",T="";if(n.alignDelimiters!==!1){const E=c[f]-(S[f]||0),k=r[f];k===114?N=" ".repeat(E):k===99?E%2?(N=" ".repeat(E/2+.5),T=" ".repeat(E/2-.5)):(N=" ".repeat(E/2),T=N):T=" ".repeat(E)}n.delimiterStart!==!1&&!f&&C.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&M==="")&&(n.delimiterStart!==!1||f)&&C.push(" "),n.alignDelimiters!==!1&&C.push(N),C.push(M),n.alignDelimiters!==!1&&C.push(T),n.padding!==!1&&C.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&C.push("|")}y.push(n.delimiterEnd===!1?C.join("").replace(/ +$/,""):C.join(""))}return y.join(`
`)}function CAe(e){return e==null?"":String(e)}function k7(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function MAe(e,t,n,s){const i=n.enter("blockquote"),r=n.createTracker(s);r.move("> "),r.shift(2);const a=n.indentLines(n.containerFlow(e,r.current()),jAe);return i(),a}function jAe(e,t,n){return">"+(n?"":" ")+e}function NAe(e,t){return I7(e,t.inConstruct,!0)&&!I7(e,t.notInConstruct,!1)}function I7(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let s=-1;for(;++s<t.length;)if(e.includes(t[s]))return!0;return!1}function L7(e,t,n,s){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&NAe(n.stack,n.unsafe[i]))return/[ \t]/.test(s.before)?"":" ";return`\\
`}function AAe(e,t){const n=String(e);let s=n.indexOf(t),i=s,r=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;s!==-1;)s===i?++r>a&&(a=r):r=1,i=s+t.length,s=n.indexOf(t,i);return a}function TAe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function EAe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function DAe(e,t,n,s){const i=EAe(n),r=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(TAe(e,n)){const f=n.enter("codeIndented"),g=n.indentLines(r,kAe);return f(),g}const o=n.createTracker(s),c=i.repeat(Math.max(AAe(r,i)+1,3)),u=n.enter("codeFenced");let h=o.move(c);if(e.lang){const f=n.enter(`codeFencedLang${a}`);h+=o.move(n.safe(e.lang,{before:h,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${a}`);h+=o.move(" "),h+=o.move(n.safe(e.meta,{before:h,after:`
`,encode:["`"],...o.current()})),f()}return h+=o.move(`
`),r&&(h+=o.move(r+`
`)),h+=o.move(c),u(),h}function kAe(e,t,n){return(n?"":"    ")+e}function ML(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function IAe(e,t,n,s){const i=ML(n),r=i==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const c=n.createTracker(s);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),o(),e.title&&(o=n.enter(`title${r}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),o()),a(),u}function LAe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Vx(e){return"&#x"+e.toString(16).toUpperCase()+";"}function pw(e,t,n){const s=nP(e),i=nP(t);return s===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:s===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}uY.peek=OAe;function uY(e,t,n,s){const i=LAe(n),r=n.enter("emphasis"),a=n.createTracker(s),o=a.move(i);let c=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=c.charCodeAt(0),h=pw(s.before.charCodeAt(s.before.length-1),u,i);h.inside&&(c=Vx(u)+c.slice(1));const f=c.charCodeAt(c.length-1),g=pw(s.after.charCodeAt(0),f,i);g.inside&&(c=c.slice(0,-1)+Vx(f));const m=a.move(i);return r(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},o+c+m}function OAe(e,t,n){return n.options.emphasis||"*"}function RAe(e,t){let n=!1;return Fg(e,function(s){if("value"in s&&/\r?\n|\r/.test(s.value)||s.type==="break")return n=!0,Bse}),!!((!e.depth||e.depth<3)&&UI(e)&&(t.options.setext||n))}function _Ae(e,t,n,s){const i=Math.max(Math.min(6,e.depth||1),1),r=n.createTracker(s);if(RAe(e,n)){const h=n.enter("headingSetext"),f=n.enter("phrasing"),g=n.containerPhrasing(e,{...r.current(),before:`
`,after:`
`});return f(),h(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const a="#".repeat(i),o=n.enter("headingAtx"),c=n.enter("phrasing");r.move(a+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...r.current()});return/^[\t ]/.test(u)&&(u=Vx(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,n.options.closeAtx&&(u+=" "+a),c(),o(),u}dY.peek=PAe;function dY(e){return e.value||""}function PAe(){return"<"}hY.peek=zAe;function hY(e,t,n,s){const i=ML(n),r=i==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const c=n.createTracker(s);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=n.enter(`title${r}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),o()),u+=c.move(")"),a(),u}function zAe(){return"!"}fY.peek=FAe;function fY(e,t,n,s){const i=e.referenceType,r=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(s);let c=o.move("![");const u=n.safe(e.alt,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return a(),n.stack=h,r(),i==="full"||!u||u!==f?c+=o.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function FAe(){return"!"}pY.peek=$Ae;function pY(e,t,n){let s=e.value||"",i="`",r=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(s);)i+="`";for(/[^ \r\n]/.test(s)&&(/^[ \r\n]/.test(s)&&/[ \r\n]$/.test(s)||/^`|`$/.test(s))&&(s=" "+s+" ");++r<n.unsafe.length;){const a=n.unsafe[r],o=n.compilePattern(a);let c;if(a.atBreak)for(;c=o.exec(s);){let u=c.index;s.charCodeAt(u)===10&&s.charCodeAt(u-1)===13&&u--,s=s.slice(0,u)+" "+s.slice(c.index+1)}}return i+s+i}function $Ae(){return"`"}function gY(e,t){const n=UI(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}mY.peek=BAe;function mY(e,t,n,s){const i=ML(n),r=i==='"'?"Quote":"Apostrophe",a=n.createTracker(s);let o,c;if(gY(e,n)){const h=n.stack;n.stack=[],o=n.enter("autolink");let f=a.move("<");return f+=a.move(n.containerPhrasing(e,{before:f,after:">",...a.current()})),f+=a.move(">"),o(),n.stack=h,f}o=n.enter("link"),c=n.enter("label");let u=a.move("[");return u+=a.move(n.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(c=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),c(),e.title&&(c=n.enter(`title${r}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),c()),u+=a.move(")"),o(),u}function BAe(e,t,n){return gY(e,n)?"<":"["}yY.peek=VAe;function yY(e,t,n,s){const i=e.referenceType,r=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(s);let c=o.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return a(),n.stack=h,r(),i==="full"||!u||u!==f?c+=o.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function VAe(){return"["}function jL(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function UAe(e){const t=jL(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function HAe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function xY(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function GAe(e,t,n,s){const i=n.enter("list"),r=n.bulletCurrent;let a=e.ordered?HAe(n):jL(n);const o=e.ordered?a==="."?")":".":UAe(n);let c=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){const h=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),xY(n)===a&&h){let f=-1;for(;++f<e.children.length;){const g=e.children[f];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=o),n.bulletCurrent=a;const u=n.containerFlow(e,s);return n.bulletLastUsed=a,n.bulletCurrent=r,i(),u}function WAe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function YAe(e,t,n,s){const i=WAe(n);let r=n.bulletCurrent||jL(n);t&&t.type==="list"&&t.ordered&&(r=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+r);let a=r.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(s);o.move(r+" ".repeat(a-r.length)),o.shift(a);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),h);return c(),u;function h(f,g,m){return g?(m?"":" ".repeat(a))+f:(m?r:r+" ".repeat(a-r.length))+f}}function KAe(e,t,n,s){const i=n.enter("paragraph"),r=n.enter("phrasing"),a=n.containerPhrasing(e,s);return r(),i(),a}const qAe=PB(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function ZAe(e,t,n,s){return(e.children.some(function(a){return qAe(a)})?n.containerPhrasing:n.containerFlow).call(n,e,s)}function QAe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}bY.peek=XAe;function bY(e,t,n,s){const i=QAe(n),r=n.enter("strong"),a=n.createTracker(s),o=a.move(i+i);let c=a.move(n.containerPhrasing(e,{after:i,before:o,...a.current()}));const u=c.charCodeAt(0),h=pw(s.before.charCodeAt(s.before.length-1),u,i);h.inside&&(c=Vx(u)+c.slice(1));const f=c.charCodeAt(c.length-1),g=pw(s.after.charCodeAt(0),f,i);g.inside&&(c=c.slice(0,-1)+Vx(f));const m=a.move(i+i);return r(),n.attentionEncodeSurroundingInfo={after:g.outside,before:h.outside},o+c+m}function XAe(e,t,n){return n.options.strong||"*"}function JAe(e,t,n,s){return n.safe(e.value,s)}function eTe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function tTe(e,t,n){const s=(xY(n)+(n.options.ruleSpaces?" ":"")).repeat(eTe(n));return n.options.ruleSpaces?s.slice(0,-1):s}const vY={blockquote:MAe,break:L7,code:DAe,definition:IAe,emphasis:uY,hardBreak:L7,heading:_Ae,html:dY,image:hY,imageReference:fY,inlineCode:pY,link:mY,linkReference:yY,list:GAe,listItem:YAe,paragraph:KAe,root:ZAe,strong:bY,text:JAe,thematicBreak:tTe};function nTe(){return{enter:{table:sTe,tableData:O7,tableHeader:O7,tableRow:rTe},exit:{codeText:aTe,table:iTe,tableData:mT,tableHeader:mT,tableRow:mT}}}function sTe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function iTe(e){this.exit(e),this.data.inTable=void 0}function rTe(e){this.enter({type:"tableRow",children:[]},e)}function mT(e){this.exit(e)}function O7(e){this.enter({type:"tableCell",children:[]},e)}function aTe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,oTe));const n=this.stack[this.stack.length-1];Ro(n.type==="inlineCode"),n.value=t,this.exit(e)}function oTe(e,t){return t==="|"?t:e}function lTe(e){const t=e||{},n=t.tableCellPadding,s=t.tablePipeAlign,i=t.stringLength,r=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:a,tableCell:c,tableRow:o}};function a(m,y,b,S){return u(h(m,b,S),m.align)}function o(m,y,b,S){const C=f(m,b,S),M=u([C]);return M.slice(0,M.indexOf(`
`))}function c(m,y,b,S){const C=b.enter("tableCell"),M=b.enter("phrasing"),N=b.containerPhrasing(m,{...S,before:r,after:r});return M(),C(),N}function u(m,y){return wAe(m,{align:y,alignDelimiters:s,padding:n,stringLength:i})}function h(m,y,b){const S=m.children;let C=-1;const M=[],N=y.enter("table");for(;++C<S.length;)M[C]=f(S[C],y,b);return N(),M}function f(m,y,b){const S=m.children;let C=-1;const M=[],N=y.enter("tableRow");for(;++C<S.length;)M[C]=c(S[C],m,y,b);return N(),M}function g(m,y,b){let S=vY.inlineCode(m,y,b);return b.stack.includes("tableCell")&&(S=S.replace(/\|/g,"\\$&")),S}}function cTe(){return{exit:{taskListCheckValueChecked:R7,taskListCheckValueUnchecked:R7,paragraph:dTe}}}function uTe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:hTe}}}function R7(e){const t=this.stack[this.stack.length-2];Ro(t.type==="listItem"),t.checked=e.type==="taskListCheckValueChecked"}function dTe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];Ro(n.type==="paragraph");const s=n.children[0];if(s&&s.type==="text"){const i=t.children;let r=-1,a;for(;++r<i.length;){const o=i[r];if(o.type==="paragraph"){a=o;break}}a===n&&(s.value=s.value.slice(1),s.value.length===0?n.children.shift():n.position&&s.position&&typeof s.position.start.offset=="number"&&(s.position.start.column++,s.position.start.offset++,n.position.start=Object.assign({},s.position.start)))}}this.exit(e)}function hTe(e,t,n,s){const i=e.children[0],r=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(s);r&&o.move(a);let c=vY.listItem(e,t,n,{...s,...o.current()});return r&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(h){return h+a}}function fTe(){return[GNe(),hAe(),mAe(),nTe(),cTe()]}function pTe(e){return{extensions:[WNe(),fAe(e),yAe(),lTe(e),uTe()]}}const gTe={};function mTe(e){const t=this,n=e||gTe,s=t.data(),i=s.micromarkExtensions||(s.micromarkExtensions=[]),r=s.fromMarkdownExtensions||(s.fromMarkdownExtensions=[]),a=s.toMarkdownExtensions||(s.toMarkdownExtensions=[]);i.push(Vse(n)),r.push(fTe()),a.push(pTe(n))}const yTe=/^\[!(NOTE|TIP|IMPORTANT|WARNING|CAUTION)\]/i,xTe=/^\[!(NOTE|TIP|IMPORTANT|WARNING|CAUTION)(\/.*)?\]/i,bTe=({legacyTitle:e=!1,tagName:t="div"}={})=>n=>{Fg(n,"blockquote",(s,i,r)=>{let a="",o="",c=!0,u=s.children.map(h=>{if(c&&h.type==="paragraph"){const f=h.children[0],g=f.type==="text"?f.value:"",m=e?xTe:yTe,y=g.match(m);if(y&&(c=!1,a=y[1].toLocaleLowerCase(),o=e&&y[2]||a.toLocaleUpperCase(),g.includes(`
`)&&(h.children[0]={type:"text",value:g.replace(m,"").replace(/^\n+/,"")}),!g.includes(`
`))){const b=[];h.children.forEach((S,C)=>{C!=0&&(C==1&&S.type==="break"||b.push(S))}),h.children=[...b]}}return h});a&&(s.data={hName:t,hProperties:{class:`markdown-alert markdown-alert-${a}`,dir:"auto"}},u.unshift({type:"paragraph",children:[vTe(a),{type:"text",value:o.replace(/^\//,"")}],data:{hProperties:{class:"markdown-alert-title",dir:"auto"}}})),s.children=[...u]})};function vTe(e){let t=STe[e]??"";return{type:"emphasis",data:{hName:"svg",hProperties:{class:"octicon",viewBox:"0 0 16 16",width:"16",height:"16",ariaHidden:"true"}},children:[{type:"emphasis",data:{hName:"path",hProperties:{d:t}},children:[]}]}}const STe={note:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z",tip:"M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z",important:"M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",warning:"M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",caution:"M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"};function wTe(e,t){if(typeof document>"u")return;const n=document.createElement("textarea");n.value=e,n.setAttribute("readonly",""),n.style={position:"absolute",left:"-9999px"},document.body.appendChild(n);const s=document.getSelection().rangeCount>0?document.getSelection().getRangeAt(0):!1;n.select();let i=!1;try{i=!!document.execCommand("copy")}catch{i=!1}document.body.removeChild(n),s&&document.getSelection&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(s)),t&&t(i)}function SY(e){if(!e)return null;var t=e;return t.dataset.code&&t.classList.contains("copied")?t:t.parentElement?SY(t.parentElement):null}function CTe(e){var t=n=>{var s=SY(n.target);s&&(s.classList.add("active"),wTe(s.dataset.code,function(){setTimeout(()=>{s.classList.remove("active")},2e3)}))};w.useEffect(()=>{var n,s;return(n=e.current)==null||n.removeEventListener("click",t,!1),(s=e.current)==null||s.addEventListener("click",t,!1),()=>{var i;(i=e.current)==null||i.removeEventListener("click",t,!1)}},[e])}var MTe=["prefixCls","className","source","style","disableCopy","skipHtml","onScroll","onMouseOver","pluginsFilter","rehypeRewrite","wrapperElement","warpperElement","urlTransform"],jTe=e=>e;const NTe=Xe.forwardRef((e,t)=>{var{prefixCls:n="wmde-markdown wmde-markdown-color",className:s,source:i,style:r,disableCopy:a=!1,skipHtml:o=!0,onScroll:c,onMouseOver:u,pluginsFilter:h,wrapperElement:f={},warpperElement:g={},urlTransform:m}=e,y=Bx(e,MTe),b=Xe.useRef(null);w.useImperativeHandle(t,()=>sn({},e,{mdp:b}),[b,e]);var S=(n||"")+" "+(s||"");CTe(b);var C=[...y.rehypePlugins||[]],M={allowElement:(E,k,L)=>y.allowElement?y.allowElement(E,k,L):/^[A-Za-z0-9]+$/.test(E.tagName)};o||C.push(E0);var N=[bTe,...y.remarkPlugins||[],mTe],T=sn({},g,f);return l.jsx("div",sn({ref:b,onScroll:c,onMouseOver:u},T,{className:S,style:r,children:l.jsx(zNe,sn({},M,y,{skipHtml:!o,urlTransform:m||jTe,rehypePlugins:h?h("rehype",C):C,remarkPlugins:h?h("remark",N):N,children:i||""}))}))});var ATe=function(t){return n=>{Fg(n,s=>{s.type==="element"&&s.tagName==="code"&&s.data&&s.data.meta&&(s.properties=sn({},s.properties,{"data-meta":String(s.data.meta)}))})}},TTe=function(t){return n=>{Fg(n,s=>{if(s.type==="element"&&s.tagName==="code"&&s.properties&&s.properties.dataMeta){s.data||(s.data={});var i=s.properties.dataMeta;typeof i=="string"&&(s.data.meta=i),delete s.properties.dataMeta}})}};const wY=Xe.forwardRef((e,t)=>{var n,s=[ATe,E0,TTe,...Use,[Hse,{rewrite:Gse((n=e.disableCopy)!=null?n:!1,e.rehypeRewrite)}],[Wse,{properties:"attr"}],...e.rehypePlugins||[],[Yse,{ignoreMissing:!0}]];return l.jsx(NTe,sn({},e,{rehypePlugins:s,ref:t}))});function ETe(e,t){return sn({},e,t)}var pf=Xe.createContext({markdown:""});function DTe(e){var{prefixCls:t,groupName:n,commands:s,children:i}=e||{},{barPopup:r={}}=w.useContext(pf);return w.useMemo(()=>l.jsx("div",{className:t+"-toolbar-child "+(n&&r[n]?"active":""),onClick:a=>a.stopPropagation(),children:Array.isArray(s)?l.jsx(CY,sn({commands:s},e,{isChild:!0})):i}),[s,r,n,t])}function _7(e){var{prefixCls:t,overflow:n}=e,{fullscreen:s,preview:i,barPopup:r={},components:a,commandOrchestrator:o,dispatch:c}=w.useContext(pf),u=w.useRef("");function h(f,g){if(c){var m={barPopup:sn({},r)};f.keyCommand==="preview"&&(m.preview=f.value),f.keyCommand==="fullscreen"&&(m.fullscreen=!s),e.commands&&f.keyCommand==="group"?e.commands.forEach(y=>{g===y.groupName?m.barPopup[g]=!0:y.keyCommand&&(m.barPopup[y.groupName]=!1)}):(g||f.parent)&&Object.keys(m.barPopup||{}).forEach(y=>{m.barPopup[y]=!1}),Object.keys(m).length&&c(sn({},m)),o&&o.executeCommand(f)}}return w.useEffect(()=>{document&&n&&(s?document.body.style.overflow="hidden":(u.current||(u.current=window.getComputedStyle(document.body,null).overflow),document.body.style.overflow=u.current))},[s,u,n]),l.jsx("ul",{children:(e.commands||[]).map((f,g)=>{if(f.keyCommand==="divider")return l.jsx("li",sn({},f.liProps,{className:t+"-toolbar-divider"}),g);if(!f.keyCommand)return l.jsx(w.Fragment,{},g);var m=s&&f.keyCommand==="fullscreen"||f.keyCommand==="preview"&&i===f.value,y=f.children&&typeof f.children=="function"?f.children({getState:()=>o.getState(),textApi:o?o.textApi:void 0,close:()=>h({},f.groupName),execute:()=>h({execute:f.execute}),dispatch:c}):void 0,b=r&&i&&i==="preview"&&!/(preview|fullscreen)/.test(f.keyCommand),S=a?.toolbar||f.render,C=S&&typeof S=="function"?S(f,!!b,h,g):null;return l.jsxs("li",sn({},f.liProps,{className:m?"active":"",children:[C&&Xe.isValidElement(C)&&C,!C&&!f.buttonProps&&f.icon,!C&&f.buttonProps&&Xe.createElement("button",sn({type:"button",key:g,disabled:b,"data-name":f.name},f.buttonProps,{onClick:M=>{M.stopPropagation(),h(f,f.groupName)}}),f.icon),f.children&&l.jsx(DTe,{overflow:n,groupName:f.groupName,prefixCls:t,children:y,commands:Array.isArray(f.children)?f.children:void 0})]}),g)})})}function CY(e){e===void 0&&(e={});var{prefixCls:t,isChild:n,className:s}=e,{commands:i,extraCommands:r}=w.useContext(pf);return l.jsxs("div",{className:t+"-toolbar "+s,children:[l.jsx(_7,sn({},e,{commands:e.commands||i||[]})),!n&&l.jsx(_7,sn({},e,{commands:r||[]}))]})}function P7(e){var{hideToolbar:t,toolbarBottom:n,placement:s,overflow:i,prefixCls:r}=e;if(t||s==="bottom"&&!n||s==="top"&&n)return null;var a=n?"bottom":"";return l.jsx(CY,{prefixCls:r,overflow:i,className:a})}function MY(e,t){return e===void 0&&(e=[]),t===void 0&&(t={}),e.forEach(n=>{n.children&&Array.isArray(n.children)?t=sn({},t,MY(n.children||[])):n.keyCommand&&n.shortcuts&&n.execute&&(t[n.shortcuts.toLocaleLowerCase()]=n)}),t}function jY(e,t,n,s,i){t===void 0&&(t=[]);var r=MY(t||[]),a=[];if(e.altKey&&a.push("alt"),e.shiftKey&&a.push("shift"),e.metaKey&&a.push("cmd"),e.ctrlKey&&a.push("ctrl"),a.length>0&&!/(control|alt|meta|shift)/.test(e.key.toLocaleLowerCase())&&a.push(e.key.toLocaleLowerCase()),/escape/.test(e.key.toLocaleLowerCase())&&a.push("escape"),!(a.length<1)){var o=!!r[a.join("+")],c=o?r[a.join("+")]:void 0;if(Object.keys(r).forEach(u=>{var h=u.split("+").every(f=>/ctrlcmd/.test(f)?a.includes("ctrl")||a.includes("cmd"):a.includes(f));h&&(c=r[u])}),c&&n){e.stopPropagation(),e.preventDefault(),n.executeCommand(c,s,i,a);return}}}function kTe(e,t){return t||(t=e.slice(0)),e.raw=t,e}var z7;function ITe(e){return e.replace(/[<&"]/g,t=>({"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"})[t])}function LTe(e){var{prefixCls:t}=e,{markdown:n="",highlightEnable:s,dispatch:i}=w.useContext(pf),r=Xe.createRef();if(w.useEffect(()=>{r.current&&i&&i({textareaPre:r.current})},[]),!n)return l.jsx("pre",{ref:r,className:t+"-text-pre wmde-markdown-color"});var a='<pre class="language-markdown '+t+'-text-pre wmde-markdown-color"><code class="language-markdown">'+ITe(String.raw(z7||(z7=kTe(["",""])),n))+`
</code></pre>`;if(s)try{a=Kse().data("settings",{fragment:!0}).use(qse,{ignoreMissing:!0}).processSync(a).toString()}catch{}return Xe.createElement("div",{className:"wmde-markdown-color",dangerouslySetInnerHTML:{__html:a||""}})}var yT;function F7(e){if(e.nodeName!=="TEXTAREA")return!1;if(typeof yT>"u"){var t=document.createElement("textarea");t.value="1",yT=!!t.firstChild}return yT}function sg(e,t){if(e.focus(),document.selection){var n=document.selection.createRange();n.text=t,n.collapse(!1),n.select();return}var s=!1;if(t!==""?s=document.execCommand&&document.execCommand("insertText",!1,t):s=document.execCommand&&document.execCommand("delete",!1),!s){var i=e.selectionStart,r=e.selectionEnd;if(typeof e.setRangeText=="function")e.setRangeText(t);else{var a=document.createRange(),o=document.createTextNode(t);if(F7(e)){var c=e.firstChild;if(!c)e.appendChild(o);else{for(var u=0,h=null,f=null;c&&(h===null||f===null);){var g=c.nodeValue.length;i>=u&&i<=u+g&&a.setStart(h=c,i-u),r>=u&&r<=u+g&&a.setEnd(f=c,r-u),u+=g,c=c.nextSibling}i!==r&&a.deleteContents()}}if(F7(e)&&a.commonAncestorContainer.nodeName==="#text")a.insertNode(o);else{var m=e.value;e.value=m.slice(0,i)+t+m.slice(r)}}e.setSelectionRange(i+t.length,i+t.length);var y=document.createEvent("UIEvent");y.initEvent("input",!0,!1),e.dispatchEvent(y)}}function wr(e){var{text:t,selection:n,prefix:s,suffix:i=s}=e,r=n;if(t&&t.length&&n.start===n.end&&(r=OTe(t,n.start)),r.start>=s.length&&r.end<=t.length-i.length){var a=t.slice(r.start-s.length,r.end+i.length);if(a.startsWith(s)&&a.endsWith(i))return{start:r.start-s.length,end:r.end+i.length}}return r}function ix(e){var{text:t,selection:n}=e,s=t.slice(0,n.start).lastIndexOf(`
`)+1,i=t.slice(n.end).indexOf(`
`)+n.end;return i===n.end-1&&(i=t.length),{start:s,end:i}}function NY(e,t){if(e===void 0&&(e=""),t===0)return 0;for(var n=2,s=!0,i=t-1;i>=0&&n>=0;i--)switch(e.charCodeAt(i)){case 32:continue;case 10:n--,s=!1;break;default:return n}return s?0:n}function AY(e,t){if(e===void 0&&(e=""),t===e.length-1)return 0;for(var n=2,s=!0,i=t;i<e.length&&n>=0;i++)switch(e.charCodeAt(i)){case 32:continue;case 10:{n--,s=!1;break}default:return n}return s?0:n}function OTe(e,t){if(!e)throw Error("Argument 'text' should be truthy");for(var n=o=>o===" "||o.charCodeAt(0)===10,s=0,i=e.length,r=t;r-1>-1;r--)if(n(e[r-1])){s=r;break}for(var a=t;a<e.length;a++)if(n(e[a])){i=a;break}return{start:s,end:i}}function Ki(e){var{api:t,selectedText:n,selection:s,prefix:i,suffix:r=i}=e;n.length>=i.length+r.length&&n.startsWith(i)&&n.endsWith(r)?(t.replaceSelection(n.slice(i.length,r.length?-r.length:void 0)),t.setSelectionRange({start:s.start-i.length,end:s.end-i.length})):(t.replaceSelection(""+i+n+r),t.setSelectionRange({start:s.start+i.length,end:s.end+i.length}))}function NL(e,t){var n=e.split(/\n/),s=0,i=n.map((r,a)=>{if(typeof t=="string")return r.startsWith(t)?(s-=t.length,r.slice(t.length)):(s+=t.length,t+r);if(typeof t=="function"){if(r.startsWith(t(r,a)))return s-=t(r,a).length,r.slice(t(r,a).length);var o=t(r,a);return s+=o.length,t(r,a)+r}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:i,insertionLength:s}}var TY={name:"bold",keyCommand:"bold",shortcuts:"ctrlcmd+b",prefix:"**",buttonProps:{"aria-label":"Add bold text (ctrl + b)",title:"Add bold text (ctrl + b)"},icon:l.jsx("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 384 512",children:l.jsx("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})}),execute:(e,t)=>{var n=wr({text:e.text,selection:e.selection,prefix:e.command.prefix}),s=t.setSelectionRange(n);Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:e.command.prefix})}},AL={name:"codeBlock",keyCommand:"codeBlock",shortcuts:"ctrlcmd+shift+j",prefix:"```",buttonProps:{"aria-label":"Insert Code Block (ctrl + shift + j)",title:"Insert Code Block (ctrl + shift +j)"},icon:l.jsx("svg",{width:"13",height:"13",role:"img",viewBox:"0 0 156 156",children:l.jsx("path",{fill:"currentColor",d:"M110.85 120.575 43.7 120.483333 43.7083334 110.091667 110.85 110.191667 110.841667 120.583333 110.85 120.575ZM85.1333334 87.1916666 43.625 86.7083332 43.7083334 76.3166666 85.2083334 76.7916666 85.1333334 87.1916666 85.1333334 87.1916666ZM110.841667 53.4166666 43.7 53.3166666 43.7083334 42.925 110.85 43.025 110.841667 53.4166666ZM36 138C27.2916666 138 20.75 136.216667 16.4 132.666667 12.1333334 129.2 10 124.308333 10 118L10 95.3333332C10 91.0666666 9.25 88.1333332 7.7333334 86.5333332 6.3166668 84.8416666 3.7333334 84 0 84L0 72C3.7333334 72 6.3083334 71.2 7.7333334 69.6 9.2416668 67.9083334 10 64.9333334 10 60.6666666L10 38C10 31.775 12.1333334 26.8833334 16.4 23.3333332 20.7583334 19.7749998 27.2916666 18 36 18L40.6666668 18 40.6666668 30 36 30C34.0212222 29.9719277 32.1263151 30.7979128 30.8 32.2666666 29.3605875 33.8216362 28.5938182 35.8823287 28.6666668 38L28.6666668 60.6666666C28.6666668 67.5083332 26.6666668 72.4 22.6666668 75.3333332 20.9317416 76.7274684 18.8640675 77.6464347 16.6666668 78 18.8916668 78.35 20.8916668 79.2416666 22.6666668 80.6666666 26.6666668 83.95 28.6666668 88.8416666 28.6666668 95.3333332L28.6666668 118C28.6666668 120.308333 29.3750002 122.216667 30.8 123.733333 32.2166666 125.241667 33.9583334 126 36 126L40.6666668 126 40.6666668 138 36 138 36 138ZM114.116667 126 118.783333 126C120.833333 126 122.566667 125.241667 123.983333 123.733333 125.422746 122.178364 126.189515 120.117671 126.116667 118L126.116667 95.3333332C126.116667 88.8333332 128.116667 83.9499998 132.116667 80.6666666 133.9 79.2416666 135.9 78.35 138.116667 78 135.919156 77.6468047 133.851391 76.7277979 132.116667 75.3333332 128.116667 72.3999998 126.116667 67.5 126.116667 60.6666666L126.116667 38C126.189515 35.8823287 125.422746 33.8216361 123.983333 32.2666666 122.657018 30.7979128 120.762111 29.9719277 118.783333 30L114.116667 30 114.116667 18 118.783333 18C127.5 18 133.983333 19.775 138.25 23.3333332 142.608333 26.8833332 144.783333 31.7749998 144.783333 38L144.783333 60.6666666C144.783333 64.9333332 145.5 67.9083332 146.916667 69.6 148.433333 71.2 151.05 72 154.783333 72L154.783333 84C151.05 84 148.433333 84.8333334 146.916667 86.5333332 145.5 88.1333332 144.783333 91.0666666 144.783333 95.3333332L144.783333 118C144.783333 124.308333 142.616667 129.2 138.25 132.666667 133.983333 136.216667 127.5 138 118.783333 138L114.116667 138 114.116667 126 114.116667 126Z"})}),execute:(e,t)=>{var n=wr({text:e.text,selection:e.selection,prefix:"```\n",suffix:"\n```"}),s=t.setSelectionRange(n),i="\n```\n",r="\n```\n";s.selectedText.length>=i.length+r.length-2&&s.selectedText.startsWith(i)&&s.selectedText.endsWith(r)?(i="```\n",r="\n```"):((s.selection.start>=1&&e.text.slice(s.selection.start-1,s.selection.start)===`
`||s.selection.start===0)&&(i="```\n"),(s.selection.end<=e.text.length-1&&e.text.slice(s.selection.end,s.selection.end+1)===`
`||s.selection.end===e.text.length)&&(r="\n```"));var a=wr({text:e.text,selection:e.selection,prefix:i,suffix:r}),o=t.setSelectionRange(a);Ki({api:t,selectedText:o.selectedText,selection:e.selection,prefix:i,suffix:r})}},EY={name:"code",keyCommand:"code",shortcuts:"ctrlcmd+j",prefix:"`",buttonProps:{"aria-label":"Insert code (ctrl + j)",title:"Insert code (ctrl + j)"},icon:l.jsx("svg",{width:"14",height:"14",role:"img",viewBox:"0 0 640 512",children:l.jsx("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})}),execute:(e,t)=>{if(e.selectedText.indexOf(`
`)===-1){var n=wr({text:e.text,selection:e.selection,prefix:e.command.prefix}),s=t.setSelectionRange(n);Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:e.command.prefix})}else AL.execute(e,t)}},RTe={name:"comment",keyCommand:"comment",shortcuts:"ctrlcmd+/",prefix:"<!-- ",suffix:" -->",buttonProps:{"aria-label":"Insert comment (ctrl + /)",title:"Insert comment (ctrl + /)"},icon:l.jsx("svg",{height:"1em",width:"1em",viewBox:"0 0 25 25",children:l.jsxs("g",{fill:"none",fillRule:"evenodd",children:[l.jsx("polygon",{points:".769 .727 24.981 .727 24.981 24.727 .769 24.727"}),l.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M12.625,23.8787879 L8.125,19.6969697 L5.125,19.6969697 C2.63971863,19.6969697 0.625,17.8247059 0.625,15.5151515 L0.625,7.15151515 C0.625,4.84196074 2.63971863,2.96969697 5.125,2.96969697 L20.125,2.96969697 C22.6102814,2.96969697 24.625,4.84196074 24.625,7.15151515 L24.625,15.5151515 C24.625,17.8247059 22.6102814,19.6969697 20.125,19.6969697 L17.125,19.6969697 L12.625,23.8787879"}),l.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M10.625,8.54545455 L7.25,11.3333333 L10.625,14.1212121 M15.6875,8.54545455 L19.0625,11.3333333 L15.6875,14.1212121"})]})}),execute:(e,t)=>{var n=wr({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),s=t.setSelectionRange(n);Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix})}},ig={keyCommand:"divider"},_Te={name:"fullscreen",keyCommand:"fullscreen",shortcuts:"ctrlcmd+0",value:"fullscreen",buttonProps:{"aria-label":"Toggle fullscreen (ctrl + 0)",title:"Toggle fullscreen (ctrl+ 0)"},icon:l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:l.jsx("path",{fill:"currentColor",d:"M118 171.133334L118 342.200271C118 353.766938 126.675 365.333605 141.133333 365.333605L382.634614 365.333605C394.201281 365.333605 405.767948 356.658605 405.767948 342.200271L405.767948 171.133334C405.767948 159.566667 397.092948 148 382.634614 148L141.133333 148C126.674999 148 117.999999 156.675 118 171.133334zM465.353591 413.444444L370 413.444444 370 471.222222 474.0221 471.222222C500.027624 471.222222 520.254143 451 520.254143 425L520.254143 321 462.464089 321 462.464089 413.444444 465.353591 413.444444zM471.0221 43L367 43 367 100.777778 462.353591 100.777778 462.353591 196.111111 520.143647 196.111111 520.143647 89.2222219C517.254144 63.2222219 497.027624 43 471.0221 43zM57.7900547 100.777778L153.143646 100.777778 153.143646 43 46.2320439 43C20.2265191 43 0 63.2222219 0 89.2222219L0 193.222222 57.7900547 193.222222 57.7900547 100.777778zM57.7900547 321L0 321 0 425C0 451 20.2265191 471.222222 46.2320439 471.222223L150.254143 471.222223 150.254143 413.444445 57.7900547 413.444445 57.7900547 321z"})}),execute:(e,t,n,s,i)=>{t.textArea.focus(),i&&n&&s&&n({fullscreen:!s.fullscreen})}};function PTe(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var zTe=(e,t)=>{var n=sn({children:e,icon:l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:l.jsx("path",{fill:"currentColor",d:"M15.7083333,468 C7.03242448,468 0,462.030833 0,454.666667 L0,421.333333 C0,413.969167 7.03242448,408 15.7083333,408 L361.291667,408 C369.967576,408 377,413.969167 377,421.333333 L377,454.666667 C377,462.030833 369.967576,468 361.291667,468 L15.7083333,468 Z M21.6666667,366 C9.69989583,366 0,359.831861 0,352.222222 L0,317.777778 C0,310.168139 9.69989583,304 21.6666667,304 L498.333333,304 C510.300104,304 520,310.168139 520,317.777778 L520,352.222222 C520,359.831861 510.300104,366 498.333333,366 L21.6666667,366 Z M136.835938,64 L136.835937,126 L107.25,126 L107.25,251 L40.75,251 L40.75,126 L-5.68434189e-14,126 L-5.68434189e-14,64 L136.835938,64 Z M212,64 L212,251 L161.648438,251 L161.648438,64 L212,64 Z M378,64 L378,126 L343.25,126 L343.25,251 L281.75,251 L281.75,126 L238,126 L238,64 L378,64 Z M449.047619,189.550781 L520,189.550781 L520,251 L405,251 L405,64 L449.047619,64 L449.047619,189.550781 Z"})}),execute:()=>{}},t,{keyCommand:"group"});return Array.isArray(n.children)&&(n.children=n.children.map(s=>{var i=sn({},(PTe(s),s));return i.parent=n,sn({},i)})),n},DY={name:"hr",keyCommand:"hr",shortcuts:"ctrlcmd+h",prefix:`

---
`,suffix:"",buttonProps:{"aria-label":"Insert HR (ctrl + h)",title:"Insert HR (ctrl + h)"},icon:l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 175 175",children:l.jsx("path",{fill:"currentColor",d:"M0,129 L175,129 L175,154 L0,154 L0,129 Z M3,9 L28.2158203,9 L28.2158203,47.9824219 L55.7695313,47.9824219 L55.7695313,9 L81.0966797,9 L81.0966797,107.185547 L55.7695313,107.185547 L55.7695313,68.0214844 L28.2158203,68.0214844 L28.2158203,107.185547 L3,107.185547 L3,9 Z M93.1855469,100.603516 L93.1855469,19 L135.211914,19 C143.004922,19 148.960917,19.6679621 153.080078,21.0039063 C157.199239,22.3398504 160.520495,24.8168764 163.043945,28.4350586 C165.567395,32.0532407 166.829102,36.459935 166.829102,41.6552734 C166.829102,46.1826398 165.864267,50.0883625 163.93457,53.3725586 C162.004873,56.6567547 159.351579,59.3193257 155.974609,61.3603516 C153.822255,62.6591862 150.872089,63.7353473 147.124023,64.5888672 C150.129898,65.5908253 152.319329,66.5927684 153.692383,67.5947266 C154.620122,68.2626987 155.965323,69.6913953 157.728027,71.8808594 C159.490731,74.0703234 160.668942,75.7587831 161.262695,76.9462891 L173,100.603516 L144.953125,100.603516 L131.482422,75.6660156 C129.775382,72.4374839 128.253913,70.3408251 126.917969,69.3759766 C125.0996,68.1142515 123.040051,67.4833984 120.739258,67.4833984 L118.512695,67.4833984 L118.512695,100.603516 L93.1855469,100.603516 Z M118.512695,52.0644531 L129.144531,52.0644531 C130.294928,52.0644531 132.521468,51.6933631 135.824219,50.9511719 C137.494149,50.6171858 138.857905,49.7636787 139.915527,48.390625 C140.97315,47.0175713 141.501953,45.4404386 141.501953,43.6591797 C141.501953,41.0244009 140.667001,39.0019602 138.99707,37.5917969 C137.32714,36.1816336 134.191429,35.4765625 129.589844,35.4765625 L117.512695,35.4765625 L118.512695,52.0644531 Z",transform:"translate(0 9)"})}),execute:(e,t)=>{var n=wr({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),s=t.setSelectionRange(n);s.selectedText.length>=e.command.prefix.length&&s.selectedText.startsWith(e.command.prefix)?Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}):(s=t.setSelectionRange({start:e.selection.start,end:e.selection.start}),Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}))}},FTe={name:"image",keyCommand:"image",shortcuts:"ctrlcmd+k",prefix:"![image](",suffix:")",buttonProps:{"aria-label":"Add image (ctrl + k)",title:"Add image (ctrl + k)"},icon:l.jsx("svg",{width:"13",height:"13",viewBox:"0 0 20 20",children:l.jsx("path",{fill:"currentColor",d:"M15 9c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4-7H1c-.55 0-1 .45-1 1v14c0 .55.45 1 1 1h18c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 13l-6-5-2 2-4-5-4 8V4h16v11z"})}),execute:(e,t)=>{var n=wr({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),s=t.setSelectionRange(n);s.selectedText.includes("http")||s.selectedText.includes("www")?Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}):(n=wr({text:e.text,selection:e.selection,prefix:"![",suffix:"]()"}),s=t.setSelectionRange(n),s.selectedText.length===0?Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:"![image",suffix:"](url)"}):Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:"![",suffix:"]()"}))}},kY={name:"italic",keyCommand:"italic",shortcuts:"ctrlcmd+i",prefix:"*",buttonProps:{"aria-label":"Add italic text (ctrl + i)",title:"Add italic text (ctrl + i)"},icon:l.jsx("svg",{"data-name":"italic",width:"12",height:"12",role:"img",viewBox:"0 0 320 512",children:l.jsx("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})}),execute:(e,t)=>{var n=wr({text:e.text,selection:e.selection,prefix:e.command.prefix}),s=t.setSelectionRange(n);Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:e.command.prefix})}},IY={name:"link",keyCommand:"link",shortcuts:"ctrlcmd+l",prefix:"[",suffix:"](url)",buttonProps:{"aria-label":"Add a link (ctrl + l)",title:"Add a link (ctrl + l)"},icon:l.jsx("svg",{"data-name":"italic",width:"12",height:"12",role:"img",viewBox:"0 0 520 520",children:l.jsx("path",{fill:"currentColor",d:"M331.751196,182.121107 C392.438214,241.974735 391.605313,337.935283 332.11686,396.871226 C332.005129,396.991316 331.873084,397.121413 331.751196,397.241503 L263.493918,464.491645 C203.291404,523.80587 105.345257,523.797864 45.151885,464.491645 C-15.0506283,405.187427 -15.0506283,308.675467 45.151885,249.371249 L82.8416853,212.237562 C92.836501,202.39022 110.049118,208.9351 110.56511,222.851476 C111.223305,240.5867 114.451306,258.404985 120.407566,275.611815 C122.424812,281.438159 120.983487,287.882964 116.565047,292.23621 L103.272145,305.332975 C74.8052033,333.379887 73.9123737,379.047937 102.098973,407.369054 C130.563883,435.969378 177.350591,436.139505 206.033884,407.879434 L274.291163,340.6393 C302.9257,312.427264 302.805844,266.827265 274.291163,238.733318 C270.531934,235.036561 266.74528,232.16442 263.787465,230.157924 C259.544542,227.2873 256.928256,222.609848 256.731165,217.542518 C256.328935,206.967633 260.13184,196.070508 268.613213,187.714278 L289.998463,166.643567 C295.606326,161.118448 304.403592,160.439942 310.906317,164.911276 C318.353355,170.034591 325.328531,175.793397 331.751196,182.121107 Z M240.704978,55.4828366 L172.447607,122.733236 C172.325719,122.853326 172.193674,122.983423 172.081943,123.103513 C117.703294,179.334654 129.953294,261.569283 185.365841,328.828764 C191.044403,335.721376 198.762988,340.914712 206.209732,346.037661 C212.712465,350.509012 221.510759,349.829503 227.117615,344.305363 L248.502893,323.234572 C256.984277,314.87831 260.787188,303.981143 260.384957,293.406218 C260.187865,288.338869 257.571576,283.661398 253.328648,280.790763 C250.370829,278.78426 246.58417,275.912107 242.824936,272.215337 C214.310216,244.121282 206.209732,204.825874 229.906702,179.334654 L298.164073,112.094263 C326.847404,83.8340838 373.633159,84.0042113 402.099123,112.604645 C430.285761,140.92587 429.393946,186.594095 400.92595,214.641114 L387.63303,227.737929 C383.214584,232.091191 381.773257,238.536021 383.790506,244.362388 C389.746774,261.569283 392.974779,279.387637 393.632975,297.122928 C394.149984,311.039357 411.361608,317.584262 421.356437,307.736882 L459.046288,270.603053 C519.249898,211.29961 519.249898,114.787281 459.047304,55.4828366 C398.853851,-3.82360914 300.907572,-3.83161514 240.704978,55.4828366 Z"})}),execute:(e,t)=>{var n=wr({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),s=t.setSelectionRange(n);s.selectedText.includes("http")||s.selectedText.includes("www")?(n=wr({text:e.text,selection:e.selection,prefix:"[](",suffix:")"}),s=t.setSelectionRange(n),Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:"[](",suffix:")"})):s.selectedText.length===0?Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:"[title",suffix:"](url)"}):Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix})}},TL=(e,t,n)=>{var s=wr({text:e.text,selection:e.selection,prefix:e.command.prefix}),i=t.setSelectionRange(s),r=NY(i.text,i.selection.start),a=Array(r+1).join(`
`),o=AY(i.text,i.selection.end),c=Array(o+1).join(`
`),{modifiedText:u,insertionLength:h}=NL(i.selectedText,n);if(h<0){var f=i.selection.start,g=i.selection.end;i.selection.start>0&&e.text.slice(i.selection.start-1,i.selection.start)===`
`&&(f-=1),i.selection.end<e.text.length-1&&e.text.slice(i.selection.end,i.selection.end+1)===`
`&&(g+=1),t.setSelectionRange({start:f,end:g}),t.replaceSelection(""+u),t.setSelectionRange({start:f,end:f+u.length})}else{t.replaceSelection(""+a+u+c);var m=i.selection.start+r,y=m+u.length;t.setSelectionRange({start:m,end:y})}},LY={name:"unordered-list",keyCommand:"list",shortcuts:"ctrl+shift+u",prefix:"- ",buttonProps:{"aria-label":"Add unordered list (ctrl + shift + u)",title:"Add unordered list (ctrl + shift + u)"},icon:l.jsx("svg",{"data-name":"unordered-list",width:"12",height:"12",viewBox:"0 0 512 512",children:l.jsx("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})}),execute:(e,t)=>{TL(e,t,"- ")}},OY={name:"ordered-list",keyCommand:"list",shortcuts:"ctrl+shift+o",prefix:"1. ",buttonProps:{"aria-label":"Add ordered list (ctrl + shift + o)",title:"Add ordered list (ctrl + shift + o)"},icon:l.jsx("svg",{"data-name":"ordered-list",width:"12",height:"12",role:"img",viewBox:"0 0 512 512",children:l.jsx("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})}),execute:(e,t)=>{TL(e,t,(n,s)=>s+1+". ")}},RY={name:"checked-list",keyCommand:"list",shortcuts:"ctrl+shift+c",prefix:"- [ ] ",buttonProps:{"aria-label":"Add checked list (ctrl + shift + c)",title:"Add checked list (ctrl + shift + c)"},icon:l.jsx("svg",{"data-name":"checked-list",width:"12",height:"12",role:"img",viewBox:"0 0 512 512",children:l.jsx("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})}),execute:(e,t)=>{TL(e,t,(n,s)=>"- [ ] ")}},$Te={name:"preview",keyCommand:"preview",value:"preview",shortcuts:"ctrlcmd+9",buttonProps:{"aria-label":"Preview code (ctrl + 9)",title:"Preview code (ctrl + 9)"},icon:l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:[l.jsx("polygon",{fill:"currentColor",points:"0 71.293 0 122 38.023 123 38.023 398 0 397 0 449.707 91.023 450.413 91.023 72.293"}),l.jsx("polygon",{fill:"currentColor",points:"148.023 72.293 520 71.293 520 122 200.023 124 200.023 397 520 396 520 449.707 148.023 450.413"})]}),execute:(e,t,n,s,i)=>{t.textArea.focus(),i&&n&&s&&n({preview:"preview"})}},BTe={name:"edit",keyCommand:"preview",value:"edit",shortcuts:"ctrlcmd+7",buttonProps:{"aria-label":"Edit code (ctrl + 7)",title:"Edit code (ctrl + 7)"},icon:l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:[l.jsx("polygon",{fill:"currentColor",points:"0 71.293 0 122 319 122 319 397 0 397 0 449.707 372 449.413 372 71.293"}),l.jsx("polygon",{fill:"currentColor",points:"429 71.293 520 71.293 520 122 481 123 481 396 520 396 520 449.707 429 449.413"})]}),execute:(e,t,n,s,i)=>{t.textArea.focus(),i&&n&&s&&n({preview:"edit"})}},VTe={name:"live",keyCommand:"preview",value:"live",shortcuts:"ctrlcmd+8",buttonProps:{"aria-label":"Live code (ctrl + 8)",title:"Live code (ctrl + 8)"},icon:l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:[l.jsx("polygon",{fill:"currentColor",points:"0 71.293 0 122 179 122 179 397 0 397 0 449.707 232 449.413 232 71.293"}),l.jsx("polygon",{fill:"currentColor",points:"289 71.293 520 71.293 520 122 341 123 341 396 520 396 520 449.707 289 449.413"})]}),execute:(e,t,n,s,i)=>{t.textArea.focus(),i&&n&&s&&n({preview:"live"})}},_Y={name:"quote",keyCommand:"quote",shortcuts:"ctrlcmd+q",prefix:"> ",buttonProps:{"aria-label":"Insert a quote (ctrl + q)",title:"Insert a quote (ctrl + q)"},icon:l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:l.jsx("path",{fill:"currentColor",d:"M520,95.75 L520,225.75 C520,364.908906 457.127578,437.050625 325.040469,472.443125 C309.577578,476.586875 294.396016,464.889922 294.396016,448.881641 L294.396016,414.457031 C294.396016,404.242891 300.721328,395.025078 310.328125,391.554687 C377.356328,367.342187 414.375,349.711094 414.375,274.5 L341.25,274.5 C314.325781,274.5 292.5,252.674219 292.5,225.75 L292.5,95.75 C292.5,68.8257812 314.325781,47 341.25,47 L471.25,47 C498.174219,47 520,68.8257812 520,95.75 Z M178.75,47 L48.75,47 C21.8257813,47 0,68.8257812 0,95.75 L0,225.75 C0,252.674219 21.8257813,274.5 48.75,274.5 L121.875,274.5 C121.875,349.711094 84.8563281,367.342187 17.828125,391.554687 C8.22132813,395.025078 1.89601563,404.242891 1.89601563,414.457031 L1.89601563,448.881641 C1.89601563,464.889922 17.0775781,476.586875 32.5404687,472.443125 C164.627578,437.050625 227.5,364.908906 227.5,225.75 L227.5,95.75 C227.5,68.8257812 205.674219,47 178.75,47 Z"})}),execute:(e,t)=>{var n=wr({text:e.text,selection:e.selection,prefix:e.command.prefix}),s=t.setSelectionRange(n),i=NY(s.text,s.selection.start),r=Array(i+1).join(`
`),a=AY(s.text,s.selection.end),o=Array(a+1).join(`
`),c=NL(s.selectedText,e.command.prefix);t.replaceSelection(""+r+c.modifiedText+o);var u=s.selection.start+i,h=u+c.modifiedText.length;t.setSelectionRange({start:u,end:h})}},PY={name:"strikethrough",keyCommand:"strikethrough",shortcuts:"ctrl+shift+x",buttonProps:{"aria-label":"Add strikethrough text (ctrl + shift + x)",title:"Add strikethrough text (ctrl + shift + x)"},prefix:"~~",icon:l.jsx("svg",{"data-name":"strikethrough",width:"12",height:"12",role:"img",viewBox:"0 0 512 512",children:l.jsx("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})}),execute:(e,t)=>{var n=wr({text:e.text,selection:e.selection,prefix:e.command.prefix}),s=t.setSelectionRange(n);Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:e.command.prefix})}},EL={name:"heading1",keyCommand:"heading1",shortcuts:"ctrlcmd+1",prefix:"# ",suffix:"",buttonProps:{"aria-label":"Insert Heading 1 (ctrl + 1)",title:"Insert Heading 1 (ctrl + 1)"},icon:l.jsx("div",{style:{fontSize:18,textAlign:"left"},children:"Heading 1"}),execute:(e,t)=>{Jg({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},UTe=EL;function Jg(e){var{state:t,api:n,prefix:s,suffix:i=s}=e,r=ix({text:t.text,selection:t.selection}),a=n.setSelectionRange(r);Ki({api:n,selectedText:a.selectedText,selection:t.selection,prefix:s,suffix:i})}sn({},EL,{icon:l.jsx("svg",{width:"12",height:"12",viewBox:"0 0 520 520",children:l.jsx("path",{fill:"currentColor",d:"M15.7083333,468 C7.03242448,468 0,462.030833 0,454.666667 L0,421.333333 C0,413.969167 7.03242448,408 15.7083333,408 L361.291667,408 C369.967576,408 377,413.969167 377,421.333333 L377,454.666667 C377,462.030833 369.967576,468 361.291667,468 L15.7083333,468 Z M21.6666667,366 C9.69989583,366 0,359.831861 0,352.222222 L0,317.777778 C0,310.168139 9.69989583,304 21.6666667,304 L498.333333,304 C510.300104,304 520,310.168139 520,317.777778 L520,352.222222 C520,359.831861 510.300104,366 498.333333,366 L21.6666667,366 Z M136.835938,64 L136.835937,126 L107.25,126 L107.25,251 L40.75,251 L40.75,126 L-5.68434189e-14,126 L-5.68434189e-14,64 L136.835938,64 Z M212,64 L212,251 L161.648438,251 L161.648438,64 L212,64 Z M378,64 L378,126 L343.25,126 L343.25,251 L281.75,251 L281.75,126 L238,126 L238,64 L378,64 Z M449.047619,189.550781 L520,189.550781 L520,251 L405,251 L405,64 L449.047619,64 L449.047619,189.550781 Z"})})});var zY={name:"heading2",keyCommand:"heading2",shortcuts:"ctrlcmd+2",prefix:"## ",suffix:"",buttonProps:{"aria-label":"Insert Heading 2 (ctrl + 2)",title:"Insert Heading 2 (ctrl + 2)"},icon:l.jsx("div",{style:{fontSize:16,textAlign:"left"},children:"Heading 2"}),execute:(e,t)=>{Jg({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},HTe=zY,FY={name:"heading3",keyCommand:"heading3",shortcuts:"ctrlcmd+3",prefix:"### ",suffix:"",buttonProps:{"aria-label":"Insert Heading 3 (ctrl + 3)",title:"Insert Heading 3 (ctrl + 3)"},icon:l.jsx("div",{style:{fontSize:15,textAlign:"left"},children:"Heading 3"}),execute:(e,t)=>{Jg({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},GTe=FY,WTe={name:"heading4",keyCommand:"heading4",shortcuts:"ctrlcmd+4",prefix:"#### ",suffix:"",buttonProps:{"aria-label":"Insert Heading 4 (ctrl + 4)",title:"Insert Heading 4 (ctrl + 4)"},icon:l.jsx("div",{style:{fontSize:14,textAlign:"left"},children:"Heading 4"}),execute:(e,t)=>{Jg({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},YTe=WTe,KTe={name:"heading5",keyCommand:"heading5",shortcuts:"ctrlcmd+5",prefix:"##### ",suffix:"",buttonProps:{"aria-label":"Insert Heading 5 (ctrl + 5)",title:"Insert Heading 5 (ctrl + 5)"},icon:l.jsx("div",{style:{fontSize:12,textAlign:"left"},children:"Heading 5"}),execute:(e,t)=>{Jg({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},qTe=KTe,ZTe={name:"heading6",keyCommand:"heading6",shortcuts:"ctrlcmd+6",prefix:"###### ",suffix:"",buttonProps:{"aria-label":"Insert Heading 6 (ctrl + 6)",title:"Insert Heading 6 (ctrl + 6)"},icon:l.jsx("div",{style:{fontSize:12,textAlign:"left"},children:"Heading 6"}),execute:(e,t)=>{Jg({state:e,api:t,prefix:e.command.prefix,suffix:e.command.suffix})}},QTe=ZTe,XTe={name:"table",keyCommand:"table",prefix:`
| Header | Header |
|--------|--------|
| Cell | Cell |
| Cell | Cell |
| Cell | Cell |

`,suffix:"",buttonProps:{"aria-label":"Add table",title:"Add table"},icon:l.jsx("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 512 512",children:l.jsx("path",{fill:"currentColor",d:"M64 256V160H224v96H64zm0 64H224v96H64V320zm224 96V320H448v96H288zM448 256H288V160H448v96zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z"})}),execute:(e,t)=>{var n=wr({text:e.text,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}),s=t.setSelectionRange(n);s.selectedText.length>=e.command.prefix.length+e.command.suffix.length&&s.selectedText.startsWith(e.command.prefix)?Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}):(s=t.setSelectionRange({start:e.selection.start,end:e.selection.start}),Ki({api:t,selectedText:s.selectedText,selection:e.selection,prefix:e.command.prefix,suffix:e.command.suffix}))}},JTe={name:"help",keyCommand:"help",buttonProps:{"aria-label":"Open help",title:"Open help"},icon:l.jsx("svg",{viewBox:"0 0 16 16",width:"12px",height:"12px",children:l.jsx("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8Zm.9 13H7v-1.8h1.9V13Zm-.1-3.6v.5H7.1v-.6c.2-2.1 2-1.9 1.9-3.2.1-.7-.3-1.1-1-1.1-.8 0-1.2.7-1.2 1.6H5c0-1.7 1.2-3 2.9-3 2.3 0 3 1.4 3 2.3.1 2.3-1.9 2-2.1 3.5Z",fill:"currentColor"})}),execute:()=>{window.open("https://www.markdownguide.org/basic-syntax/","_blank","noreferrer")}},eEe=()=>[TY,kY,PY,DY,zTe([UTe,HTe,GTe,YTe,qTe,QTe],{name:"title",groupName:"title",buttonProps:{"aria-label":"Insert title",title:"Insert title"}}),ig,IY,_Y,EY,AL,RTe,FTe,XTe,ig,LY,OY,RY,ig,JTe],tEe=()=>[BTe,VTe,$Te,ig,_Te];function gw(e){var t;return{selection:{start:e.selectionStart,end:e.selectionEnd},text:e.value,selectedText:(t=e.value)==null?void 0:t.slice(e.selectionStart,e.selectionEnd)}}class DL{constructor(t){this.textArea=void 0,this.textArea=t}replaceSelection(t){return sg(this.textArea,t),gw(this.textArea)}setSelectionRange(t){return this.textArea.focus(),this.textArea.selectionStart=t.start,this.textArea.selectionEnd=t.end,gw(this.textArea)}}class kL{constructor(t){this.textArea=void 0,this.textApi=void 0,this.textArea=t,this.textApi=new DL(t)}getState(){return this.textArea?gw(this.textArea):!1}executeCommand(t,n,s,i){t.execute&&t.execute(sn({command:t},gw(this.textArea)),this.textApi,n,s,i)}}function gS(e){e.stopPropagation(),e.preventDefault()}function $7(e,t){gS(e);var n=e.target,s=new DL(n),i={start:n.selectionStart,end:n.selectionEnd};if(i=ix({text:n.value,selection:i}),!(t<0&&i.start<=0||t>0&&i.end>=n.value.length)){var r=n.value.slice(i.start,i.end);if(t<0){var a=ix({text:n.value,selection:{start:i.start-1,end:i.start-1}}),o=n.value.slice(a.start,a.end);s.setSelectionRange({start:a.start,end:i.end}),sg(n,r+`
`+o),s.setSelectionRange({start:a.start,end:a.start+r.length})}else{var c=ix({text:n.value,selection:{start:i.end+1,end:i.end+1}}),u=n.value.slice(c.start,c.end);s.setSelectionRange({start:i.start,end:c.end}),sg(n,u+`
`+r),s.setSelectionRange({start:c.end-r.length,end:c.end})}}}function nEe(e,t,n){t===void 0&&(t=2),n===void 0&&(n=!1);var s=e.target,i=s.value.substr(0,s.selectionStart),r=i.split(`
`),a=r[r.length-1],o=new DL(s);if(!n&&e.code&&e.code.toLowerCase()==="tab"){gS(e);var c=new Array(t+1).join("  ");if(s.selectionStart!==s.selectionEnd){var u=s.value.substring(0,s.selectionStart).split(`
`),h=s.value.substring(0,s.selectionEnd).split(`
`),f=[];h.forEach((L,I)=>{L!==u[I]&&f.push(L)});var g=f.join(`
`),m=s.value.substring(s.selectionStart,s.selectionEnd),y=s.value.substring(0,s.selectionStart).length;o.setSelectionRange({start:s.value.indexOf(g),end:s.selectionEnd});var b=NL(g,e.shiftKey?"":c),S=b.modifiedText;e.shiftKey&&(S=S.split(`
`).map(L=>L.replace(new RegExp("^"+c),"")).join(`
`)),o.replaceSelection(S);var C=e.shiftKey?-t:t,M=e.shiftKey?-f.length*t:f.length*t;o.setSelectionRange({start:y+C,end:y+m.length+M})}else return sg(s,c)}else if(e.keyCode===13&&e.code.toLowerCase()==="enter"&&(/^(-|\*)\s/.test(a)||/^\d+.\s/.test(a))&&!e.shiftKey){gS(e);var N=`
- `;return a.startsWith("*")&&(N=`
* `),(a.startsWith("- [ ]")||a.startsWith("- [X]")||a.startsWith("- [x]"))&&(N=`
- [ ] `),/^\d+.\s/.test(a)&&(N=`
`+(parseInt(a)+1)+". "),sg(s,N)}else if(e.code&&e.code.toLowerCase()==="keyd"&&e.ctrlKey){gS(e);var T={start:s.selectionStart,end:s.selectionEnd},E=T;T=ix({text:s.value,selection:T});var k=s.value.slice(T.start,T.end);o.setSelectionRange({start:T.end,end:T.end}),sg(s,`
`+k),o.setSelectionRange({start:E.start,end:E.end})}else e.code&&e.code.toLowerCase()==="arrowup"&&e.altKey?$7(e,-1):e.code&&e.code.toLowerCase()==="arrowdown"&&e.altKey&&$7(e,1)}var sEe=["prefixCls","onChange"],iEe=["markdown","commands","fullscreen","preview","highlightEnable","extraCommands","tabSize","defaultTabEnable","autoFocusEnd","textareaWarp","dispatch"];function rEe(e){var{prefixCls:t,onChange:n}=e,s=Bx(e,sEe),i=w.useContext(pf),{markdown:r,commands:a,fullscreen:o,preview:c,highlightEnable:u,extraCommands:h,tabSize:f,defaultTabEnable:g,autoFocusEnd:m,textareaWarp:y,dispatch:b}=i;Bx(i,iEe);var S=Xe.useRef(null),C=Xe.useRef(),M=Xe.useRef({fullscreen:o,preview:c});w.useEffect(()=>{M.current={fullscreen:o,preview:c,highlightEnable:u}},[o,c,u]),w.useEffect(()=>{if(S.current&&b){var T=new kL(S.current);C.current=T,b({textarea:S.current,commandOrchestrator:T})}},[]),w.useEffect(()=>{if(m&&S.current&&y){S.current.focus();var T=S.current.value.length;S.current.setSelectionRange(T,T),setTimeout(()=>{y&&(y.scrollTop=y.scrollHeight),S.current&&(S.current.scrollTop=S.current.scrollHeight)},0)}},[y]);var N=T=>{nEe(T,f,g),jY(T,[...a||[],...h||[]],C.current,b,M.current)};return w.useEffect(()=>(S.current&&S.current.addEventListener("keydown",N),()=>{S.current&&S.current.removeEventListener("keydown",N)}),[]),l.jsx("textarea",sn({autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1},s,{ref:S,className:t+"-text-input "+(s.className?s.className:""),value:r,onChange:T=>{b&&b({markdown:T.target.value}),n&&n(T)}}))}var aEe=["prefixCls","className","onScroll","renderTextarea"];function oEe(e){var t=e||{},{prefixCls:n,className:s,onScroll:i,renderTextarea:r}=t,a=Bx(t,aEe),{markdown:o,scrollTop:c,commands:u,minHeight:h,highlightEnable:f,extraCommands:g,dispatch:m}=w.useContext(pf),y=Xe.useRef(null),b=Xe.useRef(),S=Xe.createRef();w.useEffect(()=>{var M={};S.current&&(M.textareaWarp=S.current||void 0,S.current.scrollTop=c||0),m&&m(sn({},M))},[]),w.useEffect(()=>{if(y.current&&m){var M=new kL(y.current);b.current=M,m({textarea:y.current,commandOrchestrator:M})}},[]);var C=f?{}:{WebkitTextFillColor:"initial",overflow:"auto"};return l.jsx("div",{ref:S,className:n+"-area "+(s||""),onScroll:i,children:l.jsx("div",{className:n+"-text",style:{minHeight:h},children:r?Xe.cloneElement(r(sn({},a,{value:o,autoComplete:"off",autoCorrect:"off",spellCheck:"false",autoCapitalize:"off",className:n+"-text-input",style:{WebkitTextFillColor:"inherit",overflow:"auto"}}),{dispatch:m,onChange:a.onChange,shortcuts:jY,useContext:{commands:u,extraCommands:g,commandOrchestrator:b.current}}),{ref:y}):l.jsxs(w.Fragment,{children:[f&&l.jsx(LTe,{prefixCls:n}),l.jsx(rEe,sn({prefixCls:n},a,{style:C}))]})})})}var lEe=e=>{var{prefixCls:t,onChange:n}=e||{},s=w.useRef(null),i=w.useRef(),r=w.useRef(e.height);w.useEffect(()=>{r.current!==e.height&&(r.current=e.height)},[e.height]);function a(h){if(i.current){var f,g=h.clientY||((f=h.changedTouches[0])==null?void 0:f.clientY),m=i.current.height+g-i.current.dragY;m>=e.minHeight&&m<=e.maxHeight&&n&&n(i.current.height+(g-i.current.dragY))}}function o(){var h,f;i.current=void 0,document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",o),(h=s.current)==null||h.removeEventListener("touchmove",a),(f=s.current)==null||f.removeEventListener("touchend",o)}function c(h){var f,g,m;h.preventDefault();var y=h.clientY||((f=h.changedTouches[0])==null?void 0:f.clientY);i.current={height:r.current,dragY:y},document.addEventListener("mousemove",a),document.addEventListener("mouseup",o),(g=s.current)==null||g.addEventListener("touchmove",a,{passive:!1}),(m=s.current)==null||m.addEventListener("touchend",o,{passive:!1})}w.useEffect(()=>{if(document){var h,f;(h=s.current)==null||h.addEventListener("touchstart",c,{passive:!1}),(f=s.current)==null||f.addEventListener("mousedown",c)}return()=>{if(document){var g;(g=s.current)==null||g.removeEventListener("touchstart",c),document.removeEventListener("mousemove",a)}}},[]);var u=w.useMemo(()=>l.jsx("svg",{viewBox:"0 0 512 512",height:"100%",children:l.jsx("path",{fill:"currentColor",d:"M304 256c0 26.5-21.5 48-48 48s-48-21.5-48-48 21.5-48 48-48 48 21.5 48 48zm120-48c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48zm-336 0c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"})}),[]);return l.jsx("div",{className:t+"-bar",ref:s,children:u})},cEe=["prefixCls","className","value","commands","commandsFilter","direction","extraCommands","height","enableScroll","visibleDragbar","highlightEnable","preview","fullscreen","overflow","previewOptions","textareaProps","maxHeight","minHeight","autoFocus","autoFocusEnd","tabSize","defaultTabEnable","onChange","onStatistics","onHeightChange","hideToolbar","toolbarBottom","components","renderTextarea"];function uEe(e){return e===void 0&&(e={}),Object.keys(e).forEach(t=>{e[t]=!1}),e}var dEe=Xe.forwardRef((e,t)=>{var n=e||{},{prefixCls:s="w-md-editor",className:i,value:r,commands:a=eEe(),commandsFilter:o,direction:c,extraCommands:u=tEe(),height:h=200,enableScroll:f=!0,visibleDragbar:g=typeof e.visiableDragbar=="boolean"?e.visiableDragbar:!0,highlightEnable:m=!0,preview:y="live",fullscreen:b=!1,overflow:S=!0,previewOptions:C={},textareaProps:M,maxHeight:N=1200,minHeight:T=100,autoFocus:E,autoFocusEnd:k=!1,tabSize:L=2,defaultTabEnable:I=!1,onChange:_,onStatistics:F,onHeightChange:G,hideToolbar:U,toolbarBottom:H=!1,components:z,renderTextarea:$}=n,P=Bx(n,cEe),B=a.map(it=>o?o(it,!1):it).filter(Boolean),Y=u.map(it=>o?o(it,!0):it).filter(Boolean),[K,te]=w.useReducer(ETe,{markdown:r,preview:y,components:z,height:h,minHeight:T,highlightEnable:m,tabSize:L,defaultTabEnable:I,scrollTop:0,scrollTopPreview:0,commands:B,extraCommands:Y,fullscreen:b,barPopup:{}}),se=w.useRef(null),fe=w.useRef(null),oe=w.useRef(f);w.useImperativeHandle(t,()=>sn({},K,{container:se.current,dispatch:te})),w.useMemo(()=>oe.current=f,[f]),w.useEffect(()=>{var it={};se.current&&(it.container=se.current||void 0),it.markdown=r||"",it.barPopup={},te&&te(sn({},K,it))},[]);var Ee=[i,"wmde-markdown-var",c?s+"-"+c:null,s,K.preview?s+"-show-"+K.preview:null,K.fullscreen?s+"-fullscreen":null].filter(Boolean).join(" ").trim();w.useMemo(()=>r!==K.markdown&&te({markdown:r||""}),[r,K.markdown]),w.useMemo(()=>y!==K.preview&&te({preview:y}),[y]),w.useMemo(()=>L!==K.tabSize&&te({tabSize:L}),[L]),w.useMemo(()=>m!==K.highlightEnable&&te({highlightEnable:m}),[m]),w.useMemo(()=>E!==K.autoFocus&&te({autoFocus:E}),[E]),w.useMemo(()=>k!==K.autoFocusEnd&&te({autoFocusEnd:k}),[k]),w.useMemo(()=>b!==K.fullscreen&&te({fullscreen:b}),[b]),w.useMemo(()=>h!==K.height&&te({height:h}),[h]),w.useMemo(()=>h!==K.height&&G&&G(K.height,h,K),[h,G,K]),w.useMemo(()=>a!==K.commands&&te({commands:B}),[e.commands]),w.useMemo(()=>u!==K.extraCommands&&te({extraCommands:Y}),[e.extraCommands]);var ye=w.useRef(),je=w.useRef("preview"),me=w.useRef(!1);w.useMemo(()=>{ye.current=K.textareaWarp,K.textareaWarp&&(K.textareaWarp.addEventListener("mouseover",()=>{je.current="text"}),K.textareaWarp.addEventListener("mouseleave",()=>{je.current="preview"}))},[K.textareaWarp]);var be=(it,dn)=>{if(oe.current){var kt=ye.current,Lt=fe.current?fe.current:void 0;if(me.current||(je.current=dn,me.current=!0),kt&&Lt){var Ye=(kt.scrollHeight-kt.offsetHeight)/(Lt.scrollHeight-Lt.offsetHeight);it.target===kt&&je.current==="text"&&(Lt.scrollTop=kt.scrollTop/Ye),it.target===Lt&&je.current==="preview"&&(kt.scrollTop=Lt.scrollTop*Ye);var Yt=0;je.current==="text"?Yt=kt.scrollTop||0:je.current==="preview"&&(Yt=Lt.scrollTop||0),te({scrollTop:Yt})}}},Ae=s+"-preview "+(C.className||""),Te=it=>be(it,"preview"),Be=w.useMemo(()=>l.jsx("div",{ref:fe,className:Ae,children:l.jsx(wY,sn({},C,{onScroll:Te,source:K.markdown||""}))}),[Ae,C,K.markdown]),Ge=z?.preview&&z?.preview(K.markdown||"",K,te);Ge&&Xe.isValidElement(Ge)&&(Be=l.jsx("div",{className:Ae,ref:fe,onScroll:Te,children:Ge}));var Je=sn({},P.style,{height:K.height||"100%"}),et=()=>te({barPopup:sn({},uEe(K.barPopup))}),lt=it=>te({height:it}),pt=it=>{if(_&&_(it.target.value,it,K),M&&M.onChange&&M.onChange(it),K.textarea&&K.textarea instanceof HTMLTextAreaElement&&F){var dn=new kL(K.textarea),kt=dn.getState()||{};F(sn({},kt,{lineCount:it.target.value.split(`
`).length,length:it.target.value.length}))}};return l.jsx(pf.Provider,{value:sn({},K,{dispatch:te}),children:l.jsxs("div",sn({ref:se,className:Ee},P,{onClick:et,style:Je,children:[l.jsx(P7,{hideToolbar:U,toolbarBottom:H,prefixCls:s,overflow:S,placement:"top"}),l.jsxs("div",{className:s+"-content",children:[/(edit|live)/.test(K.preview||"")&&l.jsx(oEe,sn({className:s+"-input",prefixCls:s,autoFocus:E},M,{onChange:pt,renderTextarea:z?.textarea||$,onScroll:it=>be(it,"text")})),/(live|preview)/.test(K.preview||"")&&Be]}),g&&!K.fullscreen&&l.jsx(lEe,{prefixCls:s,height:K.height,maxHeight:N,minHeight:T,onChange:lt}),l.jsx(P7,{hideToolbar:U,toolbarBottom:H,prefixCls:s,overflow:S,placement:"bottom"})]}))})}),$Y=dEe;$Y.Markdown=wY;const hEe=()=>{const e=yt(),t=()=>{const N=yt(),T=!!localStorage.getItem("AdminAuthorization"),E="/admin/customers/docs";return nt({url:E,admin:!0,queryKey:["customerDocs",E],transform:k=>(T&&N.invalidateQueries().catch(L=>console.log(L)),k)})},{data:n,isLoading:s}=t(),[i,r]=w.useState(null),[a,o]=w.useState(""),[c,u]=w.useState(""),[h,f]=w.useState(!1),g=w.useRef(!1);w.useEffect(()=>{if(s||!n||n.length===0||g.current)return;const N=n.find(E=>E.id===17)||n[0];r(N);const T=N.docs_markdown||"";o(T),u(T),g.current=!0},[s,n]);const m=N=>{const T=Number(N.target.value),E=n?.find(k=>k.id===T)||null;if(E){r(E);const k=E.docs_markdown||"";o(k),u(k)}},y=It({mutationFn:async()=>{if(!i)throw new Error("No customer selected");try{return(await Ue({url:`/admin/customer/${i.id}/docs`,method:"PATCH",body:{docs_markdown:a}}))?.docs_markdown===a?{success:!0}:{success:!1}}catch(N){throw console.error("Error in mutation:",N),N}},onSuccess:()=>{console.log("Docs updated successfully"),e.invalidateQueries({queryKey:["customerDocs"]}),u(a),console.log("Original markdown updated to current markdown")}}),b=()=>{i&&y.mutate()},S=[TY,kY,PY,DY,EL,zY,FY,ig,IY,_Y,EY,AL,ig,OY,LY,RY],C=a!==c,M=()=>{f(!0)};return l.jsxs("div",{className:"admin-docs-editor",children:[l.jsxs("div",{className:"customer-selector",children:[l.jsx("label",{htmlFor:"customerDropdown",children:"Select Customer: "}),l.jsx("select",{id:"customerDropdown",onChange:m,value:i?.id||"",disabled:s,children:s?l.jsx("option",{children:"Loading..."}):[...n||[]].sort((N,T)=>N.id-T.id).map(N=>l.jsx("option",{value:N.id,children:`${N.id} - ${N.name}`},N.id))})]}),s?l.jsx("div",{children:"Loading..."}):l.jsxs("div",{className:"editor-container",style:{marginTop:"1rem"},"data-color-mode":"light",children:[l.jsx($Y,{value:a,onChange:N=>o(N||""),height:400,preview:"live",commands:S}),l.jsxs("div",{className:"actions",style:{marginTop:"1rem"},children:[l.jsx("button",{style:{backgroundColor:y.isPending?"#16a34a":C?"#f97316":"#cccccc"},className:"font-semibold px-4 py-2 transition-colors rounded-md",onClick:()=>{C&&!y.isPending&&M()},children:y.isPending?"Saving...":C?"Save Changes":"No Changes"}),h&&l.jsx($o,{isAlert:!0,setIsShowingConfirmModal:N=>{N||f(!1)},handleConfirm:()=>{b(),f(!1)},title:"Update Team Document",description:l.jsx(l.Fragment,{children:l.jsxs("div",{children:["This will update the document for"," ",l.jsx("strong",{children:i?.name}),". Are you sure you want to proceed?"]})})})]})]})]})},fEe=()=>{const e=eG(),t=Rt(),n=t.pathname==="/admin"||t.pathname==="/admin/";return l.jsx("div",{className:"max-w-xl mx-auto mt-8 p-6 bg-white rounded-lg shadow relative",children:n?l.jsx(l.Fragment,{children:l.jsx("ul",{className:"space-y-3",children:e.map(s=>l.jsx("li",{children:l.jsx(Re,{to:s,className:"block px-4 py-2 rounded-md bg-slate-100 hover:bg-slate-200! text-slate-800 font-medium shadow-sm transition-colors border border-slate-200",children:s})},s))})}):l.jsx(sd,{})})},BY=()=>nt({url:"/locations/headquarters",queryKey:["headquartersCountriesList"]}),VY=()=>nt({url:"/industries",queryKey:["industriesList"]}),$l=(e,t=!1)=>{const n=`${t?"/admin":""}/organizations/${e}`;return nt({url:n,admin:t,queryKey:[`${t?"admin":""}organization`,n]})},pEe=e=>{const t=`/admin/organizations/${e}/mappings`;return nt({url:t,queryKey:["organizationMappings",t]})},gEe=e=>{const t=`/admin/organizations/${e}/relationships`;return nt({url:t,queryKey:["organizationRelationships",t]})},mEe=e=>{const t=`/admin/organizations/${e}/tags`;return nt({url:t,queryKey:["organizationTags",t]})},yEe=()=>{const e=YI(),[t,n]=w.useState(""),[s,i]=w.useState([]),[r,a]=w.useState(""),[o,c]=w.useState(""),[u,h]=w.useState(""),[f,g]=w.useState([]),[m,y]=w.useState(""),[b,S]=w.useState(!1),[C,M]=w.useState(void 0),[N,T]=w.useState(""),[E,k]=w.useState([]),[L,I]=w.useState(""),[_,F]=w.useState(""),[G,U]=w.useState([]),[H,z]=w.useState([]),[$,P]=w.useState(""),[B,Y]=w.useState(""),[K,te]=w.useState(!1),[se,fe]=w.useState(""),[oe,Ee]=w.useState(null),[ye,je]=w.useState(""),[me,be]=w.useState(!1),[Ae,Te]=w.useState(!1),[Be,Ge]=w.useState(!1),[Je,et]=w.useState([]),[lt,pt]=w.useState(),[it,dn]=w.useState(""),kt=yt(),{organizationId:Lt}=He(),{data:Ye}=$l(Lt,!0),{data:Yt}=gEe(Lt),{data:An}=pEe(Lt),{data:Xt}=VY(),{data:Jt}=BY(),{data:le,isLoading:ge}=mEe(Lt),{data:Qe,isLoading:De}=Gg(),Ze=()=>{n(Ye?.name??""),i(Ye?.name_alternates??[]),a(Ye?.slug??""),c(Ye?.summary??""),h(Ye?.url??""),g(Ye?.url_alternates??[]),y(Ye?.industry??""),M(Ye?.headquarters_country_id),T(Ye?.headquarters_state??""),I(Ye?.headquarters_location??"")};w.useEffect(Ze,[Ye]),w.useEffect(()=>{if(C&&Jt){const W=Jt.find(ce=>ce.id===C);k(W?.children??[])}else k([])},[C]);const gn=()=>{if(Yt){const W=Yt.find(we=>we.relationship==="parent");F(W?.slug??"");const ce=Yt.filter(we=>we.relationship==="child").map(we=>we.slug);U(ce)}};w.useEffect(gn,[Yt]);const $t=()=>{z(An??[])};w.useEffect($t,[An]);const Wn=()=>{et(le??[])};w.useEffect(Wn,[le]);const Xn=(W,ce)=>{const we=Je.map(Ve=>Ve.id===W?{...Ve,is_applied:ce}:Ve);et(we)},ai=(W,ce)=>{const we=Je.map(Ve=>Ve.id===W?{...Ve,explanation:ce}:Ve);et(we)},Sn=async()=>{if(!(!Je||Je.length===0))try{await Ue({url:`/admin/organizations/${Ye?.id}/tags`,method:"PUT",body:{tags:Je}}),kt.invalidateQueries({queryKey:["organizationTags"]}).catch(W=>console.log(W)),Tt("Organization attributes saved.")}catch(W){W.detail?alert(W.detail):alert(W)}},Xr=async()=>{try{await Ue({url:`/admin/organizations/${Ye?.id}/tags`,method:"POST",body:{id:lt,explanation:it||"Added through admin interface."}}),kt.invalidateQueries({queryKey:["organizationTags"]}).catch(W=>console.log(W)),Tt("Organization attribute added.")}catch(W){W.detail?alert(W.detail):alert(W)}},bi=async()=>{try{const W=f.filter(we=>we),ce=s.filter(we=>we);await Ue({url:"/admin/organizations/"+Ye?.id,method:"PUT",body:{name:t,name_alternates:ce.length?ce:null,industry:m||null,slug:r,summary:o||null,url:u||null,url_alternates:W.length?W:null,headquarters_location:L||null,headquarters_country_id:C||null,headquarters_state:N||null}}),kt.invalidateQueries({queryKey:["adminorganization"]}).catch(we=>console.log(we)),Tt("Organization metadata saved.")}catch(W){W.detail?alert(W.detail):alert(W)}},_f=async()=>{const W=G.filter(ce=>ce);try{await Ue({url:`/admin/organizations/${Ye?.id}/relationships`,method:"PUT",body:{parent:_||null,children:W}}),kt.invalidateQueries({queryKey:["organizationRelationships"]}).catch(ce=>console.log(ce)),Tt("Organization relationships saved.")}catch(ce){ce.detail?alert(ce.detail):alert(ce)}},il=()=>{g([...f,""])},uu=()=>{i([...s,""])},ql=()=>{U([...G,""])},Jr=async W=>{const ce=[...H];ce.splice(ce.indexOf(W),1),z(ce)},Zl=async()=>{try{const W=await Ue({url:"/admin/organizations/mappings/populate",method:"POST",body:{mapping_type:$,id:B,is_primary:K}}),ce=[...H];ce.push(W),z(ce),Y(""),te(!1),P("")}catch(W){W.detail?alert(W.detail):alert(W)}},Aa=async()=>{try{await Ue({url:`/admin/organizations/${Ye?.id}/mappings`,method:"PUT",body:H}),kt.invalidateQueries({queryKey:["organizationMappings"]}).catch(W=>console.log(W)),Tt("Organization mappings saved.")}catch(W){W.detail?alert(W.detail):alert(W)}},du=()=>{Ze(),gn(),$t(),Wn()},Pf=async()=>{try{const W=await Ue({url:`/admin/organizations/merge-info/${se}`});Ee(W)}catch(W){W.detail?alert(W.detail):alert(W)}},Gd=async()=>{try{await Tt.promise(Ue({url:`/admin/organizations/${Ye?.id}/mark-as-staffing-org`,method:"POST"}),{loading:"Marking organization as staffing...",success:"Organization marked as staffing.",error:"Failed to mark organization as staffing."}),kt.invalidateQueries({queryKey:["adminorganization"]}),S(!1),Tt("Organization marked as staffing.")}catch(W){W.detail?alert(W.detail):alert(W)}},Z=async(W,ce)=>{Ge(!0);try{const we=await Ue({url:"/admin/organizations/merge",method:"POST",body:{target_id:W,merged_id:ce}});kt.invalidateQueries({queryKey:["adminorganization"]}),Ee(null),je(""),fe(""),Tt("Organizations merged."),alert(`Merge log: 
`+we.logs.join(`
`))}catch(we){we.detail?alert(we.detail):alert(we)}Ge(!1)},ne=async W=>{Ge(!0);try{await Ue({url:`/admin/organizations/${W}`,method:"DELETE"}),kt.invalidateQueries({queryKey:["adminorganization"]}),Te(!1),Tt("Organization deleted."),e("/")}catch(ce){ce.detail?alert(ce.detail):alert(ce)}Ge(!1)};return l.jsxs("div",{className:"flex-1 flex flex-col overflow-scroll",children:[l.jsxs("table",{className:"border-collapse border-2 border-slate-200/75 table-auto max-w-4xl m-8",children:[l.jsx("thead",{children:l.jsx("tr",{children:l.jsx("th",{colSpan:2,className:"p-2",children:"Organization metadata"})})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"w-48 border-2 border-slate-200/75 pl-2",children:"Id"}),l.jsx("td",{className:"border-2 border-slate-200/75 pl-2",children:Ye?.id})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border-2 border-slate-200/75 pl-2",children:"Name"}),l.jsx("td",{className:"border-2 border-slate-200/75 ",children:l.jsx("input",{type:"text",className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-full bg-slate-50",value:t,onChange:W=>{n(W.target.value)}})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border-2 border-slate-200/75 pl-2",children:"Industry"}),l.jsx("td",{className:"border-2 border-slate-200/75 ",children:l.jsxs("select",{className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-full bg-slate-50 truncate",onChange:W=>{y(W.target.value)},value:m,children:[l.jsx("option",{value:""}),Xt&&Xt.industries.map(W=>l.jsx("option",{value:W.industry,children:W.industry},W.industry))]})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border-2 border-slate-200/75 pl-2",children:"Alternative Names"}),l.jsxs("td",{className:"border-2 border-slate-200/75 ",children:[l.jsx("ul",{children:s.map((W,ce)=>l.jsx("li",{children:l.jsx("input",{type:"text",className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-full bg-slate-50",value:W,onChange:we=>{const Ve=[...s];Ve[ce]=we.target.value,i(Ve)}})},ce))}),l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors max-w-2xl m-2",onClick:uu,children:"Add name"})]})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border-2 border-slate-200/75 pl-2",children:"Slug"}),l.jsx("td",{className:"border-2 border-slate-200/75 ",children:l.jsx("input",{type:"text",className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-full bg-slate-50",value:r,onChange:W=>{a(W.target.value)}})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border-2 border-slate-200/75 pl-2",children:"Delete org"}),l.jsxs("td",{className:"border-2 border-slate-200/75 ",children:[me?l.jsx("div",{children:l.jsx("button",{className:"font-semibold px-4 py-2 bg-red-600 hover:bg-red-500 disabled:bg-red-200 text-white rounded-md transition-colors m-2",onClick:()=>Te(!0),children:"Delete organization"})}):l.jsxs("label",{className:"ml-2",children:[l.jsx("input",{type:"checkbox",className:"mr-2",checked:me,onChange:W=>{be(W.target.checked)}}),"Enable deletion"]}),Ae&&l.jsx($o,{isAlert:!0,setIsShowingConfirmModal:W=>{W||Te(!1)},handleConfirm:()=>{Ye&&ne(Ye.id)},title:"Merging Organizations",description:l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:["You're about to delete the"," ",l.jsx("strong",{children:Ye?.name})," ","org."]}),l.jsx("div",{className:"mt-2",children:"Note: This may take some time."})]}),isDisabled:Be})]})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border-2 border-slate-200/75 pl-2",children:"Url"}),l.jsx("td",{className:"border-2 border-slate-200/75 ",children:l.jsx("input",{type:"text",className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-full bg-slate-50",value:u,onChange:W=>{h(W.target.value)}})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border-2 border-slate-200/75 pl-2",children:"Alternative Urls"}),l.jsxs("td",{className:"border-2 border-slate-200/75 ",children:[l.jsx("ul",{children:f.map((W,ce)=>l.jsx("li",{children:l.jsx("input",{type:"text",className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-full bg-slate-50",value:W,onChange:we=>{const Ve=[...f];Ve[ce]=we.target.value,g(Ve)}})},ce))}),l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors max-w-2xl m-2",onClick:il,children:"Add url"})]})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border-2 border-slate-200/75 pl-2",children:"Headquarters location"}),l.jsx("td",{className:"border-2 border-slate-200/75 ",children:l.jsx("input",{type:"text",className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-full bg-slate-50",value:L,onChange:W=>{I(W.target.value)}})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border-2 border-slate-200/75 pl-2",children:"Headquarters country"}),l.jsx("td",{className:"border-2 border-slate-200/75 ",children:l.jsxs("select",{className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-full bg-slate-50 truncate",onChange:W=>{const ce=parseInt(W.target.value);M(isNaN(ce)?void 0:ce),T("")},value:C,children:[l.jsx("option",{value:""}),Jt&&Jt.filter(W=>W.id!==null).map(W=>l.jsx("option",{value:W.id,children:W.name},W.id))]})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border-2 border-slate-200/75 pl-2",children:"Headquarters state"}),l.jsx("td",{className:"border-2 border-slate-200/75 ",children:l.jsxs("select",{className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-full bg-slate-50 truncate",onChange:W=>{T(W.target.value)},value:N,children:[l.jsx("option",{value:""}),E&&E.map(W=>l.jsx("option",{value:W.name,children:W.name},W.name))]})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"border-2 border-slate-200/75 pl-2",children:"Summary"}),l.jsx("td",{className:"border-2 border-slate-200/75 ",children:l.jsx("textarea",{rows:10,className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-full max-w-3xl bg-slate-50",value:o,onChange:W=>{c(W.target.value)}})})]}),l.jsx("tr",{children:l.jsx("td",{colSpan:2,children:l.jsx("div",{className:"m-4",children:l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors w-full",onClick:bi,disabled:!t||!r,children:"Update organization metadata"})})})})]})]}),l.jsxs("table",{className:"border-collapse border-2 border-slate-200/75 table-auto max-w-4xl m-8",children:[l.jsx("thead",{children:l.jsx("tr",{children:l.jsx("th",{colSpan:2,className:"p-2",children:"Organization relationships"})})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"w-48 border-2 border-slate-200/75 pl-2",children:"parent"}),l.jsx("td",{className:"border-2 border-slate-200/75 ",children:l.jsx("input",{type:"text",className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-full bg-slate-50",value:_,onChange:W=>{F(W.target.value)}})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"w-48 border-2 border-slate-200/75 pl-2",children:"Subsidiaries"}),l.jsxs("td",{className:"border-2 border-slate-200/75 ",children:[l.jsx("ul",{children:G.map((W,ce)=>l.jsx("li",{children:l.jsx("input",{type:"text",className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-full bg-slate-50",value:W,onChange:we=>{const Ve=[...G];Ve[ce]=we.target.value,U(Ve)}})},ce))}),l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors max-w-2xl m-2",onClick:ql,children:"Add subsidiary"})]})]}),l.jsx("tr",{children:l.jsx("td",{colSpan:2,children:l.jsx("div",{className:"m-4",children:l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors w-full",onClick:_f,children:"Update organization relationships"})})})})]})]}),l.jsxs("table",{className:"border-collapse border-2 border-slate-200/75 table-auto max-w-4xl m-8",children:[l.jsx("thead",{children:l.jsx("tr",{children:l.jsx("th",{colSpan:2,className:"p-2",children:"Organization mappings"})})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"w-48 border-2 border-slate-200/75 pl-2",children:"Linkedin"}),l.jsx("td",{className:"border-2 border-slate-200/75 ",children:l.jsx("ul",{className:"list-disc ml-8",children:H?.filter(W=>W.mapping_type==="linkedin").map(W=>l.jsxs("li",{children:[W.id," ",W.name,W.is_primary?" (primary) ":"","-"," ",l.jsx("span",{onClick:()=>Jr(W),children:"Delete"})]},W.id))})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"w-48 border-2 border-slate-200/75 pl-2",children:"Indeed"}),l.jsx("td",{className:"border-2 border-slate-200/75 ",children:l.jsx("ul",{className:"list-disc ml-8",children:H?.filter(W=>W.mapping_type==="indeed").map(W=>l.jsxs("li",{children:[W.id," ",W.name,W.is_primary?" (primary) ":"","-"," ",l.jsx("span",{onClick:()=>Jr(W),children:"Delete"})]},W.id))})})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"w-48 border-2 border-slate-200/75 pl-2",children:"Greenhouse"}),l.jsx("td",{className:"border-2 border-slate-200/75 ",children:l.jsx("ul",{className:"list-disc ml-8",children:H?.filter(W=>W.mapping_type==="greenhouse").map(W=>l.jsxs("li",{children:[W.id," ",W.name,W.is_primary?" (primary) ":"","-"," ",l.jsx("span",{onClick:()=>Jr(W),children:"Delete"})]},W.id))})})]}),l.jsx("tr",{children:l.jsxs("td",{colSpan:2,className:"text-center border-2 border-slate-200/75 ",children:[l.jsxs("select",{onChange:W=>{P(W.target.value)},value:$,children:[l.jsx("option",{value:"",children:"Select mapping type"}),l.jsx("option",{value:"linkedin",children:"LinkedIn"}),l.jsx("option",{value:"indeed",children:"Indeed"}),l.jsx("option",{value:"greenhouse",children:"Greenhouse"})]}),l.jsx("input",{type:"text",className:"border-2 border-slate-200/75 rounded-md px-2 py-1 bg-slate-50 ml-4",placeholder:"Id",value:B,onChange:W=>{Y(W.target.value)}}),l.jsx("input",{type:"checkbox",className:"ml-4",id:"linkedin-primary",value:K?1:0,onChange:W=>{te(W.target.checked)},checked:K})," ",l.jsx("label",{htmlFor:"linkedin-primary",children:"Primary"}),l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors max-w-2xl m-2 ml-4",onClick:Zl,disabled:!$||!B,children:"Add mapping"})]})}),l.jsx("tr",{children:l.jsx("td",{colSpan:2,children:l.jsx("div",{className:"m-4",children:l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors w-full",onClick:Aa,children:"Update organization mappings"})})})})]})]}),l.jsxs("table",{className:"border-collapse border-2 border-slate-200/75 table-auto max-w-4xl m-8",children:[l.jsx("thead",{children:l.jsx("tr",{children:l.jsx("th",{colSpan:2,className:"p-2",children:"Organization Attributes"})})}),l.jsxs("tbody",{children:[Je.map(W=>l.jsxs("tr",{children:[l.jsxs("td",{className:"w-48 border-2 border-slate-200/75 pl-2",children:[l.jsx("input",{type:"checkbox",className:"mr-2",checked:W.is_applied,onChange:ce=>{Xn(W.id,ce.target.checked)}}),W.name]}),l.jsx("td",{className:"border-2 border-slate-200/75 pl-2",children:l.jsx("textarea",{rows:5,className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-full max-w-3xl bg-slate-50",value:W.explanation,onChange:ce=>{ai(W.id,ce.target.value)}})})]},W.slug)),!De&&l.jsx("tr",{children:l.jsxs("td",{colSpan:2,className:"text-center border-2 border-slate-200/75 ",children:[l.jsxs("select",{onChange:W=>{pt(parseInt(W.target.value))},value:lt,children:[l.jsx("option",{value:"",children:"Select tag type"}),Qe?.tags.filter(W=>le?.find(ce=>ce.id===W.id)===void 0).map(W=>l.jsx("option",{value:W.id,children:W.name},W.id))]}),l.jsx("input",{type:"text",className:"border-2 border-slate-200/75 rounded-md px-2 py-1 bg-slate-50 ml-4",placeholder:"explanation",value:it,onChange:W=>{dn(W.target.value)}}),l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors max-w-2xl m-2 ml-4",onClick:Xr,disabled:!lt,children:"Add org attribute"})]})}),!ge&&l.jsx("tr",{children:l.jsx("td",{colSpan:2,children:l.jsx("div",{className:"m-4",children:l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors w-full",onClick:Sn,children:"Update organization arttributes"})})})})]})]}),l.jsxs("table",{className:"border-collapse border-2 border-slate-200/75 table-auto max-w-4xl m-8",children:[l.jsx("thead",{children:l.jsx("tr",{children:l.jsx("th",{colSpan:2,className:"p-2",children:"Merge organizations"})})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"w-48 border-2 border-slate-200/75 pl-2",children:"Target (this organization)"}),l.jsxs("td",{className:"border-2 border-slate-200/75 pl-2",children:[Ye?.name," - ",Ye?.slug]})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"w-48 border-2 border-slate-200/75 pl-2",children:"Organization to be merged into this one"}),l.jsx("td",{className:"border-2 border-slate-200/75 ",children:l.jsx("input",{type:"text",className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-full bg-slate-50",value:se,onChange:W=>{fe(W.target.value)}})})]}),l.jsx("tr",{children:l.jsx("td",{colSpan:2,children:l.jsx("div",{className:"m-4",children:l.jsxs("button",{className:"font-semibold px-4 py-2 bg-red-600 hover:bg-red-500 disabled:bg-red-200 text-white rounded-md transition-colors w-full",onClick:Pf,disabled:!se,children:["Merge organization"," ",se&&l.jsxs(l.Fragment,{children:[se," into this one"]})]})})})})]})]}),l.jsxs("table",{className:"border-collapse border-2 border-slate-200/75 table-auto max-w-4xl m-8",children:[l.jsx("thead",{children:l.jsx("tr",{children:l.jsx("th",{colSpan:2,className:"p-2",children:"Mark org as Staffing org"})})}),l.jsx("tbody",{children:l.jsxs("tr",{children:[l.jsx("td",{className:"w-48 border-2 border-slate-200/75 pl-2 py-4",children:"Mark as Staffing"}),l.jsx("td",{className:"border-2 border-slate-200/75 pl-2 py-4",children:Ye?.is_staffing_org?l.jsx("div",{className:"inline-block bg-slate-100 px-4 py-2 text-slate-300 font-semibold rounded-lg",children:"Already a staffing org"}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>S(!0),className:"bg-green-600 hover:bg-green-500 px-4 py-2 text-white font-semibold rounded-lg",children:["Mark"," ",Ye?.name??"organization"," ","as Staffing"]}),b&&l.jsx($o,{isAlert:!0,setIsShowingConfirmModal:W=>{W||S(!1)},handleConfirm:()=>{Ye&&Ye.id&&(Gd(),S(!1))},title:"Mark as Staffing",description:l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:["You are about to mark the organization"," ",l.jsx("strong",{children:Ye?.name})," ","as a staffing organization."]}),l.jsx("div",{className:"mt-2",children:"This operation cannot be undone."})]})})]})})]})})]}),l.jsx("div",{className:"w-full max-w-4xl ml-8 mb-8",children:l.jsx("button",{className:"px-4 py-2 bg-slate-200 rounded-md hover:bg-slate-100 transition-colors",onClick:du,children:"Reload organization data"})}),oe&&l.jsx($o,{isAlert:!0,setIsShowingConfirmModal:W=>{W||(Ee(null),je(""))},handleConfirm:()=>{Ye&&Z(Ye?.id,oe.id)},title:"Merging Organizations",description:oe?.jobs_count>500?l.jsxs("div",{children:["You can't merge"," ",l.jsx("strong",{children:oe.name})," into"," ",l.jsx("strong",{children:Ye?.name})," because"," ",oe.name," has ",oe.jobs_count,". This tool only supports merging orgs with up to 500 jobs."]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:["You are about to merge the organization"," ",l.jsx("strong",{children:oe?.name})," with slug ",l.jsx("strong",{children:oe?.slug})," ","into the organization"," ",l.jsx("strong",{children:Ye?.name})," with slug ",l.jsx("strong",{children:Ye?.slug}),"."]}),l.jsxs("div",{className:"mt-2",children:["This will merge all jobs (they are"," ",oe.jobs_count,"), people and other data from"," ",l.jsx("strong",{children:oe?.slug})," into"," ",l.jsx("strong",{children:Ye?.slug}),". This operation cannot be undone."]}),l.jsx("div",{className:"mt-2",children:"please confirm the slug of the organization to be merged into this one to proceed."}),l.jsxs("div",{className:"mt-2",children:[l.jsx("strong",{children:"Merged slug"}),":",l.jsx("input",{type:"text",className:"border-2 border-slate-200/75 rounded-md px-2 py-1 w-48 bg-slate-50 ml-2",value:ye,onChange:W=>{je(W.target.value)}})]})]}),isDisabled:oe?.slug!==ye||Be})]})},xEe=()=>{const[e,t]=w.useState([]),[n,s]=w.useState(""),i=async o=>{const c=[...e];c.splice(c.indexOf(o),1),t(c)},r=async()=>{try{const o=await Ue({url:"/admin/organizations/new-orgs/populate",method:"POST",body:{id:parseInt(n,10)}});if(o){const c=[...e];c.push(o),t(c),s("")}}catch(o){o.detail?alert(o.detail):alert(o)}},a=async()=>{try{const o=await Ue({url:"/admin/organizations/new-orgs/create",method:"POST",body:{ids:e.map(c=>c.id)}});o&&(t([]),Tt("Organization(s) added."),alert(`Merge log: 
`+o.logs.join(`
`)))}catch(o){o.detail?alert(o.detail):alert(o)}};return l.jsx("div",{className:"flex-1 flex flex-col overflow-scroll",children:l.jsxs("table",{className:"border-collapse border border-slate-500 table-auto max-w-4xl m-8",children:[l.jsx("thead",{children:l.jsx("tr",{children:l.jsx("th",{colSpan:2,className:"p-2",children:"Add organization from LinkedIn"})})}),l.jsxs("tbody",{children:[l.jsx("tr",{children:l.jsx("td",{className:"border border-slate-700",children:l.jsx("ul",{className:"list-disc ml-8",children:e.map(o=>l.jsxs("li",{children:[o.id," ",o.name," -"," ",l.jsx("span",{onClick:()=>i(o),children:"Delete"})]},o.id))})})}),l.jsx("tr",{children:l.jsxs("td",{className:"text-center border border-slate-600",children:[l.jsx("input",{type:"text",className:"border border-slate-200 rounded-md px-2 py-1 bg-slate-50 ml-4",placeholder:"Id",value:n,onChange:o=>{s(o.target.value)}}),l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors max-w-2xl m-2 ml-4",onClick:r,disabled:!n,children:"Add org id"})]})}),l.jsx("tr",{children:l.jsx("td",{colSpan:2,children:l.jsx("div",{className:"m-4",children:l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors w-full",onClick:a,children:"Create all the orgs"})})})})]})]})})},UY=e=>nt({url:`/admin/users/${e}`,admin:!0,enabled:!!e,queryKey:["user",e||""],refetchOnWindowFocus:"always"}),bEe=e=>nt({url:`/admin/users/${e??""}/credit-movements`,admin:!0,enabled:!!e,queryKey:["userCredits",e||""],refetchOnWindowFocus:"always"}),vEe=e=>{const t=yt();return It({mutationFn:async i=>{const r=new URLSearchParams;if(i.one_time){if(!i.explanation||!i.months)throw new Error("Missing explanation or months");r.append("one_time",i.one_time.toString()),r.append("expiration_months",i.months.toString()),r.append("comment",i.explanation)}return i.weekly&&r.append("weekly",i.weekly.toString()),await Ue({url:`/admin/users/${e}/credits`,method:"PUT",body:r.toString()})},onSuccess:()=>{t.invalidateQueries({queryKey:["user"]}),t.invalidateQueries({queryKey:["userCredits"]}),t.invalidateQueries({queryKey:["usersList"]})}})},SEe=()=>{const e=Qt(),{userId:t}=He(),{data:n}=UY(t),{data:s}=bEe(t),{mutate:i}=vEe(t),[r,a]=w.useState(""),[o,c]=w.useState(""),[u,h]=w.useState(""),[f,g]=w.useState(""),m=()=>{i({one_time:parseInt(r),months:parseInt(o),explanation:u})},y=()=>{i({weekly:parseInt(f)})};return l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors",onClick:()=>e("/admin/users"),children:"Back to users list"}),l.jsxs("div",{children:["User: ",n?.name," (",n?.email,")",l.jsx("br",{}),"Credits remaining: ",n?.credits_remaining," ",l.jsx("br",{}),"Monthly credits: ",n?.monthly_credits]}),l.jsxs("div",{className:"max-w-6xl overflow-scroll mt-5",children:[l.jsxs("table",{className:"table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-5",children:"Date"}),l.jsx("th",{className:"px-5",children:"Movement Type"}),l.jsx("th",{className:"px-5",children:"Credits"}),l.jsx("th",{className:"px-5",children:"Details"})]})}),l.jsx("tbody",{children:s?.map(b=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-5",children:b.effective_at}),l.jsx("td",{className:"px-5",children:b.movement_type}),l.jsx("td",{className:"px-5",children:b.credit_variation}),l.jsx("td",{className:"px-5",children:b.details})]},b.id))})]}),l.jsxs("div",{className:"mt-16",children:["One time grant value:"," ",l.jsx("input",{type:"number",className:"border border-slate-200 rounded-md px-2 py-1 w-full max-w-[20rem] bg-slate-50",value:r,onChange:b=>{a(b.target.value)}}),l.jsx("br",{}),"Months:"," ",l.jsx("input",{type:"number",className:"border border-slate-200 rounded-md px-2 py-1 w-full max-w-[20rem] bg-slate-50",value:o,onChange:b=>{c(b.target.value)}}),l.jsx("br",{}),"Explanation:"," ",l.jsx("input",{type:"text",className:"border border-slate-200 rounded-md px-2 py-1 w-full max-w-[20rem] bg-slate-50",value:u,onChange:b=>{h(b.target.value)}})]}),l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors",onClick:m,disabled:!r,children:"Grant credits"}),l.jsxs("div",{className:"mt-16",children:["Weekly credits:"," ",l.jsx("input",{type:"number",className:"border border-slate-200 rounded-md px-2 py-1 w-full max-w-[20rem] bg-slate-50",value:f,onChange:b=>{g(b.target.value)}})]}),l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors",onClick:y,disabled:!f,children:"Update weekly credits"})]})]})},wEe=e=>{const t=yt();return It({mutationFn:async i=>{const r=new URLSearchParams;return r.append("limit",i.download_limit?i.download_limit.toString():""),await Ue({url:`/admin/users/${e}/download_limit`,method:"POST",body:r.toString()})},onSuccess:()=>{t.invalidateQueries({queryKey:["user"]}),t.invalidateQueries({queryKey:["usersList"]})}})},CEe=()=>{const e=Qt(),{userId:t}=He(),{data:n}=UY(t),{mutate:s}=wEe(t),[i,r]=w.useState(void 0);w.useEffect(()=>{r(n?.download_limit)},[n]);function a(){s({download_limit:i})}return l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors",onClick:()=>e("/admin/users"),children:"Back to users list"}),l.jsxs("div",{children:["User: ",n?.name," (",n?.email,")",l.jsx("br",{}),"Download limit: ",n?.download_limit," "]}),l.jsxs("div",{className:"max-w-6xl overflow-scroll",children:[l.jsxs("div",{children:["New download limit:"," ",l.jsx("input",{type:"number",className:"border border-slate-200 rounded-md px-2 py-1 w-full max-w-[20rem] bg-slate-50",value:i,onChange:o=>{r(parseInt(o.target.value,10))}})]}),l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors",onClick:a,children:"Save download limit"})]})]})},MEe=(e,t,n)=>{const s=yt(),i=qr({token:e,name:t,id:n?parseInt(n,10):void 0}),r=`/admin/users${i?`?${i}`:""}`;return nt({url:r,admin:!0,queryKey:["usersList",r],transform:a=>(!!localStorage.getItem("NeedsInvalidate")&&(localStorage.removeItem("NeedsInvalidate"),s.invalidateQueries().catch(c=>console.log(c))),a),refetchOnWindowFocus:"always"})},jEe=()=>{const e=Qt(),t=Rt(),n=yt(),{sendLogout:s}=w.useContext(go),[i,r]=w.useState(""),[a,o]=w.useState(""),[c,u]=w.useState(""),h=ba(a,1e3),f=ba(c,1e3),{data:g,isPlaceholderData:m,isError:y}=MEe(i,h,f),[b,S]=w.useState(""),[C,M]=w.useState("");w.useEffect(()=>r(""),[h,f]),y&&(s?.(),e(`/account/login?return=${iI(t.pathname,t.search)}`));const N=async F=>{try{const G=await Ue({url:"/admin/users/i",method:"POST",body:`email=${encodeURIComponent(F??"")}`}),U=localStorage.getItem("Authorization");U&&localStorage.setItem("AdminAuthorization",U),localStorage.setItem("Authorization",`Bearer ${G.access_token}`),localStorage.removeItem("Level"),setTimeout(()=>{n.invalidateQueries()},500),G.return_url?e(G.return_url):e("/")}catch(G){alert(G)}},T=async(F,G)=>{try{await Ue({url:`/admin/users/${F}/grant-trial?days=${G}`,method:"POST",admin:!0}),n.invalidateQueries({queryKey:["usersList"]})}catch(U){alert(String(U))}},E=async(F,G)=>{if(confirm(`Are you sure you want to log out ${G}?`))try{await Ue({url:`/admin/users/${F}/logout`,method:"POST"})}catch(U){alert(U)}},k=F=>/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(F),L=async()=>{try{if(!k(b)){alert("Invalid email address");return}await Ue({url:"/admin/users",method:"POST",body:`email=${encodeURIComponent(b??"")}&name=${encodeURIComponent(C??"")}`}),n.invalidateQueries({queryKey:["usersList"]}).catch(F=>console.log(F)),S(""),M("")}catch(F){alert(F)}},I=zl(g?.page_info?.results_count??0,g?.users.length??0,g?.page_info?.next_page_token??""),_="truncate border rounded-2xl border-slate-300 px-3 py-1 text-slate-500 font-medium hover:border-slate-400!";return l.jsxs("div",{className:"overflow-scroll ml-6",children:[l.jsx("div",{className:"sticky top-0 bg-white pb-8",children:l.jsx("div",{className:"flex flex-col w-[30rem] gap-2",children:l.jsxs("div",{className:"flex flex-row items-center gap-4",children:[l.jsx("input",{type:"text",className:"flex-1 border border-slate-200 rounded-md px-2 py-1 w-full bg-slate-50",value:a,onChange:F=>{o(F.target.value)},placeholder:"Name/email"}),l.jsx("input",{type:"text",className:"border border-slate-200 rounded-md px-2 py-1 w-full flex-1 max-w-[10rem] bg-slate-50",value:c,placeholder:"ID",onChange:F=>{u(F.target.value)}})]})})}),l.jsxs("table",{className:"table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"h-[3rem] text-left border-b border-slate-200",children:"Id"}),l.jsx("th",{className:"text-left border-b border-slate-200",children:"Name"}),l.jsx("th",{className:"text-left border-b border-slate-200",children:"Email"}),l.jsx("th",{className:"text-left border-b border-slate-200",children:"Credits"}),l.jsx("th",{className:"text-left border-b border-slate-200",children:"Download limit"}),l.jsx("th",{className:"text-left border-b border-slate-200",children:"Impersonate"}),l.jsx("th",{className:"text-left border-b border-slate-200",children:"Log Out"}),l.jsx("th",{className:"text-left border-b border-slate-200",children:"Grant Trial"})]})}),l.jsx("tbody",{className:`${m?"opacity-50":""}`,children:g?.users?.map(F=>l.jsx("tr",{className:"border-b border-slate-100 text-slate-700",children:l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"pr-2 h-[3.5rem]",children:l.jsx("div",{className:"inline-flex px-2 py-1 text-slate-600 gap-4",children:F.id})}),l.jsxs("td",{className:"min-w-[15rem] pr-2",children:[l.jsx("span",{className:"font-medium",children:F.name}),F.company&&l.jsxs("div",{children:["(",F.company,")"]})]}),l.jsx("td",{className:"pr-4",children:F.email}),l.jsx("td",{className:"pr-4",children:l.jsxs("button",{className:_,onClick:()=>e(`/admin/users/${F.id}/credits`),children:[" ",F.credits_remaining," credits"]})}),l.jsx("td",{className:"min-w-[8rem] pr-4",children:l.jsxs("button",{className:_,onClick:()=>e(`/admin/users/${F.id}/download-limit`),children:[" ",F.download_limit??"0"," download"]})}),l.jsx("td",{className:"pr-4",children:l.jsxs("button",{className:_,onClick:()=>N(F.email),children:[" Impersonate ",F.name]})}),l.jsx("td",{children:l.jsxs("button",{className:_,onClick:()=>E(F.id,F.email),children:[" Log ",F.email," out"]})}),l.jsx("td",{className:"pr-4",children:l.jsx("div",{className:"flex flex-col gap-1",children:F.subscription.tier===ei.free?l.jsx("button",{className:_,onClick:()=>{const G=prompt(`Choose your trial length in days (maximum 30 days):
 - 30 days  Pro Trial (includes credits & signals)
 - Less than 30 days  Pro Access (web app only, no credits or signals)`,"1");if(!G)return;const U=parseInt(G,10);if(!U||U<=0||U>30){alert("Enter days > 0 and <= 30");return}T(F.id,U)},children:" Grant Pro trial"}):null})})]})},F.id))})]}),l.jsx("div",{className:"mt-16",children:g?.page_info&&g.users&&l.jsx(Zo,{totalResults:g.page_info.results_count||0,currentResults:g.users.length||0,currentRange:I,hasNext:!!g.page_info.next_page_token,hasPrevious:!!g.page_info.previous_page_token,next:()=>{r(g.page_info.next_page_token??"")},previous:()=>{r(g.page_info.previous_page_token??"")}})}),l.jsx("div",{className:"mt-16",children:"Create User"}),l.jsxs("div",{children:["Name:"," ",l.jsx("input",{type:"text",className:"border border-slate-200 rounded-md px-2 py-1 w-full max-w-[20rem] bg-slate-50",value:C,onChange:F=>{M(F.target.value)}})]}),l.jsxs("div",{children:["Email:"," ",l.jsx("input",{type:"text",className:"border border-slate-200 rounded-md px-2 py-1 w-full max-w-[20rem] bg-slate-50",value:b,onChange:F=>{S(F.target.value)}})]}),l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors",onClick:L,disabled:!b||!C,children:"Create User"})]})},NEe=({items:e,isLoading:t,isPlaceholderData:n=!1,isMobileMenuOpen:s,setIsMobileMenuOpen:i,basePath:r,paramName:a,slugifyFn:o=g=>g.toLowerCase().replace(/\s+/g,"-"),countIcon:c=o2,newItemLabel:u="New item",onItemClick:h,renderNewItemForm:f})=>{const m=He()[a],y=S=>{const C=o(S.name);return`${r}/${S.id}-${C}`},b=S=>{i(!1),h?.(S)};return l.jsx("div",{className:`${s?"":"max-md:hidden"} overflow-auto md:pt-15 max-md:fixed max-md:top-[5.5rem] max-md:border-t-2 max-md:z-10 max-md:w-full max-md:bottom-0 max-md:bg-white flex-none md:w-[17.5rem] border-r-2 border-slate-100 h-full`,children:l.jsx("div",{className:`flex flex-col gap-1 p-2 ${n?"opacity-50":""}`,children:t||!e?l.jsx("div",{className:"pl-10 pr-4",children:l.jsx("div",{className:"h-[2rem] bg-slate-100 rounded-full animate-pulse"})}):l.jsxs(l.Fragment,{children:[e.map(S=>{const C=y(S),M=m===`${S.id}-${o(S.name)}`;return l.jsxs(Re,{className:`flex items-center justify-between rounded-lg pl-8 pr-2 py-1.25 font-medium text-slate-700 hover:text-slate-900 ${M?"bg-slate-100 text-slate-900":""}`,to:C,onClick:()=>b(S),children:[l.jsx("div",{children:S.name}),S.count!==void 0&&l.jsxs("div",{className:"text-slate-300 flex flex-row gap-1 items-center text-sm",children:[l.jsx("div",{children:S.count}),l.jsx(c,{className:"w-5 h-5 text-slate-300"})]})]},S.id)}),f&&l.jsx("div",{children:l.jsxs(gi,{children:[l.jsxs(gi.Button,{className:"pl-14 md:pl-10 cursor-pointer hover:bg-slate-100/75 py-2 text-slate-400 block w-full text-left focus:outline-hidden ",children:["+ ",u]}),l.jsx(gi.Panel,{className:"l-10 absolute z-10 border border-slate-300 shadow-md w-[20rem] bg-white rounded-md",children:({close:S})=>f(S)})]})})]})})})},AEe=({isMobileMenuOpen:e,setIsMobileMenuOpen:t})=>{const{data:n,isLoading:s,isPlaceholderData:i}=v2(),r=Qt(),a=n?.map(u=>({id:u.id,name:u.name,count:u.people_count}))||[],o=u=>{Tt.success("List created"),r(`/lists/${u.id}-${Ix(u.name)}`)},c=u=>l.jsx(gG,{callback:h=>{o(h),u()},source:"team"});return l.jsx(NEe,{items:a,isLoading:s,isPlaceholderData:i,isMobileMenuOpen:e,setIsMobileMenuOpen:t,basePath:"/lists",paramName:"listId",slugifyFn:Ix,newItemLabel:"New list",renderNewItemForm:c})},em=()=>{const[e,t]=Ni(),n=i=>{const r=new URLSearchParams(e);i?r.set("export","1"):r.delete("export"),t(r)};return[e.get("export")==="1",n]},TEe=({isDisabled:e,isTextOnly:t})=>{const[n,s]=em();return l.jsxs("button",{onClick:()=>{s(!0)},disabled:e,className:`flex flex-row items-center gap-2 ${t?"text-green-600 hover:text-green-800":`pl-3 pr-5 py-2 rounded-lg border ${e?"border-slate-100 text-slate-400":"border-slate-200 hover:bg-slate-50 text-slate-800"}`} font-semibold max-md:hidden`,children:[l.jsx(KS,{className:"w-5 h-5"}),l.jsx("span",{className:"max-xl:hidden",children:"Export to CSV"})]})},EEe=({isDisabled:e,isTextOnly:t=!1})=>{const[n,s]=w.useState(!1),{data:i}=Gt(),r=i&&i?.download_limit;return l.jsxs(l.Fragment,{children:[l.jsx(TEe,{isDisabled:e??!1,isTextOnly:t}),n&&!r&&l.jsxs(Y0,{isOpen:n,setIsOpen:s,children:[l.jsx("h1",{className:"text-xl font-semibold",children:"Your download is starting"}),l.jsxs("div",{className:"text-slate-600",children:["CSV exports are limited to the first 100 rows by default. If you need to export more than this, please contact us at"," ",l.jsx("a",{href:"mailto:sales@sumble.com",className:"text-green-600 hover:text-green-700",children:"sales@sumble.com"}),"."]}),l.jsx("div",{className:"pt-2",children:l.jsx("button",{className:"bg-slate-200 font-semibold rounded-md px-6 py-2 hover:bg-slate-300",onClick:()=>s(!1),children:"Got it"})})]})]})},O2=Xe.memo(EEe),DEe=({item:e,isLoading:t,setIsMobileMenuOpen:n,isMobileMenuOpen:s,children:i,onDelete:r,canDelete:a=!1,deleteLabel:o="Delete",deleteConfirmTitle:c="Delete item",deleteConfirmDescription:u,canExport:h=!1,exportType:f="people",exportView:g,isShowingExport:m=!1,title:y,headerActions:b,onLoad:S})=>{const[C,M]=w.useState(!1),N=y||e?.name,T=u||`Are you sure you want to delete '${N}'?`,E=async()=>{r&&await r(),M(!1)};return Xe.useEffect(()=>{e&&S&&S(e.id)},[e?.id,S]),l.jsxs(l.Fragment,{children:[!t&&N&&l.jsx(Zr,{title:N}),l.jsxs("div",{className:"flex-1 flex flex-col max-md:w-full",children:[l.jsx("div",{className:"md:pb-4 flex-none border-b-2 border-slate-100",children:l.jsxs("div",{className:"h-13  flex flex-row md:items-center justify-between px-4 max-md:py-4 md:px-6! border-slate-100",children:[l.jsxs("h2",{className:"font-semibold text-slate-700 flex flex-row gap-4",children:[l.jsx("button",{onClick:()=>n(k=>!k),children:l.jsx(Kr,{className:`md:hidden w-6 h-6 text-slate-400 ${s?"rotate-180":""}`})}),t?l.jsx("div",{className:"w-[10rem] bg-slate-100 h-[1.5rem] rounded-full animate-pulse"}):N]}),l.jsxs("div",{className:`flex flex-row gap-4 md:gap-8 ${t&&"opacity-50 pointer-events-none"} items-center`,children:[a&&l.jsxs("button",{className:"text-slate-400 hover:text-red-500",onClick:()=>M(!0),children:[l.jsx("span",{className:"max-md:hidden",children:o}),l.jsx("span",{className:"max-md:block hidden",children:"Delete"})]}),h&&l.jsx(O2,{type:f,isTextOnly:!0}),b]})]})}),m&&g?g:i]}),C&&l.jsx(d2,{setIsShowingDeleteModal:M,handleDelete:E,title:c,description:T})]})},IL=e=>nt({url:`/contact-lists/${e||0}`,queryKey:["getLists",e.toString()],refetchOnWindowFocus:"always"}),kEe=()=>{const e=yt();return It({mutationFn:async({listId:n,peopleToDelete:s})=>{if(!(n===void 0||!s.length))return await e.cancelQueries({queryKey:["getLists",n]}),e.setQueryData(["getLists",n],i=>i&&{...i,people:(i.people??[]).filter(r=>!s.includes(r.id))}),await Ue({url:`/contact-lists/${n}/people`,method:"DELETE",body:{people:s}})},onSuccess:(n,s)=>{Tt(`${s.peopleToDelete.length} ${s.peopleToDelete.length===1?"person":"people"} removed from list`,{icon:""}),e.invalidateQueries({queryKey:["getLists",s.listId]})},onSettled:(n,s,i)=>{e.invalidateQueries({queryKey:["getLists",i.listId]})}})},hl=yo(),IEe=e=>e.source==="team"&&e.teams&&e.teams.length>0?`/orgs/${e.organization_slug}/teams/${(e.teams&&e.teams[0].slug)??""}`:`/orgs/${e.organization_slug}/job-functions/${e.job_function_slug}`,LEe=()=>{const{listId:e}=He(),t=Number(e?.split("-")[0]),{data:n,error:s,isLoading:i,isError:r}=IL(t),a=n?.people?n?.people.map(c=>({...c,link:IEe(c)})):[],o=[hl.accessor("name",{header:"Name",id:"Name",cell:c=>l.jsx("span",{className:"font-medium",children:c.getValue()}),size:200,minSize:150,enableHiding:!1}),hl.accessor("organization_name",{header:"Organization",id:"Organization",cell:c=>l.jsx(gt,{openInNewWindow:!0,text:c.getValue(),type:"general",href:`/orgs/${c.row.original.organization_slug}`,tooltip:"Open organization in new window"}),size:200,minSize:150}),hl.accessor("job_title",{header:"Title",id:"Title",cell:c=>l.jsx("span",{className:"font-medium",children:c.getValue()}),size:200,minSize:150}),hl.accessor("teams",{header:"Team",id:"Team",cell:c=>l.jsx("div",{className:"flex flex-row gap-1 flex-wrap",children:c.getValue()?.map(u=>l.jsx(gt,{text:di(u.name),type:"general",href:`/orgs/${c.row.original.organization_slug}/teams/${u.slug}`,tooltip:"Open team in new window"},u.slug))}),size:300,minSize:200}),hl.accessor("job_function_name",{header:"Function",id:"Function",cell:c=>l.jsx("div",{className:"flex flex-row gap-1 flex-wrap",children:c.row.original.job_function_slug&&c.row.original.job_function_name&&l.jsx(gt,{hideCurrentFilterAction:!0,text:c.row.original.job_function_name,type:"job_functions",item:{slug:c.row.original.job_function_slug,name:c.row.original.job_function_name},organization_slug:c.row.original.organization_slug,organization_name:c.row.original.organization_name,tooltip:"Open job function in new window"})}),size:300,minSize:200}),hl.accessor("contact_info.emails",{header:"Email",id:"Email",cell:c=>c.row.original.email_token?l.jsx(qh,{person:c.row.original,type:"emails"}):null,size:150,minSize:150}),hl.accessor("contact_info.phone",{header:"Phone",id:"Emails",cell:c=>c.row.original.email_token?l.jsx(qh,{person:c.row.original,type:"phone"}):null,size:150,minSize:150}),hl.accessor("linkedin_url",{header:"LinkedIn",id:"LinkedIn",cell:c=>l.jsx("span",{className:"font-medium",children:l.jsx(gt,{href:c.getValue(),text:"Profile",type:"general",tooltip:"Open LinkedIn profile in new window"})}),size:130,minSize:130,maxSize:130,enableSorting:!1}),hl.accessor("date_added",{header:"Added",id:"Date Added",cell:c=>l.jsx("span",{className:"text-slate-400",children:Pl(c.getValue())}),size:130,minSize:130,maxSize:130,enableSorting:!0,meta:{sortMessage:["recent  oldest","oldest  recent"],sortFlipOrder:!0}}),hl.display({header:"Actions",id:"Actions",cell:c=>{const{listId:u}=He(),{mutate:h}=kEe();return l.jsx("div",{className:"flex flex-row gap-2",children:l.jsx("button",{onClick:f=>{f.preventDefault(),h({listId:Number(u?.split("-").shift()),peopleToDelete:[c.row.original.id]})},children:l.jsx(Ht,{description:"Remove from list",children:l.jsx(a2,{className:"w-5 h-5 text-slate-400 hover:text-red-600"})})})})},size:100,minSize:100,maxSize:100,enableSorting:!1,enableHiding:!1})];return l.jsx(Qo,{className:"md:w-[calc(100vw-31.5rem)] md:h-[calc(100vh-10.8rem)] ",columnsName:"CONTACTS",columns:o,data:a,isFullWidth:!1,isPreviousData:!1,isError:r??!1,error:s,itemPlural:"contacts",isLoading:i,pinColumns:1})},OEe=({min:e,max:t,rows:n,setRows:s})=>l.jsx("div",{className:"h-12 -mt-2 px-3",children:l.jsx(bd.Range,{step:10,values:[n],min:e,max:t,onChange:i=>s(i[0]),renderThumb:({props:i})=>w.createElement("div",{...i,key:i.key,className:"w-6 h-6 bg-green-600 rounded-full z-5 ring-0! outline-hidden!",style:{...i.style}}),renderTrack:({props:i,children:r})=>l.jsx("div",{onMouseDown:i.onMouseDown,onTouchStart:i.onTouchStart,style:{...i.style,height:"36px",display:"flex",width:"100%"},children:l.jsx("div",{ref:i.ref,className:"h-[5px] w-full rounded-xs self-center",style:{background:bd.getTrackBackground({values:[n],colors:["rgb(22 163 74 / var(--tw-bg-opacity, 1))","rgb(226 232 240 / var(--tw-bg-opacity, 1))"],min:e,max:t,rtl:!1})},children:r})})})}),L1=[5,10,15,20,25,50,100,250,500,750,1e3],HY=({className:e})=>{const{peoplePerOrg:t,setPeoplePerOrg:n}=ze(),s=L1.indexOf(t||5),[i,r]=w.useState(s!==-1?s:0),a=ba(i,200);return w.useEffect(()=>{n(L1[a])},[a,n]),l.jsx("div",{className:`h-12 px-3 ${e}`,children:l.jsx(bd.Range,{step:1,values:[i],min:0,max:L1.length-1,onChange:o=>r(o[0]),renderThumb:({props:o})=>w.createElement("div",{...o,key:o.key,className:"w-6 h-6 bg-green-600 rounded-full z-5 ring-0! outline-hidden!",style:{...o.style}}),renderTrack:({props:o,children:c})=>l.jsx("div",{onMouseDown:o.onMouseDown,onTouchStart:o.onTouchStart,style:{...o.style,height:"36px",display:"flex",width:"100%"},children:l.jsx("div",{ref:o.ref,className:"h-[5px] w-full rounded-xs self-center",style:{background:bd.getTrackBackground({values:[i],colors:["rgb(22 163 74 / var(--tw-bg-opacity, 1))","rgb(226 232 240 / var(--tw-bg-opacity, 1))"],min:0,max:L1.length-1,rtl:!1})},children:c})})})})},REe=({costPerRow:e,maxRows:t,rowsToExport:n,setRowsToExport:s,mutate:i,status:r,type:a})=>{const{data:o}=Gt(),{peoplePerOrg:c,setPeoplePerOrg:u}=ze(),{organizationId:h,listId:f}=He(),g=Gn("technology_category"),m=e??10,y=o?o.credits_remaining:0,b=m*n,S=y-b,C=0,M=t,N=h||f;return l.jsxs(l.Fragment,{children:[!N&&(a==="PEOPLE"||a==="CONTACTS")&&l.jsxs("div",{className:"flex flex-row pb-4",children:[l.jsxs("div",{className:"flex-none w-[15rem] text-slate-500",children:["People per",l.jsx("br",{})," organization"]}),l.jsxs("div",{className:"flex-1 max-w-[60rem]",children:[l.jsx(HY,{className:"py-2"}),l.jsx("div",{className:"flex flex-row items-center justify-between gap-3",children:l.jsxs("div",{className:"flex flex-row items-center gap-3",children:[l.jsx("input",{type:"number",value:c||5,className:"w-32 p-2 border-slate-200 rounded-xs",onChange:T=>u(Math.min(2e3,Math.max(5,Number(T.target.value))))}),l.jsx("span",{className:"text-slate-400 font-medium",children:"people per organization"})]})})]})]}),l.jsxs("div",{className:"flex flex-row pb-4",children:[l.jsxs("div",{className:"flex-none w-[15rem] text-slate-500",children:["Number of rows",l.jsx("br",{})," to export"]}),l.jsxs("div",{className:"flex-1 max-w-[60rem]",children:[l.jsx(OEe,{min:C,max:M,rows:n,setRows:s}),l.jsxs("div",{className:"flex flex-row items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex flex-row items-center gap-3",children:[l.jsx("input",{type:"number",value:n,className:"w-32 p-2 border-slate-200 rounded-xs",onChange:T=>s(Math.min(M,Math.max(C,Number(T.target.value))))})," ",l.jsxs("span",{className:"text-slate-400 font-medium",children:["of ",$e(M)]})]}),l.jsxs("div",{className:"max-w-[30rem] text-right text-slate-400 pr-3",children:["Each row costs ",m," credits."," ",m>5?l.jsxs(l.Fragment,{children:[l.jsx("br",{}),"(5 per filter term",g&&g.length>0?" Technology categories contain multiple filter terms.":"",")"]}):""]})]})]})]}),l.jsxs("div",{className:"flex flex-row",children:[l.jsx("div",{className:"flex-none w-[15rem] text-slate-500",children:"Export cost"}),l.jsxs("div",{className:"flex-1",children:[$e(b)," credits"]})]}),l.jsxs("div",{className:"flex flex-row",children:[l.jsx("div",{className:"flex-none w-[15rem] text-slate-500",children:"Current balance"}),l.jsxs("div",{className:"flex-1",children:[$e(o?o.credits_remaining:0)," ","credits"]})]}),l.jsxs("div",{className:"flex flex-row pb-2",children:[l.jsx("div",{className:"flex-none w-[15rem] text-slate-500",children:"Balance after export"}),l.jsxs("div",{className:`flex-1 ${S<0?"text-red-500":""}`,children:[$e(S)," credits"]})]}),l.jsx(mS,{children:l.jsx(l.Fragment,{children:y>=b?l.jsxs("button",{className:"bg-green-600 hover:bg-green-500 text-white rounded-lg font-medium px-4 py-2",onClick:()=>{i()},disabled:r!=="idle",children:[r==="pending"?"Creating export...":"Create export",l.jsxs("span",{className:"text-green-50/70 pl-2",children:[$e(b)," credits"]})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"bg-red-100 text-red-900 rounded-lg font-medium px-4 py-2",disabled:!0,children:"Not enough credits to export"}),l.jsx(Re,{to:"/account/purchase",target:"_blank",doNotPassQuery:!0,className:"ml-4 text-green-600 hover:text-green-500",children:"Purchase credits "})]})})})]})},mS=({children:e})=>{const[t,n]=em();return l.jsx("div",{className:"flex-1 flex flex-col justify-end mt-auto",children:l.jsxs("div",{className:"h-12! flex-none flex flex-row items-center",children:[l.jsx("div",{className:"flex-none w-[15rem]",children:l.jsx("button",{className:"text-green-600 hover:text-green-500",onClick:()=>n(!1),children:" back"})}),l.jsx("div",{className:"flex-1",children:e}),l.jsxs("div",{className:"text-right text-slate-400",children:["Interested in integrating this data into Snowflake, Salesforce, or another platform?"," ",l.jsx("a",{className:"text-green-600 hover:text-green-500",href:"mailto:sales@sumble.com",children:"Get in touch"}),"."]})]})})},_Ee=({maxRows:e,costPerRow:t,noItemsFound:n,rowsToExport:s,setRowsToExport:i,useExport:r,type:a,isLoading:o,isPlaceholderData:c})=>{KI();const{mutate:u,status:h}=r(s),{data:f}=Gt();return l.jsx("div",{className:"flex flex-col relative px-10 pt-4 pb-6 flex-none h-[24rem]",children:o||c?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-slate-400",children:"Loading..."}),l.jsx(mS,{})]}):n?l.jsxs(l.Fragment,{children:[l.jsx("div",{children:"No data to export. Please update your filters."}),l.jsx(mS,{})]}):h==="success"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col flex-1 text-slate-500 gap-4",children:[l.jsxs("p",{children:["Your export is being created now. Credits will be deducted when the export is ready.",l.jsx("br",{}),"Please check your email (",f&&f.email,") to download."]}),l.jsxs("p",{children:["You can also download your export from your"," ",l.jsx(Re,{to:"/account/exports",doNotPassQuery:!0,target:"_blank",className:"text-green-600 hover:text-green-500",children:"account page."})]})]}),l.jsx(mS,{})]}):l.jsx(REe,{maxRows:e,costPerRow:t,rowsToExport:s,setRowsToExport:i,mutate:u,status:h,type:a})})},B7=(e,t)=>{const n=e.toString();return t[e]?t[e]:n.endsWith("_count")?n.length*9:n.length*13},PEe=e=>l.jsx("span",{className:"tabular-nums",children:e.getValue()}),zEe=({isLoading:e,isPlaceholderData:t,isError:n,error:s,previewData:i,rowsToExport:r,type:a,overrideSizes:o})=>{const c=r-10,u=yo(),h=b=>b.map(S=>u.accessor(C=>C[S],{header:String(S),cell:PEe,size:B7(S,o),minSize:B7(S,o),enableHiding:!1,enableSorting:!1})),f=w.useMemo(()=>h(Object.keys(i[0]??{})),[i]),[g]=qI("hiding_org_summary"),{organizationId:m}=He(),y=!!m;return l.jsxs("div",{className:`transition-all duration-100 flex flex-col ${y?g?"h-[calc(100vh-38rem)]":"h-[calc(100vh-42rem)]":a==="CONTACTS"?"h-[calc(100vh-31rem)]":"h-[calc(100vh-37rem)]"} relative`,children:[l.jsxs("div",{className:"bg-blue-200 text-blue-800/70 p-10 py-1.5 flex flex-row gap-3",children:[l.jsx("div",{className:"font-medium",children:"CSV Preview"}),l.jsx("div",{children:"We're showing you exactly how the resulting CSV will be formatted."})]}),l.jsx("div",{className:"w-full flex-1 flex flex-col overflow-auto h-full",children:e?l.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:"Loading preview..."}):n?l.jsx("div",{className:"flex-1 flex items-center justify-center text-red-600 px-10 text-center",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold mb-2",children:"Error loading preview"}),l.jsx("div",{className:"text-sm text-slate-600",children:s instanceof Error?s.message:"An unexpected error occurred"})]})}):l.jsxs(l.Fragment,{children:[l.jsx(Qo,{className:"md:min-w-0! md:w-full! overflow-visible! border-t-0!",data:i,noClick:!0,columns:f,isLoading:e,isError:n??!1,error:s,columnsName:a,isPreviousData:t,itemPlural:"items",disallowSorting:!0,showColumnVisibilityToggle:!1}),c<=0?null:l.jsxs("div",{className:"py-5 px-10 text-slate-400 font-medium flex-1",children:["+ ",r-10," rows"]})]})}),l.jsx("div",{className:"absolute inset-0 top-[2.5rem] bg-blue-50/20 pointer-events-none z-10 mix-blend-multiply"})]})},LL=Xe.memo(zEe),OL=e=>nt({url:"/account/exports/preview",method:"POST",contentType:"application/json",body:JSON.stringify(e),queryKey:["exportPreview","/account/exports/preview",JSON.stringify(e)],delayKey:"exportPreview",delayMs:1e3}),GY=()=>{const{advSearch:e}=ze(),t=mo("organizations"),n=df("ORGS"),s={export_type:"organizations",query:JSON.parse(Ai(e,t)),...n};return OL(s)},FEe={sumble_organization_id:210,parent_sumble_organization_id:230,name:400,industry:200,teams:100,jobs:100,first_job_post:300,last_job_post:300,headquarters_raw:150,headquarters_country:170,headquarters_state:170,domain:200},$Ee=({rowsToExport:e=10})=>{const{data:t,isLoading:n,isError:s,error:i,isPlaceholderData:r}=GY(),{data:a=[]}=t??{};return l.jsx(LL,{error:i,isError:s,isLoading:n,isPlaceholderData:r,previewData:a,rowsToExport:e,type:"EXPORT_ORGS",overrideSizes:FEe})},BEe=Xe.memo($Ee),WY=({organization_id:e})=>{const{advSearch:t}=ze(),n=mo("jobs",!!e),s=df("FEED"),i={export_type:"jobs",organization_slug:e,...s,query:JSON.parse(Ai(t,n))};return OL(i)},VEe={id:130,sumble_organization_id:180,job_title:400,datetime_pulled:300,primary_job_function:200,location:200,teams:200,matched_projects:200,matched_technologies:200,matched_job_functions:200,projects:200,description:200,url:200},UEe=({rowsToExport:e=10})=>{const{organizationId:t}=He(),{data:n,isLoading:s,isError:i,error:r,isPlaceholderData:a}=WY({organization_id:t}),{data:o=[]}=n??{};return l.jsx(LL,{error:r,isError:i,isLoading:s,isPlaceholderData:a,previewData:o,rowsToExport:e,type:"FEED",overrideSizes:VEe})},HEe=Xe.memo(UEe),RL=e=>It({mutationFn:async()=>await Ue({url:"/account/exports",method:"POST",body:JSON.stringify(e),contentType:"application/json"})}),GEe=({rows:e})=>{const{advSearch:t}=ze(),n=mo("organizations"),s=df("ORGS"),i={export_type:"organizations",query:JSON.parse(Ai(t,n)),...s,rows:e};return RL(i)},WEe=({rows:e,organization_id:t})=>{const{advSearch:n}=ze(),s=mo("jobs",!!t),i=df("FEED"),r={export_type:"jobs",organization_slug:t,...i,query:JSON.parse(Ai(n,s)),rows:e};return RL(r)},YY=({organization_id:e,contact_list_id:t})=>{const{advSearch:n,peoplePerOrg:s}=ze(),r=mo("people",!!e||!!t),a=Number(t?.split("-")[0]),o={export_type:"people",organization_slug:e,contact_list_id:a,query:JSON.parse(Ai(n,r)),people_per_organization:s||5};return OL(o)},YEe={sumble_profile_id:150,sumble_profile_url:200,name:150,role:200,location:200,country:140},KEe=({rowsToExport:e=10,type:t})=>{const{organizationId:n,listId:s}=He(),{data:i,isLoading:r,isError:a,error:o,isPlaceholderData:c}=YY({organization_id:n,contact_list_id:s}),{data:u=[]}=i??{};return l.jsx(LL,{error:o,isError:a,isLoading:r,isPlaceholderData:c,previewData:u,rowsToExport:e,type:t,overrideSizes:YEe})},qEe=Xe.memo(KEe),ZEe=({rows:e,organization_id:t,contact_list_id:n})=>{const{advSearch:s,peoplePerOrg:i}=ze(),a=mo("people",!!t||!!n),o=Number(n?.split("-")[0]),c={export_type:"people",organization_slug:t,contact_list_id:o,query:JSON.parse(Ai(s,a)),rows:e,people_per_organization:i||5};return RL(c)},V7=1e4,eb=({resultsCount:e,type:t})=>{const[n,s]=em(),[i,r]=Xe.useState(10),{organizationId:a,listId:o}=He(),c=()=>t==="EXPORT_ORGS"?GY():t==="FEED"?WY({organization_id:a}):YY({organization_id:a,contact_list_id:o}),{data:u,isLoading:h,isPlaceholderData:f}=c(),m=Math.min(e??V7,V7);w.useEffect(()=>()=>{s(!1)},[]),w.useEffect(()=>{m<i&&r(m)},[m,i]),w.useEffect(()=>{i===0&&r(1)},[i]);const y=S=>t==="EXPORT_ORGS"?GEe({rows:S}):t==="FEED"?WEe({organization_id:a,rows:S}):ZEe({organization_id:a,contact_list_id:o,rows:S}),b=(u?.data.length??0)===0;return l.jsxs("div",{className:"flex-1 flex flex-col border-2 border-blue-200",children:[l.jsxs("div",{className:"flex flex-col flex-1",children:[t==="EXPORT_ORGS"&&l.jsx(BEe,{rowsToExport:i}),t==="FEED"&&l.jsx(HEe,{rowsToExport:i}),(t==="PEOPLE"||t==="CONTACTS")&&l.jsx(qEe,{rowsToExport:i,type:t})]}),(b||m>=i)&&l.jsx(_Ee,{noItemsFound:b,maxRows:m,costPerRow:u?.cost_per_row??10,rowsToExport:i,setRowsToExport:r,useExport:y,type:t,isLoading:h,isPlaceholderData:f})]})},QEe=e=>Hg(()=>`/people/${e}/advanced`,t=>({q:t.peopleQ,skip:t.peoplePageToken?t.peoplePageToken.next_page_token??t.peoplePageToken.previous_page_token:void 0}),"PEOPLE"),tm=({organization_slug:e,skipAdvSearch:t,enabled:n=!0})=>{const{advSearch:s}=ze(),{suffix:i}=QEe(e),r=mo("people");return nt({url:i,method:"POST",contentType:"application/json",body:t?'{"operator":"NOOP"}':Ai(s,r),delayKey:"$orgPeople",queryKey:["organizationPeople",i,t?"skip":JSON.stringify(s),t?"skip":JSON.stringify(r)],enabled:n&&!!e})},XEe=()=>Hg(()=>"/people/advanced",e=>({q:e.peopleQ,skip:e.peoplePageToken?e.peoplePageToken.next_page_token??e.peoplePageToken.previous_page_token:void 0,people_per_organization:e.peoplePerOrg??5}),"PEOPLE"),_L=()=>{const{advSearch:e}=ze(),{suffix:t}=XEe(),n=mo("people"),s=Ai(e,n);return nt({url:t,method:"POST",contentType:"application/json",body:s,delayKey:"$peopleList",queryKey:["people",t,JSON.stringify(e),JSON.stringify(n)]})},JEe=()=>{const{organizationId:e}=He(),{data:t}=tm({organization_slug:e??""});return l.jsx(eb,{resultsCount:t?.page_info.results_count,type:"PEOPLE"})},eDe=()=>{const{data:e}=_L();return l.jsx(eb,{resultsCount:e?.page_info.results_count,type:"PEOPLE"})},tDe=()=>{const{listId:e}=He(),t=Number(e?.split("-")[0]),{data:n}=IL(t);return l.jsx(eb,{resultsCount:n?.people_count,type:"CONTACTS"})},PL=({export_type:e})=>e==="CONTACT_LIST"?l.jsx(tDe,{}):e==="ORG_PEOPLE"?l.jsx(JEe,{}):e==="PEOPLE"?l.jsx(eDe,{}):null,nDe=()=>{const e=yt();return It({mutationFn:async n=>n?await Ue({url:`/contact-lists/${n}`,method:"DELETE"}):void 0,onSuccess:()=>{e.invalidateQueries({queryKey:["lists"]})}})},sDe=({setIsMobileMenuOpen:e,isMobileMenuOpen:t})=>{const{sendEvent:n}=zn(),{listId:s}=He(),i=Qt(),[r]=em(),a=Number(s?.split("-")[0]),{data:o,isLoading:c}=IL(a),{mutate:u}=nDe(),h=async()=>{await u(a),setTimeout(()=>i("/lists"),500)},f=m=>{n("Contact List loaded",{category:"Web UI",list_id:m})},g=l.jsx(PL,{export_type:"CONTACT_LIST"});return l.jsxs(DEe,{item:o||null,isLoading:c,setIsMobileMenuOpen:e,isMobileMenuOpen:t,onDelete:h,canDelete:!0,deleteLabel:"Delete list",deleteConfirmTitle:"Delete list",deleteConfirmDescription:`Are you sure you want to delete '${o?.name}'?`,canExport:!0,exportType:"people",exportView:g,isShowingExport:r,onLoad:f,children:[l.jsx(Zr,{title:o?.name||"Contact List"}),l.jsx(LEe,{})]})},zL=({to:e,text:t,eventName:n,className:s})=>l.jsx("div",{className:"",children:l.jsxs(Re,{to:e,className:`text-[0.97rem] h-[2.6rem] flex items-center gap-1.5 text-slate-400 hover:text-slate-500 max-md:hidden ${s}`,doNotPassQuery:!0,trackEventName:`docs_hint_${n}`,target:"_blank",children:[l.jsx(r2,{className:"w-5 h-5"})," ",t]})}),iDe=()=>{const e=Qt(),{data:t,isLoading:n}=v2();return w.useEffect(()=>{t?.length&&e(`/lists/${t[0].id}-${Ix(t[0].name)}`)},[t]),l.jsx("div",{className:"flex-1 flex items-center justify-center ",children:n?l.jsx("div",{className:"animate-pulse text-slate-300",children:"Loading..."}):l.jsxs("div",{className:"text-center flex flex-col gap-4 items-center",children:[l.jsxs("div",{className:"text-xl text-slate-700 font-medium",children:["No contact lists found.",l.jsx("br",{}),"Create one to get started."]}),l.jsx(zL,{to:"https://docs.sumble.com/web-application/contact-lists",text:"What are contact lists? How do I use them?",eventName:"contact_lists_empty"})]})})},rDe=()=>{const{isLoggedIn:e,isLoading:t}=w.useContext(go),[n,s]=w.useState(!1),{listId:i}=He();return!e||t?l.jsx(l.Fragment,{}):l.jsxs(M2,{children:[l.jsx(Zr,{title:"Contact Lists"}),l.jsx(AEe,{setIsMobileMenuOpen:s,isMobileMenuOpen:n}),i?l.jsx(sDe,{setIsMobileMenuOpen:s,isMobileMenuOpen:n}):l.jsx(iDe,{})]})},KY=e=>{const t=new Date(e).getTime(),n=Date.now(),s=10080*60*1e3,i=1440*60*1e3,r=(n-t-i)/(s-i),a=Math.min(Math.max(r,0),1),o={r:22,g:163,b:74},c={r:156,g:163,b:175},u={r:Math.round(o.r+a*(c.r-o.r)),g:Math.round(o.g+a*(c.g-o.g)),b:Math.round(o.b+a*(c.b-o.b))};return`#${u.r.toString(16).padStart(2,"0")}${u.g.toString(16).padStart(2,"0")}${u.b.toString(16).padStart(2,"0")}`},zu=yo(),aDe=({hasProjects:e,isMatchedEmpty:t,showTeamColumn:n,showOrgColumn:s,jobQ:i})=>[s?zu.accessor("organization_name",{header:"Organization",id:"Organization",cell:r=>{const a=r.getValue(),o=r.row.original.organization_slug;return l.jsx("div",{className:"truncate",children:l.jsx(gt,{openInNewWindow:!0,text:a,type:"general",href:`/orgs/${o}`,tooltip:"Open organization in new window"})})},size:350,minSize:200,enableHiding:!1}):null,zu.accessor("datetime_pulled",{header:"Time",id:"Time",cell:r=>{const a=r.getValue(),o=KY(a),c=Pl(a);return l.jsx("div",{className:"text-slate-400",style:{color:o},children:c})},sortingFn:(r,a)=>r.original.datetime_pulled<a.original.datetime_pulled?1:-1,size:90,enableResizing:!1,meta:{sortMessage:["recent  oldest","oldest  recent"],sortFlipOrder:!0},invertSorting:!0}),zu.accessor("title",{header:"Job",id:"Job",cell:r=>{const a=r.getValue()??"",o=r.row.original.teams.some(c=>c.name)?"with-team":"no-team";return l.jsx("div",{children:l.jsx("span",{className:"font-medium text-slate-700","data-testid":`job-title-item-${o}`,children:l.jsx(ad,{highlightClassName:"font-bold bg-transparent text-slate-700 whitespace-normal",searchWord:i??"",textToHighlight:a,sanitize:$h})})})},size:400,minSize:300,meta:{}}),e?zu.accessor("matched_projects",{header:"Project Summary",id:"Project Summary",cell:r=>{const a=r.getValue()??[];if(!a.length)return null;const o=a.length>1;return l.jsx("div",{className:"flex flex-col",children:a.map(c=>l.jsxs("div",{children:[o&&l.jsx("div",{className:"inline-block bg-slate-100 text-xs font-semibold text-slate-400 mr-1 px-1 rounded-md",children:c.name}),c.goal]},c.name))})},meta:{colClass:"pr-2"},minSize:300,size:350,enableSorting:!1}):null,t?null:zu.display({header:"Matched",id:"Matched",cell:r=>{const{organizationId:a}=He(),o=r.row.original,c=o.matched_prefix,u={q:"",techs:o.matched_technologies.map(h=>({name:h.name,slug:h.slug,id:h.id,count:0})),job_functions:o.matched_job_functions,projects:o.matched_projects,job_levels:o.matched_job_levels?.map(h=>h.name)??[]};return l.jsxs("div",{children:[c,l.jsx(h2,{organization:a,filters:u,returnNullOnEmpty:!0})]})},minSize:300,size:300,meta:{autoSize:!0}}),zu.accessor("primary_job_function",{header:"Job function",id:"Job function",cell:r=>{const a=r.getValue();if(!a)return null;const o=r.row.original.organization_slug;return l.jsx("div",{className:"max-w-full",children:l.jsx(gt,{text:a,type:"job_functions",item:{name:a,slug:a},organization_slug:o})})},meta:{colClass:"pr-2",autoSize:!0},enableSorting:!1,size:200,minSize:200}),n?zu.accessor("teams",{header:()=>l.jsx("div",{className:"",children:"Teams"}),id:"Teams",cell:r=>{const a=r.getValue(),o=r.row.original.organization_slug,c=r.row.original.id;return l.jsx("div",{className:"flex flex-row min-w-0 py-2 gap-1 flex-wrap truncate",children:a.map(u=>u.name!==""?l.jsx(gt,{href:`/orgs/${o}/teams/${u.slug}/jobs`,target:"_blank",type:"team",text:di(u.name),tooltip:"Open team in new window"},c+u.slug):null)})},meta:{colClass:"min-w-0 pl-0 pr-2"},size:400,minSize:200,enableSorting:!1}):null,zu.accessor("location",{header:"Location",id:"Location",cell:r=>{const a=r.row.original.location;return l.jsx("div",{children:a})},meta:{colClass:"min-w-0 pr-2",autoSize:!0}})].filter(r=>r!==null),qY=({className:e,data:t,isLoading:n,isError:s,isPreviousData:i,showTeamColumn:r=!1,error:a,showOrgColumn:o=!0})=>{const{jobQ:c}=ze(),{pathname:u}=Rt(),h=u.match(/\/jobs\/(\d+)/)?.[1],f=t?.feed_items??[],g=w.useMemo(()=>f.every(S=>S.matched_job_functions.length===0&&S.matched_technologies.length===0&&(S.matched_job_levels??[]).length===0&&S.matched_content.length===0&&(S.matched_projects??[]).length===0)??!1,[f]),m=w.useMemo(()=>f.some(S=>(S.matched_projects?.length??0)>0)??!1,[f]),y=w.useMemo(()=>aDe({hasProjects:m,isMatchedEmpty:g,showTeamColumn:r??!1,showOrgColumn:o,jobQ:c??void 0}),[m,g,r,o,c]),b=w.useMemo(()=>{if(f.length!==0)return{Matched:f.map(S=>[...(S.matched_technologies??[]).map(C=>C.name),...S.matched_job_functions??[],...S.matched_content??[],...(S.matched_projects??[]).map(C=>C.name),...(S.matched_job_levels??[]).map(C=>C.name)]),"Job function":f.map(S=>S.primary_job_function??""),Location:f.map(S=>S.location??"")}},[f]);return l.jsx(Qo,{className:`border-t-2 border-slate-100 ${e} ${i?"opacity-50":""}`,columnsName:"FEED",columns:y,data:f,isLoading:n,isPreviousData:i??!1,isError:s??!1,error:a,itemPlural:"items",matchRow:h?{key:"job_id",value:Number(h)}:void 0,measurementValues:b,pinColumns:1})},ZY=({organizationId:e})=>{const{sendEvent:t}=zn(),{setPageToken:n}=w.useContext(R0),{jobQ:s,setSavedSearchId:i}=ze(),{data:r,isLoading:a,isPlaceholderData:o,isError:c,error:u}=Zc({organization_slug:e,useQ:!e,q:s??void 0}),h=r?.page_info||!1,f=zl(r?.page_info?.results_count??0,r?.feed_items.length??0,r?.page_info?.next_page_token??"");w.useEffect(()=>{e?t("Organization Job Posts loaded",{category:"Web UI",organization_id:e}):t("Global Job Posts loaded",{category:"Web UI"})},[e]),w.useEffect(()=>{i(r?.subscription_id??null)},[r]);const g=w.useMemo(()=>a||r===void 0?r:{...r,feed_items:r.feed_items.map(m=>{let y;return e===void 0?y=`/jobs/${m.organization_slug}/_team_slug_/jobs/${m.id}`:m.organization_slug===e?y=`/orgs/${e}/jobs/_team_slug_/jobs/${m.id}`:y=`/orgs/${e}/subsidiaries/${m.organization_slug}/jobs/_team_slug_/jobs/${m.id}`,{...m,link:y}})},[r,e,a]);return l.jsxs(l.Fragment,{children:[l.jsx(qY,{data:g,isLoading:a,isError:c,isPreviousData:o,error:u,showOrgColumn:!0,showTeamColumn:!0}),h&&r&&r.feed_items&&l.jsx(Zo,{totalResults:h.results_count||0,currentResults:r?.feed_items.length||0,currentRange:f,hasNext:!!r.page_info.next_page_token,hasPrevious:!!r.page_info.previous_page_token,next:()=>{r.page_info.next_page_token&&n(r.page_info.next_page_token)},previous:()=>{r.page_info.previous_page_token&&n(r.page_info.previous_page_token)},children:l.jsx(O2,{isDisabled:r.export_enabled===!1,type:"jobs"})})]})},oDe=({chipText:e,onClick:t,selectedClass:n="bg-slate-100 text-slate-700 hover:bg-slate-200 hover:text-slate-700"})=>l.jsxs("button",{type:"button",onClick:t,className:`inline-flex items-center rounded-full py-0.5 pl-2 pr-0.5 text-sm font-medium ${n}`,children:[l.jsx("span",{className:"text-left truncate max-w-[20em]",children:e}),l.jsxs("span",{className:"ml-0.5 inline-flex h-4 w-4 shrink-0 items-center justify-center rounded-full opacity-50",children:[l.jsx("span",{className:"sr-only",children:"Remove small option"}),l.jsx("svg",{className:"h-2 w-2",stroke:"currentColor",fill:"none",viewBox:"0 0 8 8",children:l.jsx("path",{strokeLinecap:"round",strokeWidth:"1.5",d:"M1 1l6 6m0-6L1 7"})})]})]}),QY=({className:e,items:t,isLoading:n,resetFunction:s,noItemSelectedText:i,selectedClass:r,showEmpty:a})=>(es("r",o=>{o.preventDefault(),s()},{scopes:["filters"]},[]),(t.length>0||a)&&l.jsx("div",{className:`flex-none px-6 pt-2 ${e}`,children:l.jsx("div",{className:"min-h-[1.5rem] flex flex-row justify-between items-start ",children:t.length>0?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-row flex-wrap gap-1",children:[t.map(o=>l.jsx(oDe,{chipText:`${o.type==="exclude"?"":""}${o.text}`,onClick:o.action,selectedClass:o.type==="exclude"?"bg-red-100 text-red-800 hover:bg-red-200 hover:text-red-800":r},o.key)),n&&l.jsx("div",{children:l.jsx(Yr,{className:"w-3 h-3 ml-1 relative top-0.5"})})]}),l.jsx("div",{className:"text-xs absolute top-2 right-6",children:l.jsx(Ht,{hotkey:"R",description:"Reset",children:l.jsx("button",{onClick:s,className:"font-semibold text-slate-400 hover:text-slate-500",children:"Reset"})})})]}):l.jsx("span",{className:"text-xs font-medium text-slate-300",children:i})})})),XY=({allItems:e,backAction:t,className:n,selectedItemKeys:s,toggleItem:i,itemNameKey:r,itemKeyKey:a,isLoadingSelected:o,noItemSelectedText:c,resetFunction:u,selectedClass:h})=>{const f=y=>{for(const b of e){if(b[a]===y)return b;if(b.children){const S=b.children.find(C=>`${b.code}:${C.name}`===y);if(S)return S}}},g=s.map(y=>{const b=f(y.slug);return b?{key:`${y.field||"unknown"}-${y.slug}`,text:b[r],type:y.type,action:()=>i(y.slug,y.type==="exclude",y.field)}:null}).filter(y=>y!==null),m=g.length===0&&t===void 0;return l.jsx(QY,{className:n,items:g,isLoading:o,resetFunction:u,noItemSelectedText:c,selectedClass:h,showEmpty:m})},JY=({className:e,hideFilterText:t,searchPlaceholder:n,searchFunction:s,searchValue:i})=>{const r=w.useRef(null);return es("down",a=>{if(r.current&&r.current===document.activeElement){a.preventDefault();const c=r.current.parentElement?.nextElementSibling?.querySelector("button");c&&c.focus()}},{enableOnFormTags:!0,scopes:["filters"]},[]),l.jsx("div",{className:`flex-none border-b ${e}`,children:t?l.jsx("div",{className:"px-4 pl-6 py-2 text-slate-400",children:t}):l.jsx("input",{ref:r,id:"filter-panel-search",type:"search",autoFocus:!0,className:"filter-panel-search bg-transparent block w-full px-4 pl-6 py-2 border-0 border-none focus:border-none focus:ring-0",placeholder:n,onChange:s?a=>s(a.target.value):()=>{},value:i,"data-testid":"filter-panel-search"})})},lDe=e=>nt({url:`/technologies/details/${e}`,queryKey:["techDetails",e??""],enabled:!!e}),cDe=({isInFilter:e,onToggle:t,theme:n="neutral"})=>{const s=i=>i?{red:"bg-red-100 border-slate-300!",green:"bg-green-100 border-slate-300!",neutral:"bg-slate-50 border-slate-300!"}[n]:"border-slate-200 hover:border-slate-300!";return l.jsx(Ht,{description:e?"Remove from filter":"Add to filter",children:l.jsx("button",{onClick:t,className:`border rounded-full size-8 flex items-center justify-center transition-all duration-200 active:scale-95 ${s(e)}`,children:e?l.jsx(Gk,{className:"size-6 transition-transform duration-200"}):l.jsx(Fo,{className:"size-6 transition-transform duration-200"})})})},eK=({title:e,subtitle:t,theme:n,isInFilter:s,onToggle:i,dropdownSections:r,progressPercentage:a,children:o})=>{const c=()=>({red:"border-red-900/10!",green:"border-green-900/10!",neutral:s?"border-slate-300!":"border-slate-200"})[n],u=()=>({red:"text-red-900/90!",green:"text-green-800/90!",neutral:"text-slate-800"})[n],h=()=>a?s?"bg-slate-200/60":"bg-slate-100/80":"";return l.jsxs("div",{className:`border rounded-xl px-4 py-3 flex gap-4 items-center justify-between relative font-medium ${c()} ${u()}`,children:[a&&l.jsx("div",{className:`absolute h-full left-0 z-0 pointer-events-none rounded-l-xl ${h()}`,style:{width:`${a}%`}}),l.jsxs("div",{className:"flex flex-col items-start text-left relative z-10 flex-1 gap-1",children:[l.jsx("div",{className:"font-medium leading-[1.3] ",children:e}),l.jsx("div",{className:"text-sm font-normal text-slate-600",children:t}),o&&l.jsx("div",{className:"",children:o})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(cDe,{isInFilter:s,onToggle:i,theme:n}),r&&l.jsx("div",{className:"flex-shrink-0 w-8 h-8",children:l.jsx(K0,{sections:r,tooltip:"More actions",dontAnchor:!0,className:"text-slate-600 ",menuClassName:"w-[25rem] right-0 top-10 z-[100] font-regular! text-sm",children:l.jsx("button",{className:"border border-slate-200 rounded-full size-8 flex items-center justify-center transition-colors hover:border-slate-300",onClick:f=>f.stopPropagation(),children:l.jsx(pg,{className:"size-6"})})})})]})]})},uDe=(e,t)=>{const n=e?z0("technology",[e]):void 0;return F0({queryKey:["chipTechnology",e,t],orgUrl:"/organizations/advanced",feedUrl:"/feed/advanced",additionalUrls:{orgJobsUrl:t?`/feed/advanced?organization_slug=${t}`:void 0,orgPeopleUrl:t?`/people/${t}/advanced`:void 0,orgTeamsUrl:t?`/teams/${t}/advanced-new`:void 0},filterBody:n,enabled:!!e})},dDe=({techSlug:e,techName:t,advSearch:n})=>{const s=uf(),i=P0("technology",e,n,!0).length>0;return l.jsx("div",{className:"pb-6 flex flex-col gap-2",children:l.jsxs("button",{onClick:()=>{s("technology",e,i?"remove":"include")},className:`flex flex-row gap-2 font-medium border rounded-full px-4 pr-3 py-2 transition-all duration-200 ${i?"bg-green-100/70! border-green-800/30! text-slate-700":"border-slate-300 text-slate-500 hover:border-slate-400!"}`,children:[i?`Remove ${t} from`:`Add ${t} to`," ","current filters",i?l.jsx(Gk,{className:"size-6 text-slate-400"}):l.jsx(Fo,{className:"size-6 text-slate-300"})]})})},hDe=({to:e,label:t,count:n,isLoading:s,target:i})=>l.jsxs(Re,{to:e,target:i,className:"flex items-center justify-between px-4 py-3 border border-slate-200 rounded-xl hover:border-slate-300 transition-colors",children:[l.jsx("span",{className:"font-medium text-slate-700",children:t}),l.jsxs("div",{className:"flex items-center gap-2",children:[s?l.jsx("div",{className:"h-6 w-12 rounded-full bg-slate-100 animate-pulse"}):n!==void 0?l.jsx("span",{className:"bg-slate-100 rounded-full text-xs font-semibold text-slate-500 px-2 py-1",children:$e(n)}):null,l.jsx(ls,{className:"w-4 h-4 text-slate-400"})]})]}),tK=({title:e,links:t,isLoading:n})=>l.jsxs("div",{className:"flex flex-col gap-2 mt-6 pt-4",children:[l.jsx("div",{className:"text-slate-600 font-medium",children:e}),t.filter(s=>s.condition!==!1).map((s,i)=>l.jsx(hDe,{to:s.to,label:s.label,count:s.count,isLoading:n,target:s.target},i))]}),fDe=({techSlug:e,techName:t,organizationSlug:n,organizationName:s,chipData:i,chipLoading:r})=>{const a=[{to:`/orgs/${n}/jobs?${fa("technology",[e])}`,label:`Job posts mentioning ${t||"this tech"}`,count:i?.organization?.jobs},{to:`/orgs/${n}/people?${fa("technology",[e])}`,label:`People mentioning ${t||"this tech"}`,count:i?.organization?.people},{to:`/orgs/${n}/teams?${fa("technology",[e])}`,label:`Teams mentioning ${t||"this tech"}`,count:i?.organization?.teams,condition:r||(i?.organization?.teams??0)>0}];return l.jsx(tK,{title:`Search in ${s||"this organization"}`,links:a,isLoading:r})},pDe=({techSlug:e,techName:t,chipData:n,chipLoading:s})=>{const i=[{to:`/orgs/?${fa("technology",[e])}`,label:`Organizations mentioning ${t||"this tech"}`,count:n?.all?.organizations,target:"_blank"},{to:`/jobs?${fa("technology",[e])}`,label:`Job posts mentioning ${t||"this tech"}`,count:n?.all?.jobs,target:"_blank"}];return l.jsx(tK,{title:"Search all organizations",links:i,isLoading:s})},gDe=(e,t)=>`/jobs?as=${encodeURIComponent(JSON.stringify({operator:"AND",children:[{operator:"OR",fields:{technology:{include:[e],exclude:[]}}},{operator:"OR",fields:{technology:{include:[t],exclude:[]}}}]}))}`,mDe=(e,t)=>`/jobs?as=${encodeURIComponent(JSON.stringify({operator:"AND",children:[{operator:"OR",fields:{technology:{include:[e],exclude:[]}}},{operator:"OR",fields:{job_function:{include:[t]}}}]}))}`,yDe=({jobTitle:e,alwaysMakeNewGroup:t,onAdd:n,techSlug:s,techName:i})=>{const{addFilterToLastGroup:r,advSearch:a}=ze(),o=P0("job_function",e.jobFunctionTitle,a,!0).length>0,c=()=>{Tt(`${e.jobFunctionTitle} filter ${o?"removed":"added"}`),r({field:"job_function",slug:e.jobFunctionTitle,type:"include",alwaysMakeNewGroup:t}),n()},u=[{items:[{label:`View ${$e(e.matchingJobsThatMentionThisTech)} jobs that mention ${i} and ${e.title} `,onClick:()=>window.open(mDe(s,e.jobFunctionTitle),"_blank")}]}],f=Number(e.mentionPercentage)>=1?`${Number(e.mentionPercentage).toFixed(0)}% (${$e(e.matchingJobsThatMentionThisTech)}) of jobs mention ${i}`:`${$e(e.matchingJobsThatMentionThisTech)} jobs mention ${i}`;return l.jsx(eK,{title:e.title,subtitle:f,theme:"neutral",isInFilter:o,onToggle:c,dropdownSections:u,progressPercentage:Number(e.mentionPercentage)})},xDe=({name:e,slug:t,type:n,explanation:s,mainTechSlug:i,mainTechName:r,setTechInfoSlug:a})=>{const{addFilterToLastGroup:o,advSearch:c}=ze(),u=P0("technology",t,c,!0).length>0,h=()=>{Tt(`${e} filter ${u?"removed":"added"}`),o({field:"technology",slug:t,type:"include"})},f=n==="competitors"?"red":"green",g=[{items:[{label:`View info about ${e} `,onClick:()=>a(t)},{label:`View jobs that mention ${e} and ${r} `,onClick:()=>window.open(gDe(i,t),"_blank")}]}];return l.jsx(eK,{title:e,subtitle:s,theme:f,isInFilter:u,onToggle:h,dropdownSections:g})},bDe=()=>{const[e]=Ni();return e.get("tech-info")?l.jsx(vDe,{}):null},vDe=()=>{const[e,t]=Ut("tech-info",ps),{organizationId:n,rootOrganizationId:s}=He(),[i,r]=w.useState(!1),{data:a,isLoading:o,isPlaceholderData:c}=lDe(e||""),{advSearch:u}=ze(),h=w.useRef(null),f=s||n,{data:g}=$l(f),{data:m,isLoading:y}=uDe(e??void 0,f),b=w.useMemo(()=>(console.log(a?.jobFunctions),a?.jobFunctions?[...a.jobFunctions].sort((C,M)=>Number(C.mentionPercentage)>Number(M.mentionPercentage)?-1:1):[]),[a?.jobFunctions]);w.useEffect(()=>{e&&h.current&&(h.current.scrollTop=0)},[e]);const S=()=>{t(void 0)};return l.jsx(zg,{id:"tech-info-portal",children:l.jsx(m2,{children:e&&l.jsxs(l.Fragment,{children:[l.jsx(Bo.div,{ref:h,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed top-0 right-0 h-full w-[35rem] z-[100] bg-white border-l shadow-lg overflow-auto",children:l.jsxs("div",{className:`flex flex-col ${c?"opacity-50":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between p-8 pt-2 pb-1",children:[l.jsx("h3",{className:"font-medium text-slate-400",children:"Technology Info"}),l.jsx("button",{onClick:S,className:"text-slate-400 hover:text-slate-600 p-1",children:l.jsx(gd,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"flex-1 overflow-auto p-8 flex flex-col",children:[o&&l.jsx("div",{className:"flex-1 text-slate-400 flex items-center justify-center",children:"Loading..."}),!o&&a===null&&l.jsx("div",{className:"flex-1 text-slate-400 flex items-center justify-center",children:"No information found for this technology"}),a&&l.jsxs("div",{className:"relative flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-row gap-2",children:[l.jsx(Wg,{url:a.domain.replace(/^https?:\/\/(www\.)?/,""),orgName:a.name}),l.jsx("div",{className:"font-medium text-slate-800! text-xl",children:a.name})]}),l.jsx("div",{className:"text-slate-500 pb-4",children:a.description?.startsWith(a.name)?a.description.slice(a.name.length).trim():a.description}),l.jsx(dDe,{techSlug:e||"",techName:a.name,advSearch:u}),[{type:"competitors",title:"Competing techs",colorClass:"text-red-800",items:a.relatedTechs.competitors},{type:"complementaries",title:"Complementary Techs",colorClass:"text-green-800",items:a.relatedTechs.complementaries}].map(({type:C,title:M,colorClass:N,items:T})=>l.jsxs("div",{className:"flex flex-col gap-2 mb-4",children:[l.jsx("div",{className:`${N} font-medium`,children:M}),l.jsx("div",{className:"flex flex-col gap-2",children:T.map(E=>l.jsx(xDe,{name:E.name,slug:E.slug,type:C,explanation:E.explanation,mainTechSlug:e||"",mainTechName:a.name,setTechInfoSlug:t},E.slug))})]},C)),a.jobFunctions&&l.jsxs("div",{className:"flex flex-col gap-2 mt-1",children:[l.jsxs("div",{className:"text-slate-600 font-medium",children:["Job titles that mention"," ",a.name]}),b.map(C=>l.jsx(yDe,{jobTitle:C,alwaysMakeNewGroup:!i,onAdd:()=>r(!0),techSlug:e||"",techName:a.name},C.jobFunctionSlug))]}),f&&l.jsx(fDe,{techSlug:e||"",techName:a.name,organizationSlug:f,organizationName:g?.name,chipData:m,chipLoading:y}),l.jsx(pDe,{techSlug:e||"",techName:a.name,chipData:m,chipLoading:y})]})]})]})}),l.jsx(Bo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-white/10!",onClick:()=>t(void 0)})]})})})},SDe=({slug:e,name:t})=>{const[n,s]=Ut("tech-info",ps),i=n===e,r=a=>{a.preventDefault(),a.stopPropagation(),s(i?void 0:e)};return l.jsx(Ht,{description:`Find out more about ${t}`,placement:"right",children:l.jsx("button",{onClick:r,className:"flex items-center justify-center",children:l.jsx(Ic,{className:`max-md:hidden ml-2 size-5 ${i?"text-green-500 hover:text-green-600":"text-slate-300 hover:text-slate-400"}`})})})},nK=()=>{const{data:e}=Gt(),t=e&&e.subscription.tier==="free"?"This feature requires a Pro plan.":e&&e.is_on_trial?"You have access to this feature during your trial.":`This filter is part of your ${e&&e.subscription.tier?di(e.subscription.tier):""} plan`;return l.jsx(Ht,{description:t,children:l.jsx("div",{className:"bg-slate-500 rounded-full px-1.5 text-sm tracking-wide font-semibold text-white",children:"PRO"})})},sK=({allowExclude:e,children:t,className:n,count:s,filterType:i,fieldType:r,selectedSlugs:a,information:o,itemCountName:c,itemCountPlural:u,itemName:h,toggleAction:f,toggleCode:g,toggleExcludeAction:m})=>{const y=a.includes(g),b=s&&l.jsxs(l.Fragment,{children:[s," ",u?l.jsx(l.Fragment,{children:s!=="1"?u:c}):l.jsxs(l.Fragment,{children:[c??"",c&&s!=="1"?"s":""]})]}),S=l.jsxs("div",{className:"h-8 flex flex-1 flex-row items-center justify-between font-medium group relative truncate",children:[l.jsx("div",{className:"truncate",children:h}),l.jsxs("div",{className:`${i==="ACCOUNT_LIST"?"pr-4":""} relative flex flex-row items-center gap-1 font-normal text-slate-400 text-sm whitespace-nowrap pl-2 ${e?"group-hover:hidden":""}`,children:[b,o&&l.jsx(Ic,{className:"w-4 h-4"})]})]});return l.jsxs(l.Fragment,{children:[l.jsxs("button",{className:`px-6 pr-4 w-full h-8 flex flex-row items-center justify-between group ${y?"bg-indigo-100 hover:bg-indigo-100":"hover:bg-slate-100"} ${n} focus:outline-0 focus:ring-4 focus:ring-inset focus:ring-indigo-100`,"data-testid":"filter-panel-item",onClick:()=>f(g),children:[o?l.jsx(Sr,{content:l.jsx("div",{className:"bg-slate-800 px-3 py-2.5 -mt-3 ml-4 rounded-lg text-white font-medium max-w-[20rem]",children:o}),zIndexClass:"z-20",placement:"right-start",className:"flex items-center flex-row justify-between w-full",children:S}):S,r==="project"?l.jsx(nK,{}):null,e&&l.jsxs("div",{className:"flex-row gap-2 hidden group-hover:flex text-green-500 text-sm pl-2",children:[l.jsx("button",{className:"hover:text-green-700",children:"Include"}),l.jsx("button",{className:"hover:text-green-700",onClick:C=>{C.stopPropagation(),m(g)},children:"Exclude"})]}),r==="technology"&&l.jsx(SDe,{slug:g,name:h})]}),t?.map(C=>{const M=`${g}:${C.name}`;return l.jsx(sK,{allowExclude:e,className:"pl-12",count:$e(C.count),filterType:i,fieldType:r,itemCountName:c,itemCountPlural:u,itemName:C.name,selectedSlugs:a,toggleAction:f,toggleCode:M,toggleExcludeAction:m},C.name)})]})},iK=({allowExclude:e,availItems:t,filterType:n,fieldType:s,isLoading:i,itemCountKey:r,itemCountName:a,itemCountPlural:o,itemKeyKey:c,itemNameKey:u,selectedItemKeys:h,title:f,toggleItem:g})=>(es("down",m=>{if(m&&m.target&&m.target instanceof HTMLElement&&m.target.tagName==="BUTTON"){m.preventDefault();const y=m.target.nextElementSibling;y instanceof HTMLElement&&y?.tagName==="BUTTON"&&y.focus()}},{scopes:["filters"]},[]),es("up",m=>{if(m&&m.target&&m.target instanceof HTMLElement&&m.target.tagName==="BUTTON"){m.preventDefault();const y=m.target.previousElementSibling;y instanceof HTMLElement&&y?.tagName==="BUTTON"&&y.focus(),y===null&&m.target.parentElement?.parentElement?.previousElementSibling?.querySelector("input")?.focus()}},{scopes:["filters"]},[]),l.jsxs("div",{className:"flex-1 overflow-auto max-h-[24rem]",children:[!i&&t&&l.jsx("div",{className:"flex flex-col py-2 filter-panel-items",children:t.map(m=>{const y=h.map(b=>b.slug);return l.jsx(sK,{allowExclude:e??!1,count:r&&$e(m[r]),fieldType:s,filterType:n,selectedSlugs:y,itemCountName:a,itemCountPlural:o,itemName:m[u],information:m.information,toggleAction:g,toggleCode:m[c],toggleExcludeAction:b=>{g(b,!0)},children:m.children},m[c])})}),i&&l.jsx("div",{className:"animate-pulse text-slate-400 px-6 py-2",children:`Loading ${f}...`})]})),R2=({children:e,className:t,hideBoxBg:n})=>n?l.jsx(l.Fragment,{children:e}):l.jsx("div",{className:`w-full md:w-[28rem] rounded-md shadow-lg border min-h-[28rem] border-slate-200 bg-white flex flex-col mb-[1px] relative ${t}`,children:e}),rK=({backAction:e,isBackClose:t})=>e?l.jsx("div",{className:"pt-1 px-6 ",children:l.jsx("button",{id:"filter-back-button",className:"text-green-600 text-sm font-semibold mb-2",onClick:e,"data-testid":"filter-panel-back",children:t?"Close":" Back"})}):null,Bl=e=>l.jsx(l.Fragment,{children:l.jsxs(R2,{className:e.className,hideBoxBg:e.hideBoxBg,children:[!e.hideTopControls&&l.jsx(rK,{...e,isBackClose:(e.selectedItemKeys??[]).length>0}),l.jsx(XY,{...e}),l.jsx(JY,{...e}),l.jsx(iK,{...e}),e.append??null]})});function wDe({slugs:e}){const t=Rt(),n=new URLSearchParams(t.search);return n.forEach((s,i)=>{i.startsWith("tec")&&n.delete(i)}),e.map(s=>n.append("f",s)),l.jsx("div",{className:"mt-3",children:l.jsx(Re,{doNotPassQuery:!0,to:`${t.pathname}?${n.toString()}`,className:"text-green-600 hover:text-green-700 text-sm font-semibold",onClick:()=>{setTimeout(()=>{document.querySelector("#job-function").click()},500)},children:"Customise selection "})})}const CDe=()=>{const{organizationId:e}=He(),{data:t,isLoading:n,isPlaceholderData:s}=tm({organization_slug:e??""});return n||!t||!t.tech_job_functions||t.tech_job_functions.length===0?null:l.jsxs("div",{className:"bg-white text-slate-800 border border-slate-200 mt-1 rounded-md px-6 py-4 relative z-50 shadow-lg",children:[l.jsxs("div",{className:"text-sm font-semibold text-slate-500 pb-3",children:["Inferring ",t.tech_job_functions.length," job functions from selected techs"]}),l.jsx("div",{className:"flex flex-wrap flex-row gap-2",children:t.tech_job_functions.map(i=>l.jsx("div",{className:"text-[0.9rem] bg-blue-100 text-blue-900 rounded-full px-2",children:i.name},i.id))}),l.jsx(wDe,{slugs:t.tech_job_functions.map(i=>i.name)}),s&&l.jsx("div",{className:"absolute inset-0 rounded-md bg-white/90"})]})},MDe=({setTab:e})=>{es("left",()=>{document.getElementById("tab-Individual Techs")?.focus(),e("Individual Techs")},{scopes:["filters"]},[]),es("right",()=>{document.getElementById("tab-Tech Categories")?.focus(),e("Tech Categories")},{scopes:["filters"]}),es("down",t=>{const n=t.target;n?.id==="filter-back-button"&&document.getElementById("filter-panel-search")?.focus(),n?.id==="filter-panel-search"&&document.getElementById("tab-Individual Techs")?.focus(),(n?.id==="tab-Individual Techs"||n?.id==="tab-Tech Categories")&&document.querySelector(".filter-panel-items button")?.focus()},{enableOnFormTags:!0,scopes:["filters"]}),es("up",t=>{const n=t.target;n?.id==="filter-panel-search"&&document.getElementById("filter-back-button")?.focus(),n?.classList.contains("filter-tab")&&document.querySelector(".filter-panel-search")?.focus(),n?.tagName==="BUTTON"&&n.parentElement?.classList.contains("filter-panel-items")&&n.parentElement?.firstElementChild===t.target&&document.getElementById("tab-Individual Techs")?.focus()},{enableOnFormTags:!0,scopes:["filters"]})},rx=w.createContext("job_or_person"),jDe=(e,t,n)=>{const{organizationId:s}=He(),i=w.use(rx),{data:r,isLoading:a,isFetching:o}=s?Ppe({q:t,organization_slug:s,count_type:i}):gg(t?{q:t,count_type:i}:{count_type:i}),{data:c,isLoading:u,isFetching:h}=$0({}),f=w.useMemo(()=>c?.technology_categories?c.technology_categories.filter(M=>!t||M.name.toLowerCase().includes(t.toLowerCase())||M.techs.some(T=>T.name.toLowerCase().includes(t.toLowerCase()))):[],[c,t]),{data:g,isFetching:m}=gg({slugs:n.filter(M=>M.field!=="technology_category").map(M=>M.slug),fetching_selected_technologies:!0}),y=n.filter(M=>M.field==="technology_category").map(M=>M.slug),S=(c?.technology_categories??[]).filter(M=>y.includes(M.slug)),C=f.map(M=>({...M,information:M.techs.map(N=>N.name).join(", ")}));return{availItems:e==="Individual Techs"?r?.technologies||[]:C,isLoading:e==="Individual Techs"?a||o:u||h,allItems:[...g?.technologies||[],...S||[]],isLoadingSelected:m,counts:{"Individual Techs":r?.results_count||0,"Tech Categories":f?.length||0},resultSizes:{"Individual Techs":r?.technologies?.length||0,"Tech Categories":f?.length||0},count_type:i}},NDe=()=>{const e=w.useRef(null),[t,n]=w.useState(""),[s,i]=w.useState("");return CG(()=>{i(t)},500,[t]),w.useEffect(()=>{e.current&&(e.current.scrollTop=0)},[t]),{searchTerm:t,setSearchTerm:n,debouncedSearchTerm:s,scrollRef:e}},ADe=["Individual Techs","Tech Categories"],TDe={"Individual Techs":{itemCountKey:"count",itemKeyKey:"slug",itemNameKey:"name",field:"technology",getCountName:e=>e==="person"?"person":e==="job"?"job":"org",getCountPlural:e=>e==="person"?"people":e==="job"?"jobs":"orgs"},"Tech Categories":{itemCountKey:"count",itemKeyKey:"slug",itemNameKey:"name",field:"technology_category",getCountName:()=>"tech",getCountPlural:()=>"techs"}},EDe=e=>l.jsx(DDe,{...e}),DDe=({allowExclude:e,backAction:t,toggleAction:n,resetAction:s,selectedItems:i})=>{const[r,a]=w.useState(sessionStorage.getItem("filterTab")??"Individual Techs"),{pathname:o}=Rt(),{searchTerm:c,setSearchTerm:u,debouncedSearchTerm:h}=NDe(),f=jDe(r,h,i),g=TDe[r];MDe({setTab:a}),w.useEffect(()=>{sessionStorage.setItem("filterTab",r)},[r]);const y={allItems:f.allItems,allowExclude:e,backAction:t,hideTopControls:!0,hideBoxBg:!0,noItemSelectedText:"No techs selected",resetFunction:s,searchFunction:u,searchPlaceholder:"Find a technology",searchValue:c,selectedClass:"bg-green-100 text-green-800 hover:bg-green-200 hover:text-green-800",selectedItemKeys:i,title:"technologies",toggleItem:n,isLoadingSelected:f.isLoadingSelected,availItems:f.availItems,isLoading:f.isLoading||c!==h,itemCountKey:"count",itemKeyKey:"slug",itemNameKey:"name",itemCountName:g.getCountName(f.count_type),itemCountPlural:g.getCountPlural(f.count_type)};return l.jsxs(l.Fragment,{children:[l.jsxs(R2,{children:[l.jsx(rK,{backAction:t,isBackClose:(i??[]).length>0}),l.jsx(XY,{...y,className:"-mt-2"}),l.jsx(JY,{...y,className:"border-none pt-2 pb-1"}),l.jsx("div",{className:"flex flex-row px-3 border-b border-slate-200",children:ADe.map(b=>{const S=b===r;return l.jsxs("button",{id:`tab-${b}`,className:`pr-3 flex flex-row justify-between items-center filter-tab py-2 relative top-px rounded-t-md border-slate-200 border flex-1 text-left pl-3 font-semibold ${S?"text-green-600 border-slate-200 border-b-white":"border-white border-b-slate-200 text-slate-400"}`,onClick:()=>a(b),children:[l.jsx("div",{children:b}),l.jsx("div",{className:"text-sm text-slate-300",children:f.isLoading?Yr({}):f.counts[b]>0&&Lx(f.counts[b])})]},b)})}),l.jsxs(l.Fragment,{children:[f.availItems&&f.availItems.length===0&&!f.isLoading&&l.jsxs("div",{className:"text-center text-slate-500 py-2",children:["No matching technologies found"," "]}),l.jsx(iK,{...y,fieldType:g.field,selectedItemKeys:i.filter(b=>r==="Tech Categories"&&b.field==="technology_category"||r!=="Tech Categories"&&b.field!=="technology_category"),toggleItem:(b,S)=>n(b,S,g.field),allowExclude:e&&r==="Individual Techs"}),l.jsx("div",{className:"text-sm text-slate-300 text-center",children:f.counts[r]>f.resultSizes[r]&&"+"+Lx(f.counts[r]-f.resultSizes[r])+" more. Narrow your results with a search."})]})]}),/^\/orgs\/[^/]+\/people$/.test(o)&&l.jsx(CDe,{})]})};function Hc(e){return Array.isArray?Array.isArray(e):lK(e)==="[object Array]"}function kDe(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function IDe(e){return e==null?"":kDe(e)}function bl(e){return typeof e=="string"}function aK(e){return typeof e=="number"}function LDe(e){return e===!0||e===!1||ODe(e)&&lK(e)=="[object Boolean]"}function oK(e){return typeof e=="object"}function ODe(e){return oK(e)&&e!==null}function da(e){return e!=null}function xT(e){return!e.trim().length}function lK(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const RDe="Incorrect 'index' type",_De=e=>`Invalid value for key ${e}`,PDe=e=>`Pattern length exceeds max of ${e}.`,zDe=e=>`Missing ${e} property in key`,FDe=e=>`Property 'weight' in key '${e}' must be a positive integer`,U7=Object.prototype.hasOwnProperty;class $De{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(s=>{let i=cK(s);this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(s=>{s.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function cK(e){let t=null,n=null,s=null,i=1,r=null;if(bl(e)||Hc(e))s=e,t=H7(e),n=vD(e);else{if(!U7.call(e,"name"))throw new Error(zDe("name"));const a=e.name;if(s=a,U7.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(FDe(a));t=H7(a),n=vD(a),r=e.getFn}return{path:t,id:n,weight:i,src:s,getFn:r}}function H7(e){return Hc(e)?e:e.split(".")}function vD(e){return Hc(e)?e.join("."):e}function BDe(e,t){let n=[],s=!1;const i=(r,a,o)=>{if(da(r))if(!a[o])n.push(r);else{let c=a[o];const u=r[c];if(!da(u))return;if(o===a.length-1&&(bl(u)||aK(u)||LDe(u)))n.push(IDe(u));else if(Hc(u)){s=!0;for(let h=0,f=u.length;h<f;h+=1)i(u[h],a,o+1)}else a.length&&i(u,a,o+1)}};return i(e,bl(t)?t.split("."):t,0),s?n:n[0]}const VDe={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},UDe={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},HDe={location:0,threshold:.6,distance:100},GDe={useExtendedSearch:!1,getFn:BDe,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Nt={...UDe,...VDe,...HDe,...GDe};const WDe=/[^ ]+/g;function YDe(e=1,t=3){const n=new Map,s=Math.pow(10,t);return{get(i){const r=i.match(WDe).length;if(n.has(r))return n.get(r);const a=1/Math.pow(r,.5*e),o=parseFloat(Math.round(a*s)/s);return n.set(r,o),o},clear(){n.clear()}}}class FL{constructor({getFn:t=Nt.getFn,fieldNormWeight:n=Nt.fieldNormWeight}={}){this.norm=YDe(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,bl(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();bl(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!da(t)||xT(t))return;let s={v:t,i:n,n:this.norm.get(t)};this.records.push(s)}_addObject(t,n){let s={i:n,$:{}};this.keys.forEach((i,r)=>{let a=i.getFn?i.getFn(t):this.getFn(t,i.path);if(da(a)){if(Hc(a)){let o=[];const c=[{nestedArrIndex:-1,value:a}];for(;c.length;){const{nestedArrIndex:u,value:h}=c.pop();if(da(h))if(bl(h)&&!xT(h)){let f={v:h,i:u,n:this.norm.get(h)};o.push(f)}else Hc(h)&&h.forEach((f,g)=>{c.push({nestedArrIndex:g,value:f})})}s.$[r]=o}else if(bl(a)&&!xT(a)){let o={v:a,n:this.norm.get(a)};s.$[r]=o}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function uK(e,t,{getFn:n=Nt.getFn,fieldNormWeight:s=Nt.fieldNormWeight}={}){const i=new FL({getFn:n,fieldNormWeight:s});return i.setKeys(e.map(cK)),i.setSources(t),i.create(),i}function KDe(e,{getFn:t=Nt.getFn,fieldNormWeight:n=Nt.fieldNormWeight}={}){const{keys:s,records:i}=e,r=new FL({getFn:t,fieldNormWeight:n});return r.setKeys(s),r.setIndexRecords(i),r}function O1(e,{errors:t=0,currentLocation:n=0,expectedLocation:s=0,distance:i=Nt.distance,ignoreLocation:r=Nt.ignoreLocation}={}){const a=t/e.length;if(r)return a;const o=Math.abs(s-n);return i?a+o/i:o?1:a}function qDe(e=[],t=Nt.minMatchCharLength){let n=[],s=-1,i=-1,r=0;for(let a=e.length;r<a;r+=1){let o=e[r];o&&s===-1?s=r:!o&&s!==-1&&(i=r-1,i-s+1>=t&&n.push([s,i]),s=-1)}return e[r-1]&&r-s>=t&&n.push([s,r-1]),n}const Dh=32;function ZDe(e,t,n,{location:s=Nt.location,distance:i=Nt.distance,threshold:r=Nt.threshold,findAllMatches:a=Nt.findAllMatches,minMatchCharLength:o=Nt.minMatchCharLength,includeMatches:c=Nt.includeMatches,ignoreLocation:u=Nt.ignoreLocation}={}){if(t.length>Dh)throw new Error(PDe(Dh));const h=t.length,f=e.length,g=Math.max(0,Math.min(s,f));let m=r,y=g;const b=o>1||c,S=b?Array(f):[];let C;for(;(C=e.indexOf(t,y))>-1;){let L=O1(t,{currentLocation:C,expectedLocation:g,distance:i,ignoreLocation:u});if(m=Math.min(L,m),y=C+h,b){let I=0;for(;I<h;)S[C+I]=1,I+=1}}y=-1;let M=[],N=1,T=h+f;const E=1<<h-1;for(let L=0;L<h;L+=1){let I=0,_=T;for(;I<_;)O1(t,{errors:L,currentLocation:g+_,expectedLocation:g,distance:i,ignoreLocation:u})<=m?I=_:T=_,_=Math.floor((T-I)/2+I);T=_;let F=Math.max(1,g-_+1),G=a?f:Math.min(g+_,f)+h,U=Array(G+2);U[G+1]=(1<<L)-1;for(let z=G;z>=F;z-=1){let $=z-1,P=n[e.charAt($)];if(b&&(S[$]=+!!P),U[z]=(U[z+1]<<1|1)&P,L&&(U[z]|=(M[z+1]|M[z])<<1|1|M[z+1]),U[z]&E&&(N=O1(t,{errors:L,currentLocation:$,expectedLocation:g,distance:i,ignoreLocation:u}),N<=m)){if(m=N,y=$,y<=g)break;F=Math.max(1,2*g-y)}}if(O1(t,{errors:L+1,currentLocation:g,expectedLocation:g,distance:i,ignoreLocation:u})>m)break;M=U}const k={isMatch:y>=0,score:Math.max(.001,N)};if(b){const L=qDe(S,o);L.length?c&&(k.indices=L):k.isMatch=!1}return k}function QDe(e){let t={};for(let n=0,s=e.length;n<s;n+=1){const i=e.charAt(n);t[i]=(t[i]||0)|1<<s-n-1}return t}const mw=String.prototype.normalize?(e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,"")):(e=>e);class dK{constructor(t,{location:n=Nt.location,threshold:s=Nt.threshold,distance:i=Nt.distance,includeMatches:r=Nt.includeMatches,findAllMatches:a=Nt.findAllMatches,minMatchCharLength:o=Nt.minMatchCharLength,isCaseSensitive:c=Nt.isCaseSensitive,ignoreDiacritics:u=Nt.ignoreDiacritics,ignoreLocation:h=Nt.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:i,includeMatches:r,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:h},t=c?t:t.toLowerCase(),t=u?mw(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const f=(m,y)=>{this.chunks.push({pattern:m,alphabet:QDe(m),startIndex:y})},g=this.pattern.length;if(g>Dh){let m=0;const y=g%Dh,b=g-y;for(;m<b;)f(this.pattern.substr(m,Dh),m),m+=Dh;if(y){const S=g-Dh;f(this.pattern.substr(S),S)}}else f(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:s,includeMatches:i}=this.options;if(t=n?t:t.toLowerCase(),t=s?mw(t):t,this.pattern===t){let b={isMatch:!0,score:0};return i&&(b.indices=[[0,t.length-1]]),b}const{location:r,distance:a,threshold:o,findAllMatches:c,minMatchCharLength:u,ignoreLocation:h}=this.options;let f=[],g=0,m=!1;this.chunks.forEach(({pattern:b,alphabet:S,startIndex:C})=>{const{isMatch:M,score:N,indices:T}=ZDe(t,b,S,{location:r+C,distance:a,threshold:o,findAllMatches:c,minMatchCharLength:u,includeMatches:i,ignoreLocation:h});M&&(m=!0),g+=N,M&&T&&(f=[...f,...T])});let y={isMatch:m,score:m?g/this.chunks.length:1};return m&&i&&(y.indices=f),y}}class kd{constructor(t){this.pattern=t}static isMultiMatch(t){return G7(t,this.multiRegex)}static isSingleMatch(t){return G7(t,this.singleRegex)}search(){}}function G7(e,t){const n=e.match(t);return n?n[1]:null}class XDe extends kd{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class JDe extends kd{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const s=t.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,t.length-1]}}}class eke extends kd{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class tke extends kd{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class nke extends kd{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class ske extends kd{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class hK extends kd{constructor(t,{location:n=Nt.location,threshold:s=Nt.threshold,distance:i=Nt.distance,includeMatches:r=Nt.includeMatches,findAllMatches:a=Nt.findAllMatches,minMatchCharLength:o=Nt.minMatchCharLength,isCaseSensitive:c=Nt.isCaseSensitive,ignoreDiacritics:u=Nt.ignoreDiacritics,ignoreLocation:h=Nt.ignoreLocation}={}){super(t),this._bitapSearch=new dK(t,{location:n,threshold:s,distance:i,includeMatches:r,findAllMatches:a,minMatchCharLength:o,isCaseSensitive:c,ignoreDiacritics:u,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class fK extends kd{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,s;const i=[],r=this.pattern.length;for(;(s=t.indexOf(this.pattern,n))>-1;)n=s+r,i.push([s,n-1]);const a=!!i.length;return{isMatch:a,score:a?0:1,indices:i}}}const SD=[XDe,fK,eke,tke,ske,nke,JDe,hK],W7=SD.length,ike=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,rke="|";function ake(e,t={}){return e.split(rke).map(n=>{let s=n.trim().split(ike).filter(r=>r&&!!r.trim()),i=[];for(let r=0,a=s.length;r<a;r+=1){const o=s[r];let c=!1,u=-1;for(;!c&&++u<W7;){const h=SD[u];let f=h.isMultiMatch(o);f&&(i.push(new h(f,t)),c=!0)}if(!c)for(u=-1;++u<W7;){const h=SD[u];let f=h.isSingleMatch(o);if(f){i.push(new h(f,t));break}}}return i})}const oke=new Set([hK.type,fK.type]);class lke{constructor(t,{isCaseSensitive:n=Nt.isCaseSensitive,ignoreDiacritics:s=Nt.ignoreDiacritics,includeMatches:i=Nt.includeMatches,minMatchCharLength:r=Nt.minMatchCharLength,ignoreLocation:a=Nt.ignoreLocation,findAllMatches:o=Nt.findAllMatches,location:c=Nt.location,threshold:u=Nt.threshold,distance:h=Nt.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:s,includeMatches:i,minMatchCharLength:r,findAllMatches:o,ignoreLocation:a,location:c,threshold:u,distance:h},t=n?t:t.toLowerCase(),t=s?mw(t):t,this.pattern=t,this.query=ake(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:i,ignoreDiacritics:r}=this.options;t=i?t:t.toLowerCase(),t=r?mw(t):t;let a=0,o=[],c=0;for(let u=0,h=n.length;u<h;u+=1){const f=n[u];o.length=0,a=0;for(let g=0,m=f.length;g<m;g+=1){const y=f[g],{isMatch:b,indices:S,score:C}=y.search(t);if(b){if(a+=1,c+=C,s){const M=y.constructor.type;oke.has(M)?o=[...o,...S]:o.push(S)}}else{c=0,a=0,o.length=0;break}}if(a){let g={isMatch:!0,score:c/a};return s&&(g.indices=o),g}}return{isMatch:!1,score:1}}}const wD=[];function cke(...e){wD.push(...e)}function CD(e,t){for(let n=0,s=wD.length;n<s;n+=1){let i=wD[n];if(i.condition(e,t))return new i(e,t)}return new dK(e,t)}const yw={AND:"$and",OR:"$or"},MD={PATH:"$path",PATTERN:"$val"},jD=e=>!!(e[yw.AND]||e[yw.OR]),uke=e=>!!e[MD.PATH],dke=e=>!Hc(e)&&oK(e)&&!jD(e),Y7=e=>({[yw.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function pK(e,t,{auto:n=!0}={}){const s=i=>{let r=Object.keys(i);const a=uke(i);if(!a&&r.length>1&&!jD(i))return s(Y7(i));if(dke(i)){const c=a?i[MD.PATH]:r[0],u=a?i[MD.PATTERN]:i[c];if(!bl(u))throw new Error(_De(c));const h={keyId:vD(c),pattern:u};return n&&(h.searcher=CD(u,t)),h}let o={children:[],operator:r[0]};return r.forEach(c=>{const u=i[c];Hc(u)&&u.forEach(h=>{o.children.push(s(h))})}),o};return jD(e)||(e=Y7(e)),s(e)}function hke(e,{ignoreFieldNorm:t=Nt.ignoreFieldNorm}){e.forEach(n=>{let s=1;n.matches.forEach(({key:i,norm:r,score:a})=>{const o=i?i.weight:null;s*=Math.pow(a===0&&o?Number.EPSILON:a,(o||1)*(t?1:r))}),n.score=s})}function fke(e,t){const n=e.matches;t.matches=[],da(n)&&n.forEach(s=>{if(!da(s.indices)||!s.indices.length)return;const{indices:i,value:r}=s;let a={indices:i,value:r};s.key&&(a.key=s.key.src),s.idx>-1&&(a.refIndex=s.idx),t.matches.push(a)})}function pke(e,t){t.score=e.score}function gke(e,t,{includeMatches:n=Nt.includeMatches,includeScore:s=Nt.includeScore}={}){const i=[];return n&&i.push(fke),s&&i.push(pke),e.map(r=>{const{idx:a}=r,o={item:t[a],refIndex:a};return i.length&&i.forEach(c=>{c(r,o)}),o})}class gf{constructor(t,n={},s){this.options={...Nt,...n},this.options.useExtendedSearch,this._keyStore=new $De(this.options.keys),this.setCollection(t,s)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof FL))throw new Error(RDe);this._myIndex=n||uK(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){da(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let s=0,i=this._docs.length;s<i;s+=1){const r=this._docs[s];t(r,s)&&(this.removeAt(s),s-=1,i-=1,n.push(r))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:s,includeScore:i,shouldSort:r,sortFn:a,ignoreFieldNorm:o}=this.options;let c=bl(t)?bl(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return hke(c,{ignoreFieldNorm:o}),r&&c.sort(a),aK(n)&&n>-1&&(c=c.slice(0,n)),gke(c,this._docs,{includeMatches:s,includeScore:i})}_searchStringList(t){const n=CD(t,this.options),{records:s}=this._myIndex,i=[];return s.forEach(({v:r,i:a,n:o})=>{if(!da(r))return;const{isMatch:c,score:u,indices:h}=n.searchIn(r);c&&i.push({item:r,idx:a,matches:[{score:u,value:r,norm:o,indices:h}]})}),i}_searchLogical(t){const n=pK(t,this.options),s=(o,c,u)=>{if(!o.children){const{keyId:f,searcher:g}=o,m=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:g});return m&&m.length?[{idx:u,item:c,matches:m}]:[]}const h=[];for(let f=0,g=o.children.length;f<g;f+=1){const m=o.children[f],y=s(m,c,u);if(y.length)h.push(...y);else if(o.operator===yw.AND)return[]}return h},i=this._myIndex.records,r={},a=[];return i.forEach(({$:o,i:c})=>{if(da(o)){let u=s(n,o,c);u.length&&(r[c]||(r[c]={idx:c,item:o,matches:[]},a.push(r[c])),u.forEach(({matches:h})=>{r[c].matches.push(...h)}))}}),a}_searchObjectList(t){const n=CD(t,this.options),{keys:s,records:i}=this._myIndex,r=[];return i.forEach(({$:a,i:o})=>{if(!da(a))return;let c=[];s.forEach((u,h)=>{c.push(...this._findMatches({key:u,value:a[h],searcher:n}))}),c.length&&r.push({idx:o,item:a,matches:c})}),r}_findMatches({key:t,value:n,searcher:s}){if(!da(n))return[];let i=[];if(Hc(n))n.forEach(({v:r,i:a,n:o})=>{if(!da(r))return;const{isMatch:c,score:u,indices:h}=s.searchIn(r);c&&i.push({score:u,key:t,value:r,idx:a,norm:o,indices:h})});else{const{v:r,n:a}=n,{isMatch:o,score:c,indices:u}=s.searchIn(r);o&&i.push({score:c,key:t,value:r,norm:a,indices:u})}return i}}gf.version="7.1.0";gf.createIndex=uK;gf.parseIndex=KDe;gf.config=Nt;gf.parseQuery=pK;cke(lke);const mke=e=>{const n=`/job_functions?${qr(e)}`;return nt({url:n,queryKey:["functionsList",n]})},yke=({allowExclude:e,backAction:t,toggleAction:n,resetAction:s,selectedItems:i,showCount:r})=>{const{organizationId:a}=He(),{data:o,isLoading:c}=mke({organization_slug:a});return l.jsx(gK,{allItems:o?.job_functions||[],allowExclude:e,backAction:t,toggleAction:n,itemNameKey:"job_function",itemKeyKey:"job_function",itemCountName:a===void 0?"org":"person",itemCountPlural:a===void 0?"orgs":"people",resetAction:s,isLoading:c,selectedItems:i,showCount:r})},gK=({allItems:e,allowExclude:t,backAction:n,isLoading:s,itemNameKey:i="name",itemKeyKey:r="name",itemCountName:a,itemCountPlural:o,toggleAction:c,resetAction:u,selectedItems:h,showCount:f})=>{const[g,m]=w.useState(""),y=new gf(e,{keys:["job_function"],threshold:.2,useExtendedSearch:!0}),b=g!==""?y.search(g.split(" ").map(S=>S!==""?`'${S}`:"").join(" ").trim()).map(S=>S.item):e;return l.jsx(Bl,{allItems:e,allowExclude:t,availItems:b||[],backAction:n,selectedItemKeys:h,toggleItem:c,itemNameKey:i,itemCountKey:f?"count":void 0,itemCountName:a??"person",itemCountPlural:o??"people",itemKeyKey:r,title:"job functions",noItemSelectedText:"No job functions selected",searchPlaceholder:"Find a job function",resetFunction:u,isLoading:s,searchFunction:m,searchValue:g,selectedClass:"bg-blue-100 text-blue-800 hover:bg-blue-200 hover:text-blue-800"})},mK=({allItems:e,allowExclude:t,backAction:n,className:s,isLoading:i,resetAction:r,selectedItems:a,toggleAction:o})=>{const[c,u]=w.useState(""),{data:h,isLoading:f}=zG(),m=(e??h)?.sort((S,C)=>S.count&&C.count?C.count-S.count:S.name.localeCompare(C.name)),y=i||f,b=c&&c!==""?m?.filter(S=>(((S.name?.toLowerCase().includes(c.toLowerCase())??!1)||S.code?.toLowerCase().includes(c.toLowerCase()))??!1)||""):m;return l.jsx(Bl,{availItems:b||[],allItems:m||[],allowExclude:t,backAction:n,className:s,selectedItemKeys:a,toggleItem:o,itemCountKey:"count",itemCountName:e&&e.length>0?"person":"job",itemCountPlural:e&&e.length>0?"people":"jobs",itemNameKey:"name",itemKeyKey:"code",title:"countries",noItemSelectedText:"No countries selected",searchPlaceholder:"Find a country",resetFunction:r,isLoading:y,searchFunction:u,searchValue:c})},xke=({allItems:e,isLoading:t})=>{const{locations:n,toggleLocation:s,resetLocation:i}=ze();return l.jsx(mK,{allItems:e,isLoading:t,resetAction:i,toggleAction:s,showCount:!0,selectedItems:n?.map(r=>({slug:r,type:"include"}))??[]})},bke=({allowExclude:e,backAction:t,className:n,toggleAction:s,resetAction:i,selectedItems:r})=>{const[a,o]=w.useState(""),{data:c,isLoading:u}=BY(),h=a.toLowerCase(),f=a!==""?c?.filter(g=>{const m=(g.name?.toLowerCase().includes(h)??!1)||(g.code?.toLowerCase().includes(h)??!1)||"",y=g.children?.filter(b=>b.name?.toLowerCase().includes(h)||"");return m||y&&y.length}).map(g=>{const m=g.children?.filter(y=>y.name?.toLowerCase().includes(h)||"");return m?.length?{...g,children:m}:g}):c;return l.jsx(Bl,{availItems:f||[],allItems:c||[],allowExclude:e,backAction:t,className:n,selectedItemKeys:r,toggleItem:s,itemNameKey:"name",itemCountKey:"count",itemCountName:"org",itemKeyKey:"code",title:"HQ locations",noItemSelectedText:"No HQ locations selected",searchPlaceholder:"Find a HQ location",resetFunction:i,isLoading:u,searchFunction:o,searchValue:a})},vke=[{name:"In the last month",slug:"1mo"},{name:"In the last 3 months",slug:"3mo"},{name:"In the last 6 months",slug:"6mo"},{name:"In the last year",slug:"1yr"},{name:"In the last 18 months",slug:"18mo"},{name:"In the last 2 years",slug:"2yr"}],Ske=({allowExclude:e,backAction:t,toggleAction:n,resetAction:s,selectedItems:i})=>{const r=vke;return l.jsx(Bl,{allItems:r,allowExclude:e,backAction:t,availItems:r,hideFilterText:"Show me organizations/teams hiring:",selectedItemKeys:i,toggleItem:n,itemNameKey:"name",itemCountKey:void 0,itemKeyKey:"slug",title:"hiring",noItemSelectedText:"No hiring period selected",searchPlaceholder:"Find a hiring period",resetFunction:s,isLoading:!1})},wke=()=>nt({url:"/employee_counts",queryKey:["employeeCounts","/employee_counts"]}),Cke=({allowExclude:e,backAction:t,toggleAction:n,resetAction:s,selectedItems:i})=>{const{data:r,isLoading:a}=wke(),c=r?.employee_counts?.map(u=>({count:u}))||[];return l.jsx(Bl,{allItems:c,allowExclude:e,backAction:t,availItems:c,hideFilterText:"Select headcounts:",selectedItemKeys:i,toggleItem:n,itemNameKey:"count",itemCountKey:void 0,itemKeyKey:"count",title:"headcounts",noItemSelectedText:"No headcounts selected",searchPlaceholder:"Find a headcount",resetFunction:s,isLoading:a})},Mke=({allowExclude:e,backAction:t,toggleAction:n,resetAction:s,selectedItems:i})=>{const[r,a]=w.useState(""),{data:o,isLoading:c}=VY(),u=r!==""?o?.industries.filter(h=>h.industry.toLowerCase().includes(r.toLowerCase())):o?.industries;return l.jsx(Bl,{allItems:o?.industries||[],allowExclude:e,availItems:u||[],backAction:t,selectedItemKeys:i,toggleItem:n,itemNameKey:"industry",itemKeyKey:"industry",title:"industries",noItemSelectedText:"No industries selected",searchPlaceholder:"Find an industry",resetFunction:s,isLoading:c,searchFunction:a,searchValue:r})},yK=[{name:"Board Member",level_rank:0,count:0},{name:"CXO",level_rank:0,count:0},{name:"EVP",level_rank:0,count:0},{name:"CVP",level_rank:0,count:0},{name:"SVP",level_rank:0,count:0},{name:"VP",level_rank:0,count:0},{name:"RVP",level_rank:0,count:0},{name:"AVP",level_rank:0,count:0},{name:"Executive Director",level_rank:0,count:0},{name:"Senior Director",level_rank:0,count:0},{name:"Director",level_rank:0,count:0},{name:"General Manager",level_rank:0,count:0},{name:"Head",level_rank:0,count:0},{name:"Associate Director",level_rank:0,count:0},{name:"Senior Manager",level_rank:0,count:0},{name:"Manager",level_rank:0,count:0},{name:"Principal",level_rank:0,count:0},{name:"Lead",level_rank:0,count:0},{name:"Senior",level_rank:0,count:0},{name:"Individual Contributor",level_rank:0,count:0}],xK=({allItems:e,isLoading:t,allowExclude:n,backAction:s,toggleAction:i,resetAction:r,selectedItems:a,showCount:o})=>{const[c,u]=w.useState(""),h=e&&e.length>0?e:yK,f=c!==""?h?.filter(g=>g.name.toLowerCase().includes(c.toLowerCase())):h;return l.jsx(Bl,{allItems:h.sort((g,m)=>m.level_rank-g.level_rank)||[],allowExclude:n,availItems:f||[],backAction:s,selectedItemKeys:a,toggleItem:i,itemNameKey:"name",itemCountKey:o?"count":void 0,itemCountName:e&&e.length>0?"person ":"job",itemCountPlural:e&&e.length>0?"people ":"jobs",itemKeyKey:"name",title:"levels",noItemSelectedText:"No levels selected",searchPlaceholder:"Find a level",resetFunction:r,isLoading:t||!1,searchFunction:u,searchValue:c,selectedClass:"bg-blue-100 text-blue-800 hover:bg-blue-200 hover:text-blue-800"})},jke=({allItems:e,allowExclude:t,isLoading:n,showCount:s=!0})=>{const{levels:i,toggleLevel:r,resetLevel:a,excludeLevels:o,toggleExcludeLevel:c,resetExcludeLevel:u}=ze(),h=(f,g)=>{g?c(f):r(f)};return l.jsx(xK,{allowExclude:t,allItems:e||void 0,isLoading:n??!1,resetAction:()=>{a(),u()},toggleAction:h,selectedItems:[...(i??[]).map(f=>({slug:f,type:"include"})),...(o??[]).map(f=>({slug:f,type:"exclude"}))],showCount:s})},Nke=({backAction:e,allowExclude:t,toggleAction:n,resetAction:s,selectedItems:i})=>{const[r,a]=w.useState(""),{data:o,isLoading:c}=Gg(),u=r!==""?o?.tags.filter(h=>h.name.toLowerCase().includes(r.toLowerCase())):o?.tags;return l.jsx(Bl,{allItems:o?.tags||[],allowExclude:t,availItems:u||[],backAction:e,selectedItemKeys:i,toggleItem:n,itemNameKey:"name",itemKeyKey:"slug",title:"tags",noItemSelectedText:"No org attributes selected",searchPlaceholder:"Find an org attribute",resetFunction:s,isLoading:c,searchFunction:a,searchValue:r})},$L=()=>nt({url:"/projects",queryKey:["projectsList"]}),Ake=({backAction:e,toggleAction:t,resetAction:n,selectedItems:s})=>{const[i,r]=w.useState(""),{data:a,isLoading:o}=$L(),c=i!==""?a?.projects.filter(u=>u.name.toLowerCase().includes(i.toLowerCase())):a?.projects;return l.jsx(Bl,{allItems:a?.projects||[],availItems:c||[],backAction:e,selectedItemKeys:s,toggleItem:t,itemNameKey:"name",fieldType:"project",itemKeyKey:"slug",title:"projects",noItemSelectedText:"No projects selected",searchPlaceholder:"Find a project",resetFunction:n,isLoading:o,searchFunction:r,searchValue:i})},K7=({allowExclude:e,backAction:t,label:n,selectedItems:s,toggleAction:i,selectedClass:r,resetAction:a})=>{const[o,c]=w.useState(""),u=h=>{h.preventDefault(),i(o),c("")};return l.jsxs(R2,{className:"h-auto",children:[l.jsx("div",{className:"pt-1 px-6",children:l.jsx("button",{className:"text-green-600 text-sm font-semibold mb-8 ",onClick:t,children:" Back"})}),l.jsx(QY,{items:s.map(h=>({key:h.slug,text:h.slug,type:h.type,action:()=>{i(h.slug)}})),resetFunction:()=>a(),noItemSelectedText:"No search terms",selectedClass:r,showEmpty:t===void 0}),l.jsxs("form",{onSubmit:u,className:`relative flex ${e?"flex-col":"flex-row"}  pt-4 pb-3`,children:[l.jsx("input",{type:"text",className:"flex-1 border-0 px-6 py-2 focus:ring-0 focus:outline-hidden placeholder-slate-400",value:o,onChange:h=>c(h.target.value),placeholder:`Search inside ${n}s`,autoFocus:!0,maxLength:50,minLength:3}),l.jsxs("div",{className:"flex flex-row gap-2",children:[l.jsx("button",{className:`text-green-600 ${e?"pl-6 pr-2":"px-6"} hover:text-green-800 cursor-pointer disabled:text-opacity-50`,disabled:o==="",type:"submit",children:e?"Include":"Add"}),e&&l.jsx("button",{className:"text-green-600 px-2 hover:text-green-800 cursor-pointer disabled:text-opacity-50",disabled:o==="",onClick:h=>{h.preventDefault(),i(o,!0),c("")},children:"Exclude"})]})]})]})},Tke=(e,t)=>{const n=Object.keys(e.fields);if(n.length===0)return 0;let s=0;return(Array.isArray(t)?t:[t]).forEach(r=>{n.forEach(a=>{if(a!==r)return;const o=e.fields[a];o&&(o.include&&(s+=o.include.length),o.exclude&&(s+=o.exclude.length))})}),s},bT=(e,t)=>{const n=Object.keys(e.fields);if(n.length===0)return[];let s=[];return n.forEach(i=>{if(i!==t)return;const r=e.fields[i];r&&(r.include&&(s=[...s,...r.include.map(a=>({slug:a,type:"include"}))]),r.exclude&&(s=[...s,...r.exclude.map(a=>({slug:a,type:"exclude"}))]))}),s},Fy={project:{text:"Project",type:"pick",level:["organization","job"],isProFilter:!0},job_title:{text:"Job title",type:"search",level:["organization","job"],isProFilter:!0},job_description:{text:"Job description",type:"search",level:["organization","job"],isProFilter:!0},technology:{text:"Technology",type:"pick",level:["organization","person","job","trend"],isProFilter:!1},job_function:{text:"Job function",type:"pick",level:["organization","person","job","trend"],isProFilter:!1},country:{text:"Hiring location",type:"pick",level:["organization","person","job"],isProFilter:!1},hiring_period:{text:"Hiring period",type:"pick",level:["organization","job"],isProFilter:!1},job_level:{text:"Job level",type:"pick",level:["organization","person","job"],isProFilter:!1},industry:{text:"Industry",type:"pick",level:["organization"],isProFilter:!1},tag:{text:"Org Attribute",type:"pick",level:["organization"],isProFilter:!1},hq_location:{text:"HQ location",type:"pick",level:["organization"],isProFilter:!1},employee_count:{text:"Headcount",type:"pick",level:["organization"],isProFilter:!1}},Ay={people:["person"],orgs:["person","job"],trend:["trend"],default:["person","job","organization"]},BL=()=>{const{pathname:e}=Rt(),t=w.useMemo(()=>{const i=e.replace(/\/$/,"").split("/").filter(Boolean),[r]=i;return i.includes("trends")?Ay.trend:r==="orgs"?i.length===1?Ay.default:Ay.orgs:r==="people"?Ay.people:Ay.default},[e]);return{levels:t,hasLevel:i=>t.includes(i),isFilterRelevant:i=>{const r=Fy[i];return!r?.level||!t?!0:r.level.some(a=>t.includes(a))}}},Eke=({onClick:e,itemKey:t,isProFilter:n,numberOfFilters:s,type:i,text:r,hideBorderLine:a=!1})=>l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:e,className:"px-6 py-2 w-full hover:bg-slate-100 flex flex-row items-center justify-between","data-testid":`select-filter-${t}`,children:[l.jsx("div",{className:`${s>0?"font-semibold":""}`,children:r}),l.jsxs("div",{className:"flex flex-row items-center gap-3",children:[n&&l.jsx(nK,{}),s>0?l.jsx("div",{className:"bg-green-600 text-white text-sm font-semibold items-center justify-center flex w-6 h-6 rounded-full",children:s}):l.jsx("div",{className:"w-6 text-slate-400 flex flex-row justify-center gap-4",children:i==="search"?l.jsx(Sx,{className:"h-5 w-5"}):l.jsx(qS,{className:"h-5 w-5"})})]})]}),t==="job_level"&&!a&&l.jsx("div",{className:"w-full h-px my-2 bg-slate-100"})]}),Dke=({allFilters:e,isFirstDropdown:t,removeGroup:n,group:s,setSelectedField:i})=>{const{levels:r}=BL(),a=r.length<3,o=Object.keys(e).filter(c=>{if(t&&(c==="technology"||c==="project"||c==="job_function"))return null;const u=e[c];return!u||r&&u.level&&!u.level.some(h=>r.includes(h))?null:c}).filter(c=>c!==null);return l.jsxs(R2,{className:"h-auto min-h-0!",children:[l.jsxs("div",{className:"px-6 py-2 text-sm text-slate-400 flex flex-row items-start justify-between",children:[l.jsx("div",{children:"Filter by"}),!t&&l.jsx("button",{onClick:n,className:"text-red-700 hover:text-red-500",children:"Remove filter"})]}),l.jsxs("div",{className:"mt-4 pb-3",children:[o.map(c=>{const u=Tke(s,c==="technology"?["technology","technology_category"]:c),h=e[c];return h?l.jsx(Eke,{onClick:()=>i(c),text:h.text,itemKey:c,isProFilter:h.isProFilter||!1,numberOfFilters:u,type:h.type,hideBorderLine:a},c):null}),o.length===0&&l.jsx("div",{className:"text-slate-400 px-6 py-3",children:"No additional filters available for this view"})]})]})},kke={technology:EDe,job_function:yke,industry:Mke,country:mK,hq_location:bke,employee_count:Cke,hiring_period:Ske,job_level:xK,tag:Nke,project:Ake,technology_category:()=>null,job_description:K7,job_title:K7},bK=({group:e,index:t,isFirstDropdown:n,openOn:s,removeGroup:i,closeGroup:r})=>{const[a,o]=w.useState(s??null),{toggleAdvField:c,resetAdvField:u}=ze();if(!a)return l.jsx(Dke,{allFilters:Fy,isFirstDropdown:n,removeGroup:i,group:e,setSelectedField:o,index:t});const h=kke[a];if(h){const f=a==="technology"?[...bT(e,a),...bT(e,"technology_category").map(g=>({...g,field:"technology_category"}))]:bT(e,a);return l.jsx("div",{children:l.jsx(h,{allowExclude:Fy[a]?.level?.length===1&&Fy[a]?.level[0]==="organization",backAction:()=>{(f??[]).length===0?o(null):(o(null),r())},label:Fy[a]?.text.toLowerCase()??"",resetAction:()=>{u(t,a),a==="technology"&&u(t,"technology_category")},toggleAction:(g,m,y)=>{c(t,y??a,m?"exclude":"include",g)},selectedItems:f})})}return null},Ike=({group:e})=>{const{isFilterRelevant:t}=BL(),n=[...e.fields.technology?.include??[],...e.fields.technology?.exclude??[]],{data:s}=gg({fetching_selected_technologies:!0,slugs:n}),{data:i,isLoading:r}=$L(),{data:a}=$0({}),{data:o,isLoading:c}=Gg(),u=a?.technology_categories??[],h=Object.keys(e.fields);if(h.length===0)return l.jsx("div",{className:"-ml-[0.15rem]",children:l.jsx(pg,{className:"h-6 w-6"})});let f=[];h.forEach(m=>{const y=e.fields[m],b=m==="technology",S=m==="project",C=m==="technology_category",M=m==="job_level",N=m==="tag",T=t(m);y&&(y.include&&(f=f.concat(y.include.map(E=>{let k;if(b)k=s?.technologies.find(I=>I.slug===E)?.name??di(E.replace(/-/g," "));else if(C)k=u?.find(I=>I.slug===E)?.name??di(E.replace(/-/g," "));else if(S)k=r?E:i?.projects.find(L=>L.slug===E)?.name??di(E.replace(/-/g," "));else if(M)k=E;else if(N){const L=o?.tagsDict[E];k=c?E:L?.name??di(E.replace(/-/g," "))}else k=E;return l.jsx("span",{className:T?"":"text-slate-300",children:k},`${m}-${E}`)}))),y.exclude&&(f=f.concat(y.exclude.map(E=>{let k;if(b)k=`-${s?.technologies.find(I=>I.slug===E)?.name??di(E.replace(/-/g," "))}`;else if(N){const L=o?.tagsDict[E];k=`-${c?E:L?.name??di(E.replace(/-/g," "))}`}else k=`-${E}`;return l.jsx("span",{className:T?"":"text-slate-300",children:k},`${m}-exclude-${E}`)}))))});const g=f.reduce((m,y,b)=>(b!==0&&m.push(l.jsx("span",{children:", "},`separator-${b}`)),m.push(l.jsx(Xe.Fragment,{children:y},b)),m),[]);return g.length>0?g:l.jsx(pg,{className:"h-6 w-auto"})},Lke=e=>{const t=Object.keys(e.fields);if(t.length===0)return;let n;return t.forEach(s=>{e.fields[s]&&(n=s)}),n},Oke=({group:e,index:t,isNotLast:n,parentOperator:s,removeGroup:i,startOpen:r})=>{const{floatingStyles:a,refs:o}=T0({placement:"bottom-start",strategy:"absolute",middleware:[Tk({allowedPlacements:["bottom-start","bottom-end"]})]}),{updateBaseOperator:c,toggleAdvGroupOperator:u}=ze(),[h,f]=w.useState(r!==null);es((t+1).toString(),()=>{f(!h)},{scopes:["filters"]}),es("esc",()=>{f(!1)},{enableOnFormTags:!0,scopes:["filters"]});const g=Object.values(e.fields).reduce((y,b)=>(b&&(y+=(b.include?b.include.length:0)+(b.exclude?b.exclude.length:0)),y),0)>1;w.useEffect(()=>{Object.keys(e.fields).length===0&&f(!0)},[]);const m=r==="TECH"?"technology":r==="PROJECT"?"project":r==="JF"?"job_function":r==="OTHER"?Lke(e):void 0;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative adv-group",children:[l.jsx(Ht,{className:"",description:"Edit filter",hotkey:(t+1).toString(),children:l.jsxs("button",{ref:o.setReference,className:`adv-group-edit-button ${h?"bg-slate-300":"bg-slate-200/80 hover:bg-slate-200/100"} p-1 px-4 h-[2.6rem] ${g?"pr-2":""} rounded-full flex flex-row gap-2 items-center`,onClick:()=>{f(!h)},children:[l.jsx("div",{className:"flex items-center justify-center max-w-[15rem] md:max-w-[20rem]",children:l.jsx("div",{className:"flex-1 truncate font-medium text-slate-700 filter-group-text","data-testid":"filter_groupname",children:l.jsx(Ike,{group:e})})}),g&&l.jsx("div",{className:"select-none p-2 py-[6px] bg-slate-100 hover:bg-white rounded-full text-xs font-semibold text-slate-500",onClick:y=>{y.stopPropagation(),u(t)},"data-testid":"filter-group",children:e.operator})]})}),h&&l.jsx(l.Fragment,{children:l.jsxs(zg,{id:"filters-portal",children:[l.jsx(Ek,{"data-testid":"filter-overlay",className:"bg-white/90 md:bg-white/30",onClick:()=>f(!1)}),l.jsx("div",{ref:o.setFloating,style:a,className:"md:mt-2 z-20 max-md:fixed max-md:left-4 max-md:top-[18rem] max-md:w-[calc(100vw-2rem)]",children:l.jsx(bK,{group:e,index:t,openOn:m,removeGroup:()=>{i(),f(!1)},closeGroup:()=>{f(!1)}})})]})})]}),n&&l.jsx("button",{className:"text-slate-400 text-xs font-semibold h-[2.6rem] w-7 select-none text-center cursor-pointer hover:text-slate-500",onClick:()=>{c(s==="AND"?"OR":"AND")},children:s})]})},Rke=()=>{const{data:e,isLoading:t}=qo(),n=e?.some(s=>s.organization_slugs.length>0);return!t&&!n},_ke=()=>{const{data:e,isLoading:t}=qo(),{orgLists:n,toggleOrgList:s,resetOrgLists:i}=ze(),[r,a]=w.useState(""),o=w.useMemo(()=>e?e.map(g=>({...g,string_id:g.id.toString(),orgs_count:g.organization_slugs.length})):[],[e]),c=w.useMemo(()=>(o??[]).filter(g=>g.name.toLowerCase().includes(r.toLowerCase())),[o,r]),u=w.useMemo(()=>{const g=new Map;return(o??[]).forEach(m=>g.set(m.string_id,m)),g},[o]),h=w.useMemo(()=>(n??[]).map(g=>({slug:u.get(g)?.string_id,type:"include"})),[n,u]),f=w.useCallback(g=>{g===null?i():s(g.toString())},[i,s]);return t||!o?l.jsx(l.Fragment,{}):l.jsx("div",{className:"",children:l.jsx(Bl,{append:l.jsxs("div",{className:"relative -top-[5px] px-6 flex flex-col gap-2 py-4 pb-1 border-t-2 border-slate-100 bg-white",children:[l.jsx("div",{children:l.jsx(Re,{doNotPassQuery:!0,to:"/upload",className:"gap-4 items-center bg-green-600 font-medium hover:bg-green-700 text-white rounded-md inline-block px-4 py-1.5",children:"Upload a CSV account list..."})}),l.jsx(zL,{to:"https://docs.sumble.com/web-application/account-lists",text:"What are account lists? How do I use them?",eventName:"account_lists_popover"})]}),allItems:o,availItems:c,filterType:"ACCOUNT_LIST",selectedItemKeys:h,toggleItem:f,itemNameKey:"name",itemCountKey:"orgs_count",itemCountName:"organization",itemCountPlural:"organizations",itemKeyKey:"string_id",noItemSelectedText:"Account Lists",resetFunction:i,searchPlaceholder:"Filter by Account Lists",searchFunction:a,searchValue:r,title:"Account Lists",isLoading:t})})},Pke=()=>{const{isOrgListsAnd:e,setIsOrgListsAnd:t}=ze();return l.jsx("button",{className:"select-none p-2 py-[6px] bg-slate-100 hover:bg-white rounded-full text-xs font-semibold text-slate-500",onClick:n=>{n.stopPropagation(),t(!e)},children:e?"AND":"OR"})},zke=()=>{const e=Qt(),{orgLists:t}=ze(),{data:n,isLoading:s}=qo(),i=Rke(),r=w.useMemo(()=>(t??[]).length>0,[t]),a=w.useMemo(()=>(t??[]).length,[t]),o=r&&(t??[]).length>1,c=w.useMemo(()=>s?"Loading":i?"Upload account list":r?n?.filter(u=>t?.includes(u.id?.toString()??"")).map(u=>u.name).join(", ")??"All Orgs":"All Orgs",[s,t,n]);return l.jsxs(gi,{children:[l.jsxs(qi,{className:` whitespace-nowrap font-medium adv-group-edit-button ${r?"bg-slate-200/80":"bg-slate-100"} hover:bg-slate-200/100 p-1 px-4 ${o?"pr-2":"pr-3"} ${i?"bg-green-100! hover:bg-green-200/75! text-green-800":""} ${s?"text-slate-300":""} h-[2.6rem] rounded-full flex flex-row gap-2 items-center focus:outline-0`,"data-testid":"account-list-filter-button",onClick:()=>{i&&e("/upload")},children:[r&&l.jsxs("div",{className:" rounded-full flex items-center justify-center text-slate-400",children:[a," list",a>1?"s":""]}),l.jsx("div",{className:"truncate max-w-[20rem]",children:c}),o?l.jsx(Pke,{}):i?l.jsx(Vk,{className:"h-4 w-4 text-green-800/40"}):l.jsx(Kr,{className:"h-4 w-4 text-slate-400"})]}),l.jsx(Ca,{anchor:"bottom start",className:"mt-2 w-full md:w-[28rem] rounded-md shadow-lg h-auto border-slate-200 bg-white flex flex-col mb-[1px] relative",children:l.jsx(_ke,{})}),l.jsx(Xw,{className:"fixed inset-0 max-md:backdrop-blur-lg bg-white/50 z-10"})]})},Fke=()=>{const{organizationId:e}=He();return!e},$ke=({startWithGroupOpen:e})=>{const{advSearch:t,removeAdvSearchGroup:n,addAdvSearchGroup:s}=ze(),i=t.children.slice(-1)[0],r=i&&Object.keys(i.fields).length===0,a=()=>{r?document.querySelectorAll(".adv-group")[document.querySelectorAll(".adv-group").length-1].querySelector(".adv-group-edit-button").click():s()};return es("0",()=>{a()},{scopes:["filters"]}),l.jsxs(l.Fragment,{children:[t.children.map((o,c)=>l.jsx(Oke,{group:o,index:c,isNotLast:c!==t.children.length-1,parentOperator:t.operator,removeGroup:()=>n(c),startOpen:c===0&&e?e:null},c)),l.jsx(Ht,{hotkey:"0",description:"Add another filter",children:l.jsx("button",{className:"text-green-600 hover:text-green-800 font-medium h-[2.6rem] flex flex-row items-center px-2 disabled:opacity-50 disabled:pointer-events-none select-none whitespace-nowrap",onClick:a,"data-testid":"add-filter-button",children:"+ Add filter"})})]})},R1=({className:e,initialOpenType:t,handleInitialOpen:n,type:s,tooltip:i,hotkey:r,label:a,openOn:o})=>{const{advSearch:c}=ze(),{floatingStyles:u,refs:h}=T0({placement:"bottom-start",strategy:"absolute",middleware:[Tk({allowedPlacements:["bottom-start","bottom-end"]})]});es(r,g=>{g.preventDefault(),n(s)}),es("esc",()=>{t&&n(null)},{enableOnFormTags:!0,scopes:["filters"]});const f=t===s&&c.children[0];return l.jsxs(Ht,{hotkey:f?void 0:r,description:f?void 0:i,children:[l.jsx("button",{"data-testid":s==="OTHER"?"add-filter-button":`select-filter-${s==="TECH"?"technology":s==="PROJECT"?"project":"job_function"}`,ref:h.setReference,onClick:()=>n(s),className:`h-[2.6rem] bg-slate-100 hover:bg-slate-200 px-4 md:px-5 flex flex-row items-center ${e}`,children:a}),f&&l.jsxs(zg,{id:"filters-portal",children:[l.jsx(Ek,{"data-testid":"filter-overlay",onClick:()=>n(null),className:"bg-white/90 md:bg-white/30"}),l.jsx("div",{ref:h.setFloating,style:u,className:"mt-2 max-md:fixed max-md:left-4 max-md:top-[18rem] max-md:w-[calc(100vw-2rem)]",children:l.jsx(bK,{group:c.children[0],index:0,isFirstDropdown:!0,removeGroup:()=>{},openOn:o,closeGroup:()=>{n(null)}})})]})]})},Bke=({initialOpenType:e,handleInitialOpen:t})=>{const{isFilterRelevant:n}=BL(),s=n("project");return l.jsxs("div",{className:"flex flex-row gap-[2px] text-slate-700 font-medium",children:[l.jsx(R1,{initialOpenType:e,handleInitialOpen:t,type:"TECH",label:l.jsxs(l.Fragment,{children:[l.jsx("div",{children:"Tech"}),l.jsx(Fo,{className:"ml-2 -mr-0.5 h-5 w-5 text-slate-500","aria-hidden":"true"})]}),openOn:"technology",tooltip:"Filter by technology",hotkey:"1",className:"rounded-l-full"}),l.jsx(R1,{initialOpenType:e,handleInitialOpen:t,type:"JF",label:l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"max-md:hidden",children:"Job"}),"Function"]}),l.jsx(Fo,{className:"ml-2 -mr-0.5 h-5 w-5 text-slate-500","aria-hidden":"true"})]}),tooltip:"Filter by job function",hotkey:"2",openOn:"job_function"}),s?l.jsx(R1,{initialOpenType:e,handleInitialOpen:t,type:"PROJECT",label:l.jsxs(l.Fragment,{children:[l.jsx("div",{children:"Project"}),l.jsx(Fo,{className:"ml-2 -mr-0.5 h-5 w-5 text-slate-500","aria-hidden":"true"})]}),tooltip:"Filter by project",hotkey:"2",openOn:"project"}):null,l.jsx(R1,{initialOpenType:e,handleInitialOpen:t,type:"OTHER",label:l.jsx(l.Fragment,{children:l.jsx(pg,{className:"w-6 h-6"})}),tooltip:"Add other filter",hotkey:"3",className:"rounded-r-full md:px-4"})]})},Vke=({search:e})=>{const t=Fke(),{advSearch:n,addAdvSearchGroup:s,showSaveSearch:i,savedSearchId:r,resetAllSearch:a,resetOrgLists:o,orgLists:c}=ze(),[u,h]=w.useState(null),f=n.children.slice(-1)[0],g=f&&Object.keys(f.fields).length===0,m=S=>{(!n||n.children.length===0)&&s(),h(S!==u?S:null)},y=n.children.length===0||n.children.length===1&&g,b=!y||(c??[]).length>0;return w.useEffect(()=>{y||setTimeout(()=>{h(null)},500)},[y]),l.jsxs("div",{className:"max-md:pl-4 relative flex flex-1 items-center flex-row gap-4",children:[e,l.jsxs("div",{className:"flex-1 flex flex-row gap-2 items-start",children:[t&&l.jsx(zke,{}),y?l.jsx(Bke,{initialOpenType:u,handleInitialOpen:m}):l.jsx($ke,{startWithGroupOpen:u}),y&&l.jsx(zL,{to:"https://docs.sumble.com/sales-functions/generate-pipeline",text:"Help me create a filter",eventName:"on_filter",className:"ml-4 max-xl:hidden"}),l.jsxs("div",{className:"ml-auto pl-8 max-md:hidden pr-10 flex flex-row gap-2",children:[i&&(!y||(c??[]).length>0)&&l.jsx(SU,{savedSearchId:r,isListLoading:!1}),b&&l.jsx("button",{className:"bg-red-100/50 font-medium text-red-700/70 rounded-full h-[2.6rem] flex flex-row items-center px-4 hover:bg-red-100/75 hover:text-red-700",onClick:()=>{a(),o()},children:l.jsxs("div",{className:"whitespace-nowrap",children:["Reset"," ",l.jsx("span",{className:"max-md:hidden",children:"filters"})]})})]})]})]})},Uke=({links:e})=>{const[t,n]=w.useState(!1),s=e.filter(i=>i.isActive)[0];return s?l.jsxs("div",{className:"relative md:hidden px-4 py-2 border-b-2 border-slate-100 mb-2",children:[l.jsxs("button",{className:"font-semibold flex flex-row items-center relative top-px border-white",onClick:()=>n(!t),children:[l.jsxs("div",{children:[s.children,!s.isNotPlural&&"s"]}),l.jsx(Kr,{className:"w-5 h-5 text-slate-400"})]}),t&&l.jsx("div",{className:"absolute top-9 left-2 border border-slate-200 rounded-md z-10 bg-white w-[60vw] flex-col py-2 flex shadow-md",children:e.map((i,r)=>l.jsxs(Re,{to:i.to,className:`px-3 py-2 font-semibold ${i.isActive?"bg-slate-100":"bg-white"}`,onClick:()=>n(!1),children:[i.children,!i.isNotPlural&&"s"]},i.to+r))})]}):null},Hke=({className:e,children:t,content:n,handleDismiss:s})=>l.jsxs(gi,{className:"relative",children:[t,l.jsxs(gi.Panel,{static:!0,className:`max-md:hidden bg-slate-700 shadow-md rounded-md text-white font-medium p-5 w-[20rem] mt-4 leading-[1.2] absolute z-10 ${e}`,children:[l.jsx("div",{className:"absolute -top-3 left-4 w-0 h-0 border-x-transparent border-b-slate-700 border-t-transparent border-x-[9px] border-b-[11px]"}),l.jsx("div",{children:n}),l.jsx("div",{className:"mt-10",children:l.jsx("button",{className:"opacity-70 hover:opacity-100",onClick:s,children:"Got it"})})]})]}),Gke=()=>{const[e,t]=Ut("po_persona",rd),[n,s]=Ut("po_tech",rd),[i,r]=Ut("po_migration",rd);return e||n||i?l.jsx("div",{className:"max-md:hidden fixed top-[12rem] left-[22rem] z-10",children:l.jsx(Hke,{handleDismiss:()=>{s(null),t(null),r(null)},className:"mt-5 -left-2",content:l.jsxs("p",{children:[e&&l.jsx(l.Fragment,{children:"Use the Job Function filter to search for organizations with your target persona. We've added a couple of examples to get you started."}),n&&l.jsx(l.Fragment,{children:"Use the Technology filter to search for organizations using your or your competitor's technologies. We've added an example to get you started."})]}),children:l.jsx(l.Fragment,{})})}):null},vK=({searchType:e,tabLinks:t})=>($L(),l.jsxs("div",{className:"relative",children:[l.jsx(Uke,{links:t}),l.jsx(Gke,{}),l.jsx("div",{className:"overflow-x-auto overflow-y-visible md:w-[calc(100vw-14rem)] max-md:pb-2",children:l.jsx("div",{className:"flex flex-row md:px-10 md:pr-0 md:py-[1.18rem] items-start gap-3",children:l.jsx(Vke,{search:e})})})]})),Wke=()=>It({mutationFn:async n=>{const s=new FormData;return s.append("url",n.url),await Ue({url:"/shortlinks/share-link",method:"POST",body:s})}}),VL=({className:e,text:t})=>{const{mutate:n}=ff(),{orgLists:s}=ze(),{mutate:i,data:r,isSuccess:a}=Wke(),[o,c]=w.useState(window.location.href);w.useEffect(()=>{a&&r&&c(r.shortUrl)},[a,r]);const u=async()=>new Promise(h=>{let f=!1;const g=setTimeout(()=>{f||(console.warn("Shortlink generation timed out. Using long URL."),f=!0,h(window.location.href))},2e3);i({url:window.location.href},{onSuccess:m=>{f||(clearTimeout(g),f=!0,c(m.shortUrl),h(m.shortUrl))}}),n({activity_type:"share_this_view_click"})});return l.jsxs(Uc,{className:`max-md:hidden bg-slate-100 rounded-lg px-5 pl-4 font-medium hover:bg-slate-200 py-1.5 flex flex-row items-center gap-2 ${e}`,textToCopy:o,itemType:"link",onClick:async()=>{const h=await u();navigator.clipboard.writeText(h)},disabled:s&&s.length>0,children:[l.jsx(Yce,{className:"w-5 h-5"}),l.jsx("div",{children:t??"Share this view"})]})},Yke=({endpoint:e,body:t})=>{const s=JSON.stringify(t,null,2).split(`
`).map(o=>"    "+o).join(`
`),i=window.location.port?`:${parseInt(window.location.port)+1}`:"",r=i?window.location.hostname:`api.${window.location.hostname}`.replace("api.dev.","dev.api."),a=`curl ${window.location.protocol}//${r}${i}${e} \\
  --request POST \\
  --header "Authorization: Bearer $YOUR_API_KEY" \\
  --header "Content-Type: application/json" \\
  --data @- <<'EOF'
${s}
EOF`;return l.jsxs("div",{className:"p-5",children:[l.jsxs("div",{className:"mb-4 p-3 px-5 bg-amber-50 border border-amber-100! rounded-lg",children:[l.jsx("div",{className:"font-semibold text-amber-700 mb-1",children:"Set your Bearer token"}),l.jsxs("div",{className:"text-amber-700",children:["Replace"," ",l.jsx("code",{className:"bg-amber-100 px-1 py-0.5 rounded",children:"$YOUR_API_KEY"})," ","with your actual API key."," ",l.jsxs(Re,{to:"/account/api-keys",className:"text-amber-800! hover:text-amber-900! font-medium ml-1",children:["Create a new key"," ",l.jsx(ls,{className:"size-3 relative bottom-1  inline"})]})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("pre",{className:"bg-slate-900/95 text-slate-100 p-4 rounded-lg overflow-x-auto text-sm font-mono",children:l.jsx("code",{children:a})}),l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx(Uc,{placement:"bottom-end",className:"bg-slate-700 hover:bg-slate-600! rounded px-3 py-1.5 text-white text-sm font-medium",textToCopy:a,itemType:"curl command",children:l.jsx("div",{className:"flex items-center gap-2",children:"Copy"})})})]})]})},SK=({endpoints:e})=>{if(!e||e.length===0)return null;const[t,n]=w.useState(0),s=e[t],i=e.length>1;return l.jsxs(gi,{className:"flex flex-col items-center",children:[l.jsx(qi,{className:"bg-slate-100 rounded-lg pr-2 pl-3 font-medium hover:bg-slate-200 py-1.5 cursor-pointer",children:l.jsxs(Ht,{description:"Generate API request",className:"flex flex-row gap-2",children:[l.jsx(vle,{className:""}),"API",l.jsx(Kr,{className:"text-slate-300 ml-2"})]})}),l.jsx(Ca,{anchor:"bottom start",className:"pr-4",children:l.jsxs("div",{className:"flex flex-col bg-white border border-slate-200 shadow-md rounded-xl mt-2 w-[50rem] z-50",children:[l.jsxs("div",{className:"flex flex-row items-center justify-between p-5 mb-3",children:[l.jsxs("div",{className:"font-medium",children:["Generate API Request"," ",!i&&e[0].label&&` - ${e[0].label}`]}),l.jsxs(Re,{className:"flex items-center flex-row gap-2 text-slate-400 hover:text-green-600 font-medium",to:"https://docs.sumble.com/api",target:"_blank",rel:"noreferrer",children:[l.jsx(r2,{}),"API Documentation",l.jsx(ls,{className:"size-4 -ml-1"})]})]}),i&&l.jsx("div",{className:"mb-0 flex gap-2 border-b border-slate-200 p-5 pt-0 pb-0",children:e.map((r,a)=>l.jsx("button",{onClick:()=>n(a),className:`px-4 py-2 whitespace-nowrap border border-slate-200 rounded-t-lg relative top-px  font-medium ${t===a?"text-green-600 bg-white border-b-white":"text-slate-400 bg-white border-b-slate-200 hover:text-slate-700"}`,children:r.label||r.endpoint},a))}),l.jsx(Yke,{endpoint:s.endpoint,body:s.body})]})}),l.jsx(Xw,{className:"fixed inset-0 bg-slate-100/40 z-[10]"})]})},wK=()=>{const{advSearch:e}=cU(),t=Ai(e);return nt({url:"/queries/str",method:"POST",body:t,contentType:"application/json",queryKey:["queries","str",t],enabled:!!t})},CK=({item:e})=>{const{sendEvent:t}=zn();return l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs(Re,{to:e.to,className:`h-10 flex items-center border-b-[3px] font-semibold relative ${e.isActive?"text-green-600 border-b-green-600 bg-white":"border-transparent text-slate-400 hover:text-slate-500"}`,"data-testid":`tab-${e.children}`,onClick:()=>{e.eventName&&t("Tab Click",{event_category:"Navigation",event_label:e.eventName})},children:[e.children,!e.isNotPlural&&"s"]})})},Kke=({tabLinks:e,type:t})=>{const{data:n}=wK(),s=[];return n&&(t==="POSTS"&&s.push({endpoint:"/v2/jobs/find",body:{filters:{query:n.representation},limit:10},label:"Find Jobs"}),t==="ORGS"&&s.push({endpoint:"/v2/organizations/find",body:{filters:{query:n.representation},limit:10},label:"Find Organizations"})),l.jsxs(l.Fragment,{children:[l.jsx(Zr,{title:t==="ORGS"?"Organizations":t==="POSTS"?"Job Posts":"People"}),l.jsx("div",{className:"md:pt-1.5 md:border-b-2 border-slate-100",children:l.jsxs("div",{className:"px-10 max-md:hidden flex flex-row justify-between items-center",children:[l.jsx("div",{className:"flex flex-row gap-8",children:e.map(i=>l.jsx(CK,{item:i},i.to))}),l.jsxs("div",{className:"relative bottom-2 flex items-center gap-2",children:[l.jsx(SK,{endpoints:s}),l.jsx(VL,{})]})]})})]})},UL=()=>{const e="/account/account-lists",t=yt();return It({mutationFn:async i=>await Ue({url:e,method:"POST",headers:{"Content-Type":"application/json"},body:i}),onSettled:()=>{t.invalidateQueries({queryKey:["accountListsNew"]}),t.invalidateQueries({queryKey:["profile_feed"]}),t.invalidateQueries({queryKey:["profile"]})}})},MK=()=>{const e=yt();return It({mutationFn:async({listId:s,org_ids:i})=>await Ue({url:"/account/account-lists/items",method:"POST",headers:{"Content-Type":"application/json"},body:{list_id:s,items:i.map(a=>({sumble_id:a}))}}),onSettled:()=>{e.invalidateQueries({queryKey:["accountListsNew"]})}})},qke=w.memo(function({list:t,orgId:n,orgSlug:s,addOrganization:i,deleteOrganization:r}){const a=t.organization_slugs.includes(s),o=t.type===ir.group;if(!a&&o)return null;const c=w.useCallback(()=>{if(o)return;const u={listId:t.id,org_ids:[parseInt(n)]};a?r(u):i(u)},[a,r,i,t.id,s]);return l.jsxs(Zse,{className:`group h-10 pl-5 pr-4 truncate flex items-center justify-between gap-4 flex-row ${a?"bg-amber-50 hover:bg-amber-100/75":"hover:bg-slate-50"}`,onClick:c,children:[l.jsx("div",{children:a?l.jsx(Fc,{className:"w-6 h-6 text-[#EAD15A]",fill:"currentColor"}):l.jsx(Fc,{className:"w-6 h-6 text-slate-400"})}),l.jsxs("div",{className:`${a?"font-semibold":""} flex-1 text-left truncate`,children:[t.name,o?" (read only)":""]}),l.jsx("div",{className:"flex items-center gap-2 justify-center",children:l.jsx(BG,{id:t.id})})]})}),Zke=({setIsCreatingNewList:e,createListAndAddOrganization:t,orgId:n})=>{const s=Qse(),[i,r]=w.useState(""),a=w.useCallback(()=>{i&&t({name:i,org_ids:[n]}),e(!1),s()},[t,n,s,i]);return es("enter",o=>{o.preventDefault(),o.stopPropagation(),a()},{enableOnFormTags:!0}),l.jsxs("div",{className:"flex flex-row justify-between items-center gap-2 h-9 pl-2 pr-4",children:[l.jsx("input",{type:"text",className:"flex-1 pl-4 h-9 border-0 ring-0!",placeholder:"List name",autoFocus:!0,value:i,onChange:o=>r(o.target.value)}),l.jsx("button",{className:"text-green-600 font-medium hover:text-green-700",onClick:()=>a(),children:"Add list"})]})},Qke=({orgId:e,orgName:t,orgSlug:n})=>{const{data:s,isLoading:i}=qo(),[r,a]=w.useState(!1),{mutate:o}=MK(),{mutate:c}=VG(),{mutate:u}=UL(),h=w.useMemo(()=>s?.filter(g=>g.organization_slugs.includes(n)).length||0,[s,n]),f=w.useMemo(()=>Fc,[h]);return i?null:l.jsxs(gi,{className:"flex flex-col items-center",children:[l.jsx(qi,{className:"relative",children:l.jsxs(Ht,{description:"Add to account list",children:[l.jsx(f,{className:`w-6 h-6 cursor-pointer ${h?"text-[#EAD15A]":"text-slate-400 group-hover:text-slate-500"}`,fill:h?"currentColor":"none"}),h>1&&l.jsx("div",{className:"absolute right-0 top-0 w-4 h-4 flex items-center justify-center bg-green-600 text-white text-xs rounded-full",children:h})]})}),l.jsxs(Ca,{anchor:"bottom start",className:"flex flex-col bg-white border border-slate-200 shadow-md rounded-lg py-4 mt-1 w-[25rem]",children:[l.jsxs("div",{className:"px-6 text-slate-400 mt-1 mb-3",children:["Add ",t," to ..."]}),s?.map(g=>l.jsx(qke,{list:g,orgId:e,orgSlug:n,addOrganization:o,deleteOrganization:c},g.id)),r?l.jsx(Zke,{setIsCreatingNewList:a,orgId:parseInt(e),createListAndAddOrganization:u}):l.jsxs("button",{className:"h-9 pl-5 pr-4 flex items-center justify-between gap-4 flex-row hover:bg-slate-50",onClick:()=>a(!0),children:[l.jsx("div",{children:l.jsx(Fo,{className:"w-6 h-6 text-slate-400"})}),l.jsx("div",{className:"flex-1 text-left text-slate-500 font-medium",children:"New list..."})]})]})]})},jK=w.memo(Qke),Xke=e=>{const t=e.getValue(),n=e.row.original.name,s=String(e.row.original.id);return l.jsx("div",{className:"py-2 pl-1",children:l.jsx(jK,{orgId:s,orgName:n,orgSlug:t})})},Ux=({className:e})=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 15.25 15.8",className:e,children:[l.jsx("rect",{x:".25",y:"4.8",width:"3",height:"11",fill:"currentColor"}),l.jsx("ellipse",{cx:"1.75",cy:"1.76",rx:"1.75",ry:"1.76",fill:"currentColor"}),l.jsx("path",{d:"M15.25,15.8h-3v-5.6c0-3.37-4-3.11-4,0v5.6h-3V4.8h3v1.77c1.4-2.59,7-2.78,7,2.48v6.76Z",fill:"currentColor"})]}),NK=e=>{const t=e.getValue();if(t!==null&&new Date(t).getUTCFullYear()<2e3)return null;const s=new Date(t??"2022-01-01").toLocaleDateString("en-US",{year:"numeric",month:"short"}),i=`${e.row.original.jobs_link??e.row.original.slug+"/jobs"}?sort=Time&desc=0`;return t?l.jsx("div",{className:"text-right flex-1 flex justify-end",children:l.jsx(gt,{text:l.jsx("span",{className:"text-slate-400",children:s}),href:i,removeExistingSortParams:!0,type:"general",tooltip:`View the first job posts for ${e.row.original.name}`})}):null},AK=()=>{const{isSearchEmpty:e}=ze();return e?!1:"ADV"},Jke=()=>{const e=AK();if(!e)return"bg-white";if(e==="ADV")return"bg-yellow-100/75 text-yellow-900 text-opacity-60"},bp=()=>{const e=Jke();return AK()?l.jsx(Sr,{content:l.jsx("div",{className:"bg-slate-800 text-slate-100 px-2 py-2 text-sm font-semibold rounded-lg max-w-[18rem] text-center",children:"Filtered by your search filters"}),placement:"bottom",children:l.jsx("span",{className:`tracking-tight text-xs rounded-md bg-blue-100 ${e} font-semibold px-1.5 py-0.5 relative -top-[1px] ml-1`,children:"filtered"})}):null},TK=({isExpanded:e})=>l.jsx("svg",{width:"14",height:"11",className:`self-center transform transition-transform ${e?"":"rotate-270"}`,viewBox:"0 0 14 11",fill:"none",children:l.jsx("path",{d:"M7.83467 9.73501C7.43943 10.334 6.56057 10.334 6.16533 9.73501L1.09502 2.05074C0.65633 1.38589 1.13315 0.5 1.9297 0.5L12.0703 0.500001C12.8669 0.500001 13.3437 1.38589 12.905 2.05074L7.83467 9.73501Z",fill:"currentColor"})}),HL=({action:e,row:t,children:n})=>l.jsxs("div",{className:"flex flex-row gap-4 items-start",style:{paddingLeft:`${t.depth*2}rem`},children:[t.getCanExpand()||t.original.expandable?l.jsx("div",{className:"relative w-4",children:l.jsx("button",{className:"absolute -top-2 -left-10 h-[2.5rem] pl-8 w-16 flex items-center justify-center self-center hover text-slate-200 hover:text-slate-400",onClick:s=>{s.stopPropagation(),s.preventDefault(),e&&e(),t.toggleExpanded()},children:t.original.isLoadingChildren?l.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",className:"animate-spin self-center",children:l.jsx("path",{d:"M 7,7 m -6,0 a 6,6 0 0,1 12,0",fill:"none",stroke:"currentColor",strokeWidth:"2"})}):l.jsx(TK,{isExpanded:t.getIsExpanded()})})}):l.jsx("div",{className:"w-4 h-4 self-center flex items-center justify-center",children:l.jsx("div",{className:"h-[0.5rem] w-[0.5rem] bg-slate-100 rounded-full self-center"})}),n]}),EK=({text:e,fixedNumberLength:t})=>l.jsx("div",{className:"truncate inline-block mr-1 h-[1.45rem]",children:l.jsxs("div",{className:"relative font-medium gap-1 h-[1.5rem] flex items-center justify-center text-[0.95rem] outline outline-2 -outline-offset-2 outline-slate-100 text-slate-200 rounded-full px-2.5",children:[e,t&&l.jsx("div",{className:"opacity-50 mix-blend-darken font-semibold text-xs relative top-[0.05rem] tabular-nums text-right tracking-tighter",style:{minWidth:t?`${t}rem`:0},children:""})]})}),DK=e=>{const t=l.jsx(eIe,{...e});return l.jsx("div",{className:`whitespace-nowrap h-[1.45rem] ${e.isLoading?"animate-pulse":""}`,children:l.jsx("div",{className:"whitespace-nowrap",children:t})})},eIe=({items:e,isLoading:t})=>l.jsx(l.Fragment,{children:t?l.jsx(Yr,{className:"h-[1.4rem] w-[1.4rem]",dontAttachTestId:!0}):e.map(n=>n.matched?l.jsx(gt,{classNameTooltip:"inline-block mr-1 h-[1.45rem]",count:n.count,directLink:n.directLink,directDescription:n.directDescription,fixedNumberLength:2.5,heat:n.heat??void 0,hideArrow:!0,item:n.item,text:n.item.name,tooltip:n.tooltip,type:n.type,href:n.href??void 0,organization_slug:n.organization_slug},n.item.slug):l.jsx(EK,{fixedNumberLength:2.5,text:n.item.name},n.item.slug))}),tIe=({org:e,uniqueJobFunctions:t,uniqueTechnologies:n,uniqueProjects:s,uniqueJobLevels:i,countType:r="Jobs"})=>{const a=e.counts,o=e.isCountsLoading??(e.isSomeCountsLoading&&!a);if(!a&&!o)return null;const c=[];s&&(r==="Jobs"||r==="Teams")&&c.push(...(s??[]).map(f=>{const g=e.matched_projects?.filter(b=>b.slug===f.slug)[0],m=a?.projects.filter(b=>b.slug===f.slug)[0]?.[r==="Jobs"?"jobs_count":"teams_count"],y=`${$e(m??0)} ${r.toLowerCase()} in ${e.name} mention ${f.name} projects`;return{type:"projects",matched:!!g,count:m??0,item:f,text:f,tooltip:y,directLink:`/orgs/${e.slug}/${r.toLowerCase()}?${fa("project",[f.slug])}`,directDescription:`${$e(m??0)} ${r.toLowerCase()} in ${e.name}`}})),(t||n||i)&&(c.push(...(n??[]).map(f=>{const g=e.matched_technologies?.filter(S=>S?.id===f?.id)[0],m=a?.technologies.filter(S=>S?.id===f?.id)[0];let y,b;switch(r){case"Teams":y=m?.teams_count,b=`${$e(m?.teams_count)} teams in ${e.name} mention ${f.name}`;break;case"People":y=m?.people_count,b=`${$e(m?.people_count)} people in ${e.name} identified as ${f.name}`;break;case"Jobs":y=m?.jobs_count,b=`${$e(m?.jobs_count)} job posts in ${e.name} mention ${f.name}`}return{type:"techs",matched:!!((g&&y)??!1),count:y??0,item:f,tooltip:b,directLink:`/orgs/${e.slug}/${r.toLowerCase()}?${fa("technology",[f.slug])}`,directDescription:`${$e(y??0)} ${r.toLowerCase()} in ${e.name}`}})),c.push(...(t??[]).map(f=>{const g=a?.job_functions.filter(b=>b.name===f)[0];let m,y;switch(r){case"Teams":m=g?.teams_count,y=`${$e(g?.teams_count)} teams in ${e.name} mention ${f}`;break;case"People":m=g?.people_count,y=`${$e(g?.people_count)} people in ${e.name} identified as ${f}`;break;case"Jobs":m=g?.jobs_count,y=`${$e(g?.jobs_count)} job posts in ${e.name} identified for ${f}`}return{type:"job_functions",matched:(e.matched_job_functions?.includes(f??"")??!1)&&(m??0)>0,count:m??0,item:{name:f??"",slug:f??""},tooltip:y,directLink:`/orgs/${e.slug}/${r.toLowerCase()}?${fa("job_function",[f??""])}`,directDescription:`${$e(m??0)} ${r.toLowerCase()} in ${e.name}`}})),c.push(...(i??[]).map(f=>{const g=a?.job_levels.filter(S=>S.name===f.name)[0],m=e.matched_job_levels?.filter(S=>S?.name===f.name)[0];let y,b;switch(r){case"Teams":y=g?.teams_count,b=`${$e(g?.teams_count)} teams in ${e.name} mention ${f.name}`;break;case"People":y=g?.people_count,b=`${$e(g?.people_count)} people in ${e.name} identified as ${f.name}`;break;case"Jobs":y=g?.jobs_count,b=`${$e(g?.jobs_count)} job posts in ${e.name} identified for ${f.name}`}return{type:"job_levels",matched:!!((m&&y)??!1),count:y??0,item:f,tooltip:b,directLink:`/orgs/${e.slug}/${r.toLowerCase()}?${fa("job_level",[f.name])}`,directDescription:`${$e(y??0)} ${r.toLowerCase()} in ${e.name}`}})));const u=Math.max(...c.map(f=>f.count)),h=c.map(f=>({...f,heat:u>0?f.count/u:0}));return l.jsx(DK,{items:h,isLoading:o===void 0?!1:o})},nIe=()=>l.jsx(Fc,{className:"relative left-[2px] w-6 h-6 text-slate-200"}),ND=["Teams","People","Jobs"],AD="Teams",sIe=cfe(ps,AD),iIe=()=>{const e=Gn("job_function"),t=Gn("technology"),[n,s]=w.useState(!1),[i,r]=w.useState(!1),[a,o]=Ut("matched",sIe),c=ND.includes(a)?a:ND[0],u=(h,f)=>{o(h),f&&s(!0)};return w.useEffect(()=>{r(!0)},[]),w.useEffect(()=>{n||!i&&a!==AD||((e??[]).length>0&&(t??[]).length===0?u("People",!1):u(AD,!1))},[e,t]),[c,u]},rIe={People:l.jsx(o2,{className:"w-5 h-5 "}),Teams:l.jsx(fg,{className:"w-5 h-5"}),Jobs:l.jsx(EV,{className:"w-5 h-5"})},aIe=({selectedMatched:e,setSelectedMatched:t})=>l.jsxs(l.Fragment,{children:[ND.map(n=>l.jsx(lD,{onClick:()=>t(n,!0),icon:l.jsx("div",{className:e===n?"text-green-600":"text-slate-400",children:rIe[n]}),isSelected:e===n,message:`Show ${n}`},n)),l.jsx("div",{className:"w-full h-px bg-slate-100 my-2"})]}),oIe=e=>{const t=l.jsx(lIe,{...e});return l.jsx("div",{className:`whitespace-nowrap h-[1.45rem] ${e.isLoading?"animate-pulse":""}`,children:l.jsx("div",{className:"whitespace-nowrap",children:t})})},lIe=({filterTags:e,orgTags:t,tagsDict:n,isLoading:s})=>{const i=(e?.length??0)>0?e:t;return l.jsx(l.Fragment,{children:s?l.jsx(Yr,{className:"h-[1.4rem] w-[1.4rem]",dontAttachTestId:!0}):Array.from(new Set(i)).map(r=>({slug:r,tag:n?.[r]})).sort((r,a)=>(r.tag?.name??r.slug).localeCompare(a.tag?.name??a.slug)).reduce((r,{slug:a,tag:o})=>((t??[]).includes(a)?r.push(l.jsx(gt,{classNameTooltip:"inline-block mr-1 h-[1.45rem]",selected:e?.includes(a)??!1,text:o?.name??a,type:"tags",item:o,hideArrow:!0,tooltip:`View orgs that are ${o?.name}`},a)):r.push(l.jsx(EK,{text:o?.name??a},a)),r),[])})},cIe=({spend:e,factors:t})=>{const[n,s]=w.useState(!1),{refs:i,floatingStyles:r,context:a}=T0({open:n,onOpenChange:s,placement:"bottom-end",whileElementsMounted:NB,middleware:[CB(8),MB({fallbackAxisSideDirection:"start"}),jB({padding:8})]}),o=xB(a,{delay:{open:200,close:100}}),c=bB(a),u=vB(a),h=SB(a,{role:"tooltip"}),{getReferenceProps:f,getFloatingProps:g}=wB([o,c,u,h]),m=t.sweTeamsUsingCloud+t.cloudVendorPeople,y=m?t.sweTeamsUsingCloud/m*100:0,b=m?t.cloudVendorPeople/m*100:0,S=C=>C>=1e9?`$${(C/1e9).toFixed(1)}B`:C>=1e6?`$${(C/1e6).toFixed(0)}M`:C>=1e3?`$${(C/1e3).toFixed(0)}K`:`$${C}`;return l.jsxs(l.Fragment,{children:[l.jsxs("span",{ref:i.setReference,...f(),className:"text-[0.95rem] font-medium text-slate-600 hover:text-green-700 cursor-pointer flex flex-row items-center justify-end gap-1",children:[S(e),l.jsx(Ic,{className:"w-4 h-4"})]}),n&&l.jsx(zg,{children:l.jsx("div",{ref:i.setFloating,style:r,...g(),className:"z-10 w-80 bg-white shadow-lg rounded-md border border-slate-200 p-4",children:l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Drivers of the cloud spend estimate"}),l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-slate-400",children:"Software engineering teams"}),l.jsx("span",{className:"font-medium text-slate-600",children:$e(t.sweTeamsUsingCloud)})]}),l.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-100",children:l.jsx("div",{className:"h-full bg-green-600 transition-all",style:{width:`${y}%`}})})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsx("span",{className:"text-slate-400",children:"People mentioning cloud vendor technologies"}),l.jsx("span",{className:"font-medium text-slate-600",children:$e(t.cloudVendorPeople)})]}),l.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-100",children:l.jsx("div",{className:"h-full bg-green-600 transition-all",style:{width:`${b}%`}})})]})]}),l.jsx("div",{className:"border-t border-slate-200 pt-2",children:l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"font-medium text-slate-700",children:"Estimated Annual Spend"}),l.jsx("span",{className:"font-semibold text-slate-700",children:S(e)})]})})]})})})]})},qs=yo(),uIe={People:l.jsx(o2,{className:"size-5"}),Teams:l.jsx(fg,{className:"size-5"}),Jobs:l.jsx(EV,{className:"size-5"})},dIe=({uniqueTechnologies:e,uniqueJobFunctions:t,uniqueJobLevels:n,handleOrgToggle:s,uniqueProjects:i,tagsDict:r,isPeopleEmpty:a,isMatchedEmpty:o,selectedMatched:c,setSelectedMatched:u,autoResizeWidths:h,searchQuery:f,industries:g})=>[qs.accessor("name",{header:"Name",id:"Name",cell:m=>l.jsx(HL,{row:m.row,action:()=>{s(m.row.original.id,m.row.original.full_id)},children:l.jsx("span",{className:"font-medium text-slate-700",children:l.jsx(ad,{highlightClassName:"font-bold bg-transparent text-slate-700",searchWord:f??"",textToHighlight:m.getValue(),sanitize:y=>$h(y)})})}),size:window.innerWidth>1440?400:window.innerWidth/3,minSize:200,maxSize:2400,enableResizing:!0,enableHiding:!1,enableSorting:!1}),qs.accessor("url",{id:"Logo",header:()=>l.jsx("div",{className:"text-center flex justify-center",children:l.jsx(mue,{className:"text-slate-300 relative left-[1px] bg-slate-100 rounded-xs p-1 h-[1.4rem] w-[1.4rem]"})}),cell:m=>l.jsx("div",{className:"flex flex-row justify-center items-center flex-1",children:l.jsx(Wg,{className:"relative left-[1px]",url:m.getValue(),orgName:m.row.original.name})}),meta:{headAlign:"center"},size:50,enableResizing:!1,enableHiding:!0,enableSorting:!1}),qs.accessor("slug",{id:"Favorite",header:nIe,cell:Xke,meta:{headAlign:"center"},size:50,enableResizing:!1,enableHiding:!1,enableSorting:!1}),qs.accessor("name_alternates",{header:"AKA",id:"AKA",cell:m=>{const y=m.getValue();return y?l.jsx("span",{className:"text-slate-400",children:y.join(", ")}):null},meta:{},size:200,minSize:200,enableResizing:!0}),qs.accessor("url",{header:"URL",id:"URL",cell:m=>{const y=m.getValue();return y?l.jsx(gt,{text:l.jsx("span",{className:"font-medium text-slate-700",children:l.jsx(ad,{highlightClassName:"font-bold bg-transparent text-slate-700",searchWord:f??"",textToHighlight:y,sanitize:b=>$h(b)})}),type:"general",href:`https://${y}`,tooltip:`Visit ${m.row.original.name}'s website`,doNotPassQuery:!0}):l.jsx("span",{className:"text-slate-200",children:""})},meta:{},size:200,minSize:200,enableResizing:!0}),qs.accessor("url_alternates",{header:"Other URLs",id:"Other URLs",cell:m=>{const y=m.getValue();return y?.length?l.jsx("div",{className:"flex flex-wrap gap-1 truncate",children:y.map(b=>l.jsx(gt,{text:b,type:"general",href:`https://${b}`,tooltip:`Visit ${m.row.original.name}'s website`,doNotPassQuery:!0},b))}):l.jsx("span",{className:"text-slate-200",children:""})},meta:{},size:200,minSize:200,enableResizing:!0}),qs.accessor("industry",{header:"Industry",id:"Industry",cell:m=>{const y=m.getValue();return y?l.jsx("div",{className:"truncate",children:l.jsx(gt,{text:y,selected:g?.includes(y)??!1,type:"industries",item:{slug:y,name:y}})}):null},meta:{},enableResizing:!0,size:300,minSize:100,maxSize:1e3}),qs.accessor("tags",{header:"Org attributes",id:"Org attributes",cell:m=>l.jsx(oIe,{orgTags:m.getValue(),isLoading:r?.isLoading,filterTags:r?.filterTags,tagsDict:r?.tagsList?.tagsDict}),meta:{autoSize:(r?.filterTags??[]).length>0},enableSorting:!1,enableResizing:(r?.filterTags??[]).length===0,size:h["Org attributes"]??200,minSize:200}),qs.display({header:"HQ",id:"HQ",cell:m=>{const y=m.row.original.headquarters_country,b=m.row.original.headquarters_state,S=`${b?`${b}, `:""}${y==="United States"?"USA":y}`;return l.jsx("div",{className:"max-w-full",children:l.jsx(gt,{type:"country",text:S,item:{slug:`${m.row.original.headquarters_code??""}${m.row.original.headquarters_state?`:${m.row.original.headquarters_state}`:""}`,name:S}})})},enableResizing:!0,size:150,minSize:100,maxSize:400,enableSorting:!1}),qs.accessor("linkedin_url",{header:()=>l.jsx(Ux,{className:"text-slate-300 bg-slate-100 rounded-xs p-1 h-[1.4rem] w-[1.4rem]"}),id:"LinkedIn",cell:m=>{const y=m.getValue();return y?l.jsx(Re,{to:y,target:"_blank",rel:"noreferrer",onClick:b=>b.stopPropagation(),doNotPassQuery:!0,children:l.jsx(Ux,{className:"text-slate-300 bg-slate-100 rounded-xs p-1 h-[1.4rem] w-[1.4rem] hover:bg-slate-200 hover:text-slate-400"})}):l.jsx("span",{className:"text-slate-200",children:""})},meta:{},size:50,minSize:38,maxSize:38,enableResizing:!1,enableSorting:!1}),qs.accessor("employee_count",{header:"Total employees",id:"Employees",cell:m=>l.jsx("div",{className:"text-right flex-1",children:$e(m.getValue())}),meta:{sortFlipOrder:!0,sortMessage:["largest  smallest","smallest  largest"],isDefaultSort:!0},enableResizing:!0,size:150,minSize:150}),qs.accessor("primary_cloud_vendor_tech",{header:"Primary cloud vendor",id:"Primary cloud vendor",cell:m=>{const y=m.getValue();return l.jsx("div",{className:"max-w-full",children:y?l.jsx(gt,{type:"country",text:y?.join(", "),tooltip:y?.join(", "),href:`/orgs/${m.row.original.slug}/trends/technologies/?${fa("technology_category",["cloud-vendor"])}`}):null})},enableSorting:!1,enableResizing:!0,size:160,minSize:160}),qs.accessor("cloud_spend_estimate_millions_usd",{header:()=>l.jsx("div",{className:"absolute inset-0 px-2 py-1.5 text-left min-h-10 flex items-center",children:"Estimated cloud spend"}),cell:m=>{const y=m.getValue();return y?l.jsx("div",{className:"text-right w-full",children:l.jsx(cIe,{spend:y*1e6,factors:{sweTeamsUsingCloud:m.row.original.swe_teams_count??0,cloudVendorPeople:m.row.original.cloud_vendor_people_count??0}})}):null},id:"Cloud spend estimate",meta:{colClass:"text-slate-400",sortFlipOrder:!0,sortMessage:["largest  smallest","smallest  largest"],autoSize:!0},enableSorting:!0,size:h["Cloud spend estimate"]??160}),a?null:qs.accessor("people_count",{header:()=>l.jsxs("div",{className:"absolute inset-0 px-2 py-1.5 text-left min-h-10 flex items-center",children:["People ",l.jsx(bp,{})]}),cell:m=>{const y=m.getValue();return l.jsx("div",{className:"text-right flex-1 flex justify-end",children:y?l.jsx(gt,{text:$e(y),type:"general",tooltip:`View ${m.row.original.name} people that match your filter criteria`,href:`/orgs/${m.row.original.slug}/people`}):l.jsx("span",{className:"text-[0.95rem] leading-[1.5rem] font-medium text-slate-300",children:"0"})})},id:"People count",meta:{colClass:"text-slate-400",sortMessage:["largest  smallest","smallest  largest"],sortFlipOrder:!0},enableResizing:!0,size:135,minSize:135}),qs.accessor("teams_count",{header:()=>l.jsxs("div",{className:"absolute inset-0 px-2 py-1.5 text-left min-h-10 flex items-center",children:["Teams",l.jsx(bp,{})]}),cell:m=>l.jsx("div",{className:"text-right flex-1 flex justify-end",children:m.getValue()===0?l.jsx("span",{className:"text-slate-300",children:"0"}):l.jsx(gt,{text:$e(m.getValue()),type:"general",href:`/orgs/${m.row.original.slug}/teams`,tooltip:`View ${m.row.original.name} teams that match your filter criteria`})}),id:"Teams count",meta:{colClass:"text-slate-400",sortFlipOrder:!0,sortMessage:["largest  smallest","smallest  largest"]},enableResizing:!0,size:135,minSize:135}),qs.accessor("jobs_count",{header:()=>l.jsxs("div",{className:"absolute inset-0 px-2 py-1.5 text-left min-h-10 flex items-center",children:["Jobs",l.jsx(bp,{})]}),cell:m=>m.getValue()===0?l.jsx("div",{className:"text-right flex-1 text-slate-300",children:"0"}):l.jsx("div",{className:"text-right flex-1 flex justify-end",children:l.jsx(gt,{text:$e(m.getValue()),type:"general",href:`/orgs/${m.row.original.slug}/jobs`,tooltip:`View ${m.row.original.name} jobs that match your filter criteria`})}),id:"Tech jobs",meta:{colClass:"text-slate-400",sortFlipOrder:!0,sortMessage:["largest  smallest","smallest  largest"]},enableResizing:!0,size:130,minSize:130}),qs.accessor("jobs_count_growth_6mo",{header:()=>l.jsxs("div",{className:"absolute inset-0 px-2 py-1.5 text-left min-h-10 flex items-center",children:["Jobs growth 6mo",l.jsx(bp,{})]}),cell:m=>l.jsxs("div",{className:"text-right flex-1",children:[$e((100*m.getValue()).toFixed(0)),"%"]}),id:"Tech jobs growth",meta:{colClass:"text-slate-400",sortMessage:["largest  smallest","smallest  largest"],autoSize:!0},size:h["Tech jobs growth"]??200}),qs.accessor("last_activity_time",{header:()=>l.jsxs("div",{className:"absolute inset-0 px-2 py-1.5 text-left min-h-10 flex items-center",children:["Last post",l.jsx(bp,{})]}),id:"Last job post",cell:m=>{const y=m.getValue();return y!==null&&new Date(y).getUTCFullYear()<2e3?null:y?l.jsx("div",{className:"text-right flex-1 flex justify-end",children:l.jsx(gt,{text:l.jsxs("span",{className:"text-slate-400",children:[Pl(y),l.jsx("span",{className:"max-md:hidden pl-1",children:"ago"})]}),href:`/orgs/${m.row.original.slug}/jobs`,type:"general",tooltip:`View the most recent job posts for ${m.row.original.name}`})}):null},meta:{colClass:"text-slate-400",sortMessage:["recent  oldest","oldest  recent"],sortFlipOrder:!0},sortingFn:(m,y)=>{const b=m.original.last_activity_time??0,S=y.original.last_activity_time??0;return b>S?1:b<S?-1:0},enableResizing:!0,size:150,minSize:150}),qs.accessor("first_activity_time",{header:()=>l.jsxs("div",{className:"absolute inset-0 px-2 py-1.5 text-left min-h-10 flex items-center",children:["First post",l.jsx(bp,{})]}),id:"First job post",cell:NK,meta:{colClass:"text-slate-400",sortMessage:["recent  oldest","oldest  recent"],sortFlipOrder:!0},sortingFn:(m,y)=>{const b=m.original.first_activity_time??0,S=y.original.first_activity_time??0;return b>S?1:b<S?-1:0},enableResizing:!0,size:150}),o?null:qs.display({header:()=>l.jsxs("div",{className:"flex flex-row gap-2 items-center pl-1",children:[uIe[c]," ",c," count"]}),id:"Count",enableResizing:!1,size:h.Count??180,minSize:180,meta:{additionalOptions:l.jsx(aIe,{setSelectedMatched:u,selectedMatched:c}),autoSize:!0},cell:m=>l.jsx(tIe,{org:m.row.original,uniqueTechnologies:e,uniqueJobFunctions:t,uniqueProjects:i,uniqueJobLevels:n,countType:c})})].filter(m=>m!==null),hIe=()=>{const e=localStorage.getItem("organizations_params"),t=e?JSON.parse(e):{},n=localStorage.getItem("organizations_suffix")??"";return Hg(()=>`/organizations/advanced${n}`,s=>({organizations_list:(s.orgLists??[]).join(","),q:s.q,next_page_token:s.organizationPageToken,...t}),"ORGS")},fIe=async({suffix:e,parent:t,advSearch:n,secondaryParamsForSearch:s})=>{const i={url:e,method:"POST",contentType:"application/json",body:Ai(n,s)},r=await Jk(i,`$teamsList|${e.split("?")[0]}|${t?.id}`);return r.teams&&r.teams.forEach(a=>{a.name=di(a.name),a.technologies_list=a.technologies.slice(0,8).map(o=>`${o.name} (${o.count})`).join(", ")}),r},pIe=(e,t,n)=>Hg(()=>`/teams/${e}/advanced-new`,s=>({q:n?null:s.teamQ,token:n?null:s.teamPageToken?.token,tokenType:n?null:s.teamPageToken?.type,parent:n?null:void 0}),"TEAM");function kK(e){const t=w.useRef(e),n=L0(t.current,e);return w.useEffect(()=>{t.current=n},[n]),n}const IK=({suffix:e,body:t,queryFn:n,parentDetailsFn:s,children:i=[],queryKeyElements:r=[],enabled:a=!0})=>{const o=w.useMemo(()=>{const u={queryKey:r.concat([e,t]),queryFn:()=>n({suffix:e,body:t}),placeholderData:Mx,staleTime:Zi(),enabled:a},h=i.map(f=>{const g=s?s(e,f):e;return{queryKey:r.concat([g,t]),queryFn:()=>n({suffix:g,body:t,parent:f}),placeholderData:Mx,staleTime:Zi(),enabled:a}});return[u,...h]},[e,t,n,s,i,r]),c=QV({queries:o});return kK(c)},LK=(e,t)=>{const n=e.includes("?")?"&":"?";return`${e}${n}parent_id=${t?.id??""}&next_page_token=${t?.token??""}`},GL=({organization_slug:e,children:t=[],bypassFilters:n=!1,enabled:s=!0})=>{const{advSearch:i}=ze(),r=mo("teams"),{suffix:a}=pIe(e,void 0,n),o=w.useCallback(({suffix:u,parent:h})=>fIe({suffix:u,parent:h,advSearch:i,secondaryParamsForSearch:r}),[i,r]),c=w.useMemo(()=>[],[]);return IK({suffix:a,body:JSON.stringify({advSearch:i,secondaryParamsForSearch:r}),queryFn:o,parentDetailsFn:LK,children:t,queryKeyElements:c,enabled:s})},gIe=async({suffix:e,body:t,parent:n})=>{if(localStorage.getItem("Authorization")===null)throw new Error("Logged out user.");const i=await Jk({url:e,method:"POST",contentType:"application/json",body:t},`$orgsList${n?n.full_id:""}`);if(i&&i.organizations)for(const r of i.organizations)n?r.full_id=n.full_id+"."+r.id:r.full_id=r.id.toString();return i},tb=e=>{const{advSearch:t}=ze(),{suffix:n}=hIe(),s=mo("organizations"),i=Ai(t,s);return IK({suffix:n,body:i,queryFn:gIe,parentDetailsFn:LK,children:e??[],queryKeyElements:s.organizations_list?["organizationsList",s.organizations_list.join(","),s.organizations_list_is_and?"and":"or"]:["organizationsList"]})},mIe=e=>{const t="/organizations/chips",n=(e??[]).map(a=>({queryKey:["orgChips",t,a],queryFn:async()=>{if(!a)return null;const o=new URLSearchParams;return o.append("token",a),await Ue({url:t,method:"POST",body:o.toString()})},staleTime:Zi()})),i=QV({queries:n}).map(a=>({isLoading:a.isLoading,isFetching:a.isFetching,data:a.data,isFetched:a.isFetched}));return kK(i)},yIe=e=>{const t=mIe(e),n=w.useMemo(()=>!t||t.length===0?[]:t.filter(r=>r.isFetched===!0).map(r=>r.data).flat().filter(r=>r!==null),[t]),s=w.useMemo(()=>t[0]?.isLoading??!1,[t]),i=w.useMemo(()=>t.some(r=>r.isFetching),[t]);return{isLoading:s,isSomeLoading:i,data:n}},OK=()=>{const[e,t]=w.useState([]),{advSearch:n,q:s}=ze(),i=tb(e),r=(c,u)=>{e.map(h=>h.full_id).includes(u)?t(e.filter(h=>h.full_id!==u)):t([...e,{id:c,full_id:u,index:0}])},a=c=>{const u={...c,link:`/orgs/${c.slug}`},h=e.map((f,g)=>({index:g+1,matches:f.full_id===u.full_id})).filter(f=>f.matches).map(f=>f.index);return h.length>0&&(u.children=[],h.map(f=>{const g=i[f].data?.organizations??!1;u.isLoadingChildren=!g;const m=i[f].data?.page_info.next_page_token,y=g&&g.map(b=>a(b));u.children&&y&&u.children.push(...y),u.children&&u.children.length>0&&m&&(u.children[Math.floor(u.children.length/2)].scrollEvent=()=>{const b=e[f-1].index+1;if(!e.some(C=>C.index===b&&C.id===u.id)){const C={id:u.id,full_id:u.full_id,index:b,token:m};setTimeout(()=>{t([...e,C])},100)}})})),u},o=(e??[]).length>0?i[0].data?.organizations.map(c=>a(c))??[]:i[0].data?.organizations??[];return w.useEffect(()=>{t([])},[n,s]),{isLoading:i[0].isLoading,baseData:i[0].data,orgsTableData:o,handleOrgToggle:r,chipsTokens:i.map(c=>c.data?.chips_token)}},xIe=()=>{const{baseData:e}=OK(),{advSearch:t}=ze(),{setOrganizationPageToken:n}=ze(),s=w.useCallback(()=>{e?.page_info.next_page_token&&n(e.page_info.next_page_token)},[e,n]),i=w.useCallback(()=>{e?.page_info.previous_page_token&&n(e.page_info.previous_page_token)},[e,n]),r=w.useMemo(()=>zl(e?.page_info?.results_count??0,e?.organizations.length??0,e?.page_info?.next_page_token??""),[e]),a=w.useRef(!0);return w.useEffect(()=>{if(a.current){a.current=!1;return}n(null)},[t]),{handleNextPage:s,handlePreviousPage:i,currentPageRange:r}},bIe=({isPeopleEmpty:e,isSearchEmpty:t})=>{const{updateIndividualVisibility:n,sorting:s,hideColumnByDefault:i}=w.useContext(_l),r=Gn("technology"),a=Gn("job_function"),o=Gn("tag");w.useEffect(()=>{n({table:"ORGS",columnId:s[0]?.id,visibility:!0})},[s]),w.useEffect(()=>{(r??[]).length>0||(a??[]).length>0||!r&&!a?n({table:"ORGS",columnId:"Tech jobs",visibility:!0}):n({table:"ORGS",columnId:"Tech jobs",visibility:!1}),!e&&!t&&n({table:"ORGS",columnId:"People count",visibility:!0})},[r,a,e,s]),w.useEffect(()=>{s.length>0&&n({table:"ORGS",columnId:s[0].id,visibility:!0})},[s]),w.useEffect(()=>{(o??[]).length>0&&n({table:"ORGS",columnId:"Org attributes",visibility:!0})},[o]),w.useEffect(()=>{["First job post","LinkedIn","Logo","HQ","AKA","Other URLs","Industry","Org attributes","Matched Teams","Matched People","Tech jobs growth","Primary cloud vendor","Cloud spend estimate"].map(c=>i("ORGS",c))},[])},vIe=(e,t)=>{const{isSearchEmpty:n}=ze(),s=w.useMemo(()=>{const u=t.flatMap(h=>h.counts?.technologies||[]).reduce((h,{id:f,jobs_count:g})=>(f&&(h[f]=(h[f]||0)+g),h),{});return Array.from(e.flatMap(h=>h.matched_technologies).reduce((h,f)=>(f&&!h.has(f.id)&&h.set(f.id,{...f,total_count:u[f.id]||0}),h),new Map).values()??[]).sort((h,f)=>(f.total_count??0)-(h.total_count??0))},[e,t]),i=w.useMemo(()=>{const u=t.flatMap(h=>h.counts?.job_functions||[]).reduce((h,{name:f,people_count:g})=>(f&&(h[f]=(h[f]||0)+g),h),{});return Array.from(new Set(e.flatMap(h=>h.matched_job_functions)||[])).filter(h=>h!==void 0).map(h=>({name:h,total_count:u[h]||0})).sort((h,f)=>f.total_count-h.total_count).map(h=>h.name)},[e,t]),r=w.useMemo(()=>{const u=t.flatMap(h=>h.counts?.job_levels||[]).reduce((h,{name:f,jobs_count:g})=>(f&&(h[f]=(h[f]||0)+g),h),{});return Array.from(e.flatMap(h=>h.matched_job_levels).reduce((h,f)=>(f&&!h.has(f.id)&&h.set(f.id,{...f,total_count:u[f.id]||0}),h),new Map).values()??[]).sort((h,f)=>(f.total_count??0)-(h.total_count??0))},[e,t]),a=w.useMemo(()=>{const u=t.flatMap(h=>h.matched_projects);return Array.from(new Map((u??[]).filter(h=>h!==void 0).map(h=>[h.slug,{slug:h.slug,name:h.name}])).values())},[t]),o=w.useMemo(()=>e.every(u=>u.people_count===null),[e]),c=w.useMemo(()=>n||s.length===0&&i.length===0&&a.length===0&&r.length===0,[s,i,a,r,n]);return{uniqueTechnologies:s,uniqueJobFunctions:i,uniqueProjects:a,uniqueJobLevels:r,isPeopleEmpty:o,isMatchedEmpty:c}},SIe=({min:e,max:t,rows:n,setRows:s})=>l.jsx("div",{className:"h-12 -mt-2 px-3",children:l.jsx(bd.Range,{step:10,values:[n],min:e,max:t,onChange:i=>s(i[0]),renderThumb:({props:i})=>w.createElement("div",{...i,key:i.key,className:"w-6 h-6 bg-green-600 rounded-full z-5 ring-0! outline-hidden!",style:{...i.style}}),renderTrack:({props:i,children:r})=>l.jsx("div",{onMouseDown:i.onMouseDown,onTouchStart:i.onTouchStart,style:{...i.style,height:"36px",display:"flex",width:"100%"},children:l.jsx("div",{ref:i.ref,className:"h-[5px] w-full rounded-xs self-center",style:{background:bd.getTrackBackground({values:[n],colors:["rgb(22 163 74 / var(--tw-bg-opacity, 1))","rgb(226 232 240 / var(--tw-bg-opacity, 1))"],min:e,max:t,rtl:!1})},children:r})})})}),wIe=()=>{const{advSearch:e,orgLists:t}=ze(),{data:n}=qo();return w.useMemo(()=>{const i=Array.from(document.querySelectorAll(".adv-group")).map(c=>`(${c.querySelector(".filter-group-text")?.textContent})`).join(` ${e.operator.toLowerCase()} `),r=Array.isArray(t)&&t.length>0?n?.filter(c=>t.includes((c.id??"default").toString())).map(c=>c.name):[],a=r?.join(", ");if(!a&&!i)return"New Account List";const o=`${i}${(r??[]).length>0?`${i?" in ":""}(${a})`:""}`;return o.length>100?`${o.slice(0,100)}...`:o},[e.operator,t,n])},CIe=({isOpen:e,handleClose:t})=>{const n=w.useRef(null),[s,i]=w.useState(""),[r,a]=w.useState(0),[o,c]=w.useState(100),{advSearch:u,orgLists:h,isOrgListsAnd:f,resetAllSearch:g,setOrgLists:m}=ze(),{data:y}=tb()[0],{mutate:b,isPending:S,data:C,isSuccess:M,error:N}=UL(),T=wIe(),E=df("ORGS");w.useEffect(()=>{if(e){const I=setTimeout(()=>{n.current?.focus()},10);return()=>clearTimeout(I)}},[e]),w.useEffect(()=>{r===0&&a(1)},[r]);const{q:k}=ze(),L=()=>{const I=Ai(u,{organizations_list:h,organizations_list_is_and:f,organization:k,person_name:null,job_title:null,team_name:null});b({name:s,advanced_query:{query:JSON.parse(I),orgs_count:r,...E}})};return w.useEffect(()=>{M&&C&&(Tt.success(`Account list '${s}' created successfully. ${C.added.length} organizations added.`,{duration:4e3}),g(),m([C.list_id]),t())},[M,C]),w.useEffect(()=>{N&&(console.error(N),Tt.error(`There was an error saving the account list. Please try again. ${N.message}`),t())},[N]),w.useEffect(()=>{if(y&&y.page_info.results_count){const I=y.page_info.results_count,_=I>2e3?2e3:I;a(_),c(_)}},[y]),w.useEffect(()=>{T&&i(T)},[T]),l.jsxs(l.Fragment,{children:[l.jsx(Ca,{anchor:"top start",children:l.jsxs("div",{className:"border border-slate-300 shadow-md rounded-lg w-[50rem] bg-white mb-4 flex flex-col px-10 pt-4 pb-6",children:[l.jsx("div",{className:"text-lg font-medium pb-6",children:"Save as Account List"}),l.jsxs("div",{className:"flex flex-row items-center pb-6",children:[l.jsx("label",{htmlFor:"list-name",className:"flex-none w-[15rem] text-slate-500 ",children:"List Name"}),l.jsx("input",{className:"flex-1 border-slate-200 rounded-xs",ref:n,id:"list-name",type:"text",placeholder:"Enter list name",value:s,onChange:I=>i(I.target.value),disabled:S})]}),l.jsxs("div",{className:"flex flex-row pb-6",children:[l.jsx("label",{className:"flex-none w-[15rem] text-slate-500",children:"Max orgs to add"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"-ml-3 -mr-3",children:l.jsx(SIe,{min:0,max:o,rows:r,setRows:a})}),l.jsxs("div",{className:"flex flex-row items-center",children:[l.jsx("input",{type:"number",value:r,className:"w-32 p-2 border-slate-200 rounded-xs",onChange:I=>{const _=Number(I.target.value);_>=0&&_<=o&&a(_)},disabled:S})," ",l.jsxs("div",{className:"text-slate-400 pl-4",children:["of max ",o]})]})]})]}),l.jsxs("div",{className:"flex flex-row gap-0 py-5",children:[l.jsx("div",{className:"w-[15rem]"}),l.jsx("button",{onClick:L,disabled:r===0||S||s.length===0,className:"bg-green-600 hover:bg-green-500 text-white rounded-lg font-medium px-4 py-2 disabled:bg-slate-200 ",children:S?"Saving...":"Save as Account List"})]})]})}),l.jsx(Xw,{className:"fixed inset-0 max-md:backdrop-blur-lg bg-white/80 z-10"})]})},MIe=Xe.memo(CIe),jIe=()=>l.jsx(gi,{children:({open:e,close:t})=>l.jsxs(l.Fragment,{children:[l.jsxs(qi,{className:"flex flex-row items-center gap-2 pl-3 pr-5 py-2 rounded-lg border border-slate-200 hover:bg-slate-50 text-slate-800 font-semibold max-md:hidden",children:[l.jsx(Coe,{className:"h-5 w-5 text-slate-500"}),l.jsx("span",{children:"Save as Account List"})]}),e&&l.jsx(MIe,{isOpen:e,handleClose:t})]})}),RK=(e,t,n)=>e.map(i=>{const r=t.filter(o=>o?.id===i?.id)[0]??void 0,a=i.children?RK(i.children,t,n):void 0;return{...i,counts:r,children:a,isSomeCountsLoading:n}}),NIe=()=>{const{sendEvent:e}=zn(),[t,n]=iIe(),{isPlaceholderData:s,isError:i,error:r}=tb()[0],{isLoading:a,baseData:o,orgsTableData:c,handleOrgToggle:u,chipsTokens:h}=OK(),{isSearchEmpty:f,organizationPageToken:g,setCurrentOrg:m,setSavedSearchId:y,q:b}=ze(),S=Gn("industry"),{data:C,isLoading:M,isSomeLoading:N}=yIe(h??void 0),{autoResizeWidths:T}=w.useContext(_l);w.useEffect(()=>{document?.querySelector("#organizations-scroll")?.scrollTo({top:0,left:0})},[g]);const E=w.useMemo(()=>!a&&o!==void 0,[a,o]),k=w.useMemo(()=>{const se=E&&c?c.map(oe=>({...oe,link:`/orgs/${oe.slug}`})):[];return E&&!M&&(C??[]).length>=1?RK(se,C??[],N):se.map(oe=>({...oe,isCountsLoading:M,isSomeCountsLoading:N}))},[E,c,C,M]),{uniqueTechnologies:L,uniqueJobFunctions:I,uniqueProjects:_,uniqueJobLevels:F,isPeopleEmpty:G,isMatchedEmpty:U}=vIe(c,k),{data:H,isLoading:z}=Gg(),$=Gn("tag"),P=w.useMemo(()=>({tagsList:H,isTagsLoading:z,filterTags:$}),[H,z,$]),B=w.useMemo(()=>dIe({uniqueTechnologies:L,uniqueJobFunctions:I,uniqueJobLevels:F,handleOrgToggle:u,uniqueProjects:_,tagsDict:P,isPeopleEmpty:G,isMatchedEmpty:U,selectedMatched:t,setSelectedMatched:n,autoResizeWidths:T,searchQuery:b,industries:S}),[L,_,I,F,P,G,f,U,t,T]);w.useEffect(()=>{m("")},[]),w.useEffect(()=>{e("Organizations List loaded",{category:"Web UI"})},[e]),w.useEffect(()=>(y(o?.subscription_id??null),()=>y(null)),[o]),bIe({isPeopleEmpty:G,isSearchEmpty:f});const{handleNextPage:Y,handlePreviousPage:K,currentPageRange:te}=xIe();return l.jsxs(l.Fragment,{children:[l.jsx(Qo,{canExpand:!0,className:"border-t-2 border-slate-100",collapseOnFilterChange:!0,columns:B,columnsName:"ORGS",data:k,disallowSorting:!0,isLoading:a,isPreviousData:s,isError:i,error:r,itemPlural:"organizations",pinColumns:1}),!a&&o&&l.jsx(Zo,{totalResults:o.page_info.results_count||0,currentResults:o.organizations.length,currentRange:te,isLoading:a||s,hasNext:!!o.page_info.next_page_token,hasPrevious:!!o.page_info.previous_page_token,next:Y,previous:K,children:l.jsxs(l.Fragment,{children:[l.jsx(O2,{isDisabled:o.page_info.results_count===0||o.export_enabled===!1,type:"orgs"}),l.jsx(jIe,{})]})})]})},WL=({initialValue:e,setValue:t})=>{const[n,s]=w.useState(e),i=ba(n,1e3),r=w.useRef(!1);return w.useEffect(()=>{r.current||s(e),r.current=!1},[e]),w.useEffect(()=>{i!==e&&t(i!==""?i:null)},[i,t,e]),{valueForInput:n??"",onChange:c=>{r.current=!0,s(c.target.value||"")}}},AIe=()=>{const{q:e,setQ:t}=ze(),{valueForInput:n,onChange:s}=WL({initialValue:e,setValue:t}),{data:i,isFetching:r}=tb()[0],a=i?.page_info.results_count?`${$e(i?.page_info.results_count)} matching orgs`:r?"Loading...":"No items found";return l.jsx(Fl,{value:n,onChange:s,hidden:r&&n==="",placeholderText:a})},TIe=()=>{const{jobQ:e,setJobQ:t}=ze(),{valueForInput:n,onChange:s}=WL({initialValue:e,setValue:t}),{data:i,isFetching:r}=Zc({}),a=i?.page_info.results_count?`${$e(i?.page_info.results_count)}${i&&i.page_info.results_count===2e4?"+":""} matching jobs`:r?"Loading...":"No items found";return l.jsx(Fl,{value:n,onChange:s,hidden:r&&n==="",placeholderText:a})},EIe=()=>{const{peopleQ:e,setPeopleQ:t}=ze(),{valueForInput:n,onChange:s}=WL({initialValue:e,setValue:t}),{data:i,isFetching:r}=_L(),a=i?.page_info.results_count?`${$e(i?.page_info.results_count)}${i&&i.page_info.results_count===2e4?"+":""} matching people`:r?"Loading...":"No items found";return l.jsx(Fl,{value:n,onChange:s,hidden:r&&n==="",placeholderText:a})},DIe=({type:e})=>e==="feed"?l.jsx(TIe,{}):e==="people"?l.jsx(EIe,{}):l.jsx(AIe,{}),kIe=()=>{const{data:e}=tb()[0];return l.jsx(eb,{resultsCount:e?.page_info.results_count,type:"EXPORT_ORGS"})},_K=()=>{const{organizationId:e}=He(),{jobQ:t}=ze(),{data:n}=Zc({organization_slug:e,useQ:!e,q:t??void 0});return l.jsx(eb,{resultsCount:n?.page_info.results_count,type:"FEED"})};var vT,q7;function IIe(){if(q7)return vT;q7=1;var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,s=Object.prototype.hasOwnProperty,i=(y,b)=>{for(var S in b)e(y,S,{get:b[S],enumerable:!0})},r=(y,b,S,C)=>{if(b&&typeof b=="object"||typeof b=="function")for(let M of n(b))!s.call(y,M)&&M!==S&&e(y,M,{get:()=>b[M],enumerable:!(C=t(b,M))||C.enumerable});return y},a=y=>r(e({},"__esModule",{value:!0}),y),o={};i(o,{default:()=>m,excludePostNominals:()=>f,nameFixer:()=>g,setOptions:()=>h}),vT=a(o);var c=class{EXCEPTIONS=[[/\bMacEdo/,"Macedo"],[/\bMacEvicius/,"Macevicius"],[/\bMacHado/,"Machado"],[/\bMacHar/,"Machar"],[/\bMacHin/,"Machin"],[/\bMacHlin/,"Machlin"],[/\bMacIas/,"Macias"],[/\bMacIulis/,"Maciulis"],[/\bMacKie/,"Mackie"],[/\bMacKle/,"Mackle"],[/\bMacKlin/,"Macklin"],[/\bMacKmin/,"Mackmin"],[/\bMacQuarie/,"Macquarie"],[/\bMacOmber/,"Macomber"],[/\bMacIn/,"Macin"],[/\bMacKintosh/,"Mackintosh"],[/\bMacKen/,"Macken"],[/\bMacHen/,"Machen"],[/\bMacisaac/,"MacIsaac"],[/\bMacHiel/,"Machiel"],[/\bMacIol/,"Maciol"],[/\bMacKell/,"Mackell"],[/\bMacKlem/,"Macklem"],[/\bMacKrell/,"Mackrell"],[/\bMacLin/,"Maclin"],[/\bMacKey/,"Mackey"],[/\bMacKley/,"Mackley"],[/\bMacHell/,"Machell"],[/\bMacHon/,"Machon"]];REPLACEMENTS=[[/\b(Al)(\s+\w)/,"al$2"],[/\b(Ap)\b/,"ap"],[/\b(Bin|Binti|Binte)\b/,"bin"],[/\bDell([ae])\b/,"dell$1"],[/\bD([aeiou])\b/,"d$1"],[/\bD([ao]s)\b/,"d$1"],[/\bDe([lrn])\b/,"de$1"],[/\bL([eo])\b/,"l$1"],[/\b(El)\b/,"el"],[/\b(La)\b/,"la"],[/\b(Te)([rn])\b/,"te$2"],[/\b(Van)(\s+\w)/,"van$2"],[/\b(Von)\b/,"von"]];HEBREW=[[/\b(Ben)(\s+\w)/,"ben$2"],[/\b(Bat)(\s+\w)/,"bat$2"]];CONJUNCTIONS=["Y","E","I"];ROMAN_REGEX=/\b((?:[Xx]{1,3}|[Xx][Ll]|[Ll][Xx]{0,3})?(?:[Ii]{1,3}|[Ii][VvXx]|[Vv][Ii]{0,3})?)\b/g;POST_NOMINALS=["ACILEx","ACSM","ADC","AEPC","AFC","AFM","AICSM","AKC","AM","ARBRIBA","ARCS","ARRC","ARSM","AUH","AUS","BA","BArch","BCh","BChir","BCL","BDS","BEd","BEM","BEng","BM","BS","BSc","BSW","BVM&S","BVScBVetMed","CB","CBE","CEng","CertHE","CGC","CGM","CH","CIE","CMarEngCMarSci","CMarTech","CMG","CMILT","CML","CPhT","CPLCTP","CPM","CQSW","CSciTeach","CSI","CTL","CVO","DBE","DBEnv","DC","DCB","DCM","DCMG","DConstMgt","DCVO","DD","DEM","DFC","DFM","DIC","Dip","DipHE","DipLP","DipSW","DL","DLitt","DLP","DPhil","DProf","DPT","DREst","DSC","DSM","DSO","DSocSci","ED","EdD","EJLog","EMLog","EN","EngD","EngTech","ERD","ESLog","FADO","FAWM","FBDOFCOptom","FCEM","FCILEx","FCILT","FCSP.","FdAFdSc","FdEng","FFHOM","FFPM","FRCAFFPMRCA","FRCGP","FRCOG","FRCP","FRCPsych","FRCS","FRCVS","FSCR.","GBE","GC","GCB","GCIE","GCILEx","GCMG","GCSI","GCVO","GM","HNC","HNCert","HND","HNDip","ICTTech","IDSM","IEng","IMarEng","IOMCPM","ISO","J","JP","JrLog","KBE","KC","KCB","KCIE","KCMG","KCSI","KCVO","KG","KP","KT","LFHOM","LG","LJ","LLB","LLD","LLM","Log","LPE","LVO","MA","MAcc","MAnth","MArch","MarEngTech","MB","MBA","MBChB","MBE","MBEIOM","MBiochem","MC","MCEM","MCGI","MCh.","MChem","MChiro","MClinRes","MComp","MCOptom","MCSM","MCSP","MD","MEarthSc","MEng","MEnt","MEP","MFHOM","MFin","MFPM","MGeol","MILT","MJur","MLA","MLitt","MM","MMath","MMathStat","MMORSE","MMus","MOst","MP","MPAMEd","MPharm","MPhil","MPhys","MRCGP","MRCOG","MRCP","MRCPath","MRCPCHFRCPCH","MRCPsych","MRCS","MRCVS","MRes","MSc","MScChiro","MSci","MSCR","MSM","MSocSc","MSP","MSt","MSW","MSYP","MVO","NPQH","OBE","OBI","OM","OND","PgC","PGCAP","PGCE","PgCert","PGCHE","PgCLTHE","PgD","PGDE","PgDip","PhD","PLog","PLS","QAM","QC","QFSM","QGM","QHC","QHDS","QHNS","QHP","QHS","QPM","QS","QTSCSci","RD","RFHN","RGN","RHV","RIAI","RIAS","RM","RMN","RN","RN1RNA","RN2","RN3","RN4","RN5","RN6","RN7","RN8","RN9","RNC","RNLD","RNMH","ROH","RRC","RSAW","RSci","RSciTech","RSCN","RSN","RVM","RVN","SCHM","SCJ","SCLD","SEN","SGM","SL","SPANSPMH","SPCC","SPCN","SPDN","SPHP","SPLD","SrLog","SRN","SROT","TD","UD","V100","V200","V300","VC","VD","VetMB","VN","VRD"];LOWER_CASE_WORDS=["The","Of","And"];postNominalsExcluded=[];INITIAL_NAME_REGEX=/\b(Aj|[bcdfghjklmnpqrstvwxyzBCDFGHJKLMNPQRSTVWXYZ]{2})\s/;INITIAL_NAME_EXCEPTIONS=["Mr","Ms","Dr","St","Jr","Sr","Lt"];options={lazy:!0,irish:!0,spanish:!0,roman:!0,hebrew:!0,postNominal:!0};bckOptions={...this.options};constructor(y){this.setOptions(y)}setOptions(y){this.options={...this.options,...y}}backupOptions(){this.bckOptions={...this.options}}restoreOptions(){this.options={...this.bckOptions}}excludePostNominals(y){this.postNominalsExcluded=this.postNominalsExcluded.concat(y)}nameFixer(y,b={}){if(y===""||(this.backupOptions(),this.setOptions(b),this.options.lazy&&this.skipMixed(y)))return y;y=this.capitalizeFirstLetters(y),y=this.lowercaseFinalS(y),y=this.updateIrish(y);for(const[S,C]of this.getReplacements())y=y.replace(S,C);return y=this.correctInitialNames(y),y=this.correctLowerCaseWords(y),y=this.processOptions(y),this.restoreOptions(),y}processOptions(y){return this.options.roman&&(y=this.updateRoman(y)),this.options.spanish&&(y=this.updateSpanish(y)),this.options.postNominal&&(y=this.fixPostNominal(y)),y}capitalizeFirstLetters(y){return y=y.toLowerCase(),y.replace(/([\s,.:;"'(-]|^)([^\s,.:;"'(-])/g,(...b)=>b[1]+b[2].toUpperCase())}lowercaseFinalS(y){return y.replace(/'([^\s,.:;"'(-])([\s,.:;"'(-]|$)/g,(...b)=>"'"+b[1].toLowerCase()+b[2])}getReplacements(){let y=this.REPLACEMENTS;return this.options.hebrew&&(y=y.concat(this.HEBREW)),y}updateIrish(y){return this.options.irish?((/.*?\bMac[A-Za-z]{2,}[^aciozj]\b/.test(y)||/.*?\bMc/.test(y))&&(y=this.updateMac(y)),y.replace(/\bMacmurdo/,"MacMurdo").replace(/\bMacisaac/,"MacIsaac")):y}updateMac(y){y=y.replace(/\b(Ma?c)([A-Za-z]+)/,(...b)=>b[1]+b[2].charAt(0).toUpperCase()+b[2].substring(1));for(const[b,S]of this.EXCEPTIONS)y=y.replace(b,S);return y}updateRoman(y){return y.replace(this.ROMAN_REGEX,(...b)=>b[0].toUpperCase())}updateSpanish(y){for(const b of this.CONJUNCTIONS)y=y.replace(new RegExp(`([\\s,.:;"'-(]|^)${b}([\\s,:;"'-(]|$)`,"g"),(...S)=>S[1]+b.toLowerCase()+S[2]);return y}correctInitialNames(y){return y.replace(this.INITIAL_NAME_REGEX,(...b)=>{const S=b[0];return this.INITIAL_NAME_EXCEPTIONS.includes(b[1])?S:S.toUpperCase()})}correctLowerCaseWords(y){for(const b of this.LOWER_CASE_WORDS)y=y.replace(new RegExp(`([\\s,.:;"'-(]|^)${b}([\\s,.:;"'-(]|$)`,"g"),(...S)=>S[1]+b.toLowerCase()+S[2]);return y}fixPostNominal(y){const b=this.POST_NOMINALS.filter(S=>!this.postNominalsExcluded.includes(S));for(const S of b)y=y.replace(new RegExp(`([\\s,.:;"'-(]|^)${this.capitalizeFirstLetters(S)}([\\s,.:;"'-(]|$)`,"g"),(...C)=>C[1]+S+C[2]);return y}skipMixed(y){const b=y[0]===y[0].toLowerCase(),S=y.toLowerCase()===y||y.toUpperCase()===y;return!(b||S)}},u=new c,h=y=>u.setOptions(y),f=y=>u.excludePostNominals(y),g=(y,b)=>u.nameFixer(y,b),m=c;return vT}var LIe=IIe();const OIe=()=>{const{peoplePerOrg:e}=ze(),t=e||5;return l.jsxs("span",{className:"pl-4 inline-flex flex-row gap-2 items-center",children:["(find up to"," ",l.jsxs(gi,{className:"relative",children:[l.jsxs(qi,{className:"inline-flex gap-2 items-center border border-slate-200 hover:border-slate-300! px-2 rounded-md font-medium focus:outline-none",children:[t,l.jsx(i2,{className:"size-3 "})]}),l.jsx(Ca,{anchor:"top end",className:"w-80 pb-4 ml-24",children:l.jsxs("div",{className:"gap-2 flex flex-col bg-white rounded-lg shadow-lg border border-slate-200 p-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("h3",{className:"font-medium text-slate-700",children:[t," people per organization"]})}),l.jsx(HY,{className:"py-2"}),l.jsxs("div",{className:"flex justify-between text-sm text-slate-500",children:[l.jsx("div",{children:"5"}),l.jsx("div",{children:"1,000"})]})]})})]})," ","people per company)"]})},YL=({person:e,children:t,organizationId:n,isInLists:s=!1,showSfdcButton:i=!0,isLoadingCrmPresence:r=!1,isInCrm:a=!1,crmEntityType:o,crmEntityUrl:c,sfdcAccountMapped:u,sfdcAccountMappings:h,variant:f="table",className:g="",onPersonAction:m})=>{const y=f==="table",b=y?"h-6 w-6 bg-slate-200 hover:bg-slate-300 text-slate-500 flex items-center justify-center rounded-md":"border! border-slate-300! rounded-[1rem]! size-11.5! font-medium! text-slate-400! hover:border-slate-400! transition-colors flex items-center justify-center",S=E=>{m?.(e.id,E)},C=y?`h-6 w-6 ${s?"bg-green-200 hover:bg-green-300 text-green-600":"bg-slate-200 hover:bg-slate-300 text-slate-500"} flex items-center justify-center rounded-md`:b,M=y?"h-6 w-6 bg-slate-200 hover:bg-slate-300 text-slate-400 flex items-center justify-center rounded-md":b,N=y?"w-4 h-4":"size-7",T=y?"w-3 h-3":"size-5 mr-0.5";return l.jsxs("div",{className:`flex flex-row gap-2 ${g}`,children:[l.jsx(Ht,{description:"Add to Contact List",children:l.jsx(HI,{people:[e],source:"people",successCallback:()=>S("add_to_contacts"),button:l.jsx(qi,{className:C,children:l.jsx(Fo,{className:N})})})}),l.jsx(Ht,{description:"Open in LinkedIn",children:l.jsx(Re,{doNotPassQuery:!0,to:e.profile_url,target:"_blank",className:M,onClick:E=>{E.stopPropagation(),S("open_linkedin")},children:l.jsx(Ux,{className:T})})}),i&&n&&l.jsx(xG,{isLoading:r,isInCrm:a,crmEntityType:o,crmEntityUrl:c,organizationId:n,profileUrl:e.profile_url,personId:e.id,sfdcAccountMapped:u,sfdcAccountMappings:h,buttonClassName:b,selectedButtonClassName:`${b} bg-green-100! text-green-600/80!`,iconClassName:f==="card"?"size-5!":"",onClick:()=>S("add_to_salesforce")}),t]})},RIe=yo(),PK=({showSfdcButton:e,organizationId:t,peoplePresence:n,isLoadingPeoplePresence:s,size:i=120,enableHiding:r=!1,onPersonAction:a})=>RIe.display({header:"Actions",id:"Actions",cell:o=>{const c=o.row.original,u=(c.lists??[]).length>0,h=e&&n.length>0?n.find(f=>f.person_id===c.id):void 0;return l.jsx(YL,{person:c,organizationId:"org_slug"in c?c.org_slug??t:t,isInLists:u,showSfdcButton:e,isLoadingCrmPresence:s,isInCrm:h?.is_in_crm??!1,crmEntityType:h?.crm_entity_type,crmEntityUrl:h?.crm_entity_url,sfdcAccountMapped:h?.sfdc_account_mapped,sfdcAccountMappings:h?.sfdc_account_mappings,variant:"table",onPersonAction:a})},size:i,enableResizing:!1,enableSorting:!1,enableHiding:r}),_Ie=({setIsOpen:e,source:t,people:n})=>{const[s,i]=w.useState(n.map(c=>({...c,selected:!0}))),r=c=>{i(u=>u.map(h=>h.name===c?{...h,selected:!h.selected}:h))},a=s.filter(c=>c.selected),o=s.length===a.length;return l.jsx(Y0,{isOpen:!0,setIsOpen:e,className:"p-0! max-w-[40rem]",children:l.jsxs("div",{children:[l.jsx("div",{className:"border-b-2 border-slate-100 px-5 h-16 pt-2 flex items-start font-medium text-slate-400",children:"Bulk add to Contact List"}),l.jsxs("div",{className:"max-h-[50vh] overflow-auto",children:[l.jsxs("label",{className:"h-10 flex flex-row gap-4 items-center px-5 font-medium text-slate-700 hover:bg-slate-50 select-none",children:[l.jsx("div",{className:"w-4 flex-none",children:l.jsx("input",{type:"checkbox",onChange:()=>i(c=>c.map(u=>({...u,selected:!o}))),checked:o,className:"h-4 w-4 rounded-sm border-slate-300 text-green-600 focus:ring-green-600 "})}),l.jsx("div",{className:"flex-[0.75] font-medium",children:"Name"}),l.jsx("div",{className:"flex-1 font-medium",children:"Title"})]}),s.map(c=>l.jsxs("label",{className:"flex flex-row gap-4 py-2 items-start px-5 hover:bg-slate-50 cursor-pointer select-none text-slate-500 border-t border-slate-100",children:[l.jsx("input",{type:"checkbox",onChange:()=>r(c.name),checked:c.selected,className:"h-4 w-4 rounded-sm border-slate-300 text-green-600 focus:ring-green-600 relative top-[3.5px] "}),l.jsx("div",{className:"flex-[0.75] font-medium",children:c.name}),l.jsx("div",{className:"flex-1  text-slate-400 font-regular",children:c.title})]},c.id))]}),l.jsx("div",{className:"border-t-2 border-slate-100 px-5 h-16 flex items-end relative",children:l.jsx(HI,{people:a,successCallback:()=>e(!1),source:t,button:l.jsxs(qi,{className:"relative text-green-600 font-medium hover:text-green-700 py-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:a.length===0,children:["Add ",a.length," people to Contact List"]}),className:"",isBulkAdd:!0})})]})})},zK=({source:e,people:t})=>{const[n,s]=w.useState(!1),{sendEvent:i}=zn();return!t.length||t.length===1?null:l.jsxs(l.Fragment,{children:[l.jsxs("button",{className:"flex flex-row gap-2 items-center border border-slate-200 hover:bg-slate-50 text-slate-800 font-semibold px-3 xl:pl-3 xl:pr-5 py-2 rounded-lg whitespace-nowrap",onClick:()=>{i("Bulk Add People",{action:"click",category:"people",label:"bulk_add_to_list"}),s(!0)},children:[l.jsx(Fo,{className:"w-5 h-5"}),l.jsx("span",{className:"max-xl:hidden",children:"Bulk Add to List"})]}),n&&l.jsx(_Ie,{source:e,setIsOpen:s,people:t})]})},xc=yo(),PIe=e=>({q:"",techs:e.matched_technologies,job_functions:e.matched_job_functions?.map(t=>t.name),loc:e.matched_countries?.map(t=>t.slug),job_levels:e.matched_job_levels?.map(t=>t.name)??[]}),zIe=({isMatchedEmpty:e,people:t,peopleQ:n,organizationId:s,jobFunctions:i,levels:r,locations:a,peoplePresence:o,isLoadingPeoplePresence:c,showSfdcButton:u=!1})=>[PK({showSfdcButton:u,organizationId:s??"",peoplePresence:o??[],isLoadingPeoplePresence:c??!1,size:u?130:110,enableHiding:!1}),t.length>0&&t[0].org_slug?xc.accessor("org_name",{header:"Organization",id:"Organization",cell:h=>{const f={openInNewWindow:!0,text:h.getValue(),type:"general",href:`/orgs/${h.row.original.org_slug}`,tooltip:"Open organization in new window"};return l.jsx("div",{className:"truncate",children:l.jsx(gt,{...f})})},size:350,minSize:200,enableHiding:!1}):null,xc.accessor("fixedName",{id:"Name",header:"Name",meta:{},size:250,minSize:250,enableHiding:!1,enableSorting:!1,cell:h=>{const f=h.getValue()??h.row.original.name;return l.jsxs("div",{className:"font-semibold flex flex-row gap-2 items-start truncate",children:[l.jsx(Wk,{className:"w-5 h-5 flex-none text-slate-300 relative top-[0.14rem]"}),l.jsx("div",{className:"truncate",children:l.jsx(ad,{searchWord:n??"",highlightClassName:"bg-yellow-100/75",textToHighlight:f})})]})}}),e?null:xc.display({header:"Matched",id:"Matched",cell:h=>{const f=PIe(h.row.original);return l.jsx("div",{children:l.jsx(h2,{organization:s,filters:f,returnNullOnEmpty:!0})})},minSize:300,size:300}),xc.accessor("title",{id:"Role",header:"Role",meta:{},size:250,minSize:250,enableHiding:!0,enableSorting:!1,cell:h=>l.jsx("div",{className:"truncate",children:h.getValue()})}),xc.accessor("start_date",{id:"Start date",header:"Start date",meta:{},size:120,minSize:120,enableHiding:!0,enableSorting:!1,cell:h=>{const f=h.getValue();return f!=null&&new Date(f).getUTCFullYear()<2e3?null:f?l.jsx("div",{className:"text-right flex-1 flex justify-end",children:l.jsx(gt,{text:l.jsxs("span",{className:"text-slate-400",children:[Pl(f),l.jsx("span",{className:"max-md:hidden pl-1",children:"ago"})]}),type:"general",disallowClick:!0,hideArrow:!0})}):null}}),xc.accessor("job_function",{id:"Job function",header:"Job function",meta:{},size:150,minSize:150,enableHiding:!0,enableSorting:!1,cell:h=>!h.getValue()||h.getValue()==="Uncategorized"?null:l.jsx("div",{className:"max-w-full",children:l.jsx(gt,{text:h.getValue(),item:{name:h.getValue()??"",slug:h.getValue()??""},selected:(i&&i.length>0)??!1,type:"job_functions"})})}),xc.accessor("level",{id:"Level",header:"Level",meta:{},size:150,minSize:150,enableHiding:!0,enableSorting:!1,cell:h=>l.jsx("div",{className:"max-w-full",children:l.jsx(gt,{disallowClick:!0,hideArrow:!0,text:h.getValue(),item:{name:"",slug:""},selected:(r&&r.length>0)??!1,type:"general_with_selected"})})}),xc.accessor("location",{id:"Location",header:"Location",meta:{},size:200,minSize:150,enableHiding:!0,enableSorting:!1,cell:h=>l.jsx("div",{className:"truncate",children:h.getValue()})}),xc.accessor("country",{id:"Country",header:"Country",meta:{},size:150,minSize:150,enableHiding:!0,enableSorting:!1,cell:h=>{const f=h.getValue(),g=h.row.original.country_code,m=a&&a.length>0&&!!g&&a.includes(g);return f?l.jsx("div",{className:"max-w-full",children:l.jsx(gt,{text:f,item:{name:f||"",slug:g||""},selected:m??!1,type:"country"})}):null}})].filter(h=>h!==null),FIe=({className:e,createLink:t,currentRange:n,emptyMessage:s,error:i,isError:r,isFullPage:a,isLoading:o,isPreviousData:c,location:u,nextPageToken:h,paginationCaption:f,people:g,previousPageToken:m,scrollPosition:y,sendToLinkedIn:b,setPageToken:S,setScrollPosition:C,showJobFunctions:M,showPeoplePerOrganizationControl:N,showTeams:T,totalPeople:E})=>{const{sendEvent:k}=zn(),L=Gn("country"),{updateIndividualVisibility:I}=w.useContext(_l),{setLocations:_,peopleQ:F,levels:G,locations:U}=ze(),{organizationId:H}=He(),z=Gn("job_function"),{data:$}=Gt(),P=w.useCallback(ye=>t?t(ye):`${ye.id}`,[t]),B=w.useMemo(()=>g.map(ye=>ye.id),[g]),{data:Y,isLoading:K}=GI({personIds:B}),te=w.useMemo(()=>g.map(ye=>({...ye,fixedName:LIe.nameFixer(ye.name,{lazy:!1,hebrew:!1}),link:b?ye.profile_url:P(ye)})),[g,b,P]),se=w.useMemo(()=>g?.every(ye=>(ye.matched_job_functions?.length??0)===0&&(ye.matched_technologies?.length??0)===0&&(ye.matched_job_levels?.length??0)===0&&(ye.matched_countries?.length??0)===0)??!1,[g]),fe=w.useMemo(()=>zIe({isMatchedEmpty:se,people:g,peopleQ:F??null,organizationId:H,jobFunctions:z??[],levels:G??[],locations:U??[],peoplePresence:Y,isLoadingPeoplePresence:K,showSfdcButton:($&&$.can_send_to_sfdc)??!1}),[g,se,F,H,z,G,U,Y,K]),oe=w.useMemo(()=>{let ye=fe;return M||(ye=ye.filter(je=>je.id!=="Job function")),T||(ye=ye.filter(je=>je.id!=="Teams")),ye},[fe,M,T]),Ee=w.useRef(null);return w.useEffect(()=>{y!==0&&Ee.current?.scrollTo(0,y),k("People Table Viewed",{})},[g]),w.useEffect(()=>{L&&(L??[]).length>0&&_(L)},[L]),w.useEffect(()=>{u==="organization"?(I({table:"PEOPLE",columnId:"Location",visibility:!0}),I({table:"PEOPLE",columnId:"Teams",visibility:!0})):(I({table:"PEOPLE",columnId:"Location",visibility:!1}),I({table:"PEOPLE",columnId:"Teams",visibility:!1}))},[u]),l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`w-full flex-1 flex flex-col overflow-auto ${e}`,ref:Ee,onScroll:ye=>{C(ye.currentTarget.scrollTop)},children:l.jsx(Qo,{className:`${a?"":"md:min-w-0! md:w-full! overflow-visible!"}`,columnsName:"PEOPLE",columns:oe,data:te,disallowSorting:!0,emptyMessage:s,isLoading:o,isPreviousData:c,lockedMessage:"People data is available on the Pro Plan and above.",lockedButtonText:"Unlock these people results",itemPlural:"people",pinColumns:1,error:i,isError:r})}),l.jsx(Zo,{caption:f??"people",currentResults:g.length,currentRange:n,hasNext:h!==null,hasPrevious:m!==null,isLoading:o,showPeoplePerOrganizationControl:N,peoplePerOrgSelector:N?l.jsx(OIe,{}):void 0,next:()=>{h&&S({next_page_token:h,previous_page_token:null})},previous:()=>{S({next_page_token:m??"0",previous_page_token:null})},totalResults:E,children:l.jsxs(l.Fragment,{children:[u!=="job_function"&&l.jsx(O2,{type:"people"}),l.jsx(zK,{source:"people",people:g})]})})]})},KL=Xe.memo(FIe),$Ie=()=>{const{setPeoplePageToken:e,peoplePageToken:t}=ze(),{data:n,isLoading:s,isPlaceholderData:i,isError:r,error:a}=_L(),o=g=>{if(typeof g=="function"){const m=g(t??{next_page_token:null,previous_page_token:null});e(m)}else e(g)},c=(n?.people?.length??1)-1,u=t?.next_page_token?Number(t.next_page_token):t?.previous_page_token?Number(t.previous_page_token):1,h=u+c,f=[u,h];return w.useEffect(()=>()=>{e({next_page_token:null,previous_page_token:null})},[]),l.jsx(l.Fragment,{children:s?l.jsx("div",{className:"border-t-2 border-slate-100"}):l.jsx(l.Fragment,{children:l.jsx(KL,{className:"border-t-2 border-slate-100",currentRange:f,people:n?.people??[],isFullPage:!0,isLoading:s,isPreviousData:i,totalPeople:n?.page_info.results_count??0,previousPageToken:n?.page_info.previous_page_token??null,nextPageToken:n?.page_info.next_page_token??null,sendToLinkedIn:!1,setPageToken:o,scrollPosition:0,setScrollPosition:()=>{},showJobFunctions:!0,showTeams:!0,error:a,isError:r,location:"organization",createLink:g=>`${g.org_slug}/${g.id}`,paginationCaption:"people",showPeoplePerOrganizationControl:!0})})})},ST=({type:e})=>{const{setPageToken:t}=w.useContext(R0),{setShowSaveSearch:n}=ze(),{sendEvent:s}=zn(),i=[{to:"/orgs",isActive:e==="orgs",children:"Organization"},{to:"/jobs",isActive:e==="feed",children:"Job Post"},{to:"/people",isActive:e==="people",children:"People",isNotPlural:!0}],[r]=em();return w.useEffect(()=>(s("Organizations loaded",{category:"Web UI"}),()=>{t(null)}),[]),w.useEffect(()=>(n(!0),()=>n(!1)),[]),l.jsxs(l.Fragment,{children:[l.jsx(Kke,{tabLinks:i,type:e==="feed"?"POSTS":e==="orgs"?"ORGS":"PEOPLE"}),l.jsx("div",{className:"flex flex-1 flex-row h-[calc(100%-9rem)]",children:l.jsxs("div",{className:"flex-1 flex flex-col w-full",children:[l.jsx(vK,{searchType:l.jsx(DIe,{type:e??""}),tabLinks:i}),r?e==="orgs"?l.jsx(kIe,{}):e==="people"?l.jsx(PL,{export_type:"PEOPLE"}):l.jsx(_K,{}):l.jsx(l.Fragment,{children:e==="feed"?l.jsxs(l.Fragment,{children:[l.jsx(ZY,{organizationId:void 0}),l.jsx(sd,{context:{currentTeamItem:null,type:"jobs"}})]}):e==="people"?l.jsxs(l.Fragment,{children:[l.jsx($Ie,{}),l.jsx(sd,{context:{currentTeamItem:null,type:"people"}})]}):l.jsx(NIe,{})})]})})]})},BIe=()=>l.jsx("div",{className:"bg-slate-100 min-h-screen px-4 py-12 overflow-auto",children:l.jsxs("div",{className:"max-w-[50rem] px-8 py-8 mb-24 mx-auto bg-white shadow-lg gap-4 flex flex-col",children:[l.jsxs("h1",{className:"text-center mb-24 font-semibold",children:["Sumble Privacy Policy",l.jsx("br",{}),"Last Revised on 7 Oct 2024"]}),l.jsxs("p",{className:"text-justify",children:['This Privacy Policy for Sumble, Inc. ("',l.jsx("span",{className:"font-bold",children:"Company"}),'", "',l.jsx("span",{className:"font-bold",children:"we"}),'", "',l.jsx("span",{className:"font-bold",children:"us"}),'" "',l.jsx("span",{className:"font-bold",children:"our"}),`") describes how we collect, use and disclose information about users of the Company's websites (including, https://sumble.com and https://sumble.com/privacy), applications, services, tools and features (collectively, the "`,l.jsx("span",{className:"font-bold",children:"Services"}),'"). For the purposes of this Privacy Policy, "',l.jsx("span",{className:"font-bold",children:"you"}),'" and "',l.jsx("span",{className:"font-bold",children:"your"}),'" means you as the user of the Services. Please note that the Services are designed for users in the United States only and are not intended for users located outside the United States.']}),l.jsx("p",{className:"text-justify",children:"Please read this Privacy Policy carefully. By using, accessing, or downloading any of the services, you agree to the collection, use, and disclosure of your information as described in this Privacy Policy. If you do not agree to this Privacy Policy, please do not use, access or download any of the services."}),l.jsx("h2",{className:"font-semibold mt-8",children:"1. UPDATING THIS PRIVACY POLICY"}),l.jsx("p",{className:"text-justify",children:'We may modify this Privacy Policy from time to time in which case we will update the "Last Revised" date at the top of this Privacy Policy. If we make material changes to the way in which we use information we collect, we will use reasonable efforts to notify you (such as by emailing you at the last email address you provided us, by posting notice of such changes on the Services, or by other means consistent with applicable law) and will take additional steps as required by applicable law. If you do not agree to any updates to this Privacy Policy please do not access or continue to use the services.'}),l.jsx("h2",{className:"font-semibold mt-8",children:"2. COMPANY'S COLLECTION AND USE OF INFORMATION"}),l.jsx("p",{className:"text-justify",children:"When you access or use the Services, we may collect certain categories of information about you from a variety of sources."}),l.jsx("p",{className:"text-justify",children:"Some features of the Services may require you to directly enter certain information about yourself. You may elect not to provide this information, but doing so may prevent you from using or accessing these features. Information that you directly submit through our Services are:"}),l.jsxs("ul",{className:"list-disc pl-10",children:[l.jsx("li",{className:"text-justify",children:"Basic contact details, as follows name, email and company name. We collect basic contact details to communicate with you, provide you with the Services, and market to you."}),l.jsx("li",{className:"text-justify",children:"Any other information you choose to include in communications with us, for example, when sending a message through the feedback web form."})]}),l.jsxs("p",{className:"text-justify",children:['We also automatically collect certain information about your interaction with the Services ("',l.jsx("span",{className:"font-bold",children:"Usage Data"}),'"). To do this, we may use cookies ("',l.jsx("span",{className:"font-bold",children:"Tracking Technologies"}),'"). Usage Data may include:']}),l.jsxs("ul",{className:"list-disc pl-10",children:[l.jsx("li",{className:"text-justify",children:"Unique device identifier"}),l.jsx("li",{className:"text-justify",children:"Device type, such as your phone, computer, or tablet"}),l.jsx("li",{className:"text-justify",children:"IP address"}),l.jsx("li",{className:"text-justify",children:"Browser type"}),l.jsx("li",{className:"text-justify",children:"Date and time stamps, such as the date and time you first accessed the Services"}),l.jsx("li",{className:"text-justify",children:"Operating system"}),l.jsx("li",{className:"text-justify",children:"Log data"}),l.jsx("li",{className:"text-justify",children:"Precise location"}),l.jsx("li",{className:"text-justify",children:"Other information regarding your interaction with the Services, such as clickstream data"}),l.jsx("li",{className:"text-justify",children:"Session recordings"})]}),l.jsx("p",{className:"text-justify",children:"We use the information we collect automatically to tailor features and content to you, to market to you, to provide you with offers or promotions, to run analytics and better understand user interaction with the Services."}),l.jsx("p",{className:"text-justify",children:"We may obtain information about you from outside sources, such as:"}),l.jsx("ul",{className:"list-disc pl-10",children:l.jsx("li",{className:"text-justify",children:"Consumer marketing databases or other data enrichment companies, which is used to better customize our Services and populate information that may be useful for your business leads."})}),l.jsx("p",{className:"text-justify",children:"Any information we receive from outside sources will be treated in accordance with this Privacy Policy. We are not responsible or liable for the accuracy of the information provided to us by third parties and are not responsible for any third party's policies or practices. See Section 6 below for more information."}),l.jsx("p",{className:"text-justify",children:"In addition to the foregoing, we may use any of the above information to comply with any applicable legal obligations, to enforce any applicable terms of service, and to protect or defend the Services, our rights, and the rights of our users or others."}),l.jsx("h2",{className:"font-semibold mt-8",children:"3. HOW THE COMPANY SHARES YOUR INFORMATION"}),l.jsx("p",{className:"text-justify",children:"In certain circumstances, the Company may share your information with third parties for legitimate purposes subject to this Privacy Policy. Such circumstances may include:"}),l.jsxs("ul",{className:"list-disc pl-10",children:[l.jsx("li",{className:"text-justify",children:"With vendors or other service providers, such as those providing technical infrastructure services, analyzing how our Services are used, providing customer service, administering our communications, or storing data."}),l.jsx("li",{className:"text-justify",children:"With our affiliates or otherwise within our corporate group."}),l.jsx("li",{className:"text-justify",children:"To comply with applicable law or any obligations thereunder, including cooperation with law enforcement, judicial orders, and regulatory inquiries."}),l.jsx("li",{className:"text-justify",children:"In connection with an asset sale, merger, bankruptcy, or other business transaction."}),l.jsx("li",{className:"text-justify",children:"To enforce any applicable terms of service."}),l.jsx("li",{className:"text-justify",children:"To ensure the safety and security of the Company and/or its users."}),l.jsx("li",{className:"text-justify",children:"When you request us to share certain information with third parties, such as through your use of social media widgets or login integrations."}),l.jsx("li",{className:"text-justify",children:"With professional advisors, such as auditors, law firms, or accounting firms."}),l.jsx("li",{className:"text-justify",children:"With customers and potential customers or other third-parties in aggregate form."}),l.jsx("li",{className:"text-justify",children:"With your employer where your account is associated with your employer."})]}),l.jsx("p",{children:"We may combine information that we collect from and about you (including automatically generated information) with information we obtain about you from other sources and use such combined information in accordance with this Privacy Policy. We may aggregate and/or de-identify information collected through the Services. We may use and disclose aggregated or de-identified information for any purpose."}),l.jsx("h2",{className:"font-semibold mt-8",children:"4. COOKIES AND OTHER TRACKING TECHNOLOGIES"}),l.jsx("p",{className:"italic",children:"Do Not Track Signals"}),l.jsxs("p",{className:"text-justify",children:['Your browser settings may allow you to transmit a "Do Not Track" signal when you visit various websites. Like many websites, our website is not designed to respond to "Do Not Track" signals received from browsers. To learn more about "Do Not Track" signals, you can visit'," ",l.jsx("a",{href:"https://www.allaboutdnt.com/",target:"_blank",rel:"nofollow noreferrer",children:"https://www.allaboutdnt.com/"}),"."]}),l.jsx("p",{className:"italic",children:"Cookies and Other Tracking Technologies"}),l.jsx("p",{className:"text-justify",children:"Most browsers accept cookies automatically, but you may be able to control the way in which your devices permit the use of Tracking Technologies. If you so choose, you may block or delete our cookies from your browser; however, blocking or deleting cookies may cause some of the Services, including any portal features and general functionality, to work incorrectly."}),l.jsxs("p",{className:"text-justify",children:["To opt out of tracking by Google Analytics,"," ",l.jsx("a",{href:"https://tools.google.com/dlpage/gaoptout",target:"_blank",rel:"nofollow noreferrer",children:"click here"}),"."]}),l.jsx("p",{className:"text-justify",children:"If you have questions regarding the specific information about you that we process or retain, as well as your choices regarding our collection and use practices, please contact us using the information listed below."}),l.jsx("h2",{className:"font-semibold mt-8",children:"5. SOCIAL FEATURES"}),l.jsxs("p",{className:"text-justify",children:['Certain features of the Services permit you to initiate interactions between the Services and third-party services or platforms, such as social networks ("',l.jsx("span",{className:"font-bold",children:"Social Features"}),`"). Social Features include features that allow you to click and access the Company's pages on certain third-party platforms, such as Facebook and Twitter, and from there to "like" or "share" our content on those platforms. Use of Social Features may entail a third party's collection and/or use of your data. If you use Social Features or similar third-party services, information you post or otherwise make accessible may be publicly displayed by the third-party service you are using. Both the Company and the third party may have access to information about you and your use of both the Services and the third-party service.`]}),l.jsx("h2",{className:"font-semibold mt-8",children:"6. THIRD PARTY WEBSITES AND LINKS"}),l.jsx("p",{className:"text-justify",children:"We may provide links to websites or other online platforms operated by third parties. If you follow links to sites not affiliated or controlled by us, you should review their privacy and security policies and other terms and conditions. We do not guarantee and are not responsible for the privacy or security of these sites, including the accuracy, completeness, or reliability of information found on these sites. Information you provide on public or semi-public venues, including information you share on third-party social networking platforms may also be viewable by other users of the Services and/or users of those third-party online platforms without limitation as to its use by us or by a third party. Our inclusion of such links does not, by itself, imply any endorsement of the content on such platforms or of their owners or operators, except as disclosed on the Services."}),l.jsx("h2",{className:"font-semibold mt-8",children:"7. CHILDREN'S PRIVACY"}),l.jsx("p",{className:"text-justify",children:"Children under the age of 13 are not permitted to use the Services, and we do not seek or knowingly collect any personal information about children under 13 years of age. If we become aware that we have unknowingly collected information about a child under 13 years of age, we will make commercially reasonable efforts to delete such information from our database."}),l.jsx("p",{className:"text-justify",children:"If you are the parent or guardian of a child under 13 years of age who has provided us with their personal information, you may contact us using the below information to request that it be deleted."}),l.jsx("h2",{className:"font-semibold mt-8",children:"8. DATA SECURITY"}),l.jsx("p",{className:"text-justify",children:'Please be aware that, despite our reasonable efforts to protect your information, no security measures are perfect or impenetrable, and we cannot guarantee "perfect security." Please further note that any information you send to us electronically, while using the Services or otherwise interacting with us, may not be secure while in transit. We recommend that you do not use unsecure channels to communicate sensitive or confidential information to us.'}),l.jsx("h2",{className:"font-semibold mt-8",children:"9. CALIFORNIA PRIVACY RIGHTS"}),l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"italic",children:"Sharing for Direct Marketing Purposes."})," ","We do not share personal information as defined by California Civil Code Section 1798.83 with third parties for their direct marketing purposes."]}),l.jsx("h2",{className:"font-semibold mt-8",children:"10. HOW TO CONTACT US"}),l.jsxs("p",{className:"text-justify",children:["Should you have any questions about our privacy practices or this Privacy Policy, please email us at"," ",l.jsx("a",{href:"mailto:support@sumble.com",children:"support@sumble.com"}),"."]})]})}),VIe=()=>It({mutationFn:async n=>await Ue({url:"/account/salesforce/install?code="+n,method:"GET"})}),UIe=()=>{const[e,t]=w.useState(!1),[n,s]=w.useState(null),{mutate:i}=VIe();return w.useEffect(()=>{const r=new URLSearchParams(window.location.search),a=r.get("code"),o=r.get("error_description");if(o){s(o);return}i(a||"",{onSuccess:c=>{t(c.ok),c.reason&&s(c.reason)},onError:c=>{s(c)}})},[]),l.jsx("div",{className:"flex flex-1 flex-col gap-5 items-center justify-center px-10",children:n?l.jsxs("div",{children:["Error",l.jsx("br",{}),l.jsxs("div",{className:"whitespace-pre-wrap",children:[n.message??"",n.stack??"",n??""]})]}):l.jsx(l.Fragment,{children:l.jsx("h1",{className:"text-2xl font-semibold mt-10",children:e?"Salesforce is connected":"Connecting to Salesforce..."})})})},HIe=()=>{const e="/account/salesforce/oauth-url";return nt({url:e,queryKey:["salesforceOAuth",e],refetchOnWindowFocus:"always"})},GIe=()=>{const{data:e}=HIe();return w.useEffect(()=>{e&&(window.location.href=e.url)},[e]),l.jsx("div",{children:"Redirecting..."})},WIe=()=>l.jsxs(Pc,{children:[l.jsx(rn,{path:"/start",element:l.jsx(GIe,{})}),l.jsx(rn,{path:"/install",element:l.jsx(UIe,{})})]}),YIe=(e,t,n=void 0)=>{const s=n?`?path=${n}`:"",i=e?`/shortlinks/${e}/${t}${s}`:`/shortlinks/${t}${s}`;return cf({queryKey:["shortlink",i],queryFn:async()=>{if(localStorage.getItem("Authorization")===null)throw new Error("Logged out user.");return await Ue({url:i})},staleTime:Zi(3600*24)})},KIe=()=>{const{shortlinkId:e,shortlinkType:t,"*":n}=He(),{data:s}=YIe(t,e,n);if(!s)return null;if(s.url.startsWith("http"))return window.location.href=s.url+location.search,l.jsx("div",{children:"Redirecting..."});let i=location.search;if(s.query){const[r]=eI(JSON.stringify(s.query));i=`?as=${encodeURIComponent(JSON.stringify(r))}`}return l.jsx(of,{to:s.url+i})},Z7=()=>{const{data:e}=Gt();return e?l.jsx(KIe,{}):null},FK=({isInstalled:e})=>l.jsxs("svg",{width:"177",height:"61",viewBox:"0 0 177 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`text-slate-200 transition-colors max-w-[15rem] w-full h-auto ${e?"":"animate-pulse"}`,children:[l.jsx("path",{d:"M118.324 37.0675C118.324 39.5265 120.322 41.5245 122.782 41.5245C123.393 41.5245 123.979 41.3994 124.512 41.1742C122.496 39.0225 120.973 36.4027 120.122 33.5005C119.035 34.3154 118.324 35.6092 118.324 37.0675Z",fill:e?"#22C55E":"currentColor",className:"transition-colors"}),l.jsx("path",{d:"M124.509 41.174C123.976 41.3992 123.393 41.5243 122.778 41.5243C120.322 41.5243 118.32 39.5263 118.32 37.0673C118.32 35.6091 119.028 34.3116 120.119 33.5003C119.89 32.7176 119.707 31.9134 119.579 31.0913C117.448 32.235 115.997 34.4832 115.997 37.0673C115.997 40.8059 119.039 43.8474 122.778 43.8474C124.065 43.8474 125.267 43.4793 126.293 42.8537C125.664 42.3321 125.067 41.7709 124.509 41.174Z",fill:e?"#141E51":"currentColor",className:"transition-colors"}),l.jsx("path",{d:"M169.797 30.9912C169.308 30.9912 168.839 31.0734 168.399 31.2199C170.573 32.9999 172.35 35.248 173.569 37.8107C174.002 37.1244 174.255 36.3167 174.255 35.4482C174.255 32.9891 172.257 30.9912 169.797 30.9912Z",fill:e?"#22C55E":"currentColor",className:"transition-colors"}),l.jsx("path",{d:"M172.869 11.5446H164.757C164.66 12.5775 164.439 13.6283 164.085 14.6898C162.708 18.8394 158.847 21.2841 155.083 20.4121C151.4 19.5578 149.91 16.6985 149.005 13.5103C148.887 12.8456 148.801 12.188 148.748 11.5446H147.203C147.132 12.3845 147.007 13.2637 146.817 14.1895C146.259 15.0473 145.469 16.8343 144.186 18.1318C140.661 21.6987 135.481 20.8767 132.849 16.5162C132.224 15.4761 131.791 14.2967 131.537 13.0565C125.828 15.6835 121.853 21.4557 121.853 28.1394C121.853 36.871 128.631 44.0479 137.204 44.6911V26.8884H156.309C165.043 26.8884 172.222 20.1118 172.865 11.541L172.869 11.5446Z",fill:e?"#22C55E":"currentColor",className:"transition-colors"}),l.jsx("path",{d:"M157.564 29.4399V47.2429H138.459C125.238 47.2429 122.31 53.8048 121.91 58.4976H156.312C170.759 58.4976 172.915 50.6631 172.915 45.9918C172.915 37.2602 166.137 30.0833 157.564 29.4399Z",fill:e?"#22C55E":"currentColor",className:"transition-colors"}),l.jsx("path",{d:"M147.386 41.3637C149.756 41.3637 151.683 39.4373 151.683 37.0676C151.683 34.698 149.756 32.7715 147.386 32.7715C145.015 32.7715 143.088 34.698 143.088 37.0676C143.088 39.4373 145.015 41.3637 147.386 41.3637Z",fill:e?"#FF9700":"currentColor",className:"transition-colors"}),l.jsx("path",{d:"M147.386 43.8658C151.136 43.8658 154.185 40.8168 154.185 37.0676C154.185 33.3183 151.136 30.2695 147.386 30.2695C143.635 30.2695 140.586 33.3183 140.586 37.0676C140.586 40.8168 143.635 43.8658 147.386 43.8658ZM147.386 32.7715C149.756 32.7715 151.683 34.6979 151.683 37.0676C151.683 39.4372 149.756 41.3637 147.386 41.3637C145.015 41.3637 143.088 39.4372 143.088 37.0676C143.088 34.6979 145.015 32.7715 147.386 32.7715Z",fill:e?"#141E51":"currentColor",className:"transition-colors"}),l.jsx("path",{d:"M176.579 35.4482C176.579 31.7097 173.537 28.6681 169.797 28.6681C168.492 28.6681 167.277 29.0434 166.24 29.6867C165.25 29.0827 164.199 28.5645 163.101 28.1427C170.291 25.3978 175.417 18.4353 175.417 10.2934V9.04244H164.721C164.467 7.00516 163.655 5.05367 162.232 3.22372C159.158 -0.736436 153.978 -0.718564 150.953 3.29163C149.613 5.06797 148.948 6.99443 148.762 9.04244H147.221C147.039 6.71564 146.263 4.69983 144.776 2.84843C141.669 -1.02237 136.603 -0.929439 133.6 3.00927C132.059 5.03225 131.273 7.75576 131.28 10.4471C124.294 13.2921 119.357 20.1473 119.357 28.1427C119.357 29.147 119.436 30.1299 119.586 31.0914C119.714 31.9134 119.897 32.714 120.126 33.5003C120.976 36.4025 122.499 39.0224 124.516 41.174C125.073 41.7709 125.67 42.3322 126.3 42.8539C127.655 43.9763 129.163 44.9128 130.794 45.6309C123.44 47.5362 119.357 52.4507 119.357 59.7488V60.9999H156.312C168.453 60.9999 175.417 55.528 175.417 45.9918C175.417 44.0049 175.11 42.0853 174.541 40.2805C175.796 39.051 176.579 37.339 176.579 35.4447V35.4482ZM121.856 28.1427C121.856 21.459 125.831 15.6868 131.541 13.0598C131.795 14.3 132.227 15.4831 132.853 16.5196C135.48 20.8764 140.664 21.6985 144.189 18.1351C145.473 16.8341 146.263 15.0506 146.821 14.1928C147.006 13.2671 147.135 12.3878 147.207 11.5479H148.751C148.801 12.1948 148.887 12.8489 149.008 13.5137C149.913 16.7018 151.404 19.5612 155.086 20.4154C158.847 21.2875 162.708 18.8427 164.088 14.6932C164.442 13.6281 164.664 12.5773 164.76 11.5479H172.872C172.232 20.1187 165.05 26.8953 156.316 26.8953H137.207V44.6982C128.634 44.0583 121.856 36.8779 121.856 28.1462V28.1427ZM155.061 29.3936V44.7411H139.71V29.3936H155.061ZM156.312 58.4981H121.91C122.31 53.8053 125.241 47.243 138.458 47.243H157.564V29.4401C166.136 30.0799 172.915 37.2603 172.915 45.9918C172.915 50.6636 170.759 58.4981 156.312 58.4981ZM168.399 31.22C168.839 31.0735 169.311 30.9913 169.797 30.9913C172.257 30.9913 174.255 32.9892 174.255 35.4482C174.255 36.3168 174.002 37.1245 173.569 37.8108C172.346 35.2481 170.573 33 168.399 31.22Z",fill:e?"#141E51":"currentColor",className:"transition-colors"}),l.jsx("path",{d:"M136.174 3.72431C137.154 2.80218 138.276 2.35898 139.417 2.43762C140.6 2.51982 141.705 3.1596 142.613 4.28903C142.788 4.50703 142.82 4.80728 142.695 5.05746C142.57 5.30764 142.312 5.46136 142.034 5.45421C140.621 5.40773 139.524 5.76872 138.78 6.52642C137.965 7.35565 137.575 8.69239 137.658 10.3865C137.729 11.8805 138.172 12.9742 138.97 13.6426C139.778 14.3181 140.957 14.5611 142.47 14.3681C142.741 14.3324 143.006 14.4539 143.156 14.6791C143.306 14.9042 143.317 15.1973 143.181 15.4332C142.37 16.8379 141.072 17.7421 139.62 17.9101C139.456 17.928 139.295 17.9387 139.131 17.9387C137.904 17.9387 136.71 17.4026 135.791 16.4304C132.796 13.2458 132.992 6.71586 136.17 3.72788L136.174 3.72431Z",fill:e?"white":"currentColor",className:"transition-colors"}),l.jsx("path",{d:"M153.37 4.12454C154.303 3.16309 155.712 2.63769 157.045 2.75564C158.225 2.85929 159.244 3.46332 159.916 4.45692C160.059 4.66782 160.077 4.93588 159.97 5.16103C159.862 5.3898 159.641 5.54348 159.39 5.56851C157.728 5.72577 156.473 6.32622 155.755 7.30912C155.061 8.25983 154.875 9.5787 155.211 11.1191C155.44 12.1628 156.087 13.3315 156.984 14.318C157.217 14.5754 157.925 15.3509 160.005 14.3466C160.292 14.2072 160.631 14.2751 160.846 14.5075C161.06 14.7398 161.092 15.0864 160.928 15.3581C159.927 17.0093 158.525 18.0137 156.981 18.1888C156.827 18.2067 156.673 18.2138 156.52 18.2138C155.336 18.2138 154.203 17.7027 153.281 16.7448C150.338 13.689 150.381 7.20188 153.363 4.12454H153.37Z",fill:e?"white":"currentColor",className:"transition-colors"}),l.jsx("path",{d:"M83.6374 37.2216L75.7795 29.3636L83.6374 21.5057L85.3931 23.2443L80.5437 28.0938H98.4585L93.609 23.2443L95.3647 21.5057L103.223 29.3636L95.3647 37.2216L93.609 35.4659L98.4585 30.6335H80.5437L85.3931 35.4659L83.6374 37.2216Z",fill:e?"#22C55E":"currentColor",className:"transition-colors"}),l.jsx("path",{d:"M12.6488 37.8993C12.6488 41.3838 9.83257 44.2001 6.34808 44.2001C2.86359 44.2001 0.0473633 41.3838 0.0473633 37.8993C0.0473633 34.4149 2.86359 31.5986 6.34808 31.5986H12.6488V37.8993ZM15.7992 37.8993C15.7992 34.4149 18.6154 31.5986 22.0999 31.5986C25.5844 31.5986 28.4006 34.4149 28.4006 37.8993V53.6511C28.4006 57.1356 25.5844 59.9519 22.0999 59.9519C18.6154 59.9519 15.7992 57.1356 15.7992 53.6511V37.8993Z",fill:e?"#E01E5A":"currentColor",className:"transition-colors"}),l.jsx("path",{d:"M22.1002 12.6014C18.6158 12.6014 15.7995 9.78521 15.7995 6.30072C15.7995 2.81623 18.6158 0 22.1002 0C25.5847 0 28.401 2.81623 28.401 6.30072V12.6014H22.1002ZM22.1002 15.7995C25.5847 15.7995 28.401 18.6158 28.401 22.1002C28.401 25.5847 25.5847 28.401 22.1002 28.401H6.30072C2.81623 28.401 0 25.5847 0 22.1002C0 18.6158 2.81623 15.7995 6.30072 15.7995H22.1002Z",fill:e?"#36C5F0":"currentColor",className:"transition-colors"}),l.jsx("path",{d:"M47.3504 22.1002C47.3504 18.6158 50.1667 15.7995 53.6511 15.7995C57.1356 15.7995 59.9519 18.6158 59.9519 22.1002C59.9519 25.5847 57.1356 28.401 53.6511 28.401H47.3504V22.1002ZM44.2001 22.1002C44.2001 25.5847 41.3838 28.401 37.8993 28.401C34.4149 28.401 31.5986 25.5847 31.5986 22.1002V6.30072C31.5986 2.81623 34.4149 0 37.8993 0C41.3838 0 44.2001 2.81623 44.2001 6.30072V22.1002Z",fill:e?"#2EB67D":"currentColor",className:"transition-colors"}),l.jsx("path",{d:"M37.8993 47.3504C41.3838 47.3504 44.2001 50.1667 44.2001 53.6511C44.2001 57.1356 41.3838 59.9519 37.8993 59.9519C34.4149 59.9519 31.5986 57.1356 31.5986 53.6511V47.3504H37.8993ZM37.8993 44.2001C34.4149 44.2001 31.5986 41.3838 31.5986 37.8993C31.5986 34.4149 34.4149 31.5986 37.8993 31.5986H53.6989C57.1834 31.5986 59.9996 34.4149 59.9996 37.8993C59.9996 41.3838 57.1834 44.2001 53.6989 44.2001H37.8993Z",fill:e?"#ECB22E":"currentColor",className:"transition-colors"})]}),qIe=()=>{const e=yt();return It({mutationFn:async({code:s,state:i})=>await Ue({url:`/account/slack/install?code=${s}&state=${i}`,method:"GET"}),onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]}).catch(s=>console.log(s))}})},ZIe=()=>{const[e,t]=w.useState(!1),[n,s]=w.useState(null),[i,r]=w.useState(null),{mutate:a}=qIe();return w.useEffect(()=>{const o=new URLSearchParams(window.location.search),c=o.get("code"),u=o.get("state");a({code:c||"",state:u||""},{onSuccess:h=>{h.app_id&&h.team_id&&s(`slack://app?team=${h.team_id}&id=${h.app_id}`),t(!0)},onError:h=>{r(h)}})},[]),l.jsx("div",{className:"flex flex-1 flex-col gap-5 items-center justify-center px-10",children:i?l.jsxs("div",{children:["Error",l.jsx("br",{}),l.jsxs("div",{className:"whitespace-pre-wrap",children:[i.message??"",i.stack??""]})]}):l.jsxs(l.Fragment,{children:[l.jsx(FK,{isInstalled:e}),l.jsx("h1",{className:"text-2xl font-semibold mt-10",children:e?"Slack is connected":"Connecting to Slack..."}),l.jsxs("div",{className:`${e?"opacity-100":"opacity-0"} transition-opacity flex flex-col gap-5 items-center`,children:[l.jsx("p",{children:"We'll send your first updates via DM."}),l.jsx("a",{href:n??"#",className:`bg-green-600 hover:bg-green-700 mt-2.5 text-lg text-white px-10 py-2.5 rounded-xl font-semibold ${n?"opacity-100":"opacity-0 pointer-events-none"}`,target:"_blank",rel:"noreferrer",children:"Open Slack"})]})]})})},QIe=()=>It({mutationFn:async n=>{const s=new URLSearchParams;return s.append("token",n),await Ue({url:"/account/slack/connect",method:"POST",body:s})}}),XIe=e=>{const t="/slack/token-data",n=new URLSearchParams;return n.append("token",e),nt({url:t,method:"POST",body:n.toString(),contentType:"application/x-www-form-urlencoded",queryKey:["user",t],refetchOnWindowFocus:"always"})},JIe=()=>{const[e]=Ni(),t=e.get("token"),{data:n}=Gt(),{data:s,isError:i,error:r}=XIe(t||""),{mutate:a}=QIe(),[o,c]=w.useState(!1),[u,h]=w.useState(!1),[f,g]=w.useState(null),m=()=>{h(!0),a(t||"",{onSuccess:b=>{c(!0),h(!1),b.app_id&&b.team_id&&g(`slack://app?team=${b.team_id}&id=${b.app_id}`)},onError:b=>{Tt.error(`Could not connect your accounts: ${b.detail}.`),h(!1)}})},y=`bg-green-600 hover:bg-green-700 mt-2.5 text-lg text-white px-10 py-2.5 rounded-xl font-semibold ${u?"opacity-50 pointer-events-none":""} transition-opacity`;return l.jsx("div",{className:"flex flex-1 flex-col gap-5 items-center justify-center px-10 text-center",children:s&&n?l.jsxs(l.Fragment,{children:[l.jsx(FK,{isInstalled:o}),l.jsx("h1",{className:"text-2xl font-semibold mt-5 ",children:o?"Connected!":"Confirm Connection"}),l.jsxs("div",{children:[o?"Successfully connected":"You are connecting",l.jsx("br",{}),s?.display_name?l.jsxs(l.Fragment,{children:["the Slack account"," ",l.jsxs("strong",{children:["@",s?.display_name]})]}):l.jsxs(l.Fragment,{children:["your account on"," ",l.jsx("strong",{children:s?.team_name})]}),l.jsx("br",{}),"to the Sumble account"," ",l.jsx("strong",{children:n&&n?.email}),"."]}),o?l.jsx("a",{href:f??"#",className:`${y} ${f?"":"opacity-0 pointer-events-none"}}`,target:"_blank",rel:"noreferrer",children:"Open Slack"}):l.jsx("button",{className:y,onClick:m,children:u?"Connecting...":"Connect accounts"}),l.jsxs("div",{className:`text-slate-400 text-sm mt-10 transition-opacity ${o?"opacity-0":"opacity-100"}`,children:["If you don't want to connect these accounts,",l.jsx("br",{}),"just close this tab."]})]}):i?l.jsxs("div",{className:"flex flex-col gap-3 items-center mx-auto max-w-[30rem] text-center",children:[l.jsx("div",{children:"There was an error connecting your accounts."}),r&&typeof r=="object"&&"detail"in r&&typeof r.detail=="string"?l.jsx("div",{children:"error.detail"}):"",l.jsxs("div",{children:["Please try connecting via Slack again, or"," ",l.jsx("a",{href:"mailto:support@sumble.com",className:"text-green-600 hover:text-green-700 font-semibold",children:"reach out to us"})," ","for help if it continues to happen."]})]}):l.jsx("div",{children:l.jsx(Yr,{className:"w-20! h-20!"})})})},eLe=()=>{const e="/slack/install-url";return nt({url:e,queryKey:[e],refetchInterval:3e4,refetchOnWindowFocus:"always"})},tLe=()=>{const{data:e}=eLe(),{mutate:t}=ff(),n=()=>{t({activity_type:"slack_install_button_clicked"})};return l.jsx(l.Fragment,{children:l.jsxs("div",{className:"flex-1 flex flex-col items-center max-md:pb-16 md:py-24 md:px-10 gap-16 overflow-auto",children:[l.jsxs("div",{className:"w-full md:max-w-[72rem] grid md:grid-cols-2 md:gap-10 items-center",children:[l.jsxs("div",{className:"max-md:order-2 flex flex-col gap-8 max-md:px-8",children:[l.jsx("div",{children:l.jsxs("h1",{className:"text-4xl font-semibold text-center",children:["Get Sumble Signals",l.jsx("br",{}),"directly on Slack"]})}),l.jsxs("ul",{className:"list-disc flex flex-col gap-3 max-w-[25rem] mx-auto pb-4",children:[l.jsx("li",{children:"Sumble Signals delivers timely and actionable alerts to AEs and SDRs. We identify key changes inside prospects such as GenerativeAI projects, changes in tech stack, increases in headcount, key job function hires and more."}),l.jsx("li",{children:"You can receive these alerts directly in Slack, by adding the Sumble app to your workspace."}),l.jsx("li",{children:"Free to use, and easy to turn on and off as required."})]})]}),l.jsx("div",{className:"max-md:order-1",children:l.jsx("img",{src:"/img/slack-preview.png",width:"581",height:"330",className:"w-full h-auto shadow-lg p-3 border border-slate-50 rounded-2xl"})})]}),l.jsxs(Re,{to:e?.url||"/integrations/slack",doNotPassQuery:!0,className:"flex flex-row gap-6 items-center text-xl tracking-wide font-medium text-white bg-green-600 hover:bg-green-500 transition-colors pr-10 pl-6 py-4 rounded-lg",onClick:n,children:[l.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M4.15218 12.4408C4.15218 13.5847 3.22772 14.5091 2.0839 14.5091C0.940083 14.5091 0.015625 13.5847 0.015625 12.4408C0.015625 11.297 0.940083 10.3726 2.0839 10.3726H4.15218V12.4408ZM5.18632 12.4408C5.18632 11.297 6.11078 10.3726 7.2546 10.3726C8.39842 10.3726 9.32288 11.297 9.32288 12.4408V17.6115C9.32288 18.7554 8.39842 19.6798 7.2546 19.6798C6.11078 19.6798 5.18632 18.7554 5.18632 17.6115V12.4408Z",fill:"white"}),l.jsx("path",{d:"M7.25464 4.13656C6.11082 4.13656 5.18637 3.2121 5.18637 2.06828C5.18637 0.924458 6.11082 0 7.25464 0C8.39847 0 9.32292 0.924458 9.32292 2.06828V4.13656H7.25464ZM7.25464 5.18637C8.39847 5.18637 9.32292 6.11083 9.32292 7.25465C9.32292 8.39847 8.39847 9.32292 7.25464 9.32292H2.06828C0.924458 9.32292 0 8.39847 0 7.25465C0 6.11083 0.924458 5.18637 2.06828 5.18637H7.25464Z",fill:"white"}),l.jsx("path",{d:"M15.5434 7.25465C15.5434 6.11083 16.4678 5.18637 17.6117 5.18637C18.7555 5.18637 19.6799 6.11083 19.6799 7.25465C19.6799 8.39847 18.7555 9.32292 17.6117 9.32292H15.5434V7.25465ZM14.5092 7.25465C14.5092 8.39847 13.5848 9.32292 12.441 9.32292C11.2971 9.32292 10.3727 8.39847 10.3727 7.25465V2.06828C10.3727 0.924458 11.2971 0 12.441 0C13.5848 0 14.5092 0.924458 14.5092 2.06828V7.25465Z",fill:"white"}),l.jsx("path",{d:"M12.441 15.5433C13.5848 15.5433 14.5092 16.4677 14.5092 17.6115C14.5092 18.7554 13.5848 19.6798 12.441 19.6798C11.2971 19.6798 10.3727 18.7554 10.3727 17.6115V15.5433H12.441ZM12.441 14.5091C11.2971 14.5091 10.3727 13.5847 10.3727 12.4408C10.3727 11.297 11.2971 10.3726 12.441 10.3726H17.6273C18.7711 10.3726 19.6956 11.297 19.6956 12.4408C19.6956 13.5847 18.7711 14.5091 17.6273 14.5091H12.441Z",fill:"white"})]}),l.jsx("div",{children:"Add Sumble to Slack"})]}),l.jsxs("div",{className:"text-center px-4 text-md",children:["Need help with the Slack integration?",l.jsx("br",{}),"Contact"," ",l.jsx("a",{href:"mailto:support@sumble.com",className:"text-green-600 hover:text-green-700",children:"support@sumble.com"}),".",l.jsx("br",{}),"",l.jsx("br",{}),"Use of this integration is subject to our"," ",l.jsx(Re,{to:"/privacy",doNotPassQuery:!0,className:"text-green-600 hover:text-green-700",children:"Privacy Policy"}),"."]})]})})},nLe=()=>l.jsxs(Pc,{children:[l.jsx(rn,{path:"/",element:l.jsx(tLe,{})}),l.jsx(rn,{path:"/install",element:l.jsx(ZIe,{})}),l.jsx(rn,{path:"/connect",element:l.jsx(JIe,{})})]}),sLe=()=>l.jsx("div",{className:"bg-slate-100 min-h-screen px-4 py-12 overflow-auto",children:l.jsxs("div",{className:"max-w-[50rem] px-8 py-8 mb-24 mx-auto bg-white shadow-lg gap-4 flex flex-col",children:[l.jsxs("h1",{className:"text-center mb-24 font-semibold",children:["Sumble Subprocessors",l.jsx("br",{}),"Last Revised on 18 Dec 2023"]}),l.jsx("p",{className:"text-justify",children:"At Sumble, we work with third-party subprocessors to help process personal data for which we are responsible. These subprocessors are carefully selected to ensure they follow our standards for data security and privacy."}),l.jsx("p",{className:"text-justify",children:"Each relationship with a subprocessor is based on a written contract. This contract ensures that the subprocessor handles personal data securely and in line with privacy laws. It also outlines the responsibilities they must fulfill when working with us."}),l.jsx("p",{className:"text-justify",children:"Our subprocessors are an important part of our services, allowing us to maintain quality while handling personal data responsibly. Below, you will find more information about our subprocessors, including their roles and the safeguards we have in place to protect your data."}),l.jsx("h2",{className:"font-semibold mt-8",children:"SUMBLE SUBPROCESSORS"}),l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Subprocessor"}),l.jsx("th",{children:"Location"}),l.jsx("th",{children:"Purpose"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("a",{target:"_blank",rel:"nofollow noopener noreferrer",href:"https://cloud.google.com/",children:"Google Cloud Platform"})}),l.jsx("td",{children:"United States"}),l.jsx("td",{children:"Cloud hosting, storage, CDN and related services"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("a",{target:"_blank",rel:"nofollow noopener noreferrer",href:"https://sentry.io/",children:"Sentry"})}),l.jsx("td",{children:"United States"}),l.jsx("td",{children:"Error tracking and monitoring for apps"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("a",{target:"_blank",rel:"nofollow noopener noreferrer",href:"https://sendgrid.com/",children:"Sendgrid"})}),l.jsx("td",{children:"United States"}),l.jsx("td",{children:"Email delivery and marketing services"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("a",{target:"_blank",rel:"nofollow noopener noreferrer",href:"https://linear.app/",children:"Linear"})}),l.jsx("td",{children:"United States"}),l.jsx("td",{children:"Project management and issue tracking software"})]}),l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("a",{target:"_blank",rel:"nofollow noopener noreferrer",href:"https://slack.com/",children:"Slack"})}),l.jsx("td",{children:"United States"}),l.jsx("td",{children:"Business communication and collaboration platform"})]})]})]})]})}),iLe=w.createContext(null),wT={didCatch:!1,error:null};class rLe extends w.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=wT}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,s,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];(n=(s=this.props).onReset)===null||n===void 0||n.call(s,{args:r,reason:"imperative-api"}),this.setState(wT)}}componentDidCatch(t,n){var s,i;(s=(i=this.props).onError)===null||s===void 0||s.call(i,t,n)}componentDidUpdate(t,n){const{didCatch:s}=this.state,{resetKeys:i}=this.props;if(s&&n.error!==null&&aLe(t.resetKeys,i)){var r,a;(r=(a=this.props).onReset)===null||r===void 0||r.call(a,{next:i,prev:t.resetKeys,reason:"keys"}),this.setState(wT)}}render(){const{children:t,fallbackRender:n,FallbackComponent:s,fallback:i}=this.props,{didCatch:r,error:a}=this.state;let o=t;if(r){const c={error:a,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")o=n(c);else if(s)o=w.createElement(s,c);else if(i!==void 0)o=i;else throw a}return w.createElement(iLe.Provider,{value:{didCatch:r,error:a,resetErrorBoundary:this.resetErrorBoundary}},o)}}function aLe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,s)=>!Object.is(n,t[s]))}const $K=(e,t)=>{const n=`/teams/${e}/${t}/summary`;return nt({url:n,queryKey:["summary",n],enabled:!!e&&!!t&&t!=="other-team-not-mentioned"})},BK=({className:e,summaryClassName:t,summary:n,isLoading:s})=>{const[,i]=pG(),[r,a]=w.useState(!1),o=l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-slate-400 font-regular",children:"Full summary (Tap to copy to clipboard)"}),l.jsx("div",{children:n})]});return w.useEffect(()=>{r&&(Tt.success("Copied to clipboard"),a(!1))},[r]),l.jsx("button",{className:e,onClick:()=>{i(n),a(!0)},children:l.jsx(Sr,{followMouse:!0,content:l.jsx("div",{className:"bg-white w-[90vw] max-w-[30rem] p-6 shadow-lg rounded-lg border border-slate-200 font-regular",children:s?l.jsx("span",{className:"animate-pulse",children:"Loading..."}):o??"No summary to show"}),placement:"bottom",children:l.jsx("div",{className:t,children:n})})})},oLe=({team:e,fullTeam:t})=>{const{teamId:n,organizationId:s}=He(),{data:i,isLoading:r}=$K(s,n),a=n==="other-team-not-mentioned"?"":t?.summary?t?.summary:i?.summary;return l.jsx("div",{className:"w-full flex flex-col gap-4 px-4 md:px-10 pt-0 pb-4 bg-green-600 text-white",children:l.jsx("div",{className:"flex flex-col",children:l.jsxs("div",{className:"bg-green-600 flex flex-col gap-1",children:[l.jsx("h2",{className:"text-[1.75rem] min-h-[1.75rem] leading-[1.2] font-bold col-span-3 tracking-[0.0125rem]",children:e?.name??t?.name??l.jsx("div",{className:"rounded-full bg-green-50/10 animate-pulse w-3/4 h-[1.75rem]"})}),r?l.jsx("div",{className:"h-[2.9999rem] text-white/30 animate-pulse mix-blend-lighten w-full",children:l.jsx("div",{className:"h-[1rem] w-[50%] rounded-full bg-green-50/10 mix-blend-lighten"})}):a&&a!==""&&l.jsx(BK,{summary:a,className:"text-left opacity-70 mix-blend-lighten",summaryClassName:"line-clamp-2 leading-[1.3] mb-1.5"})]})})})},lLe=()=>It({mutationFn:async n=>await Ue({url:"/issue-reports",method:"POST",body:n})}),cLe=({message:e,pageTitle:t,setMessage:n,handleSubmit:s,setIsOpen:i})=>{const[r,a]=w.useState(!1);return l.jsx(Y0,{isOpen:!0,setIsOpen:i,className:"w-[90vw] max-w-[40rem]",children:l.jsxs("form",{className:"flex flex-col gap-3",onSubmit:o=>{o.preventDefault(),s()},children:[l.jsxs("h2",{className:"text-slate-500 -mt-4 pb-4",children:["Report data issue with page"," ",l.jsx("strong",{className:"font-medium text-slate-700",children:t.replace(" | Sumble","")})]}),l.jsx("textarea",{autoFocus:!0,value:e,onChange:o=>n(o.target.value),className:"w-full h-[20rem] max-h-[80vh] overflow-auto p-3 border border-slate-200 rounded-lg",placeholder:"Please describe in brief the issue with the data that you've spotted."}),l.jsx("div",{children:l.jsx("button",{className:"font-medium bg-green-600 text-white px-6 py-1.5 rounded-lg hover:bg-green-700 disabled:bg-slate-200 disabled:text-slate-600",type:"submit",disabled:r||e==="",onClick:()=>{a(!0),s()},children:r?"Submitting...":"Submit"})})]})})},VK=({className:e})=>{const{mutate:t,isSuccess:n,data:s}=lLe(),{data:i,isLoading:r}=Gt(),[a,o]=w.useState(!1),[c,u]=w.useState(!1),[h,f]=w.useState("");w.useEffect(()=>{n&&!a&&(Tt.success(s.message??"Issue reported successfully"),o(!0))},[n]);const g="max-md:hidden w-[12rem] pr-1 flex font-medium items-center justify-center text-slate-400 hover:text-slate-600 gap-2 "+e,m=document?.querySelector("title")?.textContent??"Unknown Page",y=()=>{i&&t({userName:i.name??i.email,userEmail:i.email,message:h,pageTitle:m.replace(" | Sumble",""),url:window.location.href})};return r?null:n?l.jsxs("div",{className:`${g} pointer-events-none`,children:[l.jsx(ar,{className:"w-5 h-5"})," Sent!"]}):l.jsxs(l.Fragment,{children:[l.jsxs("button",{className:g,onClick:()=>u(!0),children:[l.jsx(l2,{className:"w-5 h-5"}),"Report data issue"]}),c&&l.jsx(cLe,{pageTitle:m,message:h,setMessage:f,handleSubmit:y,setIsOpen:u})]})},UK=({children:e})=>l.jsx("div",{className:"bg-green-600 z-20 text-white",children:l.jsx("div",{className:"",children:l.jsxs("div",{className:"pl-3 pr-3 md:pl-10 flex flex-row justify-between",children:[l.jsx("nav",{className:"flex","aria-label":"Tabs",children:e}),l.jsxs("div",{className:"flex flex-row gap-2 whitespace-nowrap",children:[l.jsx(VK,{className:"max-lg:hidden bg-transparent hover:bg-transparent text-green-100! hover:text-white! py-2.5 w-auto!"}),l.jsx(VL,{className:"bg-transparent hover:bg-transparent text-green-100 hover:text-white py-2.5"})]})]})})}),HK=({tab:e,currentTab:t})=>{const{mutate:n}=ff(),{organizationId:s,teamId:i}=He(),r=e.link.split("/").filter(Boolean).pop()===t;return l.jsxs(Re,{to:e.link,onClick:()=>{e.activity_type&&n({activity_type:e.activity_type,content:{organization_slug:s,team_slug:i}})},className:`${r?"bg-white text-black rounded-t-md":"text-green-100 hover:text-white hover:bg-green-700 hover:bg-opacity-30"}
                                    flex whitespace-nowrap py-2.5 px-4 font-medium rounded-t-md`,"aria-current":r?"page":void 0,"data-testid":`team-tab-${e.shortName||e.name}`,children:[l.jsx("span",{className:"md:hidden",children:e.shortName||e.name}),l.jsx("span",{className:"hidden md:inline",children:e.name}),e.count&&typeof e.count=="number"&&e.count>0?l.jsxs("span",{className:`hidden md:block ml-1.5 md:ml-1 text-xs  ${r?"text-slate-400":"text-white opacity-50"} font-semibold relative top-[0.1rem] inline-block`,children:[$e(e.count),e.count===2e4?"+":""]}):null]},e.name)},uLe=()=>{const{filterJobs:e,getAllFilters:t}=ze(),{organizationId:n,teamId:s}=He(),{data:i,isLoading:r}=tI(n,s),a=e?t():{},{data:o,isLoading:c,isPlaceholderData:u}=Zc({organization_slug:n,team_slug:s}),h=Rt(),f=h.pathname.replace(/\/$/,""),g=h.pathname.split("/").slice(-2,-1)[0]==="jobs",m=h.pathname.split("/").slice(-2,-1)[0]==="people"&&h.pathname.split("/").slice(-4,-1)[0]==="jobs",y=!m&&h.pathname.split("/").slice(-2,-1)[0]==="people",b=g?"jobs":y?"people":f.split("/").pop(),S=s!=="other-team-not-mentioned",C=c||a||!c&&o?.page_info.results_count!==0,M=r||!r&&i?.technologies.length!==0,N=[...S?[{name:"People",activity_type:"team_overview_people",link:`/orgs/${n}/teams/${s}/people`}]:[],...C?[{name:"Job Posts",activity_type:"team_overview_hiring_history",shortName:"Jobs",link:`/orgs/${n}/teams/${s}/jobs`,count:!c&&!u&&o?.page_info.results_count||0}]:[],...M?[{name:"Technologies",activity_type:"team_overview_technologies",shortName:"Tech",link:`/orgs/${n}/teams/${s}/techs`,count:!r&&i?.technologies.length||0}]:[]];return l.jsxs(UK,{children:[!g&&!y&&!m&&N.map(T=>l.jsx(HK,{tab:T,currentTab:b},T.name)),g&&l.jsx("div",{className:"self-end mb-3",children:l.jsx(Re,{className:"bg-green-700/40 py-1 px-3 rounded-lg text-white/90 font-medium hover:bg-green-700/60",to:"../jobs","data-testid":"back-to-jobs",children:" back to all Jobs"})}),y&&l.jsx("div",{className:"self-end mb-3",children:l.jsx(Re,{className:"bg-green-700/40 py-1 px-3 rounded-lg text-white/90 font-medium hover:bg-green-700/60",to:"../people",children:" back to all People"})}),m&&l.jsx("div",{className:"self-end mb-3",children:l.jsx(Re,{className:"bg-green-700/40 py-1 px-3 rounded-lg text-white/90 font-medium hover:bg-green-700/60",to:h.pathname.split("/").slice(0,-2).join("/"),children:" back to Job"})})]})},GK=({isLoading:e,breadcrumbs:t,closeUrl:n})=>l.jsxs("nav",{className:"z-20 h-12 flex justify-between items-start pt-1.5 px-4 md:px-10 bg-green-600 text-white",children:[l.jsx("div",{className:"flex flex-row gap-2 truncate",children:e?l.jsx("div",{className:"text-slate-300 animate-pulse",children:"Loading..."}):l.jsx(l.Fragment,{children:t.map((s,i)=>l.jsxs(w.Fragment,{children:[l.jsx(Re,{to:s.link,className:`font-semibold hover:opacity-80 ${i>0&&"truncate"} block`,children:s.text}),l.jsx("div",{className:"opacity-50",children:""})]},s.text))})}),l.jsx("span",{className:"hover:text-green-200 font-semibold ml-4",children:l.jsx(Re,{to:n,"data-testid":"right-hand-nav-close",children:"Close"})})]}),dLe=({organizationId:e,closeUrl:t,breadcrumbs:n})=>{const{data:s,isLoading:i}=$l(e);return l.jsx(GK,{isLoading:i,closeUrl:t,breadcrumbs:[{text:s?.name??"Loading...",link:`/orgs/${e}/teams`},...n?.map(r=>({text:r.name,link:`/orgs/${e}/teams/${r.slug}`}))??[]]})},hLe=e=>{if(!e)return 0;const t=e.match(/.*?\((\d*)\)$/)?.[1];return t?parseInt(t):0},fLe=e=>{const t=e.toLowerCase().replace(/[^a-z0-9#_+]+/g," ").trim().replace(/ /g,"-");return t===""?null:t},Q7=yo(),pLe=({largestNumberValue:e})=>[Q7.accessor("name",{header:"Technology",size:200,enableResizing:!0,cell:t=>l.jsx("div",{className:"font-medium",children:t.getValue()})}),Q7.accessor("count",{header:"Mentions",size:600,enableResizing:!0,cell:t=>l.jsxs("div",{className:"",children:["Mentioned in ",$e(t.getValue())," job posts",l.jsx("div",{className:"absolute bottom-0 left-0 h-[4px] bg-green-500/20",style:{width:`${t.getValue()/e*100}%`}})]})})],gLe=({technologies:e})=>{const[t,n]=w.useState(""),s=ba(t,300),i=w.useRef(null),[r,a]=Ut("page",eU),o=r??1,c=100;w.useEffect(()=>{s!==""&&o>1&&a(1)},[s,a,o]),w.useEffect(()=>()=>{a(void 0)},[a]),w.useEffect(()=>{o>1&&i.current&&i.current.scrollTo({top:0})},[o]);const u=w.useMemo(()=>(e??[]).map(k=>{const L=k.split(" (")[0],I=fLe(L),_=new URLSearchParams(window.location.search);return _.set("tech-info",I||""),{name:L,count:hLe(k),link:`?${_.toString()}`,slug:I??""}}),[e]),h=w.useMemo(()=>u.length===0?0:u.reduce((E,k)=>Math.max(E,k.count),0),[u]),f=w.useMemo(()=>pLe({largestNumberValue:h}),[h]),g=w.useMemo(()=>s===""?u:new gf(u,{keys:["name"],threshold:.2,useExtendedSearch:!0}).search(s.split(" ").map(L=>L!==""?`'${L}`:"").join(" ").trim()).map(L=>L.item),[u,s]),m=w.useMemo(()=>{const E=(o-1)*c,k=E+c;return g.slice(E,k)},[g,o,c]),y=g.length,b=Math.ceil(y/c),S=o<b,C=o>1,M=()=>{S&&a(o+1)},N=()=>{C&&a(o-1)},T=w.useMemo(()=>{if(y===0)return;const E=(o-1)*c+1,k=Math.min(o*c,y);return[E,k]},[y,o,c]);return e?.length?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"sticky z-4 border-b border-slate-100 top-0 md:px-10 py-4 text-slate-400 bg-white",children:l.jsx(Fl,{hidden:!1,placeholderText:"Search technologies",value:t,onChange:E=>n(E.target.value)})}),l.jsx("div",{ref:i,className:"w-full flex-1 flex flex-col overflow-auto",children:l.jsx(Qo,{columnsName:"TECHS",className:"md:min-w-0! md:w-full! overflow-visible! border-t-0!",columns:f,data:m,error:null,isError:!1,isLoading:!1,isPreviousData:!1,itemPlural:"technologies",pinColumns:1})}),y>c&&l.jsx(Zo,{totalResults:y,currentResults:m.length,currentRange:T,hasNext:S,hasPrevious:C,next:M,previous:N,caption:"technologies"})]}):null},WK=(e,t)=>{const n=vG(),s=Gn("job_description")??[],i=qr({techs:t??n,content:s}),r=`/jobs/${e}?${i}`;return nt({url:r,queryKey:["job",r],enabled:!!e})};function X7(e,t,n){return Array.from(e).slice(t,n).join("")}function mLe(e,t=!1){const n=e.label==="TEAM"?"blue":e.label==="PROJECT_TERM"?"purple":e.label==="TEXT"||e.label==="TECH"&&e.technology_specification_type==="mentioned"?"yellow":"green",s=e.selected?300:100,i=`${n}-${s}`,r=e.label==="PROJECT_TERM",o=t?"":` <span className="text-[9px] font-bold opacity-50 bottom-[1px] relative uppercase">${r?e.slug:e.label==="TECH"&&e.technology_specification_type?`TECH ${e.technology_specification_type.toUpperCase()}`:e.label}</span>`,c=e.text.length>20?"whitespace-normal":"whitespace-nowrap";return`<span className="bg-${i} px-1.75 font-medium py-0.5 text-${i}-800 rounded-full ${c}" data-chiptype="${e.label.toLowerCase()}" data-selected="${e.selected}">${e.text}${o}</span>`}function YK(e,t,n=!1){const s=[...t].sort((a,o)=>a.span_start-o.span_start),i=[];let r=0;for(const a of s)a.span_start<r||(i.push(X7(e,r,a.span_start)),i.push(mLe(a,n)),r=a.span_end);return i.push(X7(e,r)),i.join("").replaceAll(`
`,`

`).replaceAll(/\n\s*/g,`

`).replaceAll(/\n\s*-\s*\n\s*/g,`
- `)}function yLe(e,t=[]){return e.split(new RegExp("(?<=[.!?])\\s+|\\n+|(?=\\s*[-*+]\\s)")).filter(i=>i.includes("data-chiptype=")).map(i=>i.trim()).filter(Boolean).map(i=>i.replace(/^[-]\s*/,"")).map(i=>`- ${i}`).sort((i,r)=>{const a=t.some(h=>i.includes(`data-chiptype="${h}"`)),o=t.some(h=>r.includes(`data-chiptype="${h}"`));if(a&&!o)return-1;if(!a&&o)return 1;const c=i.includes('data-selected="true"'),u=r.includes('data-selected="true"');return c&&!u?-1:!c&&u?1:0}).join(`
`)}const xLe=({jobId:e,pageToken:t,sort:n})=>{const s=qr({next_page_token:t.next_page_token,previous_page_token:t.previous_page_token,sort_order:n}),i=`/jobs/${e}/people?${s}`;return nt({url:i,queryKey:["jobPeople",i]})},bLe=({isEnabled:e,labelText:t,heat:n})=>l.jsx("div",{className:"rounded-full overflow-hidden relative",children:l.jsxs("div",{className:`
                rounded-full
                border-2
                text-xs
                font-semibold px-1
        ${e?"border-green-200/60 bg-green-200/60 text-green-600":"border-slate-100 text-slate-200"}`,children:[t,n!==void 0&&n!==0&&l.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-green-400/50 mix-blend-darken",style:{width:(n??!1?n:.1)*100+"%"}})]})}),vLe={team:"TEAM",job_function:"JOB",location:"LOC",technology:"TECH"},KK=({features:e,name:t,source:n})=>{const s=Object.entries(vLe).map(([r,a])=>({type:r,label:a,items:e.filter(o=>o.match_type===r)})),i=s.filter(r=>r.items.length===0).map(r=>r.label);return l.jsxs("div",{className:"bg-white max-w-[35rem] relative -top-[1.4rem] left-0.5 p-5 border border-slate-200 rounded-md shadow-md flex flex-col gap-2",children:[l.jsx("div",{className:"pb-4 font-medium",children:t}),s.map(r=>r.items.map(a=>{const o=(a.score*25).toFixed(0)!=="0"?(a.score*25).toFixed(0):(a.score*25).toFixed(2)!=="0.00"?(a.score*25).toFixed(2):"0.01";return l.jsxs("div",{className:"flex flex-row gap-1",children:[l.jsx("div",{className:"flex-none w-14",children:l.jsx("div",{className:`rounded-full
                                border-2
                                text-xs
                                font-semibold px-1 inline border-green-200 bg-green-200 text-green-600`,children:r.label})}),l.jsxs("div",{className:"text-left tabular-nums flex-none w-[5rem] text-slate-400",children:[o," points"]}),l.jsxs("div",{className:"flex-1",children:[a.match_type==="job_function"&&"has a matching job function ",a.match_type==="location"&&"is in a matching location ",a.match_type==="technology"&&"uses a matching technology ",a.match_type==="team"&&(n==="job"?"is in a matching team ":"mentions team name in profile "),"(",a.name,")"]})]},a.name)})),i.map(r=>l.jsxs("div",{className:"flex flex-row gap-1 text-slate-400",children:[l.jsx("div",{className:"flex-none w-14",children:l.jsx("div",{className:`rounded-full
                            border-2
                            text-xs
                            font-semibold px-1 inline border-slate-100 text-slate-200`,children:r})}),l.jsx("div",{className:"text-left tabular-nums flex-none w-[5rem] text-slate-300",children:"0 points"}),r==="TEAM"&&"is not in a matching team",r==="JOB"&&"does not have a matching job function",r==="LOC"&&"is not in a matching location",r==="TECH"&&"does not use a matching technology"]},r))]})},SLe={team:"TEAM",job_function:"JOB",location:"LOC",technology:"TECH"},wLe=({name:e,features:t,source:n})=>{const s=Object.entries(SLe).map(([i,r])=>({type:i,label:r,items:t.filter(a=>a.match_type===i),heat:t.reduce((a,o)=>o.match_type===i?a+o.score:a,0)}));return l.jsx("div",{className:"",children:l.jsx(Sr,{delay:0,content:l.jsx(KK,{features:t,name:e,source:n}),placement:"right-start",children:l.jsx("div",{className:"flex flex-row gap-1 mt-[1px]",children:Object.values(s).map(i=>l.jsx(bLe,{heat:i.heat,isEnabled:i.items.length>0,labelText:i.label},i.type))})})})},qK=e=>e?e.reduce((n,s)=>n+s.score,0)*25:0,hh=yo(),CLe=({organizationId:e,isInline:t,source:n,showSfdcButton:s,peoplePresence:i,isLoadingPeoplePresence:r,onPersonAction:a})=>[PK({organizationId:e,showSfdcButton:s,peoplePresence:i,isLoadingPeoplePresence:r,size:120,enableHiding:!t,onPersonAction:a}),hh.accessor("name",{header:"Name",id:"Name",cell:o=>l.jsx("div",{className:"font-medium truncate",children:o.getValue()}),enableSorting:!1,enableHiding:!1,minSize:150}),hh.accessor("title",{header:"Title",id:"Title",cell:o=>l.jsx("div",{className:"truncate",children:o.getValue()}),minSize:250,enableSorting:!1,enableHiding:!t}),hh.accessor("matched_features",{header:"Match reason",id:"Match reason",cell:o=>l.jsx(wLe,{features:o.getValue()??[],name:o.row.original.name,source:n}),enableResizing:!1,enableSorting:!1,enableHiding:!t,minSize:180}),hh.display({header:"Confidence",id:"Confidence",cell:o=>{const c=qK(o.row.original.matched_features);return l.jsxs("div",{className:"tabular-nums text-sm leading-[1.35rem] text-green-500 font-medium",children:[c.toFixed(0),l.jsx("span",{className:"text-slate-300",children:"/100"})]})},enableResizing:!1,enableSorting:!1,enableHiding:!t,minSize:100,size:100}),hh.accessor("location",{header:"Location",id:"Location",cell:o=>l.jsx("div",{className:"truncate",children:o.getValue()}),size:150,minSize:150,enableSorting:!1,enableHiding:!t}),hh.accessor("contact_info.emails",{header:"Email",id:"Email",cell:o=>o.row.original.email_token?l.jsx(qh,{person:o.row.original,type:"emails",onReveal:()=>a?.(o.row.original.id,"get_contact")}):null,size:200,minSize:200,enableSorting:!1,enableHiding:!t}),hh.accessor("contact_info.phone",{header:"Phone",id:"Phone",cell:o=>o.row.original.email_token?l.jsx(qh,{person:o.row.original,type:"phone",onReveal:()=>a?.(o.row.original.id,"get_contact")}):null,size:175,minSize:175,enableSorting:!1,enableHiding:!t})],MLe=()=>{const e=Rt(),{mutate:t}=ff();return It({mutationFn:async({person:i,actionType:r,personRank:a,sortOrder:o,organizationSlug:c,teamSlug:u})=>{const h={},f=[];"matched_features"in i&&i.matched_features&&(i.matched_features.forEach(m=>{h[m.match_type]=m.score}),f.push(...i.matched_features));const g=qK("matched_features"in i?i.matched_features:void 0);t({activity_type:"suggested_contact_click",content:{organization_slug:c,team_slug:u,url:e.pathname+e.search,details:{action_type:r,person_id:i.id,person_rank:a,sort_order:o,confidence_score:g,match_scores:h,raw_features:f}}})}})},jLe=({data:e,currentRange:t,sortOrder:n,organizationId:s,teamId:i})=>{const{mutate:r}=MLe();return{trackPersonAction:w.useCallback((o,c)=>{const u=e?.people.findIndex(g=>g.id===o);if(u===void 0||u===-1||!e)return;const h=e.people[u],f=t[0]+u;r({person:h,actionType:c,personRank:f,sortOrder:n,organizationSlug:s,teamSlug:i})},[e,t,n,s,i,r])}},NLe=({className:e,data:t,error:n,isError:s,isLoading:i,isPlaceholderData:r,nextAction:a,prevAction:o,pageOptions:c,leftHandOptions:u,isInline:h,source:f})=>{const[g,m]=O0("people_with_confidence_sort","best"),y=w.useMemo(()=>t?.people.map(_=>_.id)??[],[t]),{data:b,isLoading:S}=GI({personIds:y}),{organizationId:C,teamId:M}=He(),{data:N}=Gt(),T=zl(t?.page_info.results_count??0,t?.people.length??0,t?.page_info.next_page_token??""),{trackPersonAction:E}=jLe({data:t,currentRange:T,sortOrder:g,organizationId:C,teamId:M}),k=w.useMemo(()=>CLe({isInline:h??!1,organizationId:C??"",source:f,showSfdcButton:(N&&N.can_send_to_sfdc)??!1,isLoadingPeoplePresence:S,peoplePresence:b??[],onPersonAction:E}),[N,b,S,E]),L=w.useMemo(()=>(t?.people??[]).map(_=>({..._,link:`${f==="job"?"./people":"."}/${_.id}`})),[t]),I=_=>{_?.id&&E(_.id,"open_single_person")};return l.jsxs(l.Fragment,{children:[l.jsx(Qo,{columnsName:"JOB_PEOPLE",columns:k,data:L,isLoading:i,isError:s,error:n,isFullWidth:!1,isPreviousData:r,leftAlignFirstColumn:h,itemPlural:"people",pinColumns:1,showColumnVisibilityToggle:!h,className:e??"",cellLinkCallback:I,lockedTableClass:"border-l border-slate-100",lockedMessage:"Suggested contacts are only available on the Pro plan and above.",lockedButtonText:"Upgrade now to see these people"}),l.jsx(Zo,{caption:"people",currentResults:t?.people.length??0,currentRange:T,hasNext:t?.page_info.next_page_token!==null,hasPrevious:t?.page_info.previous_page_token!==null,isLoading:i,isFetching:r,next:a,numbersOnLeft:h,previous:o,totalResults:t?.page_info.results_count??0,pageOptions:l.jsxs(l.Fragment,{children:[l.jsxs("select",{onChange:_=>m(_.target.value),value:g,className:"max-lg:hidden mr-2 p-1 pr-10 border-0 text-slate-400 focus:outline-hidden focus:ring-0",children:[l.jsx("option",{value:"best",children:"Sort by Best Match"}),l.jsx("option",{value:"level",children:"Sort by Seniority"}),l.jsx("option",{value:"score",children:"Sort by Confidence"})]}),c]}),children:l.jsxs("div",{className:"flex flex-row items-center gap-2 max-lg:hidden",children:[l.jsx(zK,{source:"people",people:t?.people??[]}),u]})})]})},ZK=Xe.memo(NLe),ALe=()=>{const{jobId:e}=He(),[t]=O0("people_with_confidence_sort","best"),[n,s]=w.useState({next_page_token:null,previous_page_token:null}),{data:i,error:r,isError:a,isLoading:o,isPlaceholderData:c}=xLe({jobId:e??"",pageToken:n,sort:t});w.useEffect(()=>{s({next_page_token:null,previous_page_token:null})},[e,t]);const u=()=>{s({next_page_token:i?.page_info.next_page_token??null,previous_page_token:null})},h=()=>{s({next_page_token:i?.page_info.previous_page_token??null,previous_page_token:null})};return!o&&!a&&!i?.people.length?l.jsx("div",{className:"py-4 text-slate-300",children:"No people found for this job."}):l.jsx("div",{className:"py-4 pt-[0.43rem] overflow-hidden flex-1 flex-col flex",children:l.jsx(ZK,{className:`min-w-0! w-full! md:w-full! flex-1 overflow-auto! ${a?"max-h-[25vh]":"max-h-[50vh]"} ${o?"min-h-[28rem]":"border-t"} border-slate-100 border-r`,data:i,error:r,isError:a,isLoading:o,isPlaceholderData:c,nextAction:u,prevAction:h,pageOptions:l.jsx(l.Fragment,{}),isInline:!0,source:"job"})})},J7=({entities:e})=>{const{organizationId:t}=He(),s=e.filter(a=>a.label==="TECH").sort((a,o)=>a.text.localeCompare(o.text)).filter((a,o,c)=>c.findIndex(u=>u.slug===a.slug)===o),i=[],r=new Set;for(const a of e.filter(o=>o.label==="TEXT")){const o=a.text.toLowerCase().replace(/[^\w]+/g," ");r.has(o)||(r.add(o),i.push(a.text))}return l.jsxs("div",{className:"flex flex-row flex-wrap gap-2",children:[i.map(a=>l.jsx(gt,{text:a,selected:!0,disallowClick:!0,type:"general"},a.slug)),s.map(a=>l.jsx(gt,{className:`${a.selected?a.technology_specification_type==="used"?"bg-green-300! hover:bg-green-400!":"bg-yellow-300! hover:bg-yellow-400!":""}`,text:a.text,selected:a.selected,organization_slug:t,item:{name:a.text,slug:a.slug},type:a.technology_specification_type==="mentioned"?"techs_mentioned":"techs"},a.slug))]})},TLe=e=>{const t=new Date;t.setMonth(t.getMonth()-1);try{return t>=new Date(e)}catch{return console.log("Date format unrecognized. Job post is likely stale."),!0}},ELe=()=>{const{jobId:e,organizationId:t}=He(),{data:n,isLoading:s}=WK(e),i="flex flex-col lg:flex-row lg:border-b lg:border-slate-100 last:border-b-0 py-3 gap-1 lg:gap-2",r="text-slate-400 flex-none w-[8rem]",a=Array.from(new Map((n?.projects??[]).map(o=>[o.label,o])).values());return l.jsxs("div",{className:"flex flex-col gap-2 pb-16 px-4 md:px-10",children:[l.jsx(Zr,{title:n?n.title:"Job Post"}),l.jsx("h2",{className:"text-2xl font-semibold pt-4",children:n?l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-1",children:n?.title}),l.jsx(Uc,{className:"mt-2",textToCopy:n.title,itemType:"title"})]}):l.jsx("div",{className:"w-1/2 bg-slate-100 rounded-full",children:""})}),n?.title&&n?.title_original&&l.jsxs("div",{className:"text-slate-400 text-[0.9rem] font-medium -mt-[0.3rem] flex flex-row gap-1 items-center",children:[l.jsx(Ic,{className:"w-4 h-4"}),"Title is auto-translated"]}),!s&&l.jsxs("div",{className:"bg-white md:rounded-md py-3",children:[n?.title_original&&l.jsxs("div",{className:i,children:[l.jsx("div",{className:r,children:"Original Title"}),l.jsxs("div",{className:"flex flex-row gap-2",children:[n.title_original," ",l.jsx(Uc,{textToCopy:n.title_original,itemType:"original title"})]})]}),l.jsxs("div",{className:i,children:[l.jsx("div",{className:r,children:"Added"}),l.jsx("div",{children:tD(n?.datetime_pulled,"dS mmm yyyy")}),n?.job_post_url&&n?.datetime_pulled&&!TLe(n.datetime_pulled)&&l.jsx(Sr,{content:l.jsx("div",{className:"bg-slate-800 text-slate-100 px-2 py-2 text-sm font-semibold rounded-lg max-w-[18rem] text-center",children:"Warning: the job post may not be live anymore."}),followMouse:!0,children:l.jsx("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 md:items-center",children:l.jsx(gt,{disallowClick:!0,hideArrow:!0,type:"general",text:"Original Job Post",href:n.job_post_url,openInNewWindow:!0})})})]}),n?.country_code&&n?.country_name&&l.jsxs("div",{className:i,children:[l.jsx("div",{className:r,children:"Location"}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2 md:items-center",children:[l.jsx("div",{children:l.jsx(gt,{type:"country",item:{name:n.country_name,slug:n.country_code},text:n.country_name})})," ",n?.location&&`(${n.location})`]})]}),(a??[]).length>0&&l.jsxs("div",{className:i,children:[l.jsx("div",{className:r,children:"Project"}),l.jsx("div",{className:"flex flex-col gap-2",children:(a??[]).map((o,c)=>l.jsxs("div",{className:"flex flex-row gap-2",children:[l.jsx("div",{children:l.jsx(gt,{disallowClick:!0,hideArrow:!0,organization_slug:t,type:"projects",item:{name:di(o.name),slug:o.slug},text:di(o.name)})}),l.jsx("div",{children:o.goal})]},o.goal+c))})]}),n?.job_functions&&n.job_functions.length>0&&l.jsxs("div",{className:i,children:[l.jsx("div",{className:r,children:"Job Function"}),l.jsx("div",{className:"flex flex-col lg:flex-row gap-2 lg:items-center",children:n.job_functions.map(o=>l.jsx(gt,{organization_slug:t,type:"job_functions",item:{name:o.name,slug:o.slug},text:o.name},o.slug))})]}),n?.entities&&n?.entities.filter(o=>o.label==="TECH"&&o.technology_specification_type==="used").length>0&&l.jsxs("div",{className:i,children:[l.jsxs("div",{className:`${r} flex items-center gap-1`,children:["Technologies used",l.jsx(Sr,{content:l.jsx("div",{className:"bg-slate-800 text-slate-100 px-2 py-2 text-sm rounded-lg max-w-[18rem]",children:"Technologies explicitly stated as being used in the job description."}),followMouse:!0,children:l.jsx(Ic,{className:"w-4 h-4 text-slate-400 hover:text-slate-600 cursor-help"})})]}),l.jsx("div",{children:l.jsx(J7,{entities:n?.entities.filter(o=>o.label==="TECH"&&o.technology_specification_type==="used")||[]})})]}),(()=>{const o=new Set((n?.entities||[]).filter(u=>u.label==="TECH"&&u.technology_specification_type==="used").map(u=>u.slug)),c=(n?.entities||[]).filter(u=>u.label==="TECH"&&u.technology_specification_type==="mentioned"&&!o.has(u.slug));return c.length>0&&l.jsxs("div",{className:i,children:[l.jsxs("div",{className:`${r} flex items-center gap-1`,children:["Technologies mentioned",l.jsx(Sr,{content:l.jsx("div",{className:"bg-slate-800 text-slate-100 px-2 py-2 text-sm rounded-lg max-w-[18rem]",children:'Technologies that appear in the job description but are not explicitly stated as requirements or used technologies (e.g., "familiarity with cloud technologies such as AWS, Azure, or GCP").'}),followMouse:!0,children:l.jsx(Ic,{className:"w-4 h-4 text-slate-400 hover:text-slate-600 cursor-help"})})]}),l.jsx("div",{children:l.jsx(J7,{entities:c})})]})})(),n?.teams&&n.teams.length>0&&l.jsxs("div",{className:i,children:[l.jsxs("div",{className:r,children:["Team",n.teams.length>1&&"s"]}),l.jsx("div",{className:"flex flex-row flex-wrap gap-2 items-center truncate",children:n.teams.map(o=>l.jsx(gt,{organization_slug:t,type:"team",item:{name:o.name,slug:o.slug},text:o.name},o.slug))})]}),l.jsxs("div",{className:i,children:[l.jsxs("div",{className:`${r} lg:py-4`,children:["Suggested ",l.jsx("br",{}),"contacts"]}),l.jsx(ALe,{})]}),!s&&l.jsxs("div",{className:i,children:[l.jsx("div",{className:`${r} lg:py-4`,children:"Description"}),l.jsx("div",{children:l.jsx("div",{className:"prose leading-normal max-w-[60rem]! lg:py-4",children:l.jsx(W0,{rehypePlugins:[E0],children:YK(n?.job_description||"",n?.entities||[])})})})]})]}),l.jsx("div",{className:" bg-white py-8"}),!s&&l.jsx("div",{className:"flex flex-row gap-2 items-center pb-2",children:l.jsx(Re,{to:"../jobs",className:"font-medium text-slate-400 hover:text-slate-600",children:" Back to all job posts"})})]})},QK=()=>l.jsxs(Pc,{children:[l.jsx(rn,{path:"/people/:personId",element:l.jsx(S2,{})}),l.jsx(rn,{path:"/",element:l.jsx(ELe,{})})]}),XK=e=>e.map(t=>(t.children&&t.children.length>0&&(t.children=XK(t.children)),t)).sort((t,n)=>t.name==="Uncategorized"?1:n.name==="Uncategorized"?-1:t.count<n.count?1:-1),qL=({organization_slug:e,enabled:t=!0})=>{const{advSearch:n}=ze(),s=`/job_functions/${e||""}/advanced`,i=mo("organizations",!0);return nt({url:s,method:"POST",contentType:"application/json",body:Ai(n,i),delayKey:"$functionsList",queryKey:["functionsList",s,JSON.stringify(n),JSON.stringify(i)],enabled:t&&!!e,transform:a=>XK(a)})},JK=e=>e.reduce((t,n)=>t+1+(n.children?JK(n.children):0),0),_2=({type:e})=>{const{organizationId:t,rootOrganizationId:n}=He(),s=n??t,i=Zc({organization_slug:s,enabled:e==="feed"}),r=tm({organization_slug:s||"",enabled:e==="people"}),a=qL({organization_slug:s||"",enabled:e==="job"}),o=GL({organization_slug:s||"",children:[],enabled:e==="teams"})[0],c=[i,r,a,o].some(h=>h.isLoading),u=(()=>{switch(e){case"feed":return i.data?.page_info.results_count??0;case"people":return r.data?.page_info.results_count??0;case"job":return JK(a.data??[]);case"teams":return o.data?.total_teams_count??0;default:return 0}})();return w.useMemo(()=>{if(e==="summary")return"Search";if(c)return"Loading...";if(e==="teams"&&u===0)return"No teams found";const h=$e(u),f=u!==1?"s":"";switch(e){case"feed":return`Search ${h} posts`;case"people":return`Search ${h} people`;case"job":return`Search ${h} function${f}`;case"teams":return`Search ${h} team${f}`;default:return"Search"}},[e,c,u])},eq=({type:e,placeholderOverride:t})=>{const{jobQ:n,setJobQ:s}=ze(),i=_2({type:e}),[r,a]=w.useState(n),o=ba(r,500),c=w.useRef(!1);w.useEffect(()=>{c.current||a(n),c.current=!1},[n]),w.useEffect(()=>{o!==n&&s(o)},[o,s,n]),w.useEffect(()=>()=>{s(null)},[]);const u=r??"";return l.jsx(Fl,{hidden:!1,placeholderText:t??i,value:u,onChange:h=>{c.current=!0,a(h.target.value||"")}})},tq=({data:e,isLoading:t,isPlaceholderData:n,setPageToken:s})=>{const{advSearch:i,resetAllSearch:r}=ze(),a=w.useMemo(()=>e?.page_info||null,[e]),o=w.useCallback(()=>{s(a?.next_page_token??null)},[a]),c=w.useCallback(()=>{s(a?.previous_page_token??null)},[a]),u=w.useMemo(()=>zl(a?a.results_count??0:0,e?.feed_items.length??0,a?a.next_page_token??void 0:void 0),[a,e]),h=a&&a.results_count?`Search ${$e(a.results_count)} job${a.results_count!==1?"s":""}`:t?"Loading...":"No jobs found",f=w.useMemo(()=>{if(!(t||e===void 0))return{...e,feed_items:e.feed_items.map(g=>({...g,link:`${g.id}`}))}},[e,t]);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"border-b border-slate-100 py-4 flex flex-row px-6 md:px-10 items-center gap-3 w-full",children:[l.jsx(eq,{type:"feed",placeholderOverride:h}),l.jsx("div",{className:"text-slate-400 ml-4",children:i&&i.children.length>0&&l.jsxs(l.Fragment,{children:["Filtering jobs by your search filters."," ",l.jsx("button",{className:"text-green-600 hover:text-green-500",onClick:()=>{r()},children:"Remove filters"})]})})]}),l.jsx("div",{className:"w-full flex-1 flex flex-col overflow-auto",children:l.jsx(qY,{className:"md:min-w-0! md:w-full! overflow-visible! border-t-0!",data:f,isLoading:t,isError:!1,isPreviousData:n,error:void 0,showOrgColumn:!1})}),a&&l.jsx(Zo,{totalResults:a.results_count||0,currentResults:e?.feed_items.length||0,currentRange:u,hasNext:a.next_page_token!==null,hasPrevious:a.previous_page_token!==null,next:o,previous:c})]})},DLe=()=>{const{jobId:e}=He();return e?l.jsx(QK,{}):l.jsx(kLe,{})},kLe=()=>{const{jobQ:e}=ze(),{organizationId:t,teamId:n}=He(),s=w.useRef(n),[i,r]=w.useState();w.useEffect(()=>{r(null)},[n]),w.useEffect(()=>{s.current=n},[i]);const{data:a,isLoading:o,isPlaceholderData:c}=Zc({organization_slug:t,team_slug:n,pageToken:i??void 0,q:e??void 0});return l.jsx(tq,{data:a,isLoading:o,isPlaceholderData:c,setPageToken:r})},ILe=({organization_slug:e,team_slug:t})=>`/teams/${e}/${t}/people/filters`,LLe=(e,t)=>{const n=ILe({organization_slug:e,team_slug:t});return nt({url:n,enabled:!!e&&!!t,queryKey:["teamPeopleFilter",n]})},OLe=({ButtonComponent:e,buttonText:t,className:n,description:s,hotKey:i,filter:r,filterId:a,filterItems:o,plural:c,resetFilter:u,selectedClass:h})=>{const[f,g]=w.useState(!1),m=w.useRef(!1),{data:y}=Gt(),{mutate:b}=Z0(),{floatingStyles:S,refs:C}=T0({placement:"bottom-start",strategy:"absolute",middleware:[Tk({allowedPlacements:["bottom-start","bottom-end"]})]});es(i??"",N=>{N.preventDefault(),g(T=>!T)},{scopes:["filters"]},[f]),es("Escape",N=>{f&&(N.preventDefault(),g(!1))},{enableOnFormTags:!0,scopes:["filters"]},[f]),w.useEffect(()=>{!f&&m.current===!0&&(y&&!y.onboarding?.has_seen_popover_tech&&b([{field:"has_seen_popover_tech",value:"true"}]),y&&!y.onboarding?.has_seen_popover_location&&b([{field:"has_seen_popover_location",value:"true"}])),m.current=f},[f]);const M=o&&o?.length>0;return l.jsx("div",{ref:C.setReference,children:l.jsxs(l.Fragment,{children:[l.jsx(Ht,{description:s??"",hotkey:i??"",children:l.jsx(e,{className:n??"",filterId:a,isActive:M??!1,isOpen:f,buttonText:t,filterItems:o,plural:c,selectedClass:h,toggleFilter:()=>{g(N=>!N)},resetFilter:u})}),f&&r&&l.jsxs(zg,{id:"filters-portal",children:[l.jsx(Ek,{"data-testid":"filter-overlay",className:"max-md:backdrop-blur-lg bg-white/50",onClick:()=>g(!1)}),l.jsx("div",{ref:C.setFloating,style:S,className:"max-md:fixed md:absolutemax-md:left-6 max-md:right-6 mt-3 font-normal",children:r})]})]})})};var RLe=_Le;function _Le(e,t,n){return t==null||t>=e.length?e:(n==null&&(n="..."),e.slice(0,Math.max(0,t-n.length))+n)}const e9=25,PLe=(e,t)=>e?e.length===1&&e[0]?RLe(e[0],e9):e.join(", ").length<e9?e.join(", "):`${e.length} ${t}`:"",zLe=({className:e,selectedClass:t,isActive:n,isOpen:s,buttonText:i,filterItems:r,filterId:a,plural:o,toggleFilter:c,resetFilter:u})=>l.jsxs("button",{onClick:c,"data-testid":`filter-button-${i}`,id:a,className:`
            inline-flex justify-between items-center
            py-[calc(.5rem+1px)] px-4 md:px-5 rounded-full
            text-left text-base
            text-slate-700
            font-medium
            ${n?`${t} font-semibold`:s?"bg-slate-300 hover:bg-slate-300":" bg-slate-100 hover:bg-slate-200"}
            ${e??""}
        `,children:[l.jsx("div",{className:`${n&&"truncate min-w-[4rem]"}`,children:n?PLe(r,o):i}),n?l.jsx(gd,{className:"dont-bubble ml-2 -mr-0.5 h-5 w-5 hover:text-red-700 text-stroke-1","aria-hidden":"true",onClick:h=>{h.stopPropagation(),u()},"data-testid":"filter-button-clear"}):l.jsx(Fo,{className:"ml-2 -mr-0.5 h-5 w-5","aria-hidden":"true"})]}),CT=e=>l.jsx(OLe,{ButtonComponent:zLe,...e}),nq=({type:e,placeholderOverride:t})=>{const{peopleQ:n,setPeopleQ:s}=ze(),i=_2({type:e}),[r,a]=w.useState(n),o=ba(r,500),c=w.useRef(!1);w.useEffect(()=>{c.current||a(n),c.current=!1},[n]),w.useEffect(()=>{o!==n&&s(o)},[o,s,n]),w.useEffect(()=>()=>{s(null)},[]);const u=r??"";return l.jsx(Fl,{hidden:!1,placeholderText:t??i,value:u,onChange:h=>{c.current=!0,a(h.target.value||"")}})},sq=w.memo(function({allJobFunctions:t,allLocations:n,allLevels:s,count:i,isLoading:r,isSuggested:a,jfs:o,setJfs:c}){const{levels:u,excludeLevels:h,resetLevel:f,resetExcludeLevel:g,locations:m,resetLocation:y,advSearch:b,resetAllSearch:S}=ze(),C=w.useMemo(()=>t?.sort((T,E)=>E.count-T.count),[t]),M=w.useMemo(()=>[...u??[],...(h??[]).map(T=>`-${T}`)],[u,h]),N=w.useMemo(()=>o?.filter(T=>T!==null).map(T=>({slug:T,type:T}))??[],[o]);return l.jsxs("div",{className:"border-b border-slate-100 py-4 flex flex-row items-center w-full gap-8 px-6 md:px-10",children:[l.jsx("div",{children:l.jsx(nq,{type:"people",placeholderOverride:r?"   ":i===0?"No people found":`${a?"":"Search "}${i?`${$e(i)} ${a?"suggested people":"people"}`:"people"}`})}),l.jsxs("div",{className:"flex flex-row items-center gap-2",children:[l.jsx(CT,{filterId:"location",selectedClass:"bg-green-100 text-green-800",className:"",buttonText:"Location",plural:"locations",hotKey:"C",description:"Filter by location",filter:l.jsx(xke,{allItems:n,isLoading:r}),filterItems:m,resetFilter:y}),l.jsx(CT,{filterId:"level",selectedClass:"bg-green-100 text-green-800",className:"",buttonText:"Level",plural:"levels",hotKey:"V",description:"Filter by level",filter:l.jsx(jke,{allItems:s,allowExclude:!1,isLoading:r}),filterItems:M,resetFilter:()=>{f(),g()}}),c&&l.jsx(CT,{filterId:"job_function",selectedClass:"bg-green-100 text-green-800",className:"",buttonText:"Job Function",plural:"job functions",hotKey:"B",description:"Filter by job function",filter:l.jsx(l.Fragment,{children:l.jsx(gK,{allItems:C??[],allowExclude:!1,isLoading:r,backAction:()=>{},toggleAction:T=>{if(o?.includes(T)){c(o.filter(E=>E!==T));return}else c([...o??[],T])},resetAction:()=>c(null),showCount:!0,selectedItems:N})}),filterItems:[...o??[]],resetFilter:()=>{c(null)}})]}),l.jsx("div",{className:"text-slate-400 ml-4",children:b&&b.children.length>0&&l.jsxs(l.Fragment,{children:["Filtering people by your search filters."," ",l.jsx("button",{className:"text-green-600 hover:text-green-500",onClick:()=>{S()},children:"Remove filters"})]})})]})}),FLe=()=>{const{teamId:e,organizationId:t}=He(),[n,s]=Ut("team_people_jf",Qa),{sendEvent:i}=zn(),{levels:r,excludeLevels:a,resetLevel:o,locations:c,resetLocation:u,peopleQ:h}=ze(),{data:f}=$l(t),{data:g}=tm({organization_slug:t??""}),[m,y]=w.useState({next_page_token:null,previous_page_token:null}),[b]=O0("people_with_confidence_sort","best"),S=w.useMemo(()=>({next_page_token:m.next_page_token,previous_page_token:m.previous_page_token,levels:r,exclude_levels:a,job_functions:n,countries:c,q:h,sort_order:b}),[m.next_page_token,m.previous_page_token,r,a,n,c,h,b]),{data:C,error:M,isError:N,isLoading:T,isPlaceholderData:E}=mU(t,e,S),{data:k}=LLe(t,e);w.useEffect(()=>{y({next_page_token:null,previous_page_token:null})},[t,e]),w.useEffect(()=>()=>{s(null),o(),u()},[]);const L=w.useCallback(()=>{i("view_all_people_from_team",{team_id:e,organization_id:t})},[i,e,t]),I=w.useMemo(()=>C?.page_info.results_count===0&&!T?l.jsxs("div",{className:"px-10 py-5 flex flex-col",children:["We haven't matched anyone to this team with your filters."," ",l.jsxs(Re,{to:`/orgs/${t}/people`,className:"text-green-600 text-medium hover:text-green-700",onClick:L,children:["View all"," ",g&&$e(g?.page_info.results_count??0)," ","people in ",f?.name??"this organization"," that match your filters "]})]}):null,[C?.page_info.results_count,T,g,f?.name,t,L]),_=w.useMemo(()=>()=>y({next_page_token:C?.page_info.next_page_token??null,previous_page_token:null}),[C?.page_info.next_page_token]),F=w.useMemo(()=>()=>y({next_page_token:C?.page_info.previous_page_token??null,previous_page_token:null}),[C?.page_info.previous_page_token]);return l.jsxs(l.Fragment,{children:[l.jsx(sq,{count:C?.page_info.results_count??void 0,isLoading:T,isSuggested:!0,allLevels:k?.levels,allLocations:k?.countries??[],allJobFunctions:k?.job_functions??[],setJfs:s,jfs:n??[]}),I||l.jsx(ZK,{isLoading:T,isPlaceholderData:E,data:C,error:M,isError:N,nextAction:_,pageOptions:l.jsx(l.Fragment,{}),prevAction:F,isInline:!1,source:"team"})]})},$Le=Xe.memo(FLe),xw=()=>{const{rootOrganizationId:e,organizationId:t,teamId:n}=He(),s=e??t,i=Qt(),{currentTeamItem:r,type:a}=vre();let o=`/orgs/${s}/teams`;a==="jobs"&&(o="/jobs"),a==="feed"&&(o=`/orgs/${s}/jobs`);const{data:c,isError:u}=tI(t,n),{sendEvent:h}=zn();w.useEffect(()=>{h("Team loaded",{category:"Web UI",organization_id:s,team_id:`${s}/${n}`})},[n]);const f=n!=="other-team-not-mentioned";return l.jsx(FI,{dispelAction:()=>i({pathname:o,search:window.location.search}),children:u?l.jsx(xg,{title:"Error loading team",subtitle:"We couldn't load the team you were looking for."}):l.jsx(rLe,{resetKeys:[n],fallback:l.jsx(xg,{title:"Error loading team",subtitle:"We couldn't load the team you were looking for."}),children:l.jsxs(l.Fragment,{children:[l.jsx(Zr,{title:r?.name??c?.name??"Team"}),l.jsxs("div",{className:"sticky top-0 z-20",children:[l.jsx(dLe,{closeUrl:o,organizationId:t??s,breadcrumbs:c?.breadcrumbs}),l.jsx(oLe,{team:r,fullTeam:c}),l.jsx(uLe,{})]}),l.jsxs(Pc,{children:[l.jsx(rn,{path:"people",element:f?l.jsx($Le,{}):l.jsx("div",{className:"text-slate-300 animate-pulse px-10 pt-6",children:"Loading..."})}),l.jsx(rn,{path:"people/:personId",element:f?l.jsx(S2,{}):l.jsx(l.Fragment,{})}),l.jsx(rn,{path:"jobs/:jobId?/*",element:l.jsx(DLe,{})}),l.jsx(rn,{path:"techs",element:l.jsx(gLe,{technologies:c?.technologies})}),l.jsx(rn,{path:"*",element:f?l.jsx(Wa,{to:"../people",replace:!0}):l.jsx(Wa,{to:"../jobs",replace:!0})})]})]})})})},BLe=()=>l.jsx("div",{className:"bg-slate-100 min-h-screen px-4 py-12 overflow-auto",children:l.jsxs("div",{className:"max-w-[50rem] px-8 py-8 mb-24 mx-auto bg-white shadow-lg gap-4 flex flex-col",children:[l.jsxs("h1",{className:"text-center mb-24 font-semibold",children:["Sumble Terms of Service",l.jsx("br",{}),"Last Revised on 23 May 2023"]}),l.jsxs("p",{className:"text-justify",children:['Welcome to the Terms of Service (these "',l.jsx("span",{className:"font-bold",children:"Terms"}),'") for the website, sumble.com (the "',l.jsx("span",{className:"font-bold",children:"Website"}),'"), operated on behalf of Sumble, Inc. ("',l.jsx("span",{className:"font-bold",children:"Company"}),'", "',l.jsx("span",{className:"font-bold",children:"we"}),'" or "',l.jsx("span",{className:"font-bold",children:"us"}),'"). The Website and any content, tools, features, information and functionality offered on or through our Website are collectively referred to as the "',l.jsx("span",{className:"font-bold",children:"Services"}),'".']}),l.jsx("p",{className:"text-justify",children:"These Terms govern your access to and use of the Services. Please read these Terms carefully, as they include important information about your legal rights. By accessing and/or using the Services, you are agreeing to these Terms. If you do not understand or agree to these Terms, please do not use the Services."}),l.jsxs("p",{className:"text-justify",children:['For purposes of these Terms, "',l.jsx("span",{className:"font-bold",children:"you"}),'" and "',l.jsx("span",{className:"font-bold",children:"your"}),`" means you as the user of the Services. If you use the Services on behalf of a company or other entity then "you" includes you and that entity, and you represent and warrant that (a) you are an authorized representative of the entity with the authority to bind the entity to these Terms, and (b) you agree to these Terms on the entity's behalf.`]}),l.jsx("p",{className:"font-bold text-justify",children:"SECTION 9 CONTAINS AN ARBITRATION CLAUSE AND CLASS ACTION WAIVER. BY AGREEING TO THESE TERMS, YOU AGREE (A) TO RESOLVE ALL DISPUTES (WITH LIMITED EXCEPTION) RELATED TO THE COMPANY'S SERVICES AND/OR PRODUCTS THROUGH BINDING INDIVIDUAL ARBITRATION, WHICH MEANS THAT YOU WAIVE ANY RIGHT TO HAVE THOSE DISPUTES DECIDED BY A JUDGE OR JURY, AND (B) TO WAIVE YOUR RIGHT TO PARTICIPATE IN CLASS ACTIONS, CLASS ARBITRATIONS, OR REPRESENTATIVE ACTIONS, AS SET FORTH BELOW. YOU HAVE THE RIGHT TO OPT-OUT OF THE ARBITRATION CLAUSE AND THE CLASS ACTION WAIVER AS EXPLAINED IN SECTION 9."}),l.jsx("h2",{className:"font-semibold mt-8",children:"1. BETA OFFERINGS"}),l.jsxs("p",{className:"text-justify",children:['From time to time, we may, in our sole discretion, include certain test or beta features or products in the Services ("',l.jsx("span",{className:"font-bold",children:"Beta Offerings"}),'") as we may designate from time to time. Your use of any Beta Offering is completely voluntary. The Beta Offerings are provided on an "as is" basis and may contain errors, defects, bugs, or inaccuracies that could cause failures, corruption or loss of data and information from any connected device. You acknowledge and agree that all use of any Beta Offering is at your sole risk. You agree that once you use a Beta Offering, your content or data may be affected such that you may be unable to revert back to a prior non-beta version of the same or similar feature. Additionally, if such reversion is possible, you may not be able to return or restore data created within the Beta Offering back to the prior non-beta version. If we provide you any Beta Offerings on a closed beta or confidential basis, we will notify you of such as part of your use of the Beta Offerings. For any such confidential Beta Offerings, you agree to not disclose, divulge, display, or otherwise make available any of the Beta Offerings without our prior written consent.']}),l.jsx("h2",{className:"font-semibold mt-8",children:"2. ACCEPTANCE OF TERMS OF SERVICE"}),l.jsx("p",{className:"text-justify",children:"The Services are offered subject to acceptance without modification of these Terms and all other operating rules, policies and procedures that may be published from time to time in connection with the Services by us."}),l.jsx("p",{className:"text-justify",children:"We may, in our sole discretion, refuse to offer the Services to any person or entity and change its eligibility criteria at any time. This provision is void where prohibited by law and the right to access the Services is revoked in such jurisdictions."}),l.jsx("h2",{className:"font-semibold mt-8",children:"3. WHO MAY USE THE SERVICES"}),l.jsx("p",{className:"text-justify",children:"You must be 13 years of age or older and reside in the United States or any of its territories to use the Services. Minors under the age of majority in their jurisdiction but that are at least 13 years of age are only permitted to use the Services if the minor's parent or guardian accepts these Terms on the minor's behalf prior to use of the Services. Children under the age of 13 are not permitted to use the Services. By using the Services, you represent and warrant that you meet these requirements. Users will be able to create accounts using existing credentials with a single sign on provider or using a direct account creation process."}),l.jsx("h2",{className:"font-semibold mt-8",children:"4. LOCATION OF OUR PRIVACY POLICY"}),l.jsxs("p",{className:"text-justify",children:["Our Privacy Policy describes how we handle the information you provide to us when you use the Services. For an explanation of our privacy practices, please visit our Privacy Policy located at"," ",l.jsx(Re,{to:"/privacy",children:"https://sumble.com/privacy"}),"."]}),l.jsx("h2",{className:"font-semibold mt-8",children:"5. RIGHTS WE GRANT YOU"}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"5.1"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Right to Use Services"}),". We hereby permit you to use the Services for your personal non-commercial use only, provided that you comply with these Terms in connection with all such use. If any software, content or other materials owned or controlled by us are distributed to you as part of your use of the Services, we hereby grant you, a personal, non-assignable, non-sublicensable, non-transferrable, and non-exclusive right and license to access and display such software, content and materials provided to you as part of the Services, in each case for the sole purpose of enabling you to use the Services as permitted by these Terms. Your access and use of the Services may be interrupted from time to time for any of several reasons, including, without limitation, the malfunction of equipment, periodic updating, maintenance or repair of the Service or other actions that Company, in its sole discretion, may elect to take."]})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"5.2"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Restrictions On Your Use of the Services"}),". You may not do any of the following in connection with your use of the Services, unless applicable laws or regulations prohibit these restrictions or you have our written permission to do so:"]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(a)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"download, modify, copy, distribute, transmit, display, perform, reproduce, duplicate, publish, license, create derivative works from, or offer for sale any information contained on, or obtained from or through, the Services, except for temporary files that are automatically cached by your web browser for display purposes, or as otherwise expressly permitted in these Terms;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(b)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"duplicate, decompile, reverse engineer, disassemble or decode the Services (including any underlying idea or algorithm), or attempt to do any of the same;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(c)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"use, reproduce or remove any copyright, trademark, service mark, trade name, slogan, logo, image, or other proprietary notation displayed on or through the Services;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(d)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"use automation software (bots), hacks, modifications (mods) or any other unauthorized third-party software designed to modify the Services;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(e)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"exploit the Services for any commercial purpose, including without limitation communicating or facilitating any commercial advertisement or solicitation;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(f)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"access or use the Services in any manner that could disable, overburden, damage, disrupt or impair the Services or interfere with any other party's access to or use of the Services or use any device, software or routine that causes the same;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(g)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"attempt to gain unauthorized access to, interfere with, damage or disrupt the Services, or the computer systems or networks connected to the Services;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(h)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"circumvent, remove, alter, deactivate, degrade or thwart any technological measure or content protections of the Services;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(i)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:'use any robot, spider, crawlers, scraper, or other automatic device, process, software or queries that intercepts, "mines," scrapes, extracts, or otherwise accesses the Services to monitor, extract, copy or collect information or data from or through the Services, or engage in any manual process to do the same;'})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(j)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"introduce any viruses, trojan horses, worms, logic bombs or other materials that are malicious or technologically harmful into our systems;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(k)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"submit, transmit, display, perform, post or store any content that is inaccurate, unlawful, defamatory, obscene, lewd, lascivious, filthy, excessively violent, pornographic, invasive of privacy or publicity rights, harassing, threatening, abusive, inflammatory, harmful, hateful, cruel or insensitive, deceptive, or otherwise objectionable, use the Services for illegal, harassing, bullying, unethical or disruptive purposes, or otherwise use the Services in a manner that is obscene, lewd, lascivious, filthy, excessively violent, harassing, harmful, hateful, cruel or insensitive, deceptive, threatening, abusive, inflammatory, pornographic, inciting, organizing, promoting or facilitating violence or criminal or harmful activities, defamatory, obscene or otherwise objectionable;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(l)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"violate any applicable law or regulation in connection with your access to or use of the Services; or"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(m)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"access or use the Services in any way not expressly permitted by these Terms."})})]})]})]}),l.jsx("h2",{className:"font-semibold mt-8",children:"6. OWNERSHIP"}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"6.1"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Ownership of the Services"}),'. The Services, including their "look and feel" (e.g., text, graphics, images, logos), proprietary content, information and other materials, are protected under copyright, trademark and other intellectual property laws. You agree that the Company and/or its licensors own all right, title and interest in and to the Services (including any and all intellectual property rights therein) and you agree not to take any action(s) inconsistent with such ownership interests. We and our licensors reserve all rights in connection with the Services and its content, including, without limitation, the exclusive right to create derivative works.']})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"6.2"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Ownership of Trademarks"}),". The Company's name, the Company's logo and all related names, logos, product and service names, designs and slogans are trademarks of the Company or its affiliates or licensors. Other names, logos, product and service names, designs and slogans that appear on the Services are the property of their respective owners, who may or may not be affiliated with, connected to, or sponsored by us."]})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"6.3"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Ownership of Feedback"}),'. We welcome feedback, comments and suggestions for improvements to the Services ("',l.jsx("span",{className:"font-bold",children:"Feedback"}),'"). You acknowledge and expressly agree that any contribution of Feedback does not and will not give or grant you any right, title or interest in the Services or in any such Feedback. All Feedback becomes the sole and exclusive property of the Company, and the Company may use and disclose Feedback in any manner and for any purpose whatsoever without further notice or compensation to you and without retention by you of any proprietary or other right or claim. You hereby assign to the Company any and all right, title and interest (including, but not limited to, any patent, copyright, trade secret, trademark, show-how, know-how, moral rights and any and all other intellectual property right) that you may have in and to any and all Feedback.']})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"6.4"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"underline",children:"Notice of Infringement - DMCA (Copyright) Policy"}),l.jsxs("p",{className:"pt-2 text-justify",children:['If you believe that any text, graphics, photos, audio, videos or other materials or works uploaded, downloaded or appearing on the Services have been copied in a way that constitutes copyright infringement, you may submit a notification to our copyright agent in accordance with 17 USC 512(c) of the Digital Millennium Copyright Act (the "',l.jsx("span",{className:"font-bold",children:"DMCA"}),'"), by providing the following information in writing:']}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(a)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"identification of the copyrighted work that is claimed to be infringed;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(b)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"identification of the allegedly infringing material that is requested to be removed, including a description of where it is located on the Service;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(c)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"information for our copyright agent to contact you, such as an address, telephone number and e-mail address;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(d)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"a statement that you have a good faith belief that the identified, allegedly infringing use is not authorized by the copyright owners, its agent or the law;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(e)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"a statement that the information above is accurate, and under penalty of perjury, that you are the copyright owner or the authorized person to act on behalf of the copyright owner; and"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(f)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"the physical or electronic signature of a person authorized to act on behalf of the owner of the copyright or of an exclusive right that is allegedly infringed."})})]}),l.jsx("p",{className:"pt-2 text-justify",children:"Notices of copyright infringement claims should be sent by e-mail to support. It is our policy, in appropriate circumstances and at our discretion, to disable or terminate the accounts of users who repeatedly infringe copyrights or intellectual property rights of others."}),l.jsx("p",{className:"pt-2 text-justify",children:"A user of the Services who has uploaded or posted materials identified as infringing as described above may supply a counter-notification pursuant to sections 512(g)(2) and (3) of the DMCA. When we receive a counter-notification, we may reinstate the posts or material in question, in our sole discretion. To file a counter-notification with us, you must provide a written communication (by fax or regular mail or by email) that sets forth all of the items required by sections 512(g)(2) and (3) of the DMCA. Please note that you will be liable for damages if you materially misrepresent that content or an activity is not infringing the copyrights of others."})]})]}),l.jsx("h2",{className:"font-semibold mt-8",children:"7. THIRD PARTY SERVICES AND MATERIALS"}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"7.1"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Use of Third Party Materials in the Services"}),'. Certain Services may display, include or make available content, data, information, applications or materials from third parties ("',l.jsx("span",{className:"font-bold",children:"Third Party Materials"}),'") or provide links to certain third party websites. By using the Services, you acknowledge and agree that the Company is not responsible for examining or evaluating the content, accuracy, completeness, availability, timeliness, validity, copyright compliance, legality, decency, quality or any other aspect of such Third Party Materials or websites. We do not warrant or endorse and do not assume and will not have any liability or responsibility to you or any other person for any third-party services, Third Party Materials or third-party websites, or for any other materials, products, or services of third parties. Third Party Materials and links to other websites are provided solely as a convenience to you.']})})]}),l.jsx("h2",{className:"font-semibold mt-8",children:"8. DISCLAIMERS, LIMITATIONS OF LIABILITY AND INDEMNIFICATION"}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"8.1"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Disclaimers"}),"."]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(a)"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:['Your access to and use of the Services are at your own risk. You understand and agree that the Services and all information provided therein are provided to you on an "AS IS" and "AS AVAILABLE" basis. Without limiting the foregoing, to the maximum extent permitted under applicable law, the Company, its parents, affiliates, related companies, officers, directors, employees, agents, representatives, partners and licensors (the "',l.jsx("span",{className:"font-bold",children:"Company Entities"}),'") DISCLAIM ALL WARRANTIES AND CONDITIONS, WHETHER EXPRESS OR IMPLIED, OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NON-INFRINGEMENT. The Company Entities make no warranty or representation and disclaim all responsibility and liability for: (a) the completeness, accuracy, availability, timeliness, security or reliability of the Services including, for the avoidance of doubt, with respect to the information provided as part of the Services or the Website; (b) any harm to your computer system, loss of data, or other harm that results from your access to or use of the Services; (c) the operation or compatibility with any other application or any particular system or device; and (d) whether the Services will meet your requirements or be available on an uninterrupted, secure or error-free basis. No advice or information, whether oral or written, obtained from the Company Entities or through the Services, will create any warranty or representation not expressly made herein.']})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(b)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"THE COMPANY ENTITIES TAKE NO RESPONSIBILITY AND ASSUME NO LIABILITY FOR ANY CONTENT THAT YOU, ANOTHER USER, OR A THIRD PARTY CREATES, UPLOADS, POSTS, SENDS, RECEIVES, OR STORES ON OR THROUGH OUR SERVICES."})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(c)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"YOU UNDERSTAND AND AGREE THAT YOU MAY BE EXPOSED TO CONTENT THAT MIGHT BE OFFENSIVE, ILLEGAL, MISLEADING, OR OTHERWISE INAPPROPRIATE, NONE OF WHICH THE COMPANY ENTITIES WILL BE RESPONSIBLE FOR."})})]})]})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"8.2"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Limitations of Liability"}),". TO THE EXTENT NOT PROHIBITED BY LAW, YOU AGREE THAT IN NO EVENT WILL THE COMPANY ENTITIES BE LIABLE (A) FOR DAMAGES OF ANY KIND, INCLUDING INDIRECT SPECIAL, EXEMPLARY, INCIDENTAL, CONSEQUENTIAL OR PUNITIVE DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES, LOSS OF USE, DATA OR PROFITS, BUSINESS INTERRUPTION OR ANY OTHER DAMAGES OR LOSSES, ARISING OUT OF OR RELATED TO YOUR USE OR INABILITY TO USE THE SERVICES), HOWEVER CAUSED AND UNDER ANY THEORY OF LIABILITY, WHETHER UNDER THESE TERMS OR OTHERWISE ARISING IN ANY WAY IN CONNECTION WITH THE SERVICES OR THESE TERMS AND WHETHER IN CONTRACT, STRICT LIABILITY OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) EVEN IF THE COMPANY ENTITIES HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE, OR (B) FOR ANY OTHER CLAIM, DEMAND OR DAMAGES WHATSOEVER RESULTING FROM OR ARISING OUT OF OR IN CONNECTION WITH THESE TERMS OR THE DELIVERY, USE OR PERFORMANCE OF THE SERVICES. SOME JURISDICTIONS (SUCH AS THE STATE OF NEW JERSEY) DO NOT ALLOW THE EXCLUSION OR LIMITATION OF INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THE ABOVE EXCLUSION OR LIMITATION MAY NOT APPLY TO YOU. THE COMPANY ENTITIES' TOTAL LIABILITY TO YOU FOR ANY DAMAGES FINALLY AWARDED SHALL NOT EXCEED THE AMOUNT OF ONE HUNDRED DOLLARS ($100.00), OR THE AMOUNT YOU PAID THE COMPANY ENTITIES, IF ANY, IN THE PAST SIX (6) MONTHS FOR THE SERVICES (OR OFFERINGS PURCHASED ON THE SERVICES) GIVING RISE TO THE CLAIM. THE FOREGOING LIMITATIONS WILL APPLY EVEN IF THE ABOVE STATED REMEDY FAILS OF ITS ESSENTIAL PURPOSE."]})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"8.3"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Indemnification"}),". By entering into these Terms and accessing or using the Services, you agree that you shall defend, indemnify and hold the Company Entities harmless from and against any and all claims, costs, damages, losses, liabilities and expenses (including attorneys' fees and costs) incurred by the Company Entities arising out of or in connection with: (a) your violation or breach of any term of these Terms or any applicable law or regulation; (b) your violation of any rights of any third party; (c) your misuse of the Services; or (d) your negligence or wilful misconduct. If you are obligated to indemnify any Company Entity hereunder, then you agree that Company (or, at its discretion, the applicable Company Entity) will have the right, in its sole discretion, to control any action or proceeding and to determine whether Company wishes to settle, and if so, on what terms, and you agree to fully cooperate with Company in the defense or settlement of such claim."]})})]}),l.jsx("h2",{className:"font-semibold mt-8",children:"9. ARBITRATION AND CLASS ACTION WAIVER"}),l.jsx("p",{className:"font-bold",children:"PLEASE READ THIS SECTION CAREFULLY - IT MAY SIGNIFICANTLY AFFECT YOUR LEGAL RIGHTS, INCLUDING YOUR RIGHT TO FILE A LAWSUIT IN COURT AND TO HAVE A JURY HEAR YOUR CLAIMS. IT CONTAINS PROCEDURES FOR MANDATORY BINDING ARBITRATION AND A CLASS ACTION WAIVER."}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"9.1"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Informal Process First"}),". You and the Company agree that in the event of any dispute between you and the Company Entities, either party will first contact the other party and make a good faith sustained effort to resolve the dispute before resorting to more formal means of resolution, including without limitation, any court action, after first allowing the receiving party 30 days in which to respond. Both you and the Company agree that this dispute resolution procedure is a condition precedent which must be satisfied before initiating any arbitration against the other party."]})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"9.2"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Arbitration Agreement and Class Action Waiver"}),'. After the informal dispute resolution process, any remaining dispute, controversy, or claim (each, a "',l.jsx("span",{className:"underline",children:"Claim"}),`") relating in any way to the Company's services and/or products, including the Services, and any use or access or lack of access thereto, will be resolved by arbitration, including threshold questions of arbitrability of the Claim. You and the Company agree that any Claim will be settled by final and binding arbitration, using the English language, administered by JAMS under its Comprehensive Arbitration Rules and Procedures (the "`,l.jsx("span",{className:"underline",children:"JAMS Rules"}),'") then in effect (those rules are deemed to be incorporated by reference into this section, and as of the date of these Terms). Because your contract with the Company, these Terms, and this Arbitration Agreement concern interstate commerce, the Federal Arbitration Act ("',l.jsx("span",{className:"underline",children:"FAA"}),'") governs the arbitrability of all disputes. However, the arbitrator will apply applicable substantive law consistent with the FAA and the applicable statute of limitations or condition precedent to suit. Arbitration will be handled by a sole arbitrator in accordance with the JAMS Rules. Judgment on the arbitration award may be entered in any court that has jurisdiction. Any arbitration under these Terms will take place on an individual basis - class arbitrations and class actions are not permitted. You understand that by agreeing to these Terms, you and the Company are each waiving the right to trial by jury or to participate in a class action or class arbitration.']})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"9.3"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Exceptions"}),". Notwithstanding the foregoing, you and the Company agree that the following types of disputes will be resolved in a court of proper jurisdiction:"]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(a)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"disputes or claims within the jurisdiction of a small claims court consistent with the jurisdictional and dollar limits that may apply, as long as it is brought and maintained as an individual dispute and not as a class, representative, or consolidated action or proceeding;"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(b)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"disputes or claims where the sole form of relief sought is injunctive relief (including public injunctive relief); and"})})]}),l.jsxs("div",{className:"flex pt-2",children:[l.jsx("div",{className:"flex-none w-8",children:"(c)"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"intellectual property disputes."})})]})]})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"9.4"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Costs of Arbitration"}),". Payment of all filing, administration, and arbitrator costs and expenses will be governed by the JAMS Rules, except that if you demonstrate that any such costs and expenses owed by you under those rules would be prohibitively more expensive than a court proceeding, the Company will pay the amount of any such costs and expenses that the arbitrator determines are necessary to prevent the arbitration from being prohibitively more expensive than a court proceeding (subject to possible reimbursement as set forth below)."]})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"9.5"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"Fees and costs may be awarded as provided pursuant to applicable law. If the arbitrator finds that either the substance of your claim or the relief sought in the demand is frivolous or brought for an improper purpose (as measured by the standards set forth in Federal Rule of Civil Procedure 11(b)), then the payment of all fees will be governed by the JAMS rules. In that case, you agree to reimburse the Company for all monies previously disbursed by it that are otherwise your obligation to pay under the applicable rules. If you prevail in the arbitration and are awarded an amount that is less than the last written settlement amount offered by the Company before the arbitrator was appointed, the Company will pay you the amount it offered in settlement. The arbitrator may make rulings and resolve disputes as to the payment and reimbursement of fees or expenses at any time during the proceeding and upon request from either party made within 14 days of the arbitrator's ruling on the merits."})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"9.6"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Opt-Out"}),". You have the right to opt-out and not be bound by the arbitration provisions set forth in these Terms by sending written notice of your decision to opt-out to"," ",l.jsx("a",{href:"mailto:support@sumble.com",children:"support@sumble.com"})," ",'or to the U.S. mailing address listed in the "How to Contact Us" section of these Terms. The notice must be sent to the Company within thirty (30) days of your first using the Services or agreeing to these Terms; otherwise you shall be bound to arbitrate disputes on a non-class basis in accordance with these Terms. If you opt out of only the arbitration provisions, and not also the class action waiver, the class action waiver still applies. You may not opt out of only the class action waiver and not also the arbitration provisions. If you opt-out of these arbitration provisions, the Company also will not be bound by them.']})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"9.7"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"WAIVER OF RIGHT TO BRING CLASS ACTION AND REPRESENTATIVE CLAIMS"}),`. To the fullest extent permitted by applicable law, you and the Company each agree that any proceeding to resolve any dispute, claim, or controversy will be brought and conducted ONLY IN THE RESPECTIVE PARTY'S INDIVIDUAL CAPACITY AND NOT AS PART OF ANY CLASS (OR PURPORTED CLASS), CONSOLIDATED, MULTIPLE-PLAINTIFF, OR REPRESENTATIVE ACTION OR PROCEEDING ("`,l.jsx("span",{className:"font-bold",children:"CLASS ACTION"}),`"). You and the Company AGREE TO WAIVE THE RIGHT TO PARTICIPATE AS A PLAINTIFF OR CLASS MEMBER IN ANY CLASS ACTION. You and the Company EXPRESSLY WAIVE ANY ABILITY TO MAINTAIN A CLASS ACTION IN ANY FORUM. If the dispute is subject to arbitration, THE ARBITRATOR WILL NOT HAVE THE AUTHORITY TO COMBINE OR AGGREGATE CLAIMS, CONDUCT A CLASS ACTION, OR MAKE AN AWARD TO ANY PERSON OR ENTITY NOT A PARTY TO THE ARBITRATION. Further, you and the Company agree that the ARBITRATOR MAY NOT CONSOLIDATE PROCEEDINGS FOR MORE THAN ONE PERSON'S CLAIMS, AND IT MAY NOT OTHERWISE PRESIDE OVER ANY FORM OF A CLASS ACTION. For the avoidance of doubt, however, you can seek public injunctive relief to the extent authorized by law and consistent with the`," ",l.jsx("span",{className:"underline",children:"Section 9.3"})," ","(Exceptions) above."]})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-8",children:"9.8"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-justify",children:"IF THIS CLASS ACTION WAIVER IS LIMITED, VOIDED, OR FOUND UNENFORCEABLE, THEN, UNLESS THE PARTIES MUTUALLY AGREE OTHERWISE, THE PARTIES' AGREEMENT TO ARBITRATE SHALL BE NULL AND VOID WITH RESPECT TO SUCH PROCEEDING SO LONG AS THE PROCEEDING IS PERMITTED TO PROCEED AS A CLASS ACTION. If a court decides that the limitations of this paragraph are deemed invalid or unenforceable, any putative class, private attorney general, or consolidated or representative action must be brought in a court of proper jurisdiction and not in arbitration."})})]}),l.jsx("h2",{className:"font-semibold mt-8",children:"10. ADDITIONAL PROVISIONS"}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-10",children:"10.1"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Updating These Terms"}),'. We may modify these Terms from time to time in which case we will update the "Last Revised" date at the top of these Terms. If we make changes that are material, we will use reasonable efforts to attempt to notify you, such as by e-mail and/or by placing a prominent notice on the first page of the Website. However, it is your sole responsibility to review these Terms from time to time to view any such changes. The updated Terms will be effective as of the time of posting, or such later date as may be specified in the updated Terms. Your continued access or use of the Services after the modifications have become effective will be deemed your acceptance of the modified Terms.']})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-10",children:"10.2"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Termination of License"}),". If you breach any of the provisions of these Terms, all licenses granted by the Company will terminate automatically. All sections which by their nature should survive the termination of these Terms shall continue in full force and effect subsequent to and notwithstanding any termination of these Terms by the Company or you. Termination will not limit any of the Company's other rights or remedies at law or in equity."]})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-10",children:"10.3"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Injunctive Relief"}),". You agree that a breach of these Terms will cause irreparable injury to the Company for which monetary damages would not be an adequate remedy and the Company shall be entitled to equitable relief in addition to any remedies it may have hereunder or at law without a bond, other security or proof of damages."]})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-10",children:"10.4"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"California Residents"}),". If you are a California resident, in accordance with Cal. Civ. Code  1789.3, you may report complaints to the Complaint Assistance Unit of the Division of Consumer Services of the California Department of Consumer Affairs by contacting them in writing at 1625 North Market Blvd., Suite N 112 Sacramento, CA 95834, or by telephone at (800) 952-5210."]})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-10",children:"10.5"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Export Laws"}),`. You agree that you will not export or re-export, directly or indirectly, the Services and/or other information or materials provided by the Company hereunder, to any country for which the United States or any other relevant jurisdiction requires any export license or other governmental approval at the time of export without first obtaining such license or approval. In particular, but without limitation, the Services may not be exported or re-exported (a) into any U.S. embargoed countries or any country that has been designated by the U.S. Government as a "terrorist supporting" country, or (b) to anyone listed on any U.S. Government list of prohibited or restricted parties, including the U.S. Treasury Department's list of Specially Designated Nationals or the U.S. Department of Commerce Denied Person's List or Entity List. By using the Services, you represent and warrant that you are not located in any such country or on any such list. You are responsible for and hereby agree to comply at your sole expense with all applicable United States export laws and regulations.`]})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-10",children:"10.6"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"Miscellaneous"}),". If any provision of these Terms shall be unlawful, void or for any reason unenforceable, then that provision shall be deemed severable from these Terms and shall not affect the validity and enforceability of any remaining provisions. These Terms and the licenses granted hereunder may be assigned by the Company but may not be assigned by you without the prior express written consent of the Company. No waiver by either party of any breach or default hereunder shall be deemed to be a waiver of any preceding or subsequent breach or default. The section headings used herein are for reference only and shall not be read to have any legal effect. The Services are operated by us in the United States. Those who choose to access the Services from locations outside the United States do so at their own initiative and are responsible for compliance with applicable local laws. These Terms are governed by the laws of the State of California, without regard to conflict of laws rules, and the proper venue for any disputes arising out of or relating to any of the same will be the arbitration venue set forth in Section 9 (Arbitration and Class Action Waiver), or if arbitration does not apply, then the state and federal courts located in San Francisco, California."]})})]}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"flex-none w-10",children:"10.7"}),l.jsx("div",{className:"flex-1",children:l.jsxs("p",{className:"text-justify",children:[l.jsx("span",{className:"underline",children:"How to Contact Us"}),". You may contact us regarding the Services or these Terms by e-mail at"," ",l.jsx("a",{href:"mailto:support@sumble.com",children:"support@sumble.com"}),"."]})})]})]})}),VLe=({items:e,stepIndex:t})=>l.jsxs("div",{className:"flex flex-row gap-4 relative w-full",children:[e.map((n,s)=>l.jsxs("div",{className:"flex-1 flex flex-col gap-2 items-center w-full",children:[s<t?l.jsx("div",{className:"w-8 h-8 bg-white rounded-full z-10",children:l.jsx(kV,{className:"w-10 h-10 relative -left-1 -top-1 text-green-600"})}):l.jsx("div",{className:`w-8 h-8 border bg-white flex items-center justify-center rounded-full z-10
                        ${s===t?"border-green-600 text-green-600":"border-slate-300 text-slate-300"}`,children:s+1}),l.jsx("div",{className:`w-20 text-center ${s===t?"text-slate-600 font-semibold":"text-slate-400"}`,children:n})]},n)),l.jsx("div",{className:"absolute left-[12%] right-[12%] top-4 h-px bg-slate-300 z-0"})]}),ULe=({columnHeaders:e,columnMappings:t,keyMapping:n,onChange:s,value:i})=>{const r=!i||i==="";return l.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[l.jsxs("select",{className:`max-w-full flex-1 px-2 py-1 border-slate-200 truncate pr-8 ${r?"text-slate-300":""}`,onChange:s,"data-testid":`dropdown-${n}`,value:i||"",children:[r?l.jsx("option",{value:"",disabled:!0,children:"Select a field"}):l.jsx("option",{value:"",disabled:r,children:"None"}),e.name.map(a=>{const o=Object.keys(t).some(c=>t[c]===a&&c!==n);return l.jsx("option",{value:a,disabled:o,children:a},a)})]}),l.jsx("div",{className:"text-slate-300 hidden md:block",children:"="})]})},HLe=({columnHeaders:e,columnMappings:t,isProcessingMatches:n,setColumnMappings:s,handleUploadMapping:i})=>{const r=Qt(),{warning:a,setWarning:o,cancelUpload:c}=w.useContext(u2),u=w.useMemo(()=>Object.keys(t).reduce((f,g)=>{const m=t[g];if(m){const y=e.name.indexOf(m);f[g]=y!==-1?e.sample[y]:""}else f[g]="";return f},{}),[e,t]);w.useEffect(()=>{(!e||e.name.length===0)&&r("/upload/")},[e]);const h=(f,g)=>{s(m=>({...m,[f]:g||!1}))};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col gap-8 max-w-[50rem] w-full",children:[l.jsxs("div",{className:"text-center",children:["Map the column headers in your CSV to Sumbles target fields.",l.jsx("br",{}),"Specify at least the organization or website column."]}),l.jsx("div",{className:"border border-slate-200 rounded-lg p-6 pb-24",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-4 gap-y-6",children:[l.jsx("div",{className:"text-slate-400 font-medium",children:"Target Field"}),l.jsx("div",{className:"text-slate-400 font-medium",children:"Column"}),l.jsx("div",{className:"text-slate-400 font-medium hidden md:block",children:"Sample"}),Object.keys(t).map(f=>l.jsxs(Xe.Fragment,{children:[l.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[l.jsxs("div",{className:"capitalize flex-1",children:[f," ",f==="location"?l.jsx("span",{className:"lowercase text-slate-400",children:"(optional)"}):""]}),l.jsx("div",{className:"text-slate-300",children:""})]}),l.jsx(ULe,{columnHeaders:e,keyMapping:f,onChange:g=>h(f,g.target.value),columnMappings:t,value:t[f],optional:f==="location"}),l.jsx("div",{className:"hidden md:block pl-2","data-testid":`sample-${f}`,children:u[f]})]},f))]})}),l.jsxs("div",{className:"flex flex-row gap-4 items-center justify-center",children:[l.jsx(Re,{to:"/upload",className:"text-center w-32 px-6 py-2 bg-slate-200 hover:bg-slate-300 rounded-lg text-slate-600 font-semibold",children:"Previous"}),l.jsx("button",{className:"text-center w-32 px-6 py-2 bg-green-600 enabled:hover:bg-green-700 rounded-lg text-white font-semibold disabled:opacity-50",disabled:t.organization===!1&&t.website===!1||n,onClick:i,"data-testid":"next-button",children:n?"Processing":"Next"})]})]}),a&&l.jsx($o,{handleConfirm:()=>{o(null)},handleCancel:()=>{c()},isAlert:!1,setIsShowingConfirmModal:f=>{f||o(null)},title:"Warning",confirmLabel:"Proceed with import",cancelLabel:"Cancel import",description:a||""})]})},GLe=({account:e,account_url:t,location:n})=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-red-50 bg-opacity-75 col-span-2 border-b border-slate-200 px-4 py-1.5",children:[e??t," ",t&&e&&l.jsxs(l.Fragment,{children:[l.jsx("br",{}),l.jsx("span",{className:"text-slate-700",children:t})]})," ",n&&l.jsxs(l.Fragment,{children:[l.jsx("br",{}),l.jsx("span",{className:"text-slate-500",children:n})]})]}),l.jsx("div",{className:"bg-red-50 bg-opacity-75 col-span-4 border-b border-l border-slate-200 px-4 py-1.5",children:"No match"}),l.jsx("div",{className:"bg-red-50 bg-opacity-75 border-l border-b border-slate-200 px-4 py-1.5"})]}),WLe=({row_number:e,account:t,account_url:n,location:s,matches:i,removeMatch:r})=>{const a=i.length,[o,c]=w.useState("");return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"col-span-2 border-b border-slate-200 px-4 py-1.5",style:{gridRow:`span ${a} / span ${a}`},children:[t??n," ",t&&n&&l.jsxs(l.Fragment,{children:[l.jsx("br",{}),l.jsx("span",{className:"text-slate-700",children:n})]})," ",s&&l.jsxs(l.Fragment,{children:[l.jsx("br",{}),l.jsx("span",{className:"text-slate-500",children:s})]})]}),i.map(u=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`col-span-4 border-b border-l border-slate-200 px-4 py-1.5
                        ${o===u.organization_slug?"bg-slate-50 bg-opacity-50":""}
                        `,onMouseEnter:()=>c(u.organization_slug||""),onMouseLeave:()=>c(""),children:[l.jsx("div",{children:l.jsx("a",{href:"/orgs/"+u.organization_slug,target:"_blank",rel:"noopener noreferrer",children:u.organization_name})}),l.jsxs("div",{className:"flex flex-row flex-wrap gap-1 text-sm text-slate-500 font-medium py-1",children:[(n&&u.organization_url||u.organization_industry)&&l.jsx("div",{className:"bg-slate-100 px-1.5 rounded-xs",children:n&&u.organization_url?u.organization_url:u.organization_industry}),(u.organization_jobs_count??0)>0&&l.jsxs("div",{className:"bg-slate-100 px-1.5 rounded-xs",children:[l.jsx("span",{className:"text-[0.5rem] relative bottom-0.5",children:""})," ",$e(u.organization_jobs_count??0)," ","tech jobs"]}),l.jsxs("div",{className:"bg-slate-100 px-1.5 rounded-xs",children:[l.jsx("span",{className:"text-[0.5rem] relative bottom-0.5",children:""})," ",u.organization_employee_count]}),u.organization_hq_location&&l.jsxs("div",{className:"bg-slate-100 px-1.5 rounded-xs",children:[l.jsx("span",{className:"text-[0.5rem] relative bottom-0.5",children:""})," ",u.organization_hq_location]}),u.confidence&&l.jsxs("div",{className:"bg-slate-100 px-1.5 rounded-xs",children:[Math.round(u.confidence*100)/100," ","confidence"]})]})]},u.organization_id),l.jsx("div",{className:`border-l border-b border-slate-200 px-0 text-center text-slate-400 ${o===u.organization_slug?"bg-slate-50 bg-opacity-50":""}`,onMouseEnter:()=>c(u.organization_slug||""),onMouseLeave:()=>c(""),children:l.jsx("button",{className:"mx-auto hover:text-red-700 cursor-pointer px-8 py-1.5 pt-3",onClick:h=>{h.preventDefault(),r(e,u.organization_slug||"")},children:l.jsx(gd,{className:"w-6 h-6"})})})]}))]})},YLe=({matches:e,removeMatch:t})=>l.jsxs("div",{className:"flex flex-col gap-8 max-w-[50rem] w-full pb-32 ",children:[l.jsx("div",{className:"text-center",children:"Here's a preview of the import. Please check for any incorrect matches."}),l.jsxs("div",{className:"grid grid-cols-7 border border-slate-200",children:[l.jsx("div",{className:"col-span-2 border-b border-slate-200 text-slate-400 px-4 py-1.5",children:"Source"}),l.jsx("div",{className:"col-span-4 border-b border-l border-slate-200 text-slate-400 px-4 py-1.5",children:"Matches"}),l.jsx("div",{className:"col-span-1 border-b border-l border-slate-200 text-slate-400 px-4 py-1.5 text-center",children:l.jsx("span",{className:"hidden md:block",children:"Remove"})}),e.map(n=>n.organizations?.length>0?l.jsx(WLe,{row_number:n.row_number,account:n.account_name,account_url:n.account_url,location:n.account_country,matches:n.organizations,removeMatch:t},n.row_number):l.jsx(GLe,{account:n.account_name,account_url:n.account_url,location:n.account_country},n.row_number))]}),l.jsx("div",{className:"fixed bottom-0 left-0 right-0 md:left-8 md:right-8 border border-slate-200 bg-white px-2 py-6 rounded-t-md",style:{boxShadow:"0 0 8px rgba(0,0,0,0.05)"},children:l.jsxs("div",{className:"flex flex-row gap-4 items-center justify-center",children:[l.jsx(Re,{to:"../map",className:"text-center w-32 px-6 py-3 bg-slate-200 hover:bg-slate-300 rounded-lg text-slate-600 font-semibold",children:"Previous"}),l.jsx(Re,{to:"../list",className:"text-center w-32 px-6 py-3 bg-green-600 enabled:hover:bg-green-700 rounded-lg text-white font-semibold disabled:opacity-50","data-testid":"import-button",children:"Confirm"})]})})]}),KLe=e=>{const t=`Organization
${e.join(`
`)}`,n=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),i=URL.createObjectURL(n),r=new Date,a=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")} ${String(r.getHours()).padStart(2,"0")}.${String(r.getMinutes()).padStart(2,"0")}`;s.href=i,s.download=`Missing Organizations ${a}.csv`,s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)},qLe=({successMatches:e,listId:t})=>{const{added:n,failed:s}=e;return l.jsxs("div",{className:"flex flex-col gap-8 max-w-[50rem] w-full",children:[l.jsx("div",{className:"text-center",children:"All done!"}),l.jsxs("div",{className:"border border-slate-200 rounded-lg flex flex-col gap-1 items-center justify-center h-[20rem] text-2xl",children:[l.jsxs("div",{"data-testid":"imported-organizations-count","data-count":e.added.length,children:[$e(e.added.length)," organization",n.length!==1?"s":""," added to your Favorites."]}),e.failed.length>0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[$e(e.failed.length)," ","organization",n.length!==1?"s":""," not matched."]}),l.jsx("button",{onClick:()=>KLe(s),className:"text-sm text-green-600 hover:text-green-700 pt-4",children:" Download unmatched organizations as CSV"})]})]}),l.jsx("div",{className:"flex flex-row gap-4 items-center justify-center",children:l.jsx(Re,{to:`/orgs?lists=${t}`,"data-testid":"close-import-button",doNotPassQuery:!0,className:"text-center w-32 px-6 py-3 bg-green-600 enabled:hover:bg-green-700 rounded-lg text-white font-semibold disabled:opacity-50",children:"Close"})})]})},ZLe=[["Amazon","amazon.com","US","[]"],["Apple","apple.com","US","[]"],["","","",""],...Array(6).fill(["","","",""])],QLe=({handleUpload:e,isLoading:t})=>{const n=w.useRef(null),[s,i]=w.useState(!1),r=u=>{u.preventDefault(),i(!0)},a=u=>{u.preventDefault(),i(!1)},o=u=>{u.preventDefault(),i(!1);const h=u.dataTransfer.files;e(h[0])},c=u=>{u.target.files&&e(u.target.files[0])};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"md:w-[50rem] mx-auto relative",children:[l.jsx("div",{className:"pointer-events-none select-none",children:l.jsxs("table",{className:"w-full bg-slate-100 text-slate-400 text-opacity-70 border border-slate-200 rounded-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"border border-slate-200 border-opacity-50 text-left py-1.5 px-3 font-medium text-slate-500 h-9",children:"Organization Name"}),l.jsx("th",{className:"border border-slate-200 border-opacity-50 text-left py-1.5 px-3 font-medium text-slate-500 h-9",children:"Organization URL"}),l.jsx("th",{className:"border border-slate-200 border-opacity-50 text-left py-1.5 px-3 font-medium text-slate-500 h-9",children:"Location"}),l.jsxs("th",{className:"border border-slate-200 border-opacity-50 text-left py-1.5 px-3 font-medium h-9",children:["[Other",l.jsxs("span",{className:"hidden md:inline",children:[" ","columns will be ignored"]}),"]"]})]})}),l.jsx("tbody",{children:ZLe.map((u,h)=>l.jsx("tr",{children:u.map((f,g)=>l.jsx("td",{className:`border border-slate-200 border-opacity-50 text-left py-1.5 px-3 h-9 text-slate-400 ${f===""?"text-opacity-30":""}`,children:f},g))},h))})]})}),l.jsxs("div",{className:`absolute top-0 left-0 w-full h-full flex items-center justify-center transition-colors flex-col gap-5 ${s?"bg-green-200":""}`,onDragOver:r,onDragLeave:a,onDrop:o,children:[l.jsx("div",{className:"font-semibold",children:"Drag and drop a file here"}),l.jsx("button",{className:"bg-green-600 text-white px-8 py-2 rounded-md font-semibold hover:bg-green-700 relative w-[15rem]","data-testid":"upload-button",onClick:()=>n.current&&n.current.click(),children:t?l.jsxs(l.Fragment,{children:[l.jsx(Yr,{className:"w-3.5! h-3.5! text-white absolute right-2 top-[0.77rem]"}),l.jsx("div",{children:"Uploading"})]}):"Upload CSV file"}),l.jsx("input",{type:"file",className:"hidden",ref:n,onChange:c})]})]}),l.jsxs("div",{className:"text-slate-400 text-center pt-4",children:["Maximum 1,000 rows per import",l.jsx("br",{}),"(",l.jsx(Re,{className:"text-green-600 hover:text-green-700",target:"_blank",to:"https://mightymerge.io/split-csv-files/",children:"Use this tool"})," ","to split your CSV as required.)"]})]})},XLe=()=>{const{setFileToUpload:e,isLoading:t}=w.useContext(u2);return l.jsx(l.Fragment,{children:l.jsx("div",{className:`flex-1 flex-col flex ${t?"opacity-50 pointer-events-none":""}`,children:l.jsx(QLe,{handleUpload:e,isLoading:t})})})},JLe=e=>{const[t,n]=w.useState(null),[s,i]=w.useState([]),[r,a]=w.useState(null),[o,c]=w.useState(!1),[u,h]=w.useState(!1),f=MK(),g=UL(),m=r!==null,y=m?g:f;w.useEffect(()=>{e.length>0&&s.length===0&&i(e)},[e]);const b=(E,k)=>{const L=[...s],I=L.findIndex(_=>_.row_number===E);if(I!==-1){const _=L[I].organizations.findIndex(F=>F.organization_slug===k);_!==-1&&L[I].organizations.splice(_,1)}i(L)},S=()=>{const E={};return s.forEach(k=>{k.organizations&&k.organizations.forEach(L=>{E[L.organization_id]=L.organization_slug})}),E},C=()=>{const E=[];return s.forEach(k=>{k.organizations||E.push(k.account_name)}),E},M=async()=>{const E=S(),k=m?{name:r??"New List",org_ids:Object.keys(E)}:{listId:t,org_ids:Object.keys(E)},L=await y.mutateAsync(k);n(L.list_id)},N=()=>{i([])};w.useEffect(()=>{y.status==="success"&&(c(!1),h({added:y.data?.added??[],failed:[...y.data?.failed||[],...C()]})),y.status==="error"&&c(!1)},[y.status,y.data]),w.useEffect(()=>{y.status==="pending"&&c(!0)},[y.status]),w.useEffect(()=>{r!==null&&r!==""&&n(null)},[r]),w.useEffect(()=>{t!==null&&a(null)},[t]);const T=Object.values(S()).length;return{clearMatches:N,isSavingMatches:o,listId:t,matches:s,newListName:r,numberOfSlugs:T,removeMatch:b,saveMatches:M,setListId:n,setNewListName:a,setSuccessMatches:h,successMatches:u}},eOe=()=>{const e=yt();return It({mutationFn:async({subscriptionId:s,savedSearch:i})=>{const r={...i};return r.filters.techs&&(r.filters.techs=r.filters.techs.map(a=>typeof a=="string"?a:a.slug)),await Ue({url:`/account/subscriptions/${s}`,method:"PUT",body:JSON.stringify(i),contentType:"application/json"})},onSuccess:()=>{e.invalidateQueries({queryKey:["subscriptions"]})}})},tOe=({listName:e,numberOfSlugs:t,saveMatches:n,isSavingMatches:s})=>{const[i,r]=w.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed bottom-0 left-0 right-0 md:left-8 md:right-8 border border-slate-200 bg-white px-2 py-6 rounded-t-md",style:{boxShadow:"0 0 8px rgba(0,0,0,0.05)"},children:l.jsxs("div",{className:"flex flex-row gap-4 items-center justify-center",children:[l.jsx(Td,{to:"../preview",className:"text-center w-32 px-6 py-3 bg-slate-200 hover:bg-slate-300 rounded-lg text-slate-600 font-semibold",children:"Previous"}),l.jsx("button",{onClick:()=>r(!0),disabled:s,className:"text-center w-32 px-6 py-3 bg-green-600 enabled:hover:bg-green-700 rounded-lg text-white font-semibold disabled:opacity-50","data-testid":"import-button",children:s?"Importing...":"Import"})]})}),i&&l.jsx($o,{handleConfirm:()=>{r(!1),n()},isAlert:!1,setIsShowingConfirmModal:r,title:"Confirm account import",description:l.jsxs(l.Fragment,{children:["This will import ",$e(t)," ","organizations to your"," ",l.jsx("span",{className:"font-medium",children:e})," ","list."]})})]})},nOe=({isSavingMatches:e,listId:t,numberOfSlugs:n,newListName:s,setNewListName:i,saveMatches:r,setListId:a})=>{const{data:o,isLoading:c}=qo();return c?null:l.jsxs(l.Fragment,{children:[l.jsx("div",{children:"Choose a list"}),l.jsxs("div",{className:"w-[90vw] max-w-[40rem] border border-slate-100 flex flex-col mb-48",children:[l.jsxs("div",{className:"text-slate-800 relative border-b last:border-0 border-slate-100 w-full text-left ",children:[l.jsx("input",{type:"text",value:s??"",onChange:u=>i(u.target.value),onClick:()=>a(null),className:`px-10 py-5 pb-10 font-medium border-0 focus:outline-0 focus:border-0 focus:ring-0 w-full bg-transparent hover:bg-slate-50 ${s&&s!==""?"bg-amber-50!":""}`,placeholder:"+ Enter the name for your new list..."}),l.jsx("div",{className:"absolute right-10 bottom-5 text-right text-slate-400",children:"New list"})]}),o?.filter(u=>!u.read_only).map(u=>l.jsxs("button",{className:`px-10 py-5 border-b last:border-0 border-slate-100 w-full text-left hover:bg-slate-50 ${t===u.id&&!s&&s!==""?"bg-amber-50!":""}`,onClick:()=>{i(null),a(u.id)},children:[l.jsx("div",{className:"font-medium",children:u.name==="Default"?"Starred Accounts":u.name}),l.jsxs("div",{className:"text-slate-400 flex flex-row gap-2 justify-between",children:[l.jsxs("div",{children:[$e(u.organization_slugs.length)," ","organization",u.organization_slugs.length!==1&&"s"]}),l.jsxs("div",{children:["Created"," ",u.created_at?`${Pl(u.created_at)} ago`:"when you signed up"]})]})]},u.id))]}),l.jsx(tOe,{listName:s??o?.find(u=>u.id===t)?.name??"Starred Accounts",saveMatches:r,isSavingMatches:e,numberOfSlugs:n})]})},sOe={"/upload/map":1,"/upload/preview":2,"/upload/list":3,"/upload/complete":4},iOe=()=>{const{columnHeaders:e,columnMappings:t,setColumnMappings:n,handleUploadMapping:s,matchesResponse:i,isProcessingMatches:r}=w.useContext(u2),{clearMatches:a,isSavingMatches:o,listId:c,matches:u,newListName:h,numberOfSlugs:f,removeMatch:g,saveMatches:m,setListId:y,setNewListName:b,setSuccessMatches:S,successMatches:C}=JLe(i||[]),{mutate:M}=Z0(),N=Qt(),T=Rt(),{mutate:E}=eOe(),k=w.useMemo(()=>({organization:e.predicted_name_col||!1,website:e.predicted_url_col||!1,location:e.predicted_loc_col||!1}),[e]);w.useEffect(()=>{if(C){if(M([{field:"has_completed_upload",value:"true"}]),sessionStorage.getItem("save_search_to_update_if_uploaded")){const I=sessionStorage.getItem("save_search_to_update_if_uploaded");if(I){const _=JSON.parse(I);E({subscriptionId:_.id,savedSearch:_})}}N("/upload/complete")}},[C]),w.useEffect(()=>{T.pathname==="/upload/map"&&(a(),S(!1),t.organization===!1&&t.website===!1&&t.location===!1&&n(k))},[T.pathname,k,t]);const L=sOe[T.pathname]||0;return l.jsxs("div",{className:"flex flex-1 items-center pt-[5vh] flex-col gap-8 w-full overflow-auto border-t-slate-100 border-t pb-16 px-3",children:[l.jsx("div",{children:l.jsx(VLe,{items:["Upload","Map","Preview","List"],stepIndex:L})}),l.jsx(l.Fragment,{children:l.jsxs(Pc,{children:[l.jsx(rn,{path:"map",element:l.jsx(HLe,{columnHeaders:e,columnMappings:t,isProcessingMatches:r,setColumnMappings:n,handleUploadMapping:s})}),l.jsx(rn,{path:"preview",element:l.jsx(YLe,{matches:u,removeMatch:g})}),l.jsx(rn,{path:"list",element:l.jsx(nOe,{isSavingMatches:o,listId:c,numberOfSlugs:f,saveMatches:m,setListId:y,newListName:h,setNewListName:b})}),l.jsx(rn,{path:"complete",element:l.jsx(qLe,{listId:c,successMatches:C||{added:[],failed:[]}})}),l.jsx(rn,{path:"*",element:l.jsx(XLe,{})})]})})]})},rOe=()=>{const e=lV(),{data:t}=Gt(),n=hg(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:typeof e=="string"?e:"An unknown error occurred.";return w.useEffect(()=>{t&&!t.is_admin&&e&&FB(e)},[e,t]),l.jsx("div",{children:l.jsx(yG,{numberCode:void 0,title:"Oops",subtitle:l.jsxs(l.Fragment,{children:["Sorry, there's been an error. Please try refreshing the page.",l.jsx("br",{}),"If you continue to see this message, please contact"," ",l.jsx("a",{href:"mailto:support@sumble.com",className:"text-green-600",children:"support@sumble.com"}),".",t&&t?.is_admin&&l.jsxs("div",{className:"mt-4 text-red-600",children:[l.jsx("h3",{className:"font-medium",children:"Error Details"}),l.jsx("pre",{className:"whitespace-pre-wrap",children:n})]})]})})})},aOe=()=>{const e=window.location.hostname,t=localStorage.getItem("Authorization")?.replace("Bearer ",""),s=`${e==="sumble.com"?"":e==="localhost"?"LOCAL_":"DEV_"}SUMBLE_TOKEN=${t}`;return l.jsx("div",{children:l.jsxs("div",{className:"flex items-start",children:["You can copy the values on your .env file clicking this icon:"," ",l.jsx(Uc,{className:"mt-2",textToCopy:s,itemType:"value"})]})})};var yS=(e=>(e.s="sumblers",e.P="paying_customers",e.u="verified_users",e.C="scrapers",e.e="everyone_else",e))(yS||{});const t9=(e,t,n,s)=>{const i=[];if(e&&i.push(`token=${e}`),t&&i.push(`level=${t}`),n){const r=parseInt(n,10);isNaN(r)||i.push(`user_id=${r}`)}return s&&i.push(`user_domain=${encodeURIComponent(s)}`),"/admin/traffic/rules"+(i.length?`?${i.join("&")}`:"")},oOe=(e,t,n,s)=>{const[i,r]=w.useState(t9(e,t,n,s)),a=yt(),o=!!localStorage.getItem("AdminAuthorization");return w.useEffect(()=>{r(t9(e,t,n,s))},[e,t,n,s]),nt({url:i,admin:!0,queryKey:["trafficRules",i],transform:u=>(o&&a.invalidateQueries().catch(h=>console.log(h)),u)})},lOe=()=>{const e=yt(),[t,n]=w.useState(""),[s,i]=w.useState(),[r,a]=w.useState(""),[o,c]=w.useState(""),u=ba(r,1e3),h=ba(o,1e3),[f,g]=w.useState(),[m,y]=w.useState(""),[b,S]=w.useState(),[C,M]=w.useState(""),{data:N,isLoading:T}=oOe(t,s,r,o);w.useEffect(()=>n(""),[s,u,h]);const E=zl(N?.page_info?.results_count??0,N?N.rules.length??0:0,N?.page_info?.next_page_token??""),k=async()=>{try{const I={level:f,description:m};b&&(I.user_id=b),C&&(I.user_domain=C),await Ue({url:"/admin/traffic/rules",method:"POST",body:I}),e.invalidateQueries({queryKey:["trafficRules"]}).catch(_=>console.log(_)),Tt("Traffic rule added.")}catch(I){I.detail?alert(I.detail):alert(I)}},L=async I=>{try{await Ue({url:`/admin/traffic/rules/${I}`,method:"DELETE"}),e.invalidateQueries({queryKey:["trafficRules"]}).catch(_=>console.log(_)),Tt("Traffic rule deleted.")}catch(_){_.detail?alert(_.detail):alert(_)}};return l.jsxs("div",{className:"max-w-[1300px] overflow-scroll ml-6",children:[l.jsx("table",{className:"border-collapse border-2 border-slate-200/75 table-auto m-8",children:l.jsxs("tr",{children:[l.jsx("td",{className:"text-center border-2 border-slate-200/75 ",children:l.jsxs("select",{onChange:I=>{g(I.target.value)},value:f,children:[l.jsx("option",{value:"",children:"Select level type"}),Object.entries(yS).filter(([I,_])=>_!=="sumblers"&&_!=="everyone_else").map(([I,_])=>l.jsx("option",{value:I,children:_},I))]})}),l.jsx("td",{className:"text-center border-2 border-slate-200/75 ",children:l.jsx("input",{type:"text",className:"border border-slate-200 rounded-md px-2 py-1 max-w-[20rem] bg-slate-50 m-2",placeholder:"Description",value:m,onChange:I=>{y(I.target.value)}})}),l.jsx("td",{className:"text-center border-2 border-slate-200/75 ",children:l.jsx("input",{type:"number",className:"border border-slate-200 rounded-md px-2 py-1 max-w-[20rem] bg-slate-50 m-2",placeholder:"User ID",value:b,onChange:I=>{S(parseInt(I.target.value))}})}),l.jsx("td",{className:"text-center border-2 border-slate-200/75 ",children:l.jsx("input",{type:"text",className:"border border-slate-200 rounded-md px-2 py-1 max-w-[20rem] bg-slate-50 m-2",placeholder:"User Domain",value:C,onChange:I=>{M(I.target.value)}})}),l.jsx("td",{className:"text-center border-2 border-slate-200/75 ",children:l.jsx("button",{className:"font-semibold px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500 transition-colors m-2 ml-4",onClick:k,disabled:!f,children:"Add Traffic Level Rule"})})]})}),l.jsxs("table",{className:"border-collapse border-2 border-slate-200/75 table-auto m-8",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-2",children:"Level"}),l.jsx("th",{className:"p-2",children:"Description"}),l.jsx("th",{className:"p-2",children:"User ID"}),l.jsx("th",{className:"p-2",children:"User Domain"}),l.jsx("th",{className:"p-2",children:"Delete"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{colSpan:1,children:l.jsxs("select",{onChange:I=>{i(I.target.value)},value:s,children:[l.jsx("option",{value:"",children:"Filter level type"}),Object.entries(yS).map(([I,_])=>l.jsx("option",{value:I,children:_},I))]})}),l.jsx("td",{colSpan:1}),l.jsx("td",{colSpan:1,children:l.jsx("input",{type:"number",className:"border border-slate-200 rounded-md px-2 py-1 w-full max-w-[20rem] bg-slate-50",value:r,onChange:I=>{a(I.target.value)}})}),l.jsx("td",{colSpan:1,children:l.jsx("input",{type:"text",className:"border border-slate-200 rounded-md px-2 py-1 w-full max-w-[20rem] bg-slate-50",value:o,onChange:I=>{c(I.target.value)}})}),l.jsx("td",{colSpan:1})]}),!T&&N?.rules.map(I=>l.jsxs("tr",{children:[l.jsx("td",{className:"w-48 border-2 border-slate-200/75 pl-2",children:yS[I.level]}),l.jsx("td",{className:"w-48 border-2 border-slate-200/75 pl-2",children:I.description}),l.jsxs("td",{className:"w-48 border-2 border-slate-200/75 pl-2",children:[I.user_id," ",I.user_id&&N?.user_ids_emails[I.user_id]&&l.jsxs("span",{children:["(",N.user_ids_emails[I.user_id],")"]})]}),l.jsx("td",{className:"w-48 border-2 border-slate-200/75 pl-2",children:I.user_domain}),l.jsx("td",{className:"w-48 border-2 border-slate-200/75 pl-2",children:l.jsx("button",{className:"font-semibold px-4 py-2 bg-red-600 hover:bg-red-500 disabled:bg-red-200 text-white rounded-md transition-colors m-2",onClick:()=>{confirm("Are you sure you want to delete this traffic level rule? This action cannot be undone.")&&L(I.id)},children:"Delete"})})]},I.id)),l.jsx("tr",{children:l.jsx("td",{colSpan:6,children:N?.page_info&&N.rules&&l.jsx(Zo,{totalResults:N.page_info.results_count||0,currentResults:N.rules.length||0,currentRange:E,hasNext:!!N.page_info.next_page_token,hasPrevious:!!N.page_info.previous_page_token,next:()=>{n(N.page_info.next_page_token??"")},previous:()=>{n(N.page_info.previous_page_token??"")}})})})]})]})]})},cOe=()=>{const{sendEvent:e}=zn(),[t]=Ni(),n=t.get("token")??"",[s,i]=w.useState(""),[r,a]=w.useState(""),[o,c]=w.useState(!1),[u,h]=w.useState(!1),[f,g]=w.useState(!1),[m,y]=w.useState(!1);w.useEffect(()=>{if(n){const C=new URLSearchParams;C.append("token",n),Ue({url:"/account/profile/unsubscribe",method:"PUT",body:C.toString()}).then(()=>{y(!1),h(!0)}).catch(()=>{y(!0),h(!1)})}else y(!0),h(!1)},[n]);const b=C=>{i(C.target.value)},S=async C=>{C.preventDefault(),c(!0);try{let M=s;s==="other"&&r&&(M=`Other: ${r}`),e("Unsubscribe preference",{event_label:M}),g(!0)}finally{c(!1)}};return l.jsx(l.Fragment,{children:l.jsx("main",{className:"grid min-h-full place-items-center py-24 px-6 md:py-32 md:px-8",children:l.jsx("div",{className:"text-center",children:m?l.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-md",children:["There was an error processing your unsubscribe request. Please contact"," ",l.jsx("a",{className:"text-green-600",href:"mailto:support@sumble.com",children:"support@sumble.com"}),"."]}):u?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"mt-4 text-2xl font-semi-bold tracking-tight text-slate-900",children:"You have successfully unsubscribed."}),f?l.jsx("p",{className:"mt-6 text-lg",children:"Thank you for your feedback. We appreciate you taking the time to help us improve."}):l.jsxs("div",{className:"mt-8 max-w-md mx-auto",children:[l.jsx("h2",{className:"text-lg font-medium mb-4",children:"Would you mind telling us why you unsubscribed?"}),l.jsxs("form",{onSubmit:S,className:"space-y-4 text-left",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"radio",id:"too-many",name:"reason",value:"too many emails",checked:s==="too many emails",onChange:b,className:"mr-2"}),l.jsx("label",{htmlFor:"too-many",children:"Too many emails"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"radio",id:"irrelevant",name:"reason",value:"irrelevant content",checked:s==="irrelevant content",onChange:b,className:"mr-2"}),l.jsx("label",{htmlFor:"irrelevant",children:"Irrelevant content"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"radio",id:"unknowing",name:"reason",value:"i didn't know i was subscribing",checked:s==="i didn't know i was subscribing",onChange:b,className:"mr-2"}),l.jsx("label",{htmlFor:"unknowing",children:"I didn't know I was subscribing"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"radio",id:"spam",name:"reason",value:"looks like spam",checked:s==="looks like spam",onChange:b,className:"mr-2"}),l.jsx("label",{htmlFor:"spam",children:"Looks like spam"})]}),l.jsxs("div",{className:"flex items-start",children:[l.jsx("input",{type:"radio",id:"other",name:"reason",value:"other",checked:s==="other",onChange:b,className:"mr-2 mt-1"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{htmlFor:"other",children:"Other"}),s==="other"&&l.jsx("textarea",{className:"w-full mt-1 p-2 border rounded-md",value:r,onChange:C=>a(C.target.value),rows:3})]})]})]}),l.jsx("button",{type:"submit",className:"mt-4 inline-block px-4 py-2 bg-slate-800 text-white rounded-md disabled:opacity-50",disabled:!s||s==="other"&&!r||o,children:o?"Sending...":"Submit Feedback"})]})]})]}):l.jsx(l.Fragment,{})})})})},uOe=()=>nt({url:"/account/customer",enabled:localStorage.getItem("Authorization")!==null,queryKey:["customer"],staleTime:Zi(1440),refetchOnWindowFocus:"always"}),dOe=()=>{const{data:e,isLoading:t}=uOe();return t||!e?null:l.jsxs("div",{className:"flex-1 overflow-auto items-center md:px-10 px-5 py-4 flex flex-col gap-4 pb-48!",children:[l.jsx(Zr,{title:`${e.name} Documentation`}),l.jsxs("div",{className:"docs-style prose max-w-full w-[50rem]",children:[l.jsxs("h1",{className:"text-4xl font-semibold text-center pb-16",children:[e.name," @ Sumble"]}),l.jsx(W0,{rehypePlugins:[E0],children:e.markdown||"No documentation available."})]})]})},hOe=()=>{const e=Qt(),t=()=>{window.history.state&&window.history.state.idx>0?e(-1):e("/")};return l.jsx(SG,{onClose:t,title:"Pricing"})};function fOe({to:e,replace:t=!0}){const{"*":n}=He(),s=Rt();return l.jsx(of,{to:{pathname:`${e.replace(/\/$/,"")}/${n||""}`,search:s.search,hash:s.hash},replace:t})}const ZL=e=>{const t=e?`us${e}`:null;return nt({url:`/account/feeds/single-signal/${e}`,queryKey:["signal",t??""],enabled:!!e})},Ty=({content:e,children:t})=>l.jsxs(gi,{className:"relative",children:[l.jsx(qi,{className:"data-open:text-green-600 hover:text-slate-500",children:t}),l.jsx(Ca,{portal:!0,anchor:{to:"bottom start",offset:-14,gap:7},className:"z-10 bg-white border border-slate-200 shadow-lg rounded-md py-2 min-w-[20rem]",children:e})]}),iq=({organizationId:e,isInline:t})=>{const{data:n,isLoading:s}=$l(e),{data:i,isLoading:r}=Gg(),a=[];n?.industry&&a.push({icon:l.jsx(AV,{className:"size-5 text-slate-400"}),text:n.industry}),n?.employee_count&&a.push({icon:l.jsx(o2,{className:"size-5 text-slate-400"}),text:l.jsxs(Re,{to:`/orgs/${e}/people`,className:"hover:text-slate-500",children:[Lx(n.employee_count)," headcount"]})});const o=n?.headquarters_country?.replace("United States","US");if((o||n?.headquarters_state)&&a.push({icon:l.jsx(A6,{className:"size-5 text-slate-400"}),text:`HQ in ${n?.headquarters_state?`${n?.headquarters_state}, `:""}${o}`}),n?.parent||n?.subsidiaries){const g=n?.parent?kle:tde;a.push({icon:l.jsx(g,{className:"size-5 text-slate-400"}),text:l.jsxs(l.Fragment,{children:[n?.parent?l.jsxs("div",{children:["Subsidiary of"," ",l.jsx(Re,{className:"hover:text-slate-500",to:`/orgs/${n?.parent.slug}`,target:"_blank",children:n?.parent.name.length<15?n?.parent.name:l.jsxs(Ht,{description:n?.parent.name,className:"inline",children:[n?.parent.name.slice(0,15),"..."]})}),n?.parent&&n?.subsidiaries?", ":""]}):null,n?.subsidiaries?l.jsxs("div",{className:"flex flex-row gap-[0.25rem]",children:["Parent of"," ",n?.subsidiaries.length===1?l.jsx(Re,{className:"hover:text-slate-500",to:`/orgs/${n?.subsidiaries[0].slug}`,target:"_blank",children:n?.subsidiaries[0].name}):l.jsxs(Ty,{content:l.jsx("div",{children:n.subsidiaries.map(m=>l.jsxs(Re,{to:`/orgs/${m.slug}`,className:"block px-3 py-1 hover:bg-slate-100",target:"_blank",children:[m.name," "]},m.slug))}),children:[n.subsidiaries.length>0?`${n.subsidiaries.length} orgs`:null," ",l.jsx(Kr,{className:"w-4 h-5 inline"})]})]}):null]})})}n?.name_alternates&&a.push({icon:l.jsx(Wk,{className:"size-5 text-slate-400"}),text:l.jsx(Ty,{content:l.jsx("div",{children:n.name_alternates.map(g=>l.jsx("div",{className:"px-3 py-1",children:g},g))}),children:n.name_alternates.length>0?`aka +${n.name_alternates.length} names`:null})});const c=n?.url,u=n?.url_alternates??[];if(c&&a.push({icon:l.jsx(A6,{className:"size-5 text-slate-400"}),text:l.jsxs(l.Fragment,{children:[l.jsxs(Re,{to:`https://${c}`,className:"hover:text-slate-500",target:"_blank",doNotPassQuery:!0,children:[c," "]}),l.jsx(Ty,{content:l.jsx("div",{children:u.map(g=>l.jsxs(Re,{to:`https://${g}`,className:"hover:text-slate-500 hover:bg-slate-50 block px-3 py-1",target:"_blank",doNotPassQuery:!0,children:[g," "]},g))}),children:u.length>0?`+${u.length}`:null})]})}),n?.linkedin_urls&&a.push({icon:l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 15.25 15.8",className:"h-4 w-4 p-[0.2rem] bg-slate-400 rounded-xs text-white",children:[l.jsx("rect",{x:".25",y:"4.8",width:"3",height:"11",fill:"currentColor"}),l.jsx("ellipse",{cx:"1.75",cy:"1.76",rx:"1.75",ry:"1.76",fill:"currentColor"}),l.jsx("path",{d:"M15.25,15.8h-3v-5.6c0-3.37-4-3.11-4,0v5.6h-3V4.8h3v1.77c1.4-2.59,7-2.78,7,2.48v6.76Z",fill:"currentColor"})]}),text:l.jsxs(l.Fragment,{children:[l.jsxs(Re,{to:`${n?.linkedin_urls[0]}`,className:"hover:text-slate-500",target:"_blank",doNotPassQuery:!0,children:[n?.linkedin_urls[0].split("/").pop()," "]}),l.jsx(Ty,{content:l.jsx("div",{children:n.linkedin_urls.map(g=>l.jsxs(Re,{to:g,className:"hover:text-slate-500 hover:bg-slate-50 block px-3 py-1",target:"_blank",doNotPassQuery:!0,children:[g," "]},g))}),children:n.linkedin_urls.length>1?`+${n.linkedin_urls.length-1}`:null})]})}),n?.tags){const[g,...m]=n.tags;a.push({icon:l.jsx(cce,{className:"size-5 text-slate-400"}),text:!r&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:i?.tagsDict[g].name}),l.jsx(Ty,{content:l.jsx("div",{children:m.map(y=>l.jsx("div",{className:"px-3 py-1",children:i?.tagsDict[y].name},y))}),children:m.length>0?`+${m.length}`:null})]})})}const[h]=qI("hiding_org_summary"),f=`${t?"":`max-md:hidden px-5 md:px-10 md:pl-[4.8rem]! ${h?"h-0 opacity-0 pointer-events-none":"h-[4.3rem] [@media(min-height:1000px)]:h-[6rem] pb-4 md:-mt-1.5"}`} font-medium transition-all `;return l.jsx("div",{className:f,children:s?l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("div",{className:"w-[60vw] h-[1.5rem] bg-slate-100 animate-pulse rounded-lg"}),l.jsx("div",{className:"w-[80vw] h-[1.3rem] bg-slate-100 animate-pulse rounded-lg"})]}):l.jsxs(l.Fragment,{children:[t?l.jsx("div",{children:n?.summary}):l.jsx(BK,{summary:n?.summary??"",isLoading:s,className:"truncate text-slate-500 inline w-full text-left",summaryClassName:"text-slate-500 block truncate [@media(min-height:1000px)]:whitespace-normal leading-[1.35] [@media(min-height:1000px)]:line-clamp-2 [@media(min-height:1000px)]:h-[2.8rem] [@media(min-height:1000px)]:pb-2 [@media(min-height:1000px)]:max-w-[60rem]"}),l.jsx("div",{className:`${t?"grid md:grid-cols-2 gap-2 pt-3":"flex flex-row gap-6 overflow-x-auto pr-4 pt-1"} text-slate-400 `,children:a.map((g,m)=>l.jsxs("div",{className:"whitespace-nowrap flex flex-row gap-2 items-center",children:[g.icon," ",g.text]},m))})]})})},n9=({slug:e,team:t})=>{const{data:n}=$l(e),{data:s}=$K(e,t?.slug),{sendEvent:i}=zn(),r=t&&t.slug!=="other-team-not-mentioned"?s:null;return n?l.jsxs("div",{className:"border-2 border-slate-100 rounded-xl p-6",children:[l.jsxs("h2",{className:"text-slate-400 font-medium pb-2",children:["About ",n.name]}),l.jsxs("div",{className:"flex flex-row items-start gap-4",children:[l.jsx("div",{className:"max-md:hidden flex-none pt-2.5",children:l.jsx(Wg,{url:n.url,orgName:n.name})}),l.jsx(iq,{organizationId:e,isInline:!0})]}),r?l.jsxs("div",{className:"pt-8",children:[l.jsxs("h2",{className:"text-slate-400 font-medium pb-2",children:["About the"," ",di(t?.name?.replace(/\s+team$/i,"")??"")," ","team"]}),l.jsx("div",{children:r.summary})]}):null,l.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-2 pt-8",children:[l.jsxs(Re,{to:`/orgs/${e}`,target:"_blank",rel:"noopener noreferrer",className:"max-md:w-full flex flex-row gap-1 items-center border border-slate-300 rounded-lg px-4 py-1.5 pl-3 font-medium text-slate-500 hover:border-slate-400! transition-colors",onClick:()=>i("signals_about_org_click",{category:"Signals"}),children:[l.jsx(ls,{className:"inline size-5 text-slate-400"}),n.name," on Sumble"]}),t&&l.jsxs(Re,{to:`/orgs/${e}/teams/${t.slug}`,target:"_blank",rel:"noopener noreferrer",className:"flex flex-row gap-1 items-center border border-slate-300 rounded-lg px-4 py-1.5 pl-3 font-medium text-slate-500 hover:border-slate-400! transition-colors",onClick:()=>i("signals_about_team_click",{category:"Signals"}),children:[l.jsx(ls,{className:"inline size-5 text-slate-400"}),t.name," team on Sumble"]})]})]}):null},pOe=({id:e,item:t,jobPostLink:n})=>{const{data:s,isPlaceholderData:i,isLoading:r}=WK(e?e.toString():void 0,("matched_technologies"in t?t.matched_technologies:[]).map(h=>h.slug)),[a,o]=O0("showFullJob",!1),{sendEvent:c}=zn(),u=YK(s?.job_description||"",s?.entities||[],!a);return l.jsxs("div",{className:`border-2 border-slate-100 rounded-xl p-6 ${r||i?"h-[70vh]":""}`,children:[l.jsxs("h2",{className:"text-slate-400 font-medium pb-4 flex flex-row items-center gap-2 justify-between",children:[l.jsx("div",{children:"Signal detected in job post"}),l.jsx("div",{className:"max-md:hidden",children:l.jsx(rw,{containerClassName:"gap-2",labelClassName:"text-slate-500!",checked:a,onChange:()=>{c("signals_job_toggle_full_text",{category:"Signals"}),o(!a)},label:"Show full job text",reverse:!0})})]}),!i&&!r?l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col items-baseline pb-4",children:[l.jsx("h3",{className:"text-xl font-semibold pt-6",children:s?.title}),l.jsxs("div",{className:"text-slate-400",children:[Pl(s?.datetime_pulled)," ago "," ",s?.location]})]}),l.jsx("div",{className:`${i?"opacity-10":""} prose prose-overrides leading-[1.4]! text-slate-600 ${a?"max-w-[60rem] px-0 pt-2":"max-w-[100%] "}`,children:l.jsx(W0,{rehypePlugins:[E0],children:a?u:yLe(u,["team","project_term"])})}),l.jsxs("div",{className:"grid grid-cols-2 md:flex md:flex-row items-center gap-2 pt-8",children:[l.jsxs(Re,{to:n,target:"_blank",rel:"noopener noreferrer",className:"flex flex-row gap-1 items-center border border-slate-300 rounded-lg px-4 py-1.5 pl-3 font-medium text-slate-500 hover:border-slate-400! transition-colors",onClick:()=>c("signals_job_open_post_click",{category:"Signals"}),children:[l.jsx(ls,{className:"inline size-5 text-slate-400 mr-0.5"}),"Open job post"," "]}),l.jsxs(Uc,{className:"flex flex-row gap-2 items-center border border-slate-300 rounded-lg px-4 py-1.5 pl-3 font-medium text-slate-500 hover:border-slate-400! transition-colors",textToCopy:`${window.location.origin}${n}`,itemType:"job post link",onClick:()=>c("signals_job_copy_link_click",{category:"Signals"}),children:[l.jsx(Uk,{className:"inline size-4 text-slate-400"}),l.jsxs("span",{children:["Copy link",l.jsxs("span",{className:"max-md:hidden",children:[" ","to job post"]})]})]})]})]}):l.jsx("div",{className:"flex flex-1 items-center justify-center h-full",children:l.jsx(Yr,{})})]})},gOe=({features:e,name:t,source:n="job",className:s="",showTooltip:i=!0,children:r})=>{const o=(e?.reduce((u,h)=>u+h.score,0)??0)*25,c=l.jsxs("div",{className:`tabular-nums text-green-500 font-medium ${i?"cursor-help":""} ${s} pl-1`,children:[o.toFixed(0),l.jsxs("span",{className:"text-slate-400",children:[" ","",l.jsx("span",{className:"text-sm tracking-tight",children:" 100"})]})]});return i?l.jsxs(Sr,{content:l.jsx(KK,{features:e,name:t,source:n}),placement:"left-start",delay:0,children:[c,r]}):c},mOe=({signalId:e,personDetails:t,personId:n})=>{const s=`/outreach-emails?signal_id=${e}&person_id=${n}&${Object.entries(t).map(([i,r])=>`${i}=${r}`).join("&")}`;return nt({url:s,queryKey:["outreach",e.toString(),n.toString()],method:"POST",enabled:!!e&&!!n})},yOe=({subjectLine:e,body:t,emailAddress:n,linkedInUrl:s,signalId:i,personId:r,setIsOpen:a,isLoading:o})=>{const{sendEvent:c}=zn(),u=`flex flex-row gap-2 items-center border border-slate-400 bg-white text-slate-600! font-medium max-lg:pl-4! pl-3.5! pr-4 py-2 rounded-xl hover:border-slate-400! ${o?"opacity-50 pointer-events-none":""}`;return l.jsxs("div",{className:"mt-auto flex gap-2 p-4 px-8 border-t border-slate-100",children:[l.jsxs("a",{href:`mailto:${n??""}?subject=${encodeURIComponent(e)}&body=${encodeURIComponent(t)}`,className:u,onClick:()=>c("outreach_email_client_opened",{signalId:i,personId:r}),children:[l.jsx(Hk,{className:"size-5 text-slate-400"}),l.jsx("span",{className:"max-lg:hidden",children:"Email"})]}),l.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(`${n?`TO: ${n}
`:""}SUBJECT: ${e}

${t}`),Tt("Copied to clipboard!"),c("outreach_copied_to_clipboard",{signalId:i,personId:r})},className:u,children:[l.jsx(Uk,{className:"size-5 text-slate-400"}),l.jsx("span",{className:"max-lg:hidden",children:"Copy"})]}),s&&l.jsxs("a",{href:s,className:u,target:"_blank",rel:"noreferrer",onClick:()=>c("outreach_linkedin_opened",{signalId:i,personId:r}),children:[l.jsx(Ux,{className:"size-4.5 lg:mr-1 text-slate-400"}),l.jsx("span",{className:"max-lg:hidden",children:"LinkedIn"})]}),l.jsxs("a",{href:`https://chat.openai.com/?model=gpt-5&q=${encodeURIComponent(`SUBJECT: ${e}

${t}

Refine with the following instructions:

`)}`,target:"_blank",rel:"noreferrer",className:u,onClick:()=>c("outreach_chatgpt_opened",{signalId:i,personId:r}),children:[l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 320",className:"size-5 text-slate-400",children:l.jsx("path",{fill:"currentColor",d:"m297.06 130.97c7.26-21.79 4.76-45.66-6.85-65.48-17.46-30.4-52.56-46.04-86.84-38.68-15.25-17.18-37.16-26.95-60.13-26.81-35.04-.08-66.13 22.48-76.91 55.82-22.51 4.61-41.94 18.7-53.31 38.67-17.59 30.32-13.58 68.54 9.92 94.54-7.26 21.79-4.76 45.66 6.85 65.48 17.46 30.4 52.56 46.04 86.84 38.68 15.24 17.18 37.16 26.95 60.13 26.8 35.06.09 66.16-22.49 76.94-55.86 22.51-4.61 41.94-18.7 53.31-38.67 17.57-30.32 13.55-68.51-9.94-94.51zm-120.28 168.11c-14.03.02-27.62-4.89-38.39-13.88.49-.26 1.34-.73 1.89-1.07l63.72-36.8c3.26-1.85 5.26-5.32 5.24-9.07v-89.83l26.93 15.55c.29.14.48.42.52.74v74.39c-.04 33.08-26.83 59.9-59.91 59.97zm-128.84-55.03c-7.03-12.14-9.56-26.37-7.15-40.18.47.28 1.3.79 1.89 1.13l63.72 36.8c3.23 1.89 7.23 1.89 10.47 0l77.79-44.92v31.1c.02.32-.13.63-.38.83l-64.41 37.19c-28.69 16.52-65.33 6.7-81.92-21.95zm-16.77-139.09c7-12.16 18.05-21.46 31.21-26.29 0 .55-.03 1.52-.03 2.2v73.61c-.02 3.74 1.98 7.21 5.23 9.06l77.79 44.91-26.93 15.55c-.27.18-.61.21-.91.08l-64.42-37.22c-28.63-16.58-38.45-53.21-21.95-81.89zm221.26 51.49-77.79-44.92 26.93-15.54c.27-.18.61-.21.91-.08l64.42 37.19c28.68 16.57 38.51 53.26 21.94 81.94-7.01 12.14-18.05 21.44-31.2 26.28v-75.81c.03-3.74-1.96-7.2-5.2-9.06zm26.8-40.34c-.47-.29-1.3-.79-1.89-1.13l-63.72-36.8c-3.23-1.89-7.23-1.89-10.47 0l-77.79 44.92v-31.1c-.02-.32.13-.63.38-.83l64.41-37.16c28.69-16.55 65.37-6.7 81.91 22 6.99 12.12 9.52 26.31 7.15 40.1zm-168.51 55.43-26.94-15.55c-.29-.14-.48-.42-.52-.74v-74.39c.02-33.12 26.89-59.96 60.01-59.94 14.01 0 27.57 4.92 38.34 13.88-.49.26-1.33.73-1.89 1.07l-63.72 36.8c-3.26 1.85-5.26 5.31-5.24 9.06l-.04 89.79zm14.63-31.54 34.65-20.01 34.65 20v40.01l-34.65 20-34.65-20z"})}),l.jsx("span",{className:"max-lg:hidden",children:"Refine in ChatGPT"})]}),l.jsx("button",{className:"ml-auto text-slate-400 hover:text-slate-500",onClick:()=>a(!1),children:"Close"})]})},xOe=({personId:e,orgSlug:t})=>{const{data:n,isLoading:s}=q0(t,e.toString());return l.jsx("div",{className:"relative px-8 p-4 border-b border-slate-100 min-h-[3.6rem]",children:s?l.jsx("div",{className:"text-slate-300",children:"Loading..."}):l.jsx(l.Fragment,{children:n&&l.jsx("div",{className:"flex flex-row gap-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-slate-400",children:"Email address:"}),l.jsx(qh,{person:n,type:"emails"})]})})})})},bOe=({signalId:e,personId:t,personDetails:n,setIsOpen:s,orgSlug:i})=>{const{data:r,isLoading:a}=mOe({signalId:e,personDetails:n,personId:t}),[o,c]=w.useState(""),[u,h]=w.useState("");w.useEffect(()=>{r&&(c(r.split(`
`)[0].replace("Subject: ","").trim()),h(r.split(`
`).slice(1).join(`
`).trim()))},[r]);const{data:f}=q0(i,t.toString()),g=f?.contact_info?.emails[0]??void 0;return l.jsxs("div",{id:"outreach-editor",className:"flex flex-1 flex-col gap-0 h-full min-h-0",children:[l.jsx(xOe,{personId:t,orgSlug:i}),l.jsx("div",{className:"relative",children:l.jsx("input",{type:"text",className:"placeholder:text-slate-300! bg-white w-full outline-none px-8 py-4 border-0 border-b border-slate-100 focus:border-slate-100! focus:bg-white! outline-0! focus:ring-0! relative focus:z-20",value:a?"":o,placeholder:a?"Loading...":"Subject line",onChange:m=>c(m.target.value),disabled:a})}),l.jsxs("div",{className:"relative flex-1 flex flex-col min-h-0",children:[l.jsx("textarea",{className:"placeholder:text-slate-300! flex-1 whitespace-pre-wrap bg-white p-4 px-8 w-full resize-none border-none outline-none overflow-auto focus:bg-white! outline-0! focus:ring-0! relative focus:z-20",value:a?"":u,placeholder:a?"Loading...":"Email body",onChange:m=>h(m.target.value),disabled:a,rows:u.split(`
`).length+5||1,style:{height:"auto"}}),l.jsx("div",{className:"absolute right-5 top-5 text-slate-400 text-sm font-medium z-10",children:"Tap to edit"})]}),l.jsx(yOe,{subjectLine:o,emailAddress:g,linkedInUrl:f?.profile_url??void 0,body:u,signalId:e,personId:t,setIsOpen:s,isLoading:a})]})},vOe=({personId:e,orgSlug:t})=>{const{data:n,isLoading:s}=q0(t,e.toString());return s?l.jsx("div",{className:"flex flex-1 text-slate-300",children:"Loading summary..."}):l.jsx("div",{children:n&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-slate-500 font-medium",children:n.name}),l.jsx("div",{className:"text-slate-500 font-medium",children:n.title}),l.jsx("div",{className:"text-slate-500 font-medium",children:n.location}),n?.description&&l.jsxs("div",{className:"text-slate-500 pt-4 whitespace-pre-wrap",children:[l.jsx("div",{className:"text-slate-300 text-sm",children:"LinkedIn Description"}),n?.description]})]})})},SOe=({signalId:e,organizationSlug:t,personId:n,personDetails:s,setIsOpen:i})=>l.jsxs("div",{className:"fixed inset-0 flex w-screen items-center justify-center p-4",children:[l.jsx(Mk,{className:"fixed inset-0 bg-slate-50/75"}),l.jsx(A0,{className:"bg-white rounded-xl shadow w-[90vw] max-w-[80rem] h-[80vh] z-20",children:l.jsxs("div",{className:"flex flex-row divide-x! divide-slate-100! h-full",children:[l.jsx("div",{className:"flex-none w-[30vw] max-w-[25rem] overflow-auto max-md:hidden",children:l.jsxs("div",{className:"pt-4 p-8",children:[l.jsx("h2",{className:"pb-4 text-slate-300",children:"Draft outreach"}),l.jsx(vOe,{personId:n,orgSlug:t})]})}),l.jsx(bOe,{orgSlug:t,signalId:e,personId:n,setIsOpen:i,personDetails:s})]})})]}),wOe=({signalId:e,personId:t,personDetails:n,organizationSlug:s})=>{const[i]=Ni(),r=i.get("open_outreach"),a=i.get("src")==="slack",o=r&&r===String(t),[c,u]=w.useState(o||!1),{data:h}=Gt(),{sendEvent:f}=zn();return w.useEffect(()=>{o&&f("outreach_generate_clicked",{signalId:e,personId:t,opened_from_slack:a})},[o]),h&&!h.is_personal?l.jsxs(l.Fragment,{children:[l.jsx("button",{className:"border border-slate-300 hover:border-slate-400! transition-all rounded-[1rem] h-11.5 px-4 text-slate-500 font-medium -mr-1!",onClick:()=>{u(!0),f("outreach_generate_clicked",{signalId:e,personId:t,opened_from_slack:!1})},children:"Draft outreach"}),l.jsx(N0,{open:c,onClose:()=>u(!1),children:l.jsx(SOe,{signalId:e,personId:t,personDetails:n,organizationSlug:s,setIsOpen:u})})]}):null},COe=({orgSlug:e,person:t,prefix:n,signalId:s})=>{const{sendEvent:i}=zn(),r="matched_features"in t&&t.matched_features!==null,{data:a}=Gt(),o={name:t.name,title:t.title??"",level:t.level??"",job_function:t.job_function??""};return l.jsx("div",{className:"border border-slate-100 rounded-[1.9rem] p-[0.8rem]",children:l.jsxs("div",{className:"flex flex-row gap-3 items-center justify-between",children:[l.jsxs(Td,{to:`${n}/people/${t.id}`,className:"flex-1 leading-[1.2] min-w-0 pl-3",target:"_blank",onClick:()=>i("signals_people_person_click",{category:"Signals"}),children:[l.jsx("div",{className:"font-semibold",children:t.name}),l.jsx("div",{className:"text-slate-500",children:l.jsx("div",{className:"truncate",children:t.title})})]}),l.jsx(wOe,{signalId:s,personId:t.id,personDetails:o,organizationSlug:e}),l.jsx(YL,{person:t,variant:"card",className:"flex-none pr-3",organizationId:e,showSfdcButton:(a&&a.can_send_to_sfdc)??!1}),r&&l.jsx("div",{className:"pr-4 flex flex-col items-end",children:l.jsx(gOe,{features:t.matched_features??[],name:t.name,source:"job",className:"text-[1.2rem]",children:l.jsx("div",{className:"text-xs text-slate-400",children:"confidence"})})})]})})},QL=({title:e,sortDescription:t,sortShortDescription:n,people:s,isLoading:i,orgSlug:r,viewAllLink:a,totalCount:o,viewAllEventName:c="signals_people_view_all_click",signalId:u})=>{const{sendEvent:h}=zn();return l.jsxs("div",{className:"border-2 border-slate-100 rounded-xl p-6",children:[l.jsxs("h2",{className:"text-slate-400 font-medium pb-8 flex flex-row items-center gap-2 justify-between",children:[l.jsx("div",{children:e}),l.jsx(Ht,{description:t,delay:0,children:l.jsxs("div",{className:"pr-6 flex flex-row items-center gap-1.5 text-slate-400",children:[n,l.jsx(Ic,{className:"size-5"})]})})]}),i?l.jsx("div",{className:"flex justify-center",children:l.jsx(Yr,{})}):l.jsx(l.Fragment,{children:s.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex flex-col gap-1",children:s.map(f=>l.jsx(COe,{prefix:`/orgs/${r}`,person:f,signalId:u,orgSlug:r},f.id))}),a&&l.jsx("div",{className:"flex flex-row items-center gap-2 pt-8",children:l.jsxs(Td,{to:a,target:"_blank",rel:"noopener noreferrer",className:"flex flex-row gap-1 items-center border border-slate-300 rounded-lg px-4 py-1.5 pl-3 font-medium text-slate-500 hover:border-slate-400! transition-colors",onClick:()=>h(c,{category:"Signals"}),children:[l.jsx(ls,{className:"inline size-5 text-slate-400"}),"View all ",$e(o)," ","suggested contacts"]})})]}):l.jsx("div",{className:"text-slate-500",children:"No contacts found"})})]})},MOe=({token:e})=>{const t=`/signals/job/people?token=${e}`;return nt({url:t,queryKey:["signalsJobPeople",t]})},jOe=({token:e,jobPostLink:t,orgSlug:n,signalId:s})=>{const{data:i,isLoading:r,isPlaceholderData:a}=MOe({token:e??""}),o=i?.people?.slice(0,5)||[];return t?l.jsx(QL,{title:"Suggested contacts",sortDescription:"We use a blend of seniority and relevance to sort these contacts.",sortShortDescription:"Sorted by best match",people:o,signalId:s,isLoading:r||a,orgSlug:n,viewAllLink:t,totalCount:i?.page_info.results_count??0}):null},NOe=({id:e,orgSlug:t})=>{const{data:n,isLoading:s,isPlaceholderData:i}=q0(t,e?.toString(),[]),{sendEvent:r}=zn();return!s&&!i&&l.jsxs("div",{className:"border-2 border-slate-100 rounded-xl p-6 flex flex-col gap-4",children:[n?.description&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex flex-row items-center justify-between pb-4",children:l.jsxs("h2",{className:"text-slate-500 font-medium",children:["About ",n?.name]})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-slate-400",children:"LinkedIn description"}),n?.description]})]}),n&&l.jsx(YL,{person:n,variant:"card",className:"flex-none",children:l.jsx(Re,{to:`/orgs/${t}/people/${n.id}`,target:"_blank",className:"border border-slate-300 rounded-[1rem] h-11.5 px-4 font-medium text-slate-500 hover:border-slate-400! transition-colors flex items-center justify-center",onClick:()=>r("signals_person_open_sumble_click",{category:"Signals"}),children:"Open in Sumble"})})]})};var AOe=Object.defineProperty,rq=(e,t)=>{for(var n in t)AOe(e,n,{get:t[n],enumerable:!0})},Ne={};rq(Ne,{error:()=>aq,errorOnce:()=>DOe,log:()=>TOe,logGroup:()=>IOe,reset:()=>kOe,table:()=>EOe,warn:()=>XL,warnOnce:()=>Hx});var TD=new Set;function TOe(...e){console.log(...e)}function XL(e,...t){console.warn(`AG Charts - ${e}`,...t)}function aq(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)}function EOe(...e){console.table(...e)}function oq(e,t,n){let s;e instanceof Error?s=e.message:typeof e=="string"?s=e:typeof e=="object"?s=JSON.stringify(e):s=String(e);const i=`${t}: ${s}`;TD.has(i)||(n(e),TD.add(i))}function Hx(e,...t){oq(e,"Logger.warn",n=>XL(n,...t))}function DOe(e,...t){oq(e,"Logger.error",n=>aq(n,...t))}function kOe(){TD.clear()}function IOe(e,t){console.groupCollapsed(e);try{return t()}finally{console.groupEnd()}}var br={};rq(br,{detectChartDefinition:()=>POe,getAxisModule:()=>zOe,getPresetModule:()=>FOe,getSeriesModule:()=>$Oe,hasModule:()=>ROe,listModulesByType:()=>_Oe,register:()=>lq,registerMany:()=>LOe,reset:()=>OOe});var xS=(e=>(e.Axis="axis",e.Chart="chart",e.Preset="preset",e.Plugin="plugin",e.Series="series",e))(xS||{}),Nl=new Map;function lq(e,t){const{def:n,version:s}=Nl.get(e.name)??{};if(!n){Nl.set(e.name,{def:e,version:t});return}if(!n.enterprise&&e.enterprise&&t===s){Nl.set(e.name,{def:e,version:t});return}if(s===t){XL([`AG Charts - Module '${e.name}' already registered,',
                'ignoring (version: ${s}).`,"Check your code for duplicate loading of charts NPM modules."].join(" "));return}throw new Error([`AG Charts - Module '${e.name}' already registered with different version:`,`${s} vs ${t}`,"","Check your package.json for conflicting dependencies - depending on your package manager","one of these commands may help:","- npm ls ag-charts-community","- yarn why ag-charts-community"].join(`
`))}function LOe(e,t){for(const n of e)lq(n,t)}function OOe(){Nl.clear()}function ROe(e){return Nl.has(e)}function*_Oe(e){for(const t of Nl.values())nb(e,t.def)&&(yield t.def)}function POe(e){for(const t of Nl.values())if(nb("chart",t.def)&&t.def.detect(e))return t.def;throw new Error("AG Charts - Unknown chart type; Check options are correctly structured and series types are specified")}function zOe(e){const t=Nl.get(e);if(nb("axis",t?.def))return t?.def}function FOe(e){const t=Nl.get(e);if(nb("preset",t?.def))return t?.def}function $Oe(e){const t=Nl.get(e);if(nb("series",t?.def))return t?.def}function nb(e,t){return t?.type===e}var Id=class{constructor(){this.events=new Map}on(e,t){return this.events.has(e)||this.events.set(e,new Set),this.events.get(e)?.add(t),()=>this.off(e,t)}off(e,t){const n=this.events.get(e);n&&(n.delete(t),n.size===0&&this.events.delete(e))}emit(e,t){this.events.get(e)?.forEach(n=>n(t))}clear(e){e?this.events.delete(e):this.events.clear()}},JL=class{constructor(e){if(this.maxCacheSize=e,this.store=new Map,e<=0)throw new Error("LRUCache size must be greater than 0")}get(e){if(!this.store.has(e))return;const t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){return this.store.set(e,t),this.store.size>this.maxCacheSize&&this.store.delete(this.store.keys().next().value),t}clear(){this.store.clear()}};function wt(e,t,n){return Math.min(n,Math.max(e,t))}function BOe(e,t,n=1e-10){return e>=t[0]-n&&e<=t[1]+n}function Fr(e,t,n=1e-10){return e===t||Math.abs(e-t)<n}function eO(e){return Math.sign(e)===-1||Object.is(e,-0)}function VOe(e){return e%1===0}function s9(e,t=2){const n=10**t;return Math.round(e*n)/n}function UOe(e,t){return Math.floor(e%t+(e<0?Math.abs(t):0))}function tO(e){if(Math.floor(e)===e)return 0;let t=String(e),n=0;if(e<1e-6||e>=1e21){let i;[t,i]=t.split("e"),i!=null&&(n=Number(i))}const s=t.split(".")[1]?.length??0;return Math.max(s-n,0)}var Il={};typeof window<"u"?Il.window=window:typeof global<"u"&&(Il.window=global.window);typeof document<"u"?Il.document=document:typeof global<"u"&&(Il.document=global.document);function Ll(e){return e?Il.document?.[e]:Il.document}function Nn(e){return e?Il.window?.[e]:Il.window}function HOe(e){Il.document=e}function GOe(e){Il.window=e}function Ot(e,t,n){const s=Ll().createElement(e);if(typeof t=="object"&&(n=t,t=void 0),t)for(const i of t.split(" "))s.classList.add(i);return n&&Object.assign(s.style,n),s}function Ds(e){return Ll().createElementNS("http://www.w3.org/2000/svg",e)}function WOe(e,t){const n=Ll("body"),s=Ot("a",{display:"none"});s.href=e,s.download=t,n.appendChild(s),s.click(),setTimeout(()=>n.removeChild(s))}function _n(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}var Ey;function YOe(e){if(Ey==null){const n=Nn("Option");Ey=new n().style}Ey.color=e;const t=Ey.color||null;return Ey.color="",t}function ax(e){return e!=null}function Pt(e){return Array.isArray(e)}function KOe(e){return typeof e=="boolean"}function mf(e){return e instanceof Date}function nO(e){return mf(e)&&!isNaN(Number(e))}function qOe(e){return e instanceof RegExp}function Qc(e){return typeof e=="function"}function En(e){return typeof e=="object"&&e!==null&&!Pt(e)}function bw(e){return Pt(e)||In(e)}function In(e){return typeof e=="object"&&e!==null&&e.constructor?.name==="Object"}function bS(e){if(typeof e!="object"||e===null)return!1;for(const t in e)return!1;return!0}function mi(e){return typeof e=="string"}function Gx(e){return typeof e=="number"}function bn(e){return Number.isFinite(e)}function ZOe(e){return typeof window<"u"&&e instanceof HTMLElement}function vS(e){return typeof e=="symbol"}function QOe(e){return mi(e)&&(e==="none"||YOe(e)!=null)}var cq=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,uq=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/;function XOe(e){if(!mi(e))return!1;const t=uq.exec(e);return cq.test(t?t[2]:e)}function sO(e){let t,n;const s=uq.exec(e);s&&([,t,e,n]=s);const i=cq.exec(e);if(!i){Ne.warnOnce(`The number formatter is invalid: ${e}`);return}const[,r,a,o,c,u,h,f,g,m,y]=i;return{fill:r,align:a,sign:o,symbol:c,zero:u,width:parseInt(h),comma:f,precision:parseInt(g),trim:!!m,type:y,prefix:t,suffix:n}}function dq(e){const t=typeof e=="string"?sO(e):e;if(t==null)return;const{fill:n,align:s,sign:i="-",symbol:r,zero:a,width:o,comma:c,type:u,prefix:h="",suffix:f="",precision:g}=t;let{trim:m}=t;const y=g==null||isNaN(g);let b;if(!u)b=Za.g,m=!0;else if(u in Za&&u in Qp)b=y?Qp[u]:Za[u];else if(u in Za)b=Za[u];else if(u in Qp)b=Qp[u];else throw new Error(`The number formatter type is invalid: ${u}`);const S=u?6:12;let C;return y||(C=g),(M,N)=>{let T=b(M,C??N??S);return m&&(T=t4e(T)),c&&(T=n4e(T,c)),T=i4e(M,T,i),r&&r!=="#"&&(T=`${r}${T}`),r==="#"&&u==="x"&&(T=`0x${T}`),u==="s"&&(T=`${T}${s4e(M)}`),(u==="%"||u==="p")&&(T=`${T}%`),o!=null&&!isNaN(o)&&(T=r4e(T,o,n??a,s)),T=`${h}${T}${f}`,T}}var Qp={b:e=>_1(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>_1(e).toString(8),x:e=>_1(e).toString(16),X:e=>Qp.x(e).toUpperCase(),n:e=>Qp.d(e),"%":e=>`${_1(e*100).toFixed(0)}`},Za={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>Za.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>Za.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";const n=Math.abs(e),s=Math.floor(Math.log10(n));return s>=-4&&s<t?n.toFixed(t-1-s):n.toExponential(t-1)},G:(e,t)=>Za.g(e,t).toUpperCase(),n:(e,t)=>Za.g(e,t),p:(e,t)=>Za.r(e*100,t),r:(e,t)=>{if(e===0)return"0";const n=Math.abs(e),i=Math.floor(Math.log10(n))-(t-1);if(i<=0)return n.toFixed(-i);const r=10**i;return(Math.round(n/r)*r).toFixed()},s:(e,t)=>{const n=pq(e);return Za.r(e/10**n,t)},"%":(e,t)=>Za.f(e*100,t)},hq=-24,fq=24,JOe={[hq]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[fq]:"Y"},e4e="";function _1(e){return Math.floor(Math.abs(e))}function t4e(e){if(!e.endsWith("0")||e.indexOf(".")===-1)return e;let t=e.length-1;for(;t>0;)if(e[t]=="0")t-=1;else if(e[t]=="."){t-=1;break}else break;return e.substring(0,t+1)}function n4e(e,t){let n=e.indexOf(".");n<0&&(n=e.length);const s=e.substring(0,n).split(""),i=e.substring(n);for(let r=s.length-3;r>0;r-=3)s.splice(r,0,t);return`${s.join("")}${i}`}function s4e(e){return JOe[pq(e)]}function pq(e){return wt(hq,e?Math.floor(Math.log10(Math.abs(e))/3)*3:0,fq)}function i4e(e,t,n=""){if(n==="(")return e>=0?t:`(${t})`;const s=n==="+"?"+":"";return`${e>=0?s:e4e}${t}`}function r4e(e,t,n=" ",s=">"){let i=e;if(s===">"||!s)i=i.padStart(t,n);else if(s==="<")i=i.padEnd(t,n);else if(s==="^"){const r=Math.max(0,t-i.length),a=Math.ceil(r/2),o=Math.floor(r/2);i=i.padStart(a+i.length,n),i=i.padEnd(o+i.length,n)}return i}var P1={days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function iO(e,t=new Date(e.getFullYear(),0,1)){const n=e.getTimezoneOffset()-t.getTimezoneOffset(),s=e.getTime()-t.getTime()+n*6e4,i=36e5*24;return Math.floor(s/i)}function i9(e,t){const s=new Date(e.getFullYear(),0,1).getDay(),i=(t-s+7)%7,r=new Date(e.getFullYear(),0,i+1);return r<=e?Math.floor(iO(e,r)/7)+1:0}var a4e=0,gq=1,r9=4;function mq(e,t=e.getFullYear()){const s=new Date(t,0,1).getDay(),i=(r9-s+7)%7,r=new Date(t,0,i-(r9-gq)+1);return r<=e?Math.floor(iO(e,r)/7)+1:mq(e,t-1)}function o4e(e){const t=e.getTimezoneOffset(),n=Math.abs(t);return`${t>0?"-":"+"}${$i(Math.floor(n/60),2,"0")}${$i(Math.floor(n%60),2,"0")}`}var l4e={a:e=>P1.shortDays[e.getDay()],A:e=>P1.days[e.getDay()],b:e=>P1.shortMonths[e.getMonth()],B:e=>P1.months[e.getMonth()],c:"%x, %X",d:(e,t)=>$i(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>$i(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>$i(e.getHours(),2,t??"0"),I:(e,t)=>{const n=e.getHours()%12;return n===0?"12":$i(n,2,t??"0")},j:(e,t)=>$i(iO(e)+1,3,t??"0"),m:(e,t)=>$i(e.getMonth()+1,2,t??"0"),M:(e,t)=>$i(e.getMinutes(),2,t??"0"),L:(e,t)=>$i(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>$i(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>$i(i9(e,a4e),2,t??"0"),V:(e,t)=>$i(mq(e),2,t??"0"),w:(e,t)=>$i(e.getDay(),2,t??"0"),W:(e,t)=>$i(i9(e,gq),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>$i(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>$i(e.getFullYear(),4,t??"0"),Z:e=>o4e(e),"%":()=>"%"},c4e={_:" ",0:"0","-":""};function $i(e,t,n){const s=String(Math.floor(e));return s.length>=t?s:`${n.repeat(t-s.length)}${s}`}function Wx(e){const t=[];for(;e.length>0;){let n=e.indexOf("%");if(n!==0){const o=n>0?e.substring(0,n):e;t.push(o)}if(n<0)break;const s=e[n+1],i=c4e[s];i!=null&&n++;const r=e[n+1],a=l4e[r];if(typeof a=="function")t.push([a,i]);else if(typeof a=="string"){const o=Wx(a);t.push([o,i])}else t.push(`${i??""}${r}`);e=e.substring(n+2)}return n=>{const s=typeof n=="number"?new Date(n):n;return t.map(i=>typeof i=="string"?i:i[0](s,i[1])).join("")}}function a9(e,t,n){const{leading:s=!0,trailing:i=!0}=n??{};let r,a,o=!1;function c(){i&&a?(r=setTimeout(c,t),e(...a)):o=!1,a=null}function u(...h){o?a=h:(o=!0,r=setTimeout(c,t),s?e(...h):a=h)}return Object.assign(u,{cancel(){clearTimeout(r),o=!1,a=null}})}function yq(e,t,n=""){try{return e(...t)}catch(s){const i=n?` \`${n}\``:"";Hx(`Uncaught exception in user callback${i}`,s)}}function Yx(e,t="and",n=String,s=1/0){if(e.length===0)return"";if(e.length===1)return n(e[0]);e=e.map(n);const i=e.pop();if(e.length>=s){const r=e.length-(s-1);return`${e.slice(0,s-1).join(", ")}, and ${r} more ${t} ${i}`}return`${e.join(", ")} ${t} ${i}`}function rO(e,t=1/0){if(typeof e=="number"){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}const n=JSON.stringify(e)??typeof e;return n.length>t?`${n.slice(0,t)}... (+${n.length-t} characters)`:n}function u4e(e){let t=1;for(let n=0;n<e.length;n++)e.charCodeAt(n)===10&&t++;return t}function d4e(e,t){if(e===t)return 0;const[n,s]=e.length<t.length?[e,t]:[t,e],i=n.length,r=s.length;let a=new Array(i+1).fill(0).map((c,u)=>u),o=new Array(i+1);for(let c=1;c<=r;c++){o[0]=c;for(let u=1;u<=i;u++){const h=s[c-1]===n[u-1]?0:1;o[u]=Math.min(a[u]+1,o[u-1]+1,a[u-1]+h)}[a,o]=[o,a]}return a[i]}function h4e(e){return e.replace(f4e,(t,n)=>(n>0?"-":"")+t.toLowerCase())}var f4e=/[A-Z]+(?![a-z])|[A-Z]/g;function ao(e){return Pt(e)?e.map(t=>t.text).join(""):e??""}var Sa=Symbol("description"),xq=Symbol("required"),vw=Symbol("marked"),bq=Symbol("undocumented"),Sw=Symbol("union"),p4e=[["placement","position"],["padding","spacing","gap"],["color","fill","stroke"],["whisker","wick"],["nodeClick","seriesNodeClick"],["nodeDoubleClick","seriesNodeDoubleClick"],["src","url"]].reduce((e,t)=>{for(const n of t)e.set(n.toLowerCase(),new Set(t.filter(s=>s!==n)));return e},new Map),aO=(e=>(e.Invalid="invalid",e.Required="required",e.Unknown="unknown",e))(aO||{});function Kx(e,t){return bn(t)?`${e}[${t}]`:e?`${e}.${t}`:t}var Bh=class{constructor(e,t,n,s,i){this.type=e,this.description=t,this.value=n,this.path=s,this.key=i}setUnionType(e,t){if(this.path.startsWith(t)){const n=this.path.slice(t.length);this.altPath=`${t}[type=${e}]${n}`}}getPrefix(){const{altPath:e=this.path,key:t}=this;return!e&&!t?"Value":`Option \`${t?Kx(e,t):e}\``}toString(){const{description:e="unknown",type:t,value:n}=this;return t==="required"&&n==null?`${this.getPrefix()} is required and has not been provided; expecting ${e}, ignoring.`:`${this.getPrefix()} cannot be set to \`${rO(n,50)}\`; expecting ${e}, ignoring.`}},oO=class extends Bh{constructor(e,t,n,s){super("unknown",void 0,t,n,s),this.suggestions=e,this.key=s}getPrefix(){return`Unknown option \`${Kx(this.altPath??this.path,this.key)}\``}getPostfix(){const e=Yx(g4e(this.key,this.suggestions),"or",t=>`\`${t}\``);return e?`; Did you mean ${e}? Ignoring.`:", ignoring."}toString(){return`${this.getPrefix()}${this.getPostfix()}`}};function or(e,t,n=""){if(!En(e))return{cleared:null,invalid:[new Bh("required","an object",e,n)]};const s={},i=[],r=new Set(Object.keys(e)),a=[];if(Sw in t){const o=Object.keys(t),c=t[Sw];if(e.type!=null&&o.includes(e.type)||e.type==null&&c!=null){const{type:u=c,...h}=e,f=or(h,t[u],n);Object.assign(s,{type:u},f.cleared);for(const g of f.invalid)g.setUnionType(u,n);i.push(...f.invalid)}else{const u=Yx(o,"or",h=>`'${h}'`);i.push(new Bh("required",`a keyword such as ${u}`,e.type,n,"type"))}return{cleared:s,invalid:i}}for(const o of Object.keys(t)){const c=t[o],u=c[xq],h=e[o];if(r.delete(o),typeof h>"u"&&(c[bq]||a.push(o),!u))continue;const f=Kx(n,o);if(Qc(c)){const m=c(h,{options:e,path:f});if(typeof m=="object"){if(i.push(...m.invalid),m.valid){s[o]=m.cleared;continue}else if(rg(m.invalid,f))continue}else if(m){s[o]=h;continue}i.push(new Bh(u?"required":"invalid",c[Sa],h,n,o))}else{const g=or(h,c,f);g.cleared!=null&&(s[o]=g.cleared),i.push(...g.invalid)}}for(const o of r){const c=e[o];typeof c>"u"||i.push(new oO(a,c,n,o))}return{cleared:s,invalid:i}}function g4e(e,t,n=2){const s=[],i=e.toLowerCase(),r=p4e.get(i);for(const a of t){const o=a.toLowerCase();(r?.has(a)||o.includes(i)||d4e(i,o)<=n)&&s.push(a)}return s}function on(e,t){if(Qc(e)){let n=function(s,i){return e(s,i)};return n[Sa]=t,n}else return{...e,[Sa]:t}}function Oe(e){return Object.assign(Qc(e)?(t,n)=>e(t,n):ws(e),{[xq]:!0,[Sa]:e[Sa]})}function vt(e){return Object.assign(Qc(e)?(t,n)=>e(t,n):ws(e),{[bq]:!0,[Sa]:e[Sa]})}var ws=(e,t="an object",n=!1)=>on((s,i)=>{const r=or(s,e,i.path),a=!rg(r.invalid,i.path);return{valid:a,cleared:a||!n?r.cleared:null,invalid:r.invalid}},t),sb=(e,t,n)=>({...e,[Sa]:t,[Sw]:n}),Zn=(...e)=>on((t,n)=>{const s=[];for(const i of e){const r=i(t,n);if(typeof r=="object"){if(s.push(...r.invalid),!r.valid)return{valid:!1,cleared:t,invalid:s};t=r.cleared}else if(!r)return!1}return{valid:!0,cleared:t,invalid:s}},e.map(t=>t[Sa]).filter(Boolean).join(" and ")),At=(...e)=>on((t,n)=>{for(const s of e){const i=s(t,n);if(typeof i=="object"?i.valid:i)return i}return!1},e.map(t=>t[Sa]).filter(Boolean).join(" or ")),ww=e=>bn(e)||nO(e),m4e=e=>mf(e)||(bn(e)||mi(e))&&nO(new Date(e)),Vl=on(Pt,"an array"),X=on(KOe,"a boolean"),Mn=on(Qc,"a function"),Ie=on(QOe,"a color string"),wd=on(m4e,"a date"),ot=on(ax,"a defined value"),he=on(bn,"a number"),P2=on(En,"an object"),de=on(mi,"a string"),vq=on(e=>typeof HTMLElement>"u"||e instanceof HTMLElement,"an html element"),yf=(e,t=1/0)=>{let n;return t===1/0?n=`an array of at least ${e} items`:e===t?n=`an array of exactly ${e} items`:n=`an array of at least ${e} and no more than ${t} items`,on(s=>Pt(s)&&s.length>=e&&s.length<=t,n)},Sq=(e,t=1/0)=>{let n;return t===1/0?n=`a string of at least ${e} characters`:e===t?n=`an string of exactly ${e} characters`:n=`an string of at least ${e} and no more than ${t} characters`,on(s=>mi(s)&&s.length>=e&&s.length<=t,n)},wq=(e,t=!0)=>on(n=>bn(n)&&(n>e||t&&n===e),`a number greater than ${t?"or equal to ":""}${e}`),y4e=(e,t)=>on(n=>bn(n)&&n>=e&&n<=t,`a number between ${e} and ${t} inclusive`),J=wq(0),qx=wq(0,!1),qe=y4e(0,1),Al=e=>on((t,{options:n})=>!ww(t)||!ww(n[e])||t<n[e],`the value to be less than \`${e}\``),Tl=e=>on((t,{options:n})=>!ww(t)||!ww(n[e])||t>n[e],`the value to be greater than \`${e}\``);function Se(...e){En(e[0])&&(e=Object.values(e[0]));const t=Yx(e,"or",n=>`'${n}'`);return on(n=>e.includes(n),`a keyword such as ${t}`)}var Qn=e=>on(t=>e===t,`the value ${JSON.stringify(e)}`),ft=(e,t,n=!0)=>on((s,i)=>{if(!Pt(s))return!1;let r=n;const a=[],o=[],c=u=>r=n?r&&u:r||u;if(s.length===0)return{valid:!0,cleared:a,invalid:o};for(let u=0;u<s.length;u++){const h=s[u],f=e(h,{options:h,path:`${i.path}[${u}]`});typeof f=="object"?(r=c(f.valid),o.push(...f.invalid),f.cleared!=null&&a.push(f.cleared)):(r=c(f),f&&a.push(h))}return{valid:r,cleared:r||!n?a:null,invalid:o}},t??`${e[Sa]} array`),yi=(e,t="an object array")=>on((n,s)=>{if(!Pt(n))return!1;const i=[],r=[];for(let a=0;a<n.length;a++){const o=`${s.path}[${a}]`,c=or(n[a],e,o);rg(c.invalid,o)||i.push(c.cleared),r.push(...c.invalid)}return{valid:!0,cleared:i,invalid:r}},t),Xh=(e,t)=>on((n,s)=>Qc(n)?vw in n?!0:{valid:!0,cleared:Object.assign((...r)=>{const a=yq(n,r);if(a==null)return;const o=e(a,{options:a,path:""});if(typeof o=="object"){if(o.invalid.forEach(Cq(s,e[Sa])),o.valid)return o.cleared}else{if(o)return a;Hx(`Callback \`${s.path}\` returned an invalid value \`${rO(a,50)}\`; expecting ${e[Sa]}, ignoring.`)}},{[vw]:!0}),invalid:[]}:!1,"a function"),vn=(e,t="an object")=>on((n,s)=>Qc(n)?vw in n?!0:{valid:!0,cleared:Object.assign((...r)=>{const a=yq(n,r,s.path);if(a==null)return;const o=or(a,e);return o.invalid.forEach(Cq(s,t)),o.cleared},{[vw]:!0}),invalid:[]}:!1,"a function");function rg(e,t){return e.some(n=>n.type==="required"&&n.path===t)}function Cq(e,t){return n=>{if(n instanceof oO)return Hx(`Callback \`${e.path}\` returned an unknown property \`${Kx(n.path,n.key)}\`${n.getPostfix()}`);const s=rO(n.value,50);Hx(n.key?`Callback \`${e.path}\` returned an invalid property \`${Kx(n.path,n.key)}\`: \`${s}\`; expecting ${n.description}, ignoring.`:`Callback \`${e.path}\` returned an invalid value \`${s}\`; expecting ${t??n.description}, ignoring.`)}}var Cw=e=>{if(!En(e))return!1;const t=Object.keys(e);return t.length===1&&t[0].startsWith("$")},x4e=ws({color:Ie,stop:qe},""),Mq=on(e=>{let t=-1/0;for(const n of e)if(n?.stop!=null){if(n.stop<t)return!1;t=n.stop}return!0},"color stops to be defined in ascending order"),lO=Zn(yf(2),ft(x4e),Mq),cO=Se("axis","item","series"),MT=ws({type:Oe(Qn("gradient")),colorStops:Oe(lO),rotation:he,gradient:vt(Se("linear","radial","conic")),bounds:vt(cO),reverse:vt(X),colorSpace:vt(Se("rgb","oklch"))},"a gradient object with color stops"),Ce={stroke:Ie,strokeWidth:J,strokeOpacity:qe},b4e=ws({type:Oe(Qn("gradient")),gradient:Oe(Se("linear","radial","conic")),bounds:Oe(cO),colorStops:Oe(At(lO,Zn(yf(2),ft(Ie)))),rotation:Oe(he),reverse:Oe(X),colorSpace:Oe(Se("rgb","oklch"))}),v4e=ws({type:Oe(Qn("pattern")),pattern:Oe(Se("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses")),path:Sq(2),width:Oe(J),height:Oe(J),fill:Oe(Ie),fillOpacity:Oe(qe),backgroundFill:Oe(Ie),backgroundFillOpacity:Oe(qe),padding:Oe(J),rotation:Oe(he),scale:Oe(J),stroke:Oe(Ie),strokeWidth:Oe(J),strokeOpacity:Oe(qe)}),S4e=ws({type:Oe(Qn("image")),url:de,width:J,height:J,rotation:Oe(he),backgroundFill:Oe(Ie),backgroundFillOpacity:qe,fit:Oe(Se("stretch","contain","cover")),repeat:Oe(Se("repeat","repeat-x","repeat-y","no-repeat"))}),w4e=sb({gradient:{colorStops:lO,rotation:he,gradient:vt(Se("linear","radial","conic")),bounds:vt(cO),reverse:vt(X),colorSpace:vt(Se("rgb","oklch"))},pattern:{pattern:Se("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses"),path:Sq(2),width:J,height:J,rotation:he,scale:J,fill:Ie,fillOpacity:qe,backgroundFill:Ie,backgroundFillOpacity:qe,...Ce,padding:vt(J)},image:{url:Oe(de),backgroundFill:Ie,backgroundFillOpacity:qe,width:J,height:J,fit:Se("stretch","contain","cover","none"),repeat:Se("repeat","repeat-x","repeat-y","no-repeat"),rotation:he}},"a color object"),lo=At(Ie,ws(w4e,"a color object")),_e={fill:lo,fillOpacity:qe};_e.fillGradientDefaults=vt(b4e);_e.fillPatternDefaults=vt(v4e);_e.fillImageDefaults=vt(S4e);var Fe={lineDash:ft(J),lineDashOffset:he},Ol={..._e,...Ce,...Fe,opacity:qe,cornerRadius:J},Jh={...Ce,...Fe,opacity:qe},is={..._e,...Ce,...Fe,opacity:qe};function jq(e){return{enabled:X,range:Se("tooltip","node"),highlightedItem:e,unhighlightedItem:e}}function ks(e,t){return{enabled:X,range:Se("tooltip","node"),highlightedItem:e,unhighlightedItem:e,highlightedSeries:t,unhighlightedSeries:t,bringToFront:X}}var C4e={start:ot,stop:ot,...Ce,..._e,...Fe},M4e={start:ot,stop:ot,...Ce,...Fe},ib=ws({enabled:X,key:Oe(Se("x","y")),segments:yi(C4e,"path segments array")},"a segmentation object",!0),j4e=ws({enabled:X,key:Oe(Se("x","y")),segments:yi(M4e,"path segments array")},"a segmentation object",!0),o9=ws({googleFont:de},"google font"),ED=At(de,Cw,o9,ft(At(de,o9))),Dn={color:Ie,fontFamily:ED,fontSize:J,fontStyle:Se("normal","italic","oblique"),fontWeight:At(J,Se("normal","bold","bolder","lighter"))},N4e=ws({top:he,right:he,bottom:he,left:he},"padding object"),SS=At(he,N4e),wS={enabled:X,stroke:Ie,strokeWidth:J,strokeOpacity:qe},Po={border:{...wS},cornerRadius:he,padding:SS,..._e};function A4e(e,t,n=1/0){const s=t,i=n,r=e%180*(Math.PI/180),a=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));if(a===0)return{width:s,height:i};if(o===0)return{width:i,height:s};if(!isFinite(i)){const u=o/a,h=s/(o+u*a);return{width:h,height:u*h}}const c=o*o-a*a;if(c===0){const u=Math.min(s,i)/Math.SQRT2;return{width:u,height:u}}return{width:Math.abs((s*o-i*a)/c),height:Math.abs((i*o-s*a)/c)}}function Nq(e,t,n,s=0,i=0){const r=Math.cos(n),a=Math.sin(n),o=e-s,c=t-i;return{x:s+o*r-c*a,y:i+o*a+c*r}}function Mw(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function T4e(e){return Array.from(new Set(e))}function uO(e,t){return e.reduce((n,s)=>{const i=t(s);return n[i]??(n[i]=[]),n[i].push(s),n},{})}function Lc(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(Array.isArray(e[n])&&Array.isArray(t[n])){if(!Lc(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function ml(e,t,n=0){if(e.length===0)return[];const s=[];for(let i=0;i<t;i++)s.push(e.at((i+n)%e.length));return s}function E4e(e,t){const n=new Map;return t.forEach((s,i)=>{n.set(s,i)}),e.sort((s,i)=>{const r=n.get(s)??1/0,a=n.get(i)??1/0;return r-a})}function D4e(e,t){let n=0;for(;n<e.length&&t(e[n]);)n+=1;const s=n;s!==0&&e.splice(0,s)}function k4e(e,t){let n=e.length-1;for(;n>=0&&t(e[n]);)n-=1;const s=e.length-1-n;s!==0&&e.splice(e.length-s,s)}function I4e(e,t,n){const s=[e],i=Math.round((t-e)/(n-1));if(i>0)for(let r=e+i;r<t&&!(s.push(r)>=n-1);r+=i);return s.push(t),s}var l9=class{constructor(){this.queue=[]}await(e=50){return new Promise(t=>{const n=()=>{clearTimeout(i),t(!0)},i=setTimeout(()=>{const r=this.queue.indexOf(n);r<0||(this.queue.splice(r,1),t(!1))},e);this.queue.push(n)})}notify(){this.queue.splice(0).forEach(e=>e())}};function c9(e=0){return new Promise(t=>{setTimeout(t,e)})}function*Xp(...e){for(const t of e)t!=null&&(t[Symbol.iterator]?yield*t:yield t)}function L4e(e){return e!=null&&typeof e=="object"&&Symbol.iterator in e?e:[e]}function Dy(e){for(const t of e)return t;throw new Error("AG Charts - no first() value found")}function*Uo(e){const t=[void 0,void 0];for(const n of Object.keys(e))t[0]=n,t[1]=e[n],yield t}function Fu(e){return e==="true"}function O4e(e){return Number(e)}function la(e){return e}var R4e={role:la,"aria-checked":Fu,"aria-controls":la,"aria-describedby":la,"aria-disabled":Fu,"aria-expanded":Fu,"aria-haspopup":la,"aria-hidden":Fu,"aria-label":la,"aria-labelledby":la,"aria-live":la,"aria-orientation":la,"aria-selected":Fu,"data-focus-override":Fu,"data-focus-visible-override":Fu,"data-preventdefault":Fu,class:la,for:la,id:la,tabindex:O4e,title:la,placeholder:la};function nn(e,t,n){n==null||n===""||n===""?e?.removeAttribute(t):e?.setAttribute(t,n.toString())}function Cg(e,t){if(t!=null)for(const[n,s]of Uo(t))n!=="class"&&nn(e,n,s)}function ag(e,t,n){if(!(e instanceof HTMLElement))return;const s=e.getAttribute(t);return s===null?n:R4e[t]?.(s)??void 0}function vl(e,t,n){e!=null&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n.toString()))}function _4e(e,t){for(const[n,s]of Uo(t))vl(e,n,s)}function Aq(e,t,n,s,i){return t<e.x+e.width&&t+s>e.x&&n<e.y+e.height&&n+i>e.y}function dO(e,t,n,s=0,i=0){return t>=e.x&&t+s<=e.x+e.width&&n>=e.y&&n+i<=e.y+e.height}function P4e(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Oh(e,t,n){if(e>t)return;let s;for(;t>=e;){const i=Math.floor((t+e)/2);n(i)?(s=i,e=i+1):t=i-1}return s}function Zx(e,t,n){if(e>t)return;let s;for(;t>=e;){const i=Math.floor((t+e)/2);n(i)?(s=i,t=i-1):e=i+1}return s}function z4e(e=0,t=0){return new OffscreenCanvas(e,t).getContext("2d")}var F4e=class{constructor(e){this.getter=e}get(){let e=this.result?.deref();return e||(e=this.getter(),this.result=new WeakRef(e),e)}clear(){this.result=void 0}},Cs=class{constructor(){this.callbacks=new Set}flush(){for(const e of this.callbacks)e();this.callbacks.clear()}merge(e){for(const t of e.callbacks)this.callbacks.add(t)}register(...e){for(const t of e)t&&this.callbacks.add(t)}};function $4e(e,t){const n=Math.max(e.length,t.length),s=new Set,i=new Set;for(let r=0;r<n;r++){const a=e[r],o=t[r];a!==o&&(i.has(o)?i.delete(o):o&&s.add(o),s.has(a)?s.delete(a):a&&i.add(a))}return{changed:s.size>0||i.size>0,added:s,removed:i}}function Tq(e){return Array.isArray(e)&&e.length>=2&&e.every(bn)}function CS(e){return Array.isArray(e)&&e.length>=2&&e.every(Tq)}function B4e(e){const t=e[0],n=e[e.length-1];return Fr(t[0],n[0],.001)&&Fr(t[1],n[1],.001)}function u9(e){return Array.isArray(e)&&e.every(CS)&&e.every(B4e)}function Eq(e){if(e===null)return!0;if(!En(e)||e.type==null)return!1;const{type:t,coordinates:n}=e;switch(t){case"GeometryCollection":return Array.isArray(e.geometries)&&e.geometries.every(Eq);case"MultiPolygon":return Array.isArray(n)&&n.every(u9);case"Polygon":return u9(n);case"MultiLineString":return Array.isArray(n)&&n.every(CS);case"LineString":return CS(n);case"MultiPoint":return CS(n);case"Point":return Tq(n);default:return!1}}function V4e(e){return En(e)&&e.type==="Feature"&&Eq(e.geometry)}function U4e(e){return En(e)&&e.type==="FeatureCollection"&&Array.isArray(e.features)&&e.features.every(V4e)}var H4e=on(U4e,"a GeoJSON object"),G4e=class{constructor(e,t,n){this._vertexCount=0,this._edgeCount=0,this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[],this.cachedNeighboursEdge=e,this.processedEdge=t,this.singleValueEdges=n}clear(){this._vertexCount=0,this._edgeCount=0,this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[],this.singleValueEdges?.clear()}getVertexCount(){return this._vertexCount}getEdgeCount(){return this._edgeCount}addVertex(e){const t=new W4e(e);return this._vertexCount++,t}addEdge(e,t,n){n===this.cachedNeighboursEdge?e.updateCachedNeighbours().set(t.value,t):n===this.processedEdge&&(this.pendingProcessingEdgesFrom.push(e),this.pendingProcessingEdgesTo.push(t));const{edges:s}=e,i=s.get(n);i?i.indexOf(t)===-1&&(this.singleValueEdges?.has(n)?s.set(n,[t]):(i.push(t),this._edgeCount++)):(s.set(n,[t]),this._edgeCount++)}removeVertex(e){this._vertexCount--;const t=e.edges;if(t){for(const[n,s]of t)this._vertexCount-=s.length;e.clear()}}removeEdge(e,t,n){const s=e.edges.get(n);if(!s)return;const i=s.indexOf(t);i!==-1&&(s.splice(i,1),s.length===0&&e.edges.delete(n),this._edgeCount--,n===this.cachedNeighboursEdge&&e.readCachedNeighbours()?.delete(t.value))}removeEdges(e,t){e.edges.delete(t)}getVertexValue(e){return e.value}*neighbours(e){for(const[t,n]of e.edges)for(const s of n)yield s}*neighboursAndEdges(e){for(const[t,n]of e.edges)for(const s of n)yield[s,t]}neighboursWithEdgeValue(e,t){return e.edges.get(t)}findNeighbour(e,t){return e.edges.get(t)?.[0]}findNeighbourValue(e,t){const n=this.findNeighbour(e,t);if(n)return this.getVertexValue(n)}findNeighbourWithValue(e,t,n){const s=n==null?this.neighbours(e):this.neighboursWithEdgeValue(e,n);if(s){for(const i of s)if(this.getVertexValue(i)===t)return i}}findVertexAlongEdge(e,t,n){if(n===this.cachedNeighboursEdge){let i;for(const r of t)if(i=(i??e).readCachedNeighbours()?.get(r),!i)return;return i}if(t.length===0)return;let s=e;for(const i of t){const r=s?this.neighboursWithEdgeValue(s,n):void 0;if(!r)return;s=r.find(a=>a.value===i)}return s}adjacent(e,t){for(const[n,s]of e.edges)if(s.includes(t))return!0;return!1}},W4e=class{constructor(e){this.value=e,this.edges=new Map}readCachedNeighbours(){return this._cachedNeighbours}updateCachedNeighbours(){return this._cachedNeighbours??(this._cachedNeighbours=new Map),this._cachedNeighbours}clear(){this.edges.clear(),this._cachedNeighbours?.clear()}},d9=new Map,Y4e=1;function Xo(e){const t=e.constructor,n=Object.hasOwn(t,"className")?t.className:t.name;if(!n)throw new Error(`The ${t} is missing the 'className' property.`);const s=(d9.get(n)??0)+1;return d9.set(n,s),`${n}-${s}`}function jw(){return`ag-charts-${Y4e++}`}function jT(){return crypto.randomUUID?.()??K4e()}function K4e(){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t="";for(let n=0;n<e.length;n++)(n===4||n===6||n===8||n===10)&&(t+="-"),t+=e[n].toString(16).padStart(2,"0");return t}function q4e(e,t,n){let s=e,i=s;for(const r of t)if(s==null||n(s.value,r)>0)s={value:r,next:s},i=s;else{for(i=i;i.next!=null&&n(i.next.value,r)<=0;)i=i.next;i.next={value:r,next:i.next}}return s}var z2="",F2=/\r?\n/g,Nw="";function Dq({fontSize:e,fontStyle:t,fontWeight:n,fontFamily:s}){let i="";return t&&t!=="normal"&&(i+=`${t} `),n&&n!=="normal"&&n!==400&&(i+=`${n} `),i+=`${e}px`,i+=` ${s}`,i}function h9(e,t=1.15){return Math.round(e*t)}var Z4e=/[\s.,;:-]{1,5}$/;function f9(e){return e.replace(Z4e,"")+z2}function Q4e(e){return Nw+e+Nw}function X4e(e){return e.replaceAll(Nw,"")}function rb(e){return e.endsWith(z2)}function kq(e){return e?.text.endsWith(z2)??!1}var Iq=class{constructor(e,t){this.ctx=e,this.measureTextCached=t,this.baselineMap=new Map,this.charMap=new Map,this.lineHeightCache=null}baselineDistance(e){if(e==="alphabetic")return 0;if(this.baselineMap.has(e))return this.baselineMap.get(e);this.ctx.textBaseline=e;const{alphabeticBaseline:t}=this.ctx.measureText("");return this.baselineMap.set(e,t),this.ctx.textBaseline="alphabetic",t}lineHeight(){return this.lineHeightCache??(this.lineHeightCache=this.measureText("").height),this.lineHeightCache}measureText(e){const t=this.measureTextCached?.(e)??this.ctx.measureText(e),{width:n,fontBoundingBoxAscent:s=t.emHeightAscent,fontBoundingBoxDescent:i=t.emHeightDescent}=t,r=s+i;return{width:n,height:r,ascent:s,descent:i}}measureLines(e){const t=typeof e=="string"?e.split(F2):e;let n=0,s=0;const i=t.map(r=>{const a=this.measureText(r);return n<a.width&&(n=a.width),s+=a.height,{text:r,...a}});return{width:n,height:s,lineMetrics:i}}textWidth(e,t){if(t){let n=0;for(let s=0;s<e.length;s++)n+=this.textWidth(e.charAt(s));return n}return e.length>1?this.ctx.measureText(e).width:this.charMap.get(e)??this.charWidth(e)}charWidth(e){const{width:t}=this.ctx.measureText(e);return this.charMap.set(e,t),t}},DD=new JL(50);function wa(e){typeof e=="object"&&(e=Dq(e));let t=DD.get(e);if(t)return t;const n=new JL(1e4),s=z4e();return s.font=e,t=new Iq(s,i=>{let r=n.get(i);return r||(r=s.measureText(i),n.set(i,r),r)}),DD.set(e,t),t}wa.clear=()=>DD.clear();function $2(e,t){let n={segments:[],width:0,height:0,ascent:0,descent:0};const s=[n];for(const a of e){const{text:o,fontSize:c=t.fontSize,fontStyle:u=t.fontStyle,fontWeight:h=t.fontWeight,fontFamily:f=t.fontFamily,...g}=a,m={fontSize:c,fontStyle:u,fontWeight:h,fontFamily:f},y=wa(m),b=o.split(F2);for(let S=0;S<b.length;S++){const C=b[S],M=y.measureText(C);S>0&&(n={segments:[],width:0,height:0,ascent:0,descent:0},s.push(n)),C&&(n.width+=M.width,n.ascent=Math.max(n.ascent,M.ascent),n.descent=Math.max(n.descent,M.descent),n.height=Math.max(n.height,n.ascent+n.descent),n.segments.push({...m,...g,text:C,textMetrics:M}))}}let i=0,r=0;for(const a of s)i=Math.max(i,a.width),r+=a.height;return{width:i,height:r,lineMetrics:s}}function p9(e,t){return t.overflow==="hide"&&e.some(rb)}function hO(e,t){return J4e(e,t).join(`
`)}function J4e(e,t){return MS(e,t)}function og(e,t,n,s){const i=t.textWidth(z2);let r=0,a=0;for(;a<e.length;a++){const o=t.textWidth(e.charAt(a));if(r+o>n)break;r+=o}if(e.length===a&&(!s||r+i<=n))return s?f9(e):e;for(e=e.slice(0,a).trimEnd();e.length&&t.textWidth(e)+i>n;)e=e.slice(0,-1).trimEnd();return f9(e)}function MS(e,t,n=0){const s=e.split(F2),i=wa(t.font),r=[];if(t.textWrap==="never"){for(const u of s){const h=og(u.trimEnd(),i,Math.max(0,t.maxWidth-n));if(!h)break;r.push(h),n=0}return p9(r,t)?[]:r}const a=t.textWrap==="hyphenate",o=t.textWrap==null||t.textWrap==="on-space";for(const u of s){let h=u.trimEnd();if(h===""){r.push(h);continue}let f=0,g=0,m=0;for(r.length||(g=n);f<h.length;){const y=h.charAt(f);if(y===" "&&(m=f),g+=i.textWidth(y),g>t.maxWidth){if(f===0){h="";break}let b=i.textWidth(h.slice(0,f+1));if(r.length||(b+=n),b<=t.maxWidth){g=b,f++;continue}if(m){const M=e3e(h,m+1),N=i.textWidth(M);if(N<=t.maxWidth){r.push(h.slice(0,m).trimEnd()),h=h.slice(m).trimStart(),f=0,g=0,m=0;continue}else o&&N>t.maxWidth&&r.push(h.slice(0,m).trimEnd(),og(h.slice(m).trimStart(),i,t.maxWidth,!0))}else if(o){const M=og(h,i,t.maxWidth,!0);M&&r.push(M)}if(o){h="";break}const S=a?"-":"";let C=h.slice(0,f).trim();for(;C.length&&i.textWidth(C+S)>t.maxWidth;)C=C.slice(0,-1).trimEnd();if(C&&C!==Nw)r.push(C+S);else{h="";break}h=h.slice(C.length).trimStart(),f=-1,g=0,m=0}f++}h&&r.push(h)}n3e(r,i,t);const c=t3e(r,i,t);return p9(c,t)?[]:c}function e3e(e,t){const n=e.indexOf(" ",t);return n===-1?e.slice(t):e.slice(t,n)}function t3e(e,t,n){if(!bn(n.maxHeight))return e;const{height:s,lineMetrics:i}=t.measureLines(e);if(s<=n.maxHeight)return e;for(let r=0,a=0;r<i.length;r++)if(a+=i[r].height,a>n.maxHeight){if(n.overflow==="hide"||r===0)return[];const o=e.slice(0,r),c=o.pop();return o.concat(rb(c)?c:og(c,t,n.maxWidth,!0))}return e}function n3e(e,t,n){if(n.avoidOrphans===!1||e.length<2)return;const{length:s}=e,i=e[s-1],r=e[s-2];if(r.length<i.length)return;const a=r.lastIndexOf(" ");if(a===-1||a===r.indexOf(" ")||i.includes(" "))return;const o=r.slice(a+1);t.textWidth(i+o)<=n.maxWidth&&(e[s-2]=r.slice(0,a),e[s-1]=o+" "+i)}function fO(e,t){const{maxHeight:n=1/0}=t,s=[];let i=0,r=0;function a(){const o=s.pop(),c=wa(o),u=og(o.text,c,t.maxWidth,!0),h=c.measureText(u);s.push({...o,text:u,textMetrics:h})}for(const{width:o,height:c,segments:u}of $2(e,t.font).lineMetrics){if(r+c>n){s.length&&a();break}if(i+o<=t.maxWidth){i+=o,r+=c,s.push(...u);continue}for(const h of u){if(i+h.textMetrics.width<=t.maxWidth){i+=h.textMetrics.width,s.push(h);continue}const f=wa(h),g=Q4e(h.text),m={...t,font:h,maxHeight:n-r};let y=MS(g,{...m,overflow:"hide"},i);if(y.length===0)if(t.textWrap==="never")y=MS(g,m,i);else{y=MS(g,m);const C=s.at(-1);C&&(C.text+=`
`,i=0)}if(y.length===0){a();break}const b=y.findIndex(rb);b!==-1&&(y=y.slice(0,b+1));const S=y.at(-1);for(const C of y){const M=X4e(C),N=f.measureText(M),T={...h,text:M,textMetrics:N};C===S?i+=N.width:(T.text+=`
`,i=0),r+=N.height,s.push(T)}if(b!==-1)break}}return s}var Lq=Object.defineProperty,s3e=Object.getOwnPropertyDescriptor,Ul=(e,t)=>{for(var n in t)Lq(e,n,{get:t[n],enumerable:!0})},D=(e,t,n,s)=>{for(var i=s>1?void 0:s?s3e(t,n):t,r=e.length-1,a;r>=0;r--)(a=e[r])&&(i=(s?a(t,n,i):a(i))||i);return s&&i&&Lq(t,n,i),i},B2=class{constructor(){this.cleanup=new Cs}destroy(){this.cleanup.flush()}},i3e=class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(...e){for(const t of e){this.registerDependencies(t);const n=this.modules.find(s=>t.type===s.type&&("optionsKey"in t&&"optionsKey"in s?t.optionsKey===s.optionsKey:!0)&&t.identifier===s.identifier);if(n){if(t.packageType==="enterprise"&&n.packageType==="community"){const s=this.modules.indexOf(n);this.modules.splice(s,1,t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}else this.modules.push(t),"optionsKey"in t&&this.modulesByOptionKey.set(t.optionsKey,t)}}hasEnterpriseModules(){return this.modules.some(e=>e.packageType==="enterprise")}*byType(...e){const t=new Set,n=this.modules.filter(r=>e.includes(r.type)),s=r=>{const a=this.dependencies.get(r);return a?.flatMap(s).concat(a)??[]},i=[];for(const r of n){const a="optionsKey"in r?r.optionsKey:r.contextKey;if(!t.has(a)){for(const o of s(a)){if(t.has(o))continue;const c=this.modulesByOptionKey.get(o);if(!c){i.push(o);continue}e.includes(c.type)&&(yield c,t.add(o))}yield r,t.add(a)}}if(i.length>0)throw new Error(`Could not resolve module dependencies: ${i}`)}registerDependencies(e){if(e.dependencies==null||e.dependencies.length===0)return;const t="optionsKey"in e?e.optionsKey:e.contextKey;this.dependencies.set(t,e.dependencies)}},El=new i3e,V2=Symbol("interpolate"),Aw=e=>e[V2]!=null;function U2(e,t,n,s=1/0){const i={nearest:void 0,distanceSquared:s};for(const r of n){const a=r.distanceSquared(e,t);if(a===0)return{nearest:r,distanceSquared:0};a<i.distanceSquared&&(i.nearest=r,i.distanceSquared=a)}return i}function r3e(e,t,n,s=1/0){const{x:i=e,y:r=t}=n.transformPoint?.(e,t)??{},a={nearest:void 0,distanceSquared:s};for(const o of n.children){const{nearest:c,distanceSquared:u}=o.nearestSquared(i,r,a.distanceSquared);if(u===0)return{nearest:c,distanceSquared:u};u<a.distanceSquared&&(a.nearest=c,a.distanceSquared=u)}return a}var Qx=class Lp{constructor(t,n,s,i){this.x=t,this.y=n,this.width=s,this.height=i}static fromObject({x:t,y:n,width:s,height:i}){return new Lp(t,n,s,i)}static merge(t){let n=1/0,s=1/0,i=-1/0,r=-1/0;for(const a of t)a.x<n&&(n=a.x),a.y<s&&(s=a.y),er(a.x,a.width)>i&&(i=er(a.x,a.width)),er(a.y,a.height)>r&&(r=er(a.y,a.height));return new Lp(n,s,i-n,r-s)}static nearestBox(t,n,s){return U2(t,n,s)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:er(this.x,this.width),bottom:er(this.y,this.height),toJSON(){return{}}}}clone(){const{x:t,y:n,width:s,height:i}=this;return new Lp(t,n,s,i)}equals(t){return P4e(this,t)}containsPoint(t,n){return dO(this,t,n)}intersection(t){const n=Math.max(this.x,t.x),s=Math.max(this.y,t.y),i=Math.min(er(this.x,this.width),er(t.x,t.width)),r=Math.min(er(this.y,this.height),er(t.y,t.height));if(!(n>i||s>r))return new Lp(n,s,i-n,r-s)}collidesBBox(t){return this.x<er(t.x,t.width)&&er(this.x,this.width)>t.x&&this.y<er(t.y,t.height)&&er(this.y,this.height)>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,n){if(this.containsPoint(t,n))return 0;const s=t-wt(this.x,t,er(this.x,this.width)),i=n-wt(this.y,n,er(this.y,this.height));return s*s+i*i}shrink(t,n){if(typeof t=="number")this.applyMargin(t,n);else for(const s of Object.keys(t)){const i=t[s];typeof i=="number"&&this.applyMargin(i,s)}return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(t,n){if(typeof t=="number")this.applyMargin(-t,n);else for(const s of Object.keys(t)){const i=t[s];typeof i=="number"&&this.applyMargin(-i,s)}return this}applyMargin(t,n){switch(n){case"top":this.y+=t;case"bottom":this.height-=t;break;case"left":this.x+=t;case"right":this.width-=t;break;case"vertical":this.y+=t,this.height-=t*2;break;case"horizontal":this.x+=t,this.width-=t*2;break;case void 0:this.x+=t,this.y+=t,this.width-=t*2,this.height-=t*2;break}}translate(t,n){return this.x+=t,this.y+=n,this}[V2](t,n){return new Lp(this.x*(1-n)+t.x*n,this.y*(1-n)+t.y*n,this.width*(1-n)+t.width*n,this.height*(1-n)+t.height*n)}};Qx.zero=Object.freeze(new Qx(0,0,0,0));Qx.NaN=Object.freeze(new Qx(NaN,NaN,NaN,NaN));var Pe=Qx;function er(e,t){return e===-1/0&&t===1/0?1/0:e+t}var a3e=2e3,g9=Date.now(),o3e=()=>{const e=Date.now()-g9;if(e>a3e){const t=(Math.floor(e/100)/10).toFixed(1);Ne.log(`**** ${t}s since last log message ****`)}g9=Date.now()},Dt={create(...e){return Object.assign((...n)=>{Dt.check(...e)&&(typeof n[0]=="function"&&(n=Mw(n[0]())),o3e(),Ne.log(...n))},{check:()=>Dt.check(...e),group:(n,s)=>Dt.check(...e)?Ne.logGroup(n,s):s()})},check(...e){return e.length===0&&e.push(!0),Mw(Nn("agChartsDebug")).some(n=>e.includes(n))},inDevelopmentMode(e){if(Dt.check("dev"))return e()}};function Oq({context:e,pixelRatio:t,width:n,height:s}){e.save();try{e.resetTransform(),e.clearRect(0,0,Math.ceil(n*t),Math.ceil(s*t))}finally{e.restore()}}function Rq(e){if(Dt.check("canvas")){const t=e.save.bind(e),n=e.restore.bind(e);let s=0;Object.assign(e,{save(){t(),s++},restore(){if(s===0)throw new Error("AG Charts - Unable to restore() past depth 0");n(),s--},verifyDepthZero(){if(s!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${s}`)}})}}function m9(e,t,n){return[Math.floor(e*n),Math.floor(t*n)]}var pO=class{constructor(e){const{width:t,height:n,pixelRatio:s,willReadFrequently:i=!1}=e;this.width=t,this.height=n,this.pixelRatio=s;const[r,a]=m9(t,n,s);this.canvas=new OffscreenCanvas(r,a),this.context=this.canvas.getContext("2d",{willReadFrequently:i}),this.context.setTransform(s,0,0,s,0,0),Rq(this.context)}drawImage(e,t=0,n=0){return e.drawImage(this.canvas,t,n)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(e,t,n){if(!(e>0&&t>0))return;const{canvas:s,context:i}=this;if(e!==this.width||t!==this.height||n!==this.pixelRatio){const[r,a]=m9(e,t,n);s.width=r,s.height=a}i.setTransform(n,0,0,n,0,0),this.width=e,this.height=t,this.pixelRatio=n}clear(){Oq(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},kD=Symbol("BREAK"),ox="__decorator_config",z1="__decorator_accessors";function l3e(e,t){gO(e,t).optional=!0}function gO(e,t){if(Object.getOwnPropertyDescriptor(e,ox)==null&&Object.defineProperty(e,ox,{value:{}}),Object.getOwnPropertyDescriptor(e,z1)==null){const h=Object.getPrototypeOf(e)?.[z1]?.slice()??[];Object.defineProperty(e,z1,{value:h})}const n=e[ox],s=t.toString();if(n[s]!=null)return n[s];n[s]={setters:[],getters:[],observers:[]};const i=Object.getOwnPropertyDescriptor(e,t);let r=i?.get,a=i?.set;if(r==null||a==null){const u=e[z1];let h=u.indexOf(t);h===-1&&(h=u.push(t)-1),r??(r=function(){let f=this.__accessors;return f==null&&(f=u.slice().fill(void 0),Object.defineProperty(this,"__accessors",{value:f})),f[h]}),a??(a=function(f){let g=this.__accessors;g==null&&(g=u.slice().fill(void 0),Object.defineProperty(this,"__accessors",{value:g})),g[h]=f})}return Object.defineProperty(e,t,{set:function(u){const{setters:h,observers:f}=n[s];let g;h.some(m=>m.length>2)&&(g=r.call(this));for(const m of h)if(u=m(this,t,u,g),u===kD)return;a.call(this,u);for(const m of f)m(this,u,g)},get:function(){let u=r.call(this);for(const h of n[s].getters)if(u=h(this,t,u),u===kD)return;return u},enumerable:!0,configurable:!1}),n[s]}function ef(e,t,n){return(s,i)=>{const r=gO(s,i);r.setters.push(e),t&&r.getters.unshift(t),n&&Object.assign(r,n)}}function _q(e){return(t,n)=>{gO(t,n).observers.push(e)}}function H2(e){return typeof e<"u"&&ox in e}function cd(e){const t=new Set;for(;H2(e);)t.add(e?.[ox]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(n=>Object.keys(n))}function Pq(e){return cd(e).reduce((t,n)=>(t[String(n)]=e[n]??null,t),{})}function Cr(e,t){return Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every((n,s)=>Cr(n,t[s])):In(e)?In(t)?mO(e,t,Cr):!1:e===t}function mO(e,t,n){if(Object.is(e,t))return!0;for(const s of Object.keys(t))if(!(s in e))return!1;for(const s of Object.keys(e))if(!(s in t)||!n(e[s],t[s]))return!1;return!0}function pn(...e){const t={};for(const n of e){if(!En(n))continue;const s=H2(n)?cd(n):Object.keys(n);for(const i of s)In(t[i])&&In(n[i])?t[i]=pn(t[i],n[i]):t[i]??(t[i]=n[i])}return t}function Xx(...e){const t={};for(const n of e){if(!En(n))continue;const s=H2(n)?cd(n):Object.keys(n);for(const i of s)In(t[i])&&In(n[i])?t[i]=Xx(t[i],n[i]):i in t||(t[i]??(t[i]=n[i]))}return t}function zq(e,...t){return t&&Pt(e)?e.map(n=>pn(n,...t)):e}function Fq(e,t){const n={};for(const[s,i]of Uo(e))n[s]=t(i,s,e);return n}function ke(e,t){const n={...e};for(const s of t)delete n[s];return n}function jS(e,t){if(e==null)return;const n={};for(const s of t)Object.hasOwn(e,s)&&(n[s]=e[s]);return n}function yO(e,t){return(Pt(t)?t:t.split(".")).reduce((s,i)=>s[i],e)}var xO=new Set(["__proto__","constructor","prototype"]);function bO(e,t,n){const s=Pt(t)?t.slice():t.split("."),i=s.pop();if(s.some(a=>xO.has(a)))return;const r=s.reduce((a,o)=>a[o],e);return r[i]=n,r[i]}function ID(e,t,n){if(n===void 0)return t;for(const s of e){const i=n[s];i!==void 0&&(t[s]=i)}return t}function kc(e){return e==null||typeof e!="object"||!In(e)||(Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t];n!==null&&(typeof n=="object"||typeof n=="function")&&!Object.isFrozen(n)&&kc(n)})),e}function $q(e,t){return In(e)&&t in e}function c3e(e,t){return $q(e,t)&&typeof e[t]=="string"}var Bq=(e,t)=>e===t;function Me(e){return function(t,n){const s=`__${n}`;t[n]||u3e(t,n,s,e)}}function G2(e){return Me(e)}function Ma(e){return Me(e)}function vO(e){const t=e??{};return t.equals=Lc,Me(e)}function u3e(e,t,n,s){const{changeCb:i,convertor:r,checkDirtyOnAssignment:a=!1}=s??{},o={changeCb:i,checkDirtyOnAssignment:a,convertor:r},c=f3e(n,h3e(d3e(p3e(n,o),o),o),o);Object.defineProperty(e,t,{set:c,get:function(){return this[n]},enumerable:!0,configurable:!0})}function d3e(e,t){const{convertor:n}=t;return n?function(s){e.call(this,n(s))}:e}var Vq=Symbol("no-change");function h3e(e,t){const{changeCb:n}=t;return n?function(s){const i=e.call(this,s);return i!==Vq&&n.call(this,this),i}:e}function f3e(e,t,n){const{checkDirtyOnAssignment:s}=n;return s?function(i){const r=t.call(this,i);return i?._dirty===!0&&this.markDirty(e),r}:t}function p3e(e,t){const{equals:n=Bq}=t;return function(s){const i=this[e];return n(s,i)?Vq:(this[e]=s,this.onChangeDetection(e),s)}}var NT=(e,t)=>Math.sign(e-t);function Uq(e,t){if(typeof e=="number"&&typeof t=="number")return NT(e,t);const n=typeof e=="number"?[e]:e,s=typeof t=="number"?[t]:t,i=Math.min(n.length,s.length);for(let r=0;r<i;r+=1){const a=NT(n[r],s[r]);if(a!==0)return a}return NT(n.length,s.length)}var Hq=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(Hq||{}),g3e=5,ab=class LD{constructor(t){this.serialNumber=LD._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=Xo(this),this.name=void 0,this.transitionOut=void 0,this.pointerEvents=0,this._datum=void 0,this._previousDatum=void 0,this.scene=void 0,this._debugDirtyProperties=void 0,this.parentNode=void 0,this.cachedBBox=void 0,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.batchLevel=0,this.batchDirty=!1,this.name=t?.name,this.tag=t?.tag??NaN,this.zIndex=t?.zIndex??0,this.scene=t?.scene,(t?.debugDirty??LD._debugEnabled)&&(this._debugDirtyProperties=new Map([["__first__",[]]]))}static toSVG(t,n,s){const i=t?.toSVG();if(i==null||!i.elements.length&&!i.defs?.length)return;const r=Ds("svg");if(r.setAttribute("width",String(n)),r.setAttribute("height",String(s)),r.setAttribute("viewBox",`0 0 ${n} ${s}`),r.setAttribute("overflow","visible"),i.defs?.length){const a=Ds("defs");a.append(...i.defs),r.append(a)}return r.append(...i.elements),r.outerHTML}static*extractBBoxes(t,n){for(const s of t)if(!n||s.visible&&!s.transitionOut){const i=s.getBBox();i&&(yield i)}}get datum(){return this._datum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum,this._datum=t)}get previousDatum(){return this._previousDatum}get layerManager(){return this.scene?.layersManager}get imageLoader(){return this.scene?.imageLoader}closestDatum(){for(const{datum:t}of this.traverseUp(!0))if(t!=null)return t}preRender(t,n=1){if(this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=n,this.childNodeCounts.thisComplexity=n,this.batchLevel>0||this.batchDirty)throw new Error("AG Charts - illegal rendering state; batched update in progress");return this.childNodeCounts}isolatedRender(t){t.ctx.save();try{this.render(t)}catch(n){const s=n.errorCount??1;if(s>=g3e)throw n.errorCount=s,n;Ne.warnOnce("Error during rendering",n,n.stack)}finally{t.ctx.restore()}}render(t){const{stats:n}=t;if(this.debugDirtyProperties(),t.debugNodeSearch){const s=this.name??this.id;t.debugNodeSearch.some(i=>typeof i=="string"?i===s:i.test(s))&&(t.debugNodes[this.name??this.id]=this)}n&&(n.nodesRendered++,n.opsPerformed+=this.childNodeCounts.thisComplexity)}setScene(t){this.scene=t}*traverseUp(t){let n=this;for(t&&(yield n);n=n.parentNode;)yield n}isRoot(){return!this.parentNode}removeChild(t){throw new Error(`AG Charts - internal error, unknown child node ${t.name??t.id} in $${this.name??this.id}`)}remove(){this.parentNode?.removeChild(this)}destroy(){this.parentNode?.removeChild(this)}batchedUpdate(t){this.batchLevel++,t(),this.batchLevel--,this.batchLevel===0&&this.batchDirty&&(this.markDirty(),this.batchDirty=!1)}setProperties(t){return this.batchLevel++,Object.assign(this,t),this.batchLevel--,this.batchLevel===0&&this.batchDirty&&(this.markDirty(),this.batchDirty=!1),this}containsPoint(t,n){return!1}pickNode(t,n){if(this.containsPoint(t,n))return this}pickNodes(t,n,s=[]){return this.containsPoint(t,n)&&s.push(this),s}getBBox(){return this.cachedBBox??(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}onChangeDetection(t){this.markDirty(t)}markDirtyChildrenOrder(){this.cachedBBox=void 0}markDirty(t){if(this.batchLevel>0){this.batchDirty=!0;return}t!=null&&this._debugDirtyProperties&&this.markDebugProperties(t),this.cachedBBox=void 0,this.parentNode?.markDirty()}markDebugProperties(t){const n=this._debugDirtyProperties?.get(t)??[],s=new Error().stack?.split(`
`).filter(i=>i!=="Error"&&!i.includes(".markDebugProperties")&&!i.includes(".markDirty")&&!i.includes("Object.assign ")&&!i.includes(`${this.constructor.name}.`))??"unknown";n.push(s[0].replace(" at ","").trim()),this._debugDirtyProperties?.set(t,n)}debugDirtyProperties(){this._debugDirtyProperties!=null&&(this._debugDirtyProperties.has("__first__")||this._debugDirtyProperties.forEach((t,n)=>{t.length>1&&(console.groupCollapsed(`Property changed multiple times before render: ${this.constructor.name}.${n} (${t.length}x)`),t.forEach(s=>console.log(s)),console.groupEnd())}),this._debugDirtyProperties.clear())}onZIndexChange(){this.parentNode?.markDirtyChildrenOrder()}toSVG(){}};ab._nextSerialNumber=0;ab._debugEnabled=!1;D([Me()],ab.prototype,"visible",2);D([Ma({changeCb:e=>e.onZIndexChange()})],ab.prototype,"zIndex",2);var Gc=ab,so=Math.PI*2,ky=Math.PI/2;function hi(e){return e%=so,e+=so,e%=so,e}function m3e(e){return e%=so,e+=so,e!==so&&(e%=so),e}function Tw(e){return e%=so,e<-Math.PI?e+=so:e>=Math.PI&&(e-=so),e}function Rh(e,t,n){const s=hi(e),i=hi(t),r=hi(n);return i<r?i<=s&&s<=r:i>r?i<=s||s<=r:t!==n}function Wi(e){return e/180*Math.PI}function y3e(e){return e/Math.PI*180}function W2(e,t){return e=hi(e),t=hi(t),t-e+(e>t?so:0)}function Gq(e){const t=hi(e);return t<=ky?t/ky:t<=Math.PI?(Math.PI-t)/ky:t<=1.5*Math.PI?(t-Math.PI)/ky:(so-t)/ky}function OD(e,t,n){const s=Gq(n);return e*s+t*Math.abs(1-s)}function Wc(e){return e?hi(Wi(e)):0}var fh=(e,t,n)=>e*(1-n)+t*n,AT=e=>{const t=e<0?-1:1,n=Math.abs(e);return n<=.04045?e/12.92:t*((n+.055)/1.055)**2.4},TT=e=>{const t=e<0?-1:1,n=Math.abs(e);return n>.0031308?t*(1.055*n**(1/2.4)-.055):12.92*e},Wq=class fn{constructor(t,n,s,i=1){this.r=wt(0,t||0,1),this.g=wt(0,n||0,1),this.b=wt(0,s||0,1),this.a=wt(0,i||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!fn.parseHex(t):t.indexOf("rgb")>=0?!!fn.stringToRgba(t):fn.nameToHex.has(t.toLowerCase())}static fromString(t){if(t.indexOf("#")>=0)return fn.fromHexString(t);const n=fn.nameToHex.get(t.toLowerCase());if(n)return fn.fromHexString(n);if(t.indexOf("rgb")>=0)return fn.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(t){t=t.replace(/ /g,"").slice(1);let n;switch(t.length){case 6:case 8:n=[];for(let s=0;s<t.length;s+=2)n.push(parseInt(`${t[s]}${t[s+1]}`,16));break;case 3:case 4:n=t.split("").map(s=>parseInt(s,16)).map(s=>s+s*16);break}if(n?.length>=3&&n.every(s=>s>=0))return n.length===3&&n.push(255),n}static fromHexString(t){const n=fn.parseHex(t);if(n){const[s,i,r,a]=n;return new fn(s/255,i/255,r/255,a/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let n=-1,s=-1;for(let o=0;o<t.length;o++){const c=t[o];if(n===-1&&c==="(")n=o;else if(c===")"){s=o;break}}if(n===-1||s===-1)return;const r=t.substring(n+1,s).split(","),a=[];for(let o=0;o<r.length;o++){const c=r[o];let u=parseFloat(c);if(!Number.isFinite(u))return;c.indexOf("%")>=0?(u=wt(0,u,100),u/=100):o===3?u=wt(0,u,1):(u=wt(0,u,255),u/=255),a.push(u)}return a}static fromRgbaString(t){const n=fn.stringToRgba(t);if(n){if(n.length===3)return new fn(n[0],n[1],n[2]);if(n.length===4)return new fn(n[0],n[1],n[2],n[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new fn(t[0],t[1],t[2],t[3]);if(t.length===3)return new fn(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,n,s,i=1){const r=fn.HSBtoRGB(t,n,s);return new fn(r[0],r[1],r[2],i)}static fromHSL(t,n,s,i=1){const r=fn.HSLtoRGB(t,n,s);return new fn(r[0],r[1],r[2],i)}static fromOKLCH(t,n,s,i=1){const r=fn.OKLCHtoRGB(t,n,s);return new fn(r[0],r[1],r[2],i)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+fn.padHex(Math.round(this.r*255).toString(16))+fn.padHex(Math.round(this.g*255).toString(16))+fn.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=fn.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){const n=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],s=Math.pow(10,t);return this.a!==1?(n.push(Math.round(this.a*s)/s),`rgba(${n.join(", ")})`):`rgb(${n.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return fn.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,n,s){const i=AT(t),r=AT(n),a=AT(s),o=Math.cbrt(.4122214708*i+.5363325363*r+.0514459929*a),c=Math.cbrt(.2119034982*i+.6806995451*r+.1073969566*a),u=Math.cbrt(.0883024619*i+.2817188376*r+.6299787005*a),h=.2104542553*o+.793617785*c-.0040720468*u,f=1.9779984951*o-2.428592205*c+.4505937099*u,g=.0259040371*o+.7827717662*c-.808675766*u,m=Math.atan2(g,f)*180/Math.PI,y=h,b=Math.hypot(f,g),S=m>=0?m:m+360;return[y,b,S]}static OKLCHtoRGB(t,n,s){const i=t,r=n*Math.cos(s*Math.PI/180),a=n*Math.sin(s*Math.PI/180),o=(i+.3963377774*r+.2158037573*a)**3,c=(i-.1055613458*r-.0638541728*a)**3,u=(i-.0894841775*r-1.291485548*a)**3,h=4.0767416621*o-3.3077115913*c+.2309699292*u,f=-1.2684380046*o+2.6097574011*c-.3413193965*u,g=-.0041960863*o-.7034186147*c+1.707614701*u,m=TT(h),y=TT(f),b=TT(g);return[m,y,b]}static RGBtoHSL(t,n,s){const i=Math.min(t,n,s),r=Math.max(t,n,s),a=(r+i)/2;let o,c;if(r===i)o=0,c=0;else{const u=r-i;c=a>.5?u/(2-r-i):u/(r+i),r===t?o=(n-s)/u+(n<s?6:0):r===n?o=(s-t)/u+2:o=(t-n)/u+4,o*=360/6}return[o,c,a]}static HSLtoRGB(t,n,s){if(t=(t%360+360)%360,n===0)return[s,s,s];const i=s<.5?s*(1+n):s+n-s*n,r=2*s-i;function a(h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?r+(i-r)*6*h:h<1/2?i:h<2/3?r+(i-r)*(2/3-h)*6:r}const o=a(t/360+1/3),c=a(t/360),u=a(t/360-1/3);return[o,c,u]}static RGBtoHSB(t,n,s){const i=Math.min(t,n,s),r=Math.max(t,n,s),a=r===0?0:(r-i)/r;let o=0;if(i!==r){const c=r-i,u=(r-t)/c,h=(r-n)/c,f=(r-s)/c;t===r?o=f-h:n===r?o=2+u-f:o=4+h-u,o/=6,o<0&&(o=o+1)}return[o*360,a,r]}static HSBtoRGB(t,n,s){t=(t%360+360)%360/360;let i=0,r=0,a=0;if(n===0)i=r=a=s;else{const o=(t-Math.floor(t))*6,c=o-Math.floor(o),u=s*(1-n),h=s*(1-n*c),f=s*(1-n*(1-c));switch(o>>0){case 0:i=s,r=f,a=u;break;case 1:i=h,r=s,a=u;break;case 2:i=u,r=s,a=f;break;case 3:i=u,r=h,a=s;break;case 4:i=f,r=u,a=s;break;case 5:i=s,r=u,a=h;break}}return[i,r,a]}static mix(t,n,s){return new fn(fh(t.r,n.r,s),fh(t.g,n.g,s),fh(t.b,n.b,s),fh(t.a,n.a,s))}static lighten(t,n){const s=fn.RGBtoOKLCH(t.r,t.g,t.b);return fn.fromOKLCH(wt(0,s[0]+n,1),s[1],s[2])}static darken(t,n){const s=fn.RGBtoOKLCH(t.r,t.g,t.b);return fn.fromOKLCH(wt(0,s[0]-n,1),s[1],s[2])}static interpolate(t,n){const s=1/(t.length-1),i=t.map(r=>fn.RGBtoOKLCH(r.r,r.g,r.b));return Array.from({length:n},(r,a)=>{const o=a/(n-1),c=t.length<=2?0:Math.min(Math.floor(o*(t.length-1)),t.length-2),u=(o-c*s)/s,h=i[c],f=i[c+1];return fn.fromOKLCH(fh(h[0],f[0],u),fh(h[1],f[1],u),fh(h[2],f[2],u))})}};Wq.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]);var Pn=Wq,Yq=(e=>(e[e.Leading=0]="Leading",e[e.Trailing=1]="Trailing",e[e.Interpolate=2]="Interpolate",e))(Yq||{}),Y2=class{ticks(e,t,n){}niceDomain(e,t=this.domain){return t}get bandwidth(){}get step(){}get inset(){}},ob=(e,t)=>{const n=Symbol(String(t));e[n]=void 0,Object.defineProperty(e,t,{get(){return this[n]},set(s){this[n]!==s&&(this[n]=s,this.invalid=!0)},enumerable:!0,configurable:!1})},y9=e=>{const t=Pn.fromString(e),[n,s,i]=Pn.RGBtoOKLCH(t.r,t.g,t.b);return{l:n,c:s,h:i,a:t.a}},ET=1e-6,x9=e=>e.c<ET||e.l<ET||e.l>1-ET,x3e=(e,t,n)=>{n=wt(0,n,1);let s;if(x9(e))s=t.h;else if(x9(t))s=e.h;else{const o=e.h;let c=t.h;const u=t.h-e.h;u>180?c-=360:u<-180&&(c+=360),s=o*(1-n)+c*n}const i=e.c*(1-n)+t.c*n,r=e.l*(1-n)+t.l*n,a=e.a*(1-n)+t.a*n;return Pn.fromOKLCH(r,i,s,a)},nm=class extends Y2{constructor(){super(...arguments),this.type="color",this.defaultTickCount=0,this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(y9)}update(){const{domain:e,range:t}=this;e.length<2&&(Ne.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let n=1;n<e.length;n++){const s=e[n-1],i=e[n];if(s>i){Ne.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((r,a)=>r-a);break}}if(t.length<e.length)for(let n=t.length;n<e.length;n++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(y9)}normalizeDomains(...e){return{domain:e.flat(),animatable:!0}}toDomain(){}convert(e){this.refresh();const{domain:t,range:n,parsedRange:s}=this,i=t[0],r=t.at(-1),a=n[0],o=n[n.length-1];if(e<=i)return a;if(e>=r)return o;let c,u;if(t.length===2){const g=(e-i)/(r-i),m=1/(n.length-1);c=n.length<=2?0:Math.min(Math.floor(g*(n.length-1)),n.length-2),u=(g-c*m)/m}else{for(c=0;c<t.length-2&&!(e<t[c+1]);c++);const g=t[c],m=t[c+1];u=(e-g)/(m-g)}const h=s[c],f=s[c+1];return x3e(h,f,u).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ne.warnOnce("Expected update to not invalidate scale"))}};D([ob],nm.prototype,"domain",2);D([ob],nm.prototype,"range",2);var K2=class{constructor(e,t=[],n){this.colorSpace=e,this.stops=t,this.bbox=n,this._cache=void 0}createGradient(e,t,n){const s=this.bbox??t;if(!s.isFinite())return;if(this._cache!=null&&this._cache.ctx===e&&this._cache.bbox.equals(s))return this._cache.gradient;const{stops:i,colorSpace:r}=this;if(i.length===0)return;if(i.length===1)return i[0].color;let a=this.createCanvasGradient(e,s,n);if(a==null)return;const o=r==="oklch",c=.05;let u=i[0];a.addColorStop(u.stop,u.color);for(let h=1;h<i.length;h+=1){const f=i[h];if(o){const g=new nm;g.domain=[u.stop,f.stop],g.range=[u.color,f.color];for(let m=u.stop+c;m<f.stop;m+=c)a.addColorStop(m,g.convert(m))}a.addColorStop(f.stop,f.color),u=f}return"createPattern"in a&&(a=a.createPattern()),this._cache={ctx:e,bbox:s,gradient:a},a}toSvg(e){const t=this.bbox??e,n=this.createSvgGradient(t);return this.stops.forEach(({stop:s,color:i})=>{const r=Ds("stop");r.setAttribute("offset",`${s}`),r.setAttribute("stop-color",`${i}`),n.appendChild(r)}),n}},Kq=class extends K2{constructor(e,t,n=0,s){super(e,t,s),this.angle=n}createCanvasGradient(e,t,n){const{angle:i}=this,r=Wc(i+-90),a=n?.centerX??t.x+t.width*.5,o=n?.centerY??t.y+t.height*.5;return e.createConicGradient(r,a,o)}createSvgGradient(e){return Ds("linearGradient")}},qq=class extends K2{constructor(e,t,n=0,s){super(e,t,s),this.angle=n}getGradientPoints(e){const{angle:n}=this,s=Wc(n+90),i=Math.cos(s),r=Math.sin(s),a=e.width,o=e.height,c=e.x+a*.5,u=e.y+o*.5,h=Math.sqrt(o*o+a*a)/2,f=Math.atan2(o,a);let g;s<Math.PI/2?g=s:s<Math.PI?g=Math.PI-s:s<1.5*Math.PI?g=s-Math.PI:g=2*Math.PI-s;const m=h*Math.abs(Math.cos(g-f));return{x0:c+i*m,y0:u+r*m,x1:c-i*m,y1:u-r*m}}createCanvasGradient(e,t){const{x0:n,y0:s,x1:i,y1:r}=this.getGradientPoints(t);if(!(isNaN(n)||isNaN(s)||isNaN(i)||isNaN(r)))return e.createLinearGradient(n,s,i,r)}createSvgGradient(e){const{x0:t,y0:n,x1:s,y1:i}=this.getGradientPoints(e),r=Ds("linearGradient");return r.setAttribute("x1",String(t)),r.setAttribute("y1",String(n)),r.setAttribute("x2",String(s)),r.setAttribute("y2",String(i)),r.setAttribute("gradientUnits","userSpaceOnUse"),r}},b3e=class extends K2{constructor(e,t,n){super(e,t,n)}createCanvasGradient(e,t,n){const s=n?.centerX??t.x+t.width*.5,i=n?.centerY??t.y+t.height*.5,r=n?.innerRadius??0,a=n?.outerRadius??Math.hypot(t.width*.5,t.height*.5)/Math.SQRT2;return e.createRadialGradient(s,i,r,s,i,a)}createSvgGradient(e){const t=e.x+e.width*.5,n=e.y+e.height*.5,s=Ds("radialGradient");return s.setAttribute("cx",String(t)),s.setAttribute("cy",String(n)),s.setAttribute("r",String(Math.hypot(e.width*.5,e.height*.5)/Math.SQRT2)),s.setAttribute("gradientUnits","userSpaceOnUse"),s}},O=l3e,mt=class{handleUnknownProperties(e,t){}set(e){const{className:t=this.constructor.name}=this.constructor;if(e==null)return this.clear(),this;if(typeof e!="object")return Ne.warn(`unable to set ${t} - expecting a properties object`),this;const n=new Set(Object.keys(e));for(const s of cd(this))if(n.has(s)){const i=e[s],r=this;if(Vh(r[s]))if(r[s]instanceof sm){const a=r[s].reset(i);a==null?Ne.warn(`unable to set [${String(s)}] - expecting a properties array`):r[s]=a}else r[s].set(i);else In(i)?r[s]=Xx(i,r[s]??{}):r[s]=i;n.delete(s)}this.handleUnknownProperties(n,e);for(const s of n)Ne.warn(`unable to set [${String(s)}] in ${t} - property is unknown`);return this}clear(){for(const e of cd(this)){const t=this[e];Vh(t)?t.clear():this[e]=void 0}return this}toJson(){return cd(this).reduce((e,t)=>{const n=this[t];return e[String(t)]=Vh(n)?n.toJson():n,e},{})}},sm=class Zq extends Array{constructor(t,...n){super(n.length);const i=(r=>!!r?.prototype?.constructor?.name)(t)?r=>new t().set(r):t;Object.defineProperty(this,"itemFactory",{value:i,enumerable:!1,configurable:!1}),this.set(n)}set(t){if(Pt(t)){this.length=t.length;for(let n=0;n<t.length;n++)this[n]=this.itemFactory(t[n])}return this}reset(t){if(Array.isArray(t))return new Zq(this.itemFactory,...t)}toJson(){return this.map(t=>t?.toJson?.()??t)}};function Vh(e){return e instanceof mt||e instanceof sm}var SO=class extends mt{constructor(){super(...arguments),this.color="black"}};D([O],SO.prototype,"stop",2);D([O],SO.prototype,"color",2);function v3e(e){let t;for(const n of e)if(n?.stop!=null){if(t!=null&&n.stop<t)return!1;t=n.stop}return!0}function Qq(e){return e.flatMap((t,n)=>{const{stop:s}=t,i=e.at(n+1)?.color;return i!=null?[t,{stop:s,color:i}]:[t]})}function S3e(e,t){const n=t==="discrete"?1:0,s=e.map((i,r,{length:a})=>({stop:(r+n)/(a-1+n),color:i}));return t==="discrete"?Qq(s):s}function Xq(e,t,n,s="continuous"){const i=e.map(y=>typeof y=="string"?{color:y}:y);if(i.length===0)return S3e(t,s);if(!v3e(i))return Ne.warnOnce("[fills] must have the stops defined in ascending order"),[];const r=Math.min(...n),a=Math.max(...n),o=s==="discrete",c=new Float64Array(i.length);let u=0,h=-1;for(let y=0;y<i.length;y+=1){const b=i[y];if(y>=h){h=i.length-1;for(let C=y+1;C<i.length;C+=1)if(i[C]?.stop!=null){h=C;break}}let S=b?.stop;if(S==null){const C=i[u]?.stop,M=i[h]?.stop,N=C??r,T=M??a,E=o&&C==null?1:0;S=N+(T-N)*(y-u+E)/(h-u+E)}else u=y;c[y]=Math.max(0,Math.min(1,(S-r)/(a-r)))}let f=i.find(y=>y.color!=null)?.color,g;const m=i.map((y,b)=>{let S=y?.color;const C=c[b];return S!=null?f=S:f!=null?S=f:(g==null&&(g=new nm,g.domain=[0,1],g.range=t),S=g.convert(C)),{stop:C,color:S}});return s==="discrete"?Qq(m):m}var w3e=class{constructor(e,t){this.imageLoader=e,this._cache=void 0,this.url=t.url,this.backgroundFill=t.backgroundFill??"black",this.backgroundFillOpacity=t.backgroundFillOpacity??1,this.repeat=t.repeat??"no-repeat",this.width=t.width,this.height=t.height,this.fit=t.fit??"stretch",this.rotation=t.rotation??0}createCanvasImage(e,t,n,s){if(!t)return null;const[i,r]=this.getSize(t.width,t.height,n,s);return i<1||r<1?(Ne.warnOnce("Image fill is too small to render, ignoring."),null):e.createPattern(t,this.repeat)}getSize(e,t,n,s){const{fit:i}=this;let r=e,a=t,o=1;const c=n/s,u=e/t;return i==="stretch"||e===0||t===0?(r=n,a=s):i==="contain"?o=u>c?n/e:s/t:i==="cover"&&(o=u>c?s/t:n/e),[Math.max(1,r*o),Math.max(1,a*o)]}setImageTransform(e,t){if(typeof e=="string")return;const{url:n,rotation:s,width:i,height:r}=this,a=this.imageLoader?.loadImage(n);if(!a)return;const o=Wc(s),c=Math.cos(o),u=Math.sin(o),[h,f]=this.getSize(a.width,a.height,i??t.width,r??t.height),g=h/a.width,m=f/a.height,y=t.x+t.width/2,b=t.y+t.height/2,S=c*h-u*f,C=u*h+c*f,M=S/2,N=C/2;e?.setTransform(new DOMMatrix([c*g,u*m,-u*g,c*m,y-M,b-N]))}createPattern(e,t,n,s){const i=this.width??t,r=this.height??n,a=this._cache;if(a!=null&&a.ctx===e&&a.width===i&&a.height===r)return a.pattern;const o=this.imageLoader?.loadImage(this.url,s),c=this.createCanvasImage(e,o,i,r);if(c!=null)return this._cache={ctx:e,pattern:c,width:i,height:r},c}toSvg(e,t){const{url:n,rotation:s,backgroundFill:i,backgroundFillOpacity:r}=this,{x:a,y:o,width:c,height:u}=e,h=Ds("pattern");h.setAttribute("viewBox",`0 0 ${c} ${u}`),h.setAttribute("x",String(a)),h.setAttribute("y",String(o)),h.setAttribute("width",String(c)),h.setAttribute("height",String(u)),h.setAttribute("patternUnits","userSpaceOnUse");const f=Ds("rect");f.setAttribute("x","0"),f.setAttribute("y","0"),f.setAttribute("width",String(c)),f.setAttribute("height",String(u)),f.setAttribute("fill",i),f.setAttribute("fill-opacity",String(r)),h.appendChild(f);const g=Ds("image");return g.setAttribute("href",n),g.setAttribute("x","0"),g.setAttribute("y","0"),g.setAttribute("width",String(c)),g.setAttribute("height",String(u)),g.setAttribute("preserveAspectRatio","none"),g.setAttribute("transform",`scale(${1/t}) rotate(${s}, ${c/2}, ${u/2})`),h.appendChild(g),h}};function b9(e,t,n,s){const i=e-n,r=t-s;return i*i+r*r}function Ew(e,t,n,s,i,r,a){if(n===i&&s===r)return Math.min(a,b9(e,t,n,s));const o=i-n,c=r-s,u=Math.max(0,Math.min(1,((e-n)*o+(t-s)*c)/(o*o+c*c))),h=n+u*o,f=s+u*c;return Math.min(a,b9(e,t,h,f))}var C3e=/^[\t\n\f\r ]*([achlmqstvz])[\t\n\f\r ]*/i,Kn=/^[+-]?((\d*\.\d+)|(\d+\.)|(\d+))(e[+-]?\d+)?/i,M3e=/[\t\n\f\r ]*,?[\t\n\f\r ]*/,v9=/^[01]/,j3e={z:[],h:[Kn],v:[Kn],m:[Kn,Kn],l:[Kn,Kn],t:[Kn,Kn],s:[Kn,Kn,Kn,Kn],q:[Kn,Kn,Kn,Kn],c:[Kn,Kn,Kn,Kn,Kn,Kn],a:[Kn,Kn,Kn,v9,v9,Kn,Kn]};function N3e(e){if(!e)return;const t=[];let n=0,s;for(;n<e.length;){const i=C3e.exec(e.slice(n));let r;if(i==null){if(!s){Ne.warnOnce(`Invalid SVG path, error at index ${n}: Missing command.`);return}r=s}else r=i[1],n+=i[0].length;const a=A3e(r,e,n);if(!a)return;n=a[0],s=r,t.push(a[1])}return t}function A3e(e,t,n){const s=j3e[e.toLocaleLowerCase()],i={command:e,params:[]};for(const r of s){const a=t.slice(n),o=r.exec(a);if(o!=null){i.params.push(parseFloat(o[0])),n+=o[0].length;const c=M3e.exec(a.slice(o[0].length));c!=null&&(n+=c[0].length)}else{if(i.params.length===1)return[n,i];Ne.warnOnce(`Invalid SVG path, error at index ${n}: No path segment parameters for command [${e}]`);return}}return[n,i]}function T3e(e,t){const n=-t/e;return e!==0&&n>=0&&n<=1?[n]:[]}function E3e(e,t,n,s=1e-6){if(Math.abs(e)<s)return T3e(t,n);const i=t*t-4*e*n,r=[];if(Math.abs(i)<s){const a=-t/(2*e);a>=0&&a<=1&&r.push(a)}else if(i>0){const a=Math.sqrt(i),o=(-t-a)/(2*e),c=(-t+a)/(2*e);o>=0&&o<=1&&r.push(o),c>=0&&c<=1&&r.push(c)}return r}function D3e(e,t,n,s,i=1e-6){if(Math.abs(e)<i)return E3e(t,n,s,i);const r=t/e,a=n/e,o=s/e,c=(3*a-r*r)/9,u=(9*r*a-27*o-2*r*r*r)/54,h=c*c*c+u*u,f=1/3,g=[];if(h>=0){const m=Math.sqrt(h),y=Math.sign(u+m)*Math.pow(Math.abs(u+m),f),b=Math.sign(u-m)*Math.pow(Math.abs(u-m),f),S=Math.abs(Math.sqrt(3)*(y-b)/2),C=-f*r+(y+b);if(C>=0&&C<=1&&g.push(C),Math.abs(S)<i){const M=-f*r-(y+b)/2;M>=0&&M<=1&&g.push(M)}}else{const m=Math.acos(u/Math.sqrt(-c*c*c)),y=f*r,b=2*Math.sqrt(-c),S=b*Math.cos(f*m)-y,C=b*Math.cos(f*(m+2*Math.PI))-y,M=b*Math.cos(f*(m+4*Math.PI))-y;S>=0&&S<=1&&g.push(S),C>=0&&C<=1&&g.push(C),M>=0&&M<=1&&g.push(M)}return g}function lx(e,t,n,s,i,r,a,o){const c=(n-e)*(o-r)-(s-t)*(a-i);if(c===0)return 0;const u=((a-i)*(t-r)-(e-i)*(o-r))/c,h=((n-e)*(t-r)-(s-t)*(e-i))/c;return u>=0&&u<=1&&h>=0&&h<=1?1:0}function k3e(e,t,n,s,i,r,a,o,c,u,h,f){let g=0;const m=u-f,y=h-c,b=c*(f-u)-u*(h-c),S=S9(e,n,i,a),C=S9(t,s,r,o),M=m*S[0]+y*C[0],N=m*S[1]+y*C[1],T=m*S[2]+y*C[2],E=m*S[3]+y*C[3]+b,k=D3e(M,N,T,E);for(const L of k){const I=L*L,_=L*I,F=S[0]*_+S[1]*I+S[2]*L+S[3],G=C[0]*_+C[1]*I+C[2]*L+C[3];let U;c===h?U=(G-u)/(f-u):U=(F-c)/(h-c),U>=0&&U<=1&&g++}return g}function S9(e,t,n,s){return[-e+3*t-3*n+s,3*e-6*t+3*n,-3*e+3*t,e]}function Mg(e,t,n,s,i){return(1-i)**3*e+3*(1-i)**2*i*t+3*(1-i)*i**2*n+i**3*s}function Dw(e,t,n,s,i){if(i<=Math.min(e,s))return e<s?0:1;if(i>=Math.max(e,s))return e<s?1:0;let r=0,a=1,o=NaN;for(let c=0;c<12;c+=1)o=(r+a)/2,Mg(e,t,n,s,o)<i?r=o:a=o;return o}function Jx(e,t,n,s,i,r,a,o,c){const u=(1-c)*e+c*n,h=(1-c)*t+c*s,f=(1-c)*n+c*i,g=(1-c)*s+c*r,m=(1-c)*i+c*a,y=(1-c)*r+c*o,b=(1-c)*u+c*f,S=(1-c)*h+c*g,C=(1-c)*f+c*m,M=(1-c)*g+c*y,N=(1-c)*b+c*C,T=(1-c)*S+c*M;return[[{x:e,y:t},{x:u,y:h},{x:b,y:S},{x:N,y:T}],[{x:N,y:T},{x:C,y:M},{x:m,y},{x:a,y:o}]]}function w9(e,t,n,s){const i=-e+3*t-3*n+s,r=2*(e-2*t+n),a=-e+t;if(i===0){if(r!==0){const c=-a/r;if(c>0&&c<1)return[c]}return[]}const o=r*r-4*i*a;if(o>=0){const c=Math.sqrt(o),u=(-r+c)/(2*i),h=(-r-c)/(2*i);return[u,h].filter(f=>f>0&&f<1)}return[]}function Jq(e,t,n,s,i,r,a,o){const c=w9(e,n,i,a),u=w9(t,s,r,o);return[...c,...u]}function DT(e,t,n){const s=Mg(e[0].x,e[1].x,e[2].x,e[3].x,.5),i=Mg(e[0].y,e[1].y,e[2].y,e[3].y,.5),r=Math.hypot(s-t,i-n),a=Math.min(Math.hypot(e[0].x-t,e[0].y-n),Math.hypot(e[1].x-t,e[1].y-n),Math.hypot(e[2].x-t,e[2].y-n),Math.hypot(e[3].x-t,e[3].y-n));return{points:e,distance:r,minDistance:a}}function eZ(e,t,n,s,i,r,a,o,c,u,h=1){let g={value:DT([{x:e,y:t},{x:n,y:s},{x:i,y:r},{x:a,y:o}],c,u),next:null},m;for(;g!=null;){const{points:y,distance:b,minDistance:S}=g.value;if(g=g.next,(m==null||b<m.distance)&&(m={distance:b,minDistance:S}),m!=null&&m.distance-S<=h)continue;const[C,M]=Jx(y[0].x,y[0].y,y[1].x,y[1].y,y[2].x,y[2].y,y[3].x,y[3].y,.5),N=[DT(C,c,u),DT(M,c,u)].sort(C9);g=q4e(g,N,C9)}return m?.distance??1/0}var C9=(e,t)=>t.minDistance-e.minDistance,jg=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.cx=NaN,this.cy=NaN,this.sx=NaN,this.sy=NaN,this.openedPath=!1,this.closedPath=!1}isEmpty(){return this.commands.length===0}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.sx=e,this.sy=t,this.cx=e,this.cy=t,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.cx=e,this.cy=t,this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}cubicCurveTo(e,t,n,s,i,r){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,n,s,i,r),this.commands.push(2),this.params.push(e,t,n,s,i,r)}closePath(){this.openedPath&&(this.cx=this.sx,this.cy=this.sy,this.sx=NaN,this.sy=NaN,this.path2d.closePath(),this.commands.push(3),this.openedPath=!1,this.closedPath=!0)}rect(e,t,n,s){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+s),this.lineTo(e,t+s),this.closePath()}roundRect(e,t,n,s,i){i=Math.min(i,n/2,s/2),this.moveTo(e,t+i),this.arc(e+i,t+i,i,Math.PI,1.5*Math.PI),this.lineTo(e+i,t),this.lineTo(e+n-i,t),this.arc(e+n-i,t+i,i,1.5*Math.PI,2*Math.PI),this.lineTo(e+n,t+i),this.lineTo(e+n,t+s-i),this.arc(e+n-i,t+s-i,i,0,Math.PI/2),this.lineTo(e+n-i,t+s),this.lineTo(e+i,t+s),this.arc(e+ +i,t+s-i,i,Math.PI/2,Math.PI),this.lineTo(e,t+s-i),this.closePath()}ellipse(e,t,n,s,i,r,a,o=!1){const c=n,u=s/n,h=Math.cos(i),f=Math.sin(i),g=-u*f,m=u*h,y=c*Math.cos(r),b=c*Math.sin(r),S=e+h*y+g*b,C=t+f*y+m*b,M=(S-this.cx)**2+(C-this.cy)**2;this.openedPath?M>1e-6&&this.lineTo(S,C):this.moveTo(S,C);let N=o?-hi(r-a):hi(a-r);Math.abs(Math.abs(a-r)-2*Math.PI)<1e-6&&N<2*Math.PI&&(N+=2*Math.PI*(o?-1:1));const T=Math.max(Math.ceil(Math.abs(N)/(Math.PI/2)),1),E=N/T,k=4/3*Math.tan(E/4);for(let L=0;L<T;L+=1){const I=r+E*(L+0),_=r+E*(L+1),F=c*Math.sin(I),G=c*Math.cos(I),U=c*Math.sin(_),H=c*Math.cos(_),z=G-k*F,$=F+k*G,P=H+k*U,B=U-k*H,Y=H,K=U;this.cubicCurveTo(e+h*z+g*$,t+f*z+m*$,e+h*P+g*B,t+f*P+m*B,e+h*Y+g*K,t+f*Y+m*K)}}arc(e,t,n,s,i,r){this.ellipse(e,t,n,n,0,s,i,r)}appendSvg(e){const t=N3e(e);if(t==null)return!1;let n=0,s=0,i,r,a=0,o=0;for(const{command:c,params:u}of t){i??(i=u[0]),r??(r=u[1]);const h=c===c.toLowerCase(),f=h?i:0,g=h?r:0;switch(c.toLowerCase()){case"m":this.moveTo(f+u[0],g+u[1]),i=f+u[0],r=g+u[1],n=i,s=r;break;case"c":this.cubicCurveTo(f+u[0],g+u[1],f+u[2],g+u[3],f+u[4],g+u[5]),a=f+u[2],o=g+u[3],i=f+u[4],r=g+u[5];break;case"s":this.cubicCurveTo(i+i-a,r+r-o,f+u[0],g+u[1],f+u[2],g+u[3]),a=f+u[0],o=g+u[1],i=f+u[2],r=g+u[3];break;case"q":this.cubicCurveTo((f+2*u[0])/3,(g+2*u[1])/3,(2*u[0]+u[2])/3,(2*u[1]+u[3])/3,u[2],u[3]),a=u[0],o=u[1],i=u[2],r=u[3];break;case"t":this.cubicCurveTo((i+2*(i+i-a))/3,(r+2*(r+r-o))/3,(2*(i+i-a)+u[0])/3,(2*(r+r-o)+u[1])/3,u[0],u[1]),a=i+i-a,o=r+r-o,i=u[0],r=u[1];break;case"a":this.svgEllipse(i,r,u[0],u[1],u[2]*Math.PI/180,u[3],u[4],f+u[5],g+u[6]),i=f+u[5],r=g+u[6];break;case"h":this.lineTo(f+u[0],r),i=f+u[0];break;case"l":this.lineTo(f+u[0],g+u[1]),i=f+u[0],r=g+u[1];break;case"v":this.lineTo(i,g+u[0]),r=g+u[0];break;case"z":this.closePath(),i=n,r=s;break;default:throw new Error(`Could not translate command '${c}' with '${u.join(" ")}'`)}}return!0}svgEllipse(e,t,n,s,i,r,a,o,c){n=Math.abs(n),s=Math.abs(s);const u=(e-o)/2,h=(t-c)/2,f=Math.sin(i),g=Math.cos(i),m=g*u+f*h,y=-f*u+g*h,b=m/n,S=y/s;let C=b*b+S*S,M=(e+o)/2,N=(t+c)/2,T=0,E=0;C>=1?(C=Math.sqrt(C),n*=C,s*=C):(C=Math.sqrt(1/C-1),r===a&&(C=-C),T=C*n*S,E=-C*s*b,M+=g*T-f*E,N+=f*T+g*E);const k=Math.atan2((y-E)/s,(m-T)/n),L=Math.atan2((-y-E)/s,(-m-T)/n)-k,I=k+L,_=!!(1-a);this.ellipse(M,N,n,s,i,k,I,_)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){const n=this.commands,s=this.params,i=n.length,r=-1e4,a=-1e4;let o=NaN,c=NaN,u=0,h=0,f=0;for(let g=0,m=0;g<i;g++)switch(n[g]){case 0:f+=lx(o,c,u,h,r,a,e,t),u=s[m++],o=u,h=s[m++],c=h;break;case 1:f+=lx(u,h,s[m++],s[m++],r,a,e,t),u=s[m-2],h=s[m-1];break;case 2:f+=k3e(u,h,s[m++],s[m++],s[m++],s[m++],s[m++],s[m++],r,a,e,t),u=s[m-2],h=s[m-1];break;case 3:f+=lx(o,c,u,h,r,a,e,t);break}return f%2===1}distanceSquared(e,t){let n=1/0;const s=this.commands,i=this.params,r=s.length;let a=NaN,o=NaN,c=0,u=0;for(let h=0,f=0;h<r;h++)switch(s[h]){case 0:c=a=i[f++],u=o=i[f++];break;case 1:{const g=c,m=u;c=i[f++],u=i[f++],n=Ew(e,t,g,m,c,u,n);break}case 2:{const g=c,m=u,y=i[f++],b=i[f++],S=i[f++],C=i[f++];c=i[f++],u=i[f++],n=eZ(g,m,y,b,S,C,c,u,e,t)**2;break}case 3:n=Ew(e,t,c,u,a,o,n);break}return n}toSVG(e=(t,n)=>({x:t,y:n})){const t=[],{commands:n,params:s}=this,i=(a,o)=>{t.push(a);for(let c=0;c<o;c+=2){const{x:u,y:h}=e(s[r++],s[r++]);t.push(u,h)}};let r=0;for(const a of n)switch(a){case 0:i("M",2);break;case 1:i("L",2);break;case 2:i("C",6);break;case 3:i("Z",0);break}return t.join(" ")}computeBBox(){const{commands:e,params:t}=this;let[n,s,i,r]=[1/0,1/0,-1/0,-1/0],[a,o]=[NaN,NaN],[c,u]=[NaN,NaN];const h=(g,m)=>{n=Math.min(m,n),s=Math.min(g,s),i=Math.max(g,i),r=Math.max(m,r),a=g,o=m};let f=0;for(const g of e)switch(g){case 0:h(t[f++],t[f++]),c=a,u=o;break;case 1:h(t[f++],t[f++]);break;case 2:{const m=a,y=o,b=t[f++],S=t[f++],C=t[f++],M=t[f++],N=t[f++],T=t[f++];Jq(m,y,b,S,C,M,N,T).forEach(k=>{const L=Mg(m,b,C,N,k),I=Mg(y,S,M,T,k);h(L,I)}),h(N,T);break}case 3:h(c,u),c=NaN,u=NaN;break}return new Pe(s,n,i-s,r-n)}};function ui(e,t,n){const s=Math.round(t*e)/e;return n==null?s:n===0?0:n<1?Math.ceil(n*e)/e:Math.round((n+t)*e)/e-s}function M9(e,t){return Math.floor(t*e)/e}function kT(e,t,n){const{width:s,height:i,padding:r,strokeWidth:a}=t,o=s/2,c=i/2,u=Math.max(1,s-r-a/2),h=Math.max(1,i-r-a/2);let f=!1;for(const[g,m]of n){const y=o+(g-.5)*u,b=c+(m-.5)*h;f?e.lineTo(y,b):e.moveTo(y,b),f=!0}e.closePath()}var j9={circles(e,{width:t,strokeWidth:n,padding:s}){const i=t/2,r=Math.max(1,i-s-n/2);e.arc(i,i,r,0,Math.PI*2)},squares(e,{width:t,height:n,pixelRatio:s,padding:i,strokeWidth:r}){const a=i+r/2;e.moveTo(ui(s,a),ui(s,a)),e.lineTo(ui(s,t-a),ui(s,a)),e.lineTo(ui(s,t-a),ui(s,n-a)),e.lineTo(ui(s,a),ui(s,n-a)),e.closePath()},triangles(e,t){kT(e,t,[[.5,0],[1,1],[0,1]])},diamonds(e,t){kT(e,t,[[.5,0],[1,.5],[.5,1],[0,.5]])},stars(e,{width:t,height:n,padding:s}){const r=Math.max(1,(t-s)/2),a=r/2,o=Math.PI/2;for(let c=0;c<10;c++){const u=c%2===0?r:a,h=c*Math.PI/5-o,f=t/2+Math.cos(h)*u,g=n/2+Math.sin(h)*u;e.lineTo(f,g)}e.closePath()},hearts(e,{width:t,height:n,padding:s}){const i=Math.max(1,t/4-s/2),r=t/2,a=n/2+i/2;e.arc(r-i,a-i,i,Wi(130),Wi(330)),e.arc(r+i,a-i,i,Wi(220),Wi(50)),e.lineTo(r,a+i),e.closePath()},crosses(e,t){kT(e,t,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},"vertical-lines"(e,{width:t,height:n,pixelRatio:s,strokeWidth:i}){const r=ui(s,t/2)-i%2/2;e.moveTo(r,0),e.lineTo(r,n)},"horizontal-lines"(e,{width:t,height:n,pixelRatio:s,strokeWidth:i}){const r=ui(s,n/2)-i%2/2;e.moveTo(0,r),e.lineTo(t,r)},"forward-slanted-lines"(e,{width:t,height:n,strokeWidth:s}){const i=Math.atan2(n,t),r=s*Math.cos(i),a=s*Math.sin(i);e.moveTo(-r,a),e.lineTo(r,-a),e.moveTo(-r,n+a),e.lineTo(t+r,-a),e.moveTo(t-r,n+a),e.lineTo(t+r,n-a)},"backward-slanted-lines"(e,{width:t,height:n,strokeWidth:s}){const i=Math.atan2(n,t),r=s*Math.cos(i),a=s*Math.sin(i);e.moveTo(t-r,-a),e.lineTo(t+r,a),e.moveTo(-r,-a),e.lineTo(t+r,n+a),e.moveTo(-r,n-a),e.lineTo(r,n+a)}},I3e=class{constructor(e){this._cache=void 0,this.width=Math.max(e?.width??10,1),this.height=Math.max(e?.height??10,1),this.fill=e.fill??"none",this.fillOpacity=e.fillOpacity??1,this.backgroundFill=e.backgroundFill??"none",this.backgroundFillOpacity=e.backgroundFillOpacity??1,this.stroke=e.stroke??"black",this.strokeOpacity=e.strokeOpacity??1,this.strokeWidth=e.strokeWidth??1,this.padding=e.padding??1,this.pattern=e.pattern??"forward-slanted-lines",this.rotation=e.rotation??0,this.scale=e.scale??1,this.path=e.path}getPath(e){const{pattern:t,width:n,height:s,padding:i,strokeWidth:r,path:a}=this,o=new jg;let c=j9[t]!=null;return a&&c&&(c=!o.appendSvg(a)),c&&j9[t](o,{width:n,height:s,pixelRatio:e,strokeWidth:r,padding:i}),o}renderStroke(e,t){const{stroke:n,strokeWidth:s,strokeOpacity:i}=this;s&&(t.strokeStyle=n,t.lineWidth=s,t.globalAlpha=i,t.stroke(e))}renderFill(e,t){const{fill:n,fillOpacity:s}=this;n!=="none"&&(t.fillStyle=n,t.globalAlpha=s,t.fill(e))}createCanvasPattern(e,t){const{width:n,height:s,scale:i,backgroundFill:r,backgroundFillOpacity:a}=this;if(n*i<1||s*i<1)return Ne.warnOnce("Pattern fill is too small to render, ignoring."),null;const o=new pO({width:n,height:s,pixelRatio:t*i}),c=o.context;r!=="none"&&(c.fillStyle=r,c.globalAlpha=a,c.fillRect(0,0,n,s));const u=this.getPath(t).getPath2D();this.renderFill(u,c),this.renderStroke(u,c);const h=e.createPattern(o.canvas,"repeat");return this.setPatternTransform(h,t),o.destroy(),h}setPatternTransform(e,t,n=0,s=0){if(e==null)return;const i=Wc(this.rotation),r=1/t,a=Math.cos(i)*r,o=Math.sin(i)*r;e.setTransform(new DOMMatrix([a,o,-o,a,n,s]))}createPattern(e,t){if(this._cache!=null&&this._cache.ctx===e&&this._cache.pixelRatio===t)return this._cache.pattern;const n=this.createCanvasPattern(e,t);if(n!=null)return this._cache={ctx:e,pattern:n,pixelRatio:t},n}toSvg(){const{width:e,height:t,fill:n,fillOpacity:s,backgroundFill:i,backgroundFillOpacity:r,stroke:a,strokeWidth:o,strokeOpacity:c,rotation:u,scale:h}=this,f=Ds("pattern");f.setAttribute("viewBox",`0 0 ${e} ${t}`),f.setAttribute("width",String(e)),f.setAttribute("height",String(t)),f.setAttribute("patternUnits","userSpaceOnUse");const g=Ds("rect");g.setAttribute("x","0"),g.setAttribute("y","0"),g.setAttribute("width",String(e)),g.setAttribute("height",String(t)),g.setAttribute("fill",i),g.setAttribute("fill-opacity",String(r)),f.appendChild(g);const m=Ds("path");return m.setAttribute("fill",n),m.setAttribute("fill-opacity",String(s)),m.setAttribute("stroke-opacity",String(c)),m.setAttribute("stroke",a),m.setAttribute("stroke-width",String(o)),m.setAttribute("transform",`rotate(${u}) scale(${h})`),m.setAttribute("d",this.getPath(1).toSVG()),f.appendChild(m),f}};function Ho(e){return En(e)&&e.type=="gradient"}function L3e(e){return Pt(e)&&e.every(t=>typeof t=="string")}function Cd(e){return e!==null&&En(e)&&e.type=="pattern"}function tf(e){return e!==null&&En(e)&&e.type=="image"}function O3e(e){return Ho(e)||Cd(e)}function N9(e,t){const{fontStyle:n,fontWeight:s,fontSize:i,fontFamily:r}=t;n&&e.setAttribute("font-style",n),s&&e.setAttribute("font-weight",String(s)),i!=null&&e.setAttribute("font-size",String(i)),r&&e.setAttribute("font-family",r)}function R3e(e,t){const{stroke:n,strokeWidth:s,strokeOpacity:i}=t;n&&e.setAttribute("stroke",n),s!=null&&e.setAttribute("stroke-width",String(s)),i!=null&&e.setAttribute("stroke-opacity",String(i))}function _3e(e,t){const{lineDash:n,lineDashOffset:s}=t;if(n?.some(i=>i!==0)){const i=n.length%2===1?[...n,...n]:n;e.setAttribute("stroke-dasharray",i.join(" ")),s!=null&&e.setAttribute("stroke-dashoffset",String(s))}}var $s=class extends Gc{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill="black",this.strokeWidth=0,this.lineDashOffset=0,this.opacity=1}getGradient(e){if(Ho(e))return this.createGradient(e)}createGradient(e){const{colorSpace:t="rgb",gradient:n="linear",colorStops:s,rotation:i=0,reverse:r=!1}=e;if(s==null)return;let a=Xq(s,["black"],[0,1]);switch(r&&(a=a.map(o=>({color:o.color,stop:1-o.stop})).reverse()),n){case"linear":return new qq(t,a,i);case"radial":return new b3e(t,a);case"conic":return new Kq(t,a,i)}}getPattern(e){if(Cd(e))return this.createPattern(e)}createPattern(e){return new I3e(e)}getImage(e){if(tf(e))return this.createImage(e)}createImage(e){return new w3e(this.imageLoader,e)}onFillChange(){typeof this.fill=="object"&&Cr(this._cachedFill??{},this.fill)||(this.fillGradient=this.getGradient(this.fill),this.fillPattern=this.getPattern(this.fill),this.fillImage=this.getImage(this.fill),this._cachedFill=this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(e,t){return ui(this.layerManager?.canvas?.pixelRatio??1,e,t)}markDirty(e){super.markDirty(e),this.cachedDefaultGradientFillBBox=void 0}fillStroke(e,t){this.renderFill(e,t),this.renderStroke(e,t)}renderFill(e,t){const{fill:n,fillOpacity:s,fillImage:i}=this;if(n!=null&&n!=="none"&&s>0){const{globalAlpha:r}=e;i&&(e.globalAlpha=i.backgroundFillOpacity,e.fillStyle=i.backgroundFill,this.executeFill(e,t),e.globalAlpha=r),this.applyFillAndAlpha(e),this.applyShadow(e),this.executeFill(e,t),e.globalAlpha=r,e.shadowColor="rgba(0, 0, 0, 0)"}}executeFill(e,t){t?e.fill(t):e.fill()}applyFillAndAlpha(e){const{fill:t,fillGradient:n,fillPattern:s,fillImage:i,fillOpacity:r=1,opacity:a=1}=this;if(e.globalAlpha*=a*r,n){const{fillBBox:o=this.getDefaultGradientFillBBox()??this.getBBox(),fillParams:c}=this;e.fillStyle=n.createGradient(e,o,c)??"black"}else if(s){const{x:o,y:c}=this.getBBox(),u=this.layerManager?.canvas?.pixelRatio??1,h=s.createPattern(e,u);s.setPatternTransform(h,u,o,c),h?e.fillStyle=h:(e.fillStyle=s.fill,e.globalAlpha*=s.fillOpacity)}else if(i){const o=this.getBBox(),c=i.createPattern(e,o.width,o.height,this);i.setImageTransform(c,o),e.fillStyle=c??"transparent"}else e.fillStyle=typeof t=="string"?t:"black"}applyStrokeAndAlpha(e){const{stroke:t,strokeOpacity:n=1,strokeGradient:s,opacity:i=1}=this;e.strokeStyle=s?.createGradient(e,this.getBBox())??(typeof t=="string"?t:void 0)??"black",e.globalAlpha*=i*n}applyShadow(e){const t=this.layerManager?.canvas.pixelRatio??1,n=this.fillShadow;n?.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*t,e.shadowOffsetY=n.yOffset*t,e.shadowBlur=n.blur*t)}renderStroke(e,t){const{stroke:n,strokeWidth:s,strokeOpacity:i,lineDash:r,lineDashOffset:a,lineCap:o,lineJoin:c,miterLimit:u}=this;if(n!=null&&n!=="none"&&s>0&&i>0){const{globalAlpha:h}=e;this.applyStrokeAndAlpha(e),e.lineWidth=s,r&&e.setLineDash(r),a&&(e.lineDashOffset=a),o&&(e.lineCap=o),c&&(e.lineJoin=c),u!=null&&(e.miterLimit=u),this.executeStroke(e,t),e.globalAlpha=h}}executeStroke(e,t){t?e.stroke(t):e.stroke()}getDefaultGradientFillBBox(){return this.cachedDefaultGradientFillBBox??(this.cachedDefaultGradientFillBBox=Object.freeze(this.computeDefaultGradientFillBBox())),this.cachedDefaultGradientFillBBox}computeDefaultGradientFillBBox(){}containsPoint(e,t){return this.isPointInPath(e,t)}applySvgFillAttributes(e,t){const{fill:n,fillOpacity:s}=this;if(typeof n=="string")e.setAttribute("fill",n);else if(Ho(n)&&this.fillGradient){t??(t=[]);const i=this.fillGradient.toSvg(this.fillBBox??this.getBBox()),r=jT();i.setAttribute("id",r),t.push(i),e.setAttribute("fill",`url(#${r})`)}else if(Cd(n)&&this.fillPattern){t??(t=[]);const i=this.fillPattern.toSvg(),r=jT();i.setAttribute("id",r),t.push(i),e.setAttribute("fill",`url(#${r})`)}else if(tf(n)&&this.fillImage){t??(t=[]);const i=this.layerManager?.canvas?.pixelRatio??1,r=this.fillImage.toSvg(this.getBBox(),i),a=jT();r.setAttribute("id",a),t.push(r),e.setAttribute("fill",`url(#${a})`)}else e.setAttribute("fill","none");return e.setAttribute("fill-opacity",String(s)),t}applySvgStrokeAttributes(e){const{stroke:t,strokeOpacity:n,strokeWidth:s,lineDash:i,lineDashOffset:r}=this;R3e(e,{stroke:mi(t)?t:void 0,strokeOpacity:n,strokeWidth:s}),_3e(e,{lineDash:i,lineDashOffset:r})}};D([Me()],$s.prototype,"fillOpacity",2);D([Me()],$s.prototype,"strokeOpacity",2);D([Ma({changeCb:e=>e.onFillChange()})],$s.prototype,"fill",2);D([Ma({changeCb:e=>e.onStrokeChange()})],$s.prototype,"stroke",2);D([Me()],$s.prototype,"strokeWidth",2);D([vO()],$s.prototype,"lineDash",2);D([Me()],$s.prototype,"lineDashOffset",2);D([Me()],$s.prototype,"lineCap",2);D([Me()],$s.prototype,"lineJoin",2);D([Me()],$s.prototype,"miterLimit",2);D([Me({convertor:e=>wt(0,e??1,1)})],$s.prototype,"opacity",2);D([Ma({checkDirtyOnAssignment:!0})],$s.prototype,"fillShadow",2);D([Ma({changeCb:e=>e.onFillChange()})],$s.prototype,"fillBBox",2);D([Ma({changeCb:e=>e.onFillChange()})],$s.prototype,"fillParams",2);var tZ=[1,0,0,1,0,0],nf=class NS{get e(){return[...this.elements]}constructor(t=tZ){this.elements=[...t]}setElements(t){const n=this.elements;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],this}get identity(){const t=this.elements;return Fr(t[0],1)&&Fr(t[1],0)&&Fr(t[2],0)&&Fr(t[3],1)&&Fr(t[4],0)&&Fr(t[5],0)}AxB(t,n,s){const i=t[0]*n[0]+t[2]*n[1],r=t[1]*n[0]+t[3]*n[1],a=t[0]*n[2]+t[2]*n[3],o=t[1]*n[2]+t[3]*n[3],c=t[0]*n[4]+t[2]*n[5]+t[4],u=t[1]*n[4]+t[3]*n[5]+t[5];s=s??t,s[0]=i,s[1]=r,s[2]=a,s[3]=o,s[4]=c,s[5]=u}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){const n=new Array(6);return t instanceof NS?this.AxB(this.elements,t.elements,n):this.AxB(this.elements,[t.a,t.b,t.c,t.d,t.e,t.f],n),new NS(n)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let n=t[0],s=t[1],i=t[2],r=t[3];const a=t[4],o=t[5],c=1/(n*r-s*i);return n*=c,s*=c,i*=c,r*=c,new NS([r,-s,-i,n,i*o-r*a,s*a-n*o])}invertSelf(){const t=this.elements;let n=t[0],s=t[1],i=t[2],r=t[3];const a=t[4],o=t[5],c=1/(n*r-s*i);return n*=c,s*=c,i*=c,r*=c,t[0]=r,t[1]=-s,t[2]=-i,t[3]=n,t[4]=i*o-r*a,t[5]=s*a-n*o,this}transformPoint(t,n){const s=this.elements;return{x:t*s[0]+n*s[2]+s[4],y:t*s[1]+n*s[3]+s[5]}}transformBBox(t,n){const s=this.elements,i=s[0],r=s[1],a=s[2],o=s[3],c=t.width*.5,u=t.height*.5,h=t.x+c,f=t.y+u,g=Math.abs(c*i)+Math.abs(u*a),m=Math.abs(c*r)+Math.abs(u*o);return n??(n=new Pe(0,0,0,0)),n.x=h*i+f*a+s[4]-g,n.y=h*r+f*o+s[5]-m,n.width=g+g,n.height=m+m,n}toContext(t){if(this.identity)return;const n=this.elements;t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}static updateTransformMatrix(t,n,s,i,r,a,o){const c=n,u=s;let h,f;c===1&&u===1?(h=0,f=0):(h=o?.scalingCenterX??0,f=o?.scalingCenterY??0);const g=i,m=Math.cos(g),y=Math.sin(g);let b,S;g===0?(b=0,S=0):(b=o?.rotationCenterX??0,S=o?.rotationCenterY??0);const C=r,M=a,N=h*(1-c)-b,T=f*(1-u)-S;return t.setElements([m*c,y*c,-y*u,m*u,m*N-y*T+b+C,y*N+m*T+S+M]),t}};function $u(e){return sZ(e.constructor)}var nZ=Symbol("isMatrixTransform");function sZ(e){return e[nZ]===!0}function wO(e){var t,n;const s=e;if(sZ(e))return e;const i=Symbol("matrix_combined_transform");class r extends s{constructor(){super(...arguments),this[n]=new nf,this._dirtyTransform=!0}onChangeDetection(o){super.onChangeDetection(o),this._dirtyTransform=!0,!(this.batchLevel>0)&&this.markDirty("transform")}updateMatrix(o){}computeTransformMatrix(){this._dirtyTransform&&(this[i].setElements(tZ),this.updateMatrix(this[i]),this._dirtyTransform=!1)}toParent(o){return this.computeTransformMatrix(),this[i].identity?o.clone():this[i].transformBBox(o)}toParentPoint(o,c){return this.computeTransformMatrix(),this[i].identity?{x:o,y:c}:this[i].transformPoint(o,c)}fromParent(o){return this.computeTransformMatrix(),this[i].identity?o.clone():this[i].inverse().transformBBox(o)}fromParentPoint(o,c){return this.computeTransformMatrix(),this[i].identity?{x:o,y:c}:this[i].inverse().transformPoint(o,c)}computeBBox(){const o=super.computeBBox();return o&&this.toParent(o)}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(o,c){return{x:o,y:c}=this.fromParentPoint(o,c),super.pickNode(o,c)}pickNodes(o,c,u){return{x:o,y:c}=this.fromParentPoint(o,c),super.pickNodes(o,c,u)}render(o){this.computeTransformMatrix();const{ctx:c}=o,u=this[i];let h=!1;try{u.identity||(c.save(),h=!0,u.toContext(c)),super.render(o)}finally{h&&c.restore()}}toSVG(){this.computeTransformMatrix();const o=super.toSVG(),c=this[i];if(c.identity||o==null)return o;const u=Ds("g");u.append(...o.elements);const[h,f,g,m,y,b]=c.e;return u.setAttribute("transform",`matrix(${h} ${f} ${g} ${m} ${y} ${b})`),{elements:[u],defs:o.defs}}}return t=nZ,n=i,r[t]=!0,r}function im(e){var t;const n=e,s=Symbol("matrix_rotation");class i extends wO(n){constructor(){super(...arguments),this[t]=new nf,this.rotationCenterX=0,this.rotationCenterY=0,this.rotation=0}updateMatrix(a){super.updateMatrix(a);const{rotation:o,rotationCenterX:c,rotationCenterY:u}=this;o!==0&&(nf.updateTransformMatrix(this[s],1,1,o,0,0,{rotationCenterX:c,rotationCenterY:u}),a.multiplySelf(this[s]))}}return t=s,D([Me()],i.prototype,"rotationCenterX",2),D([Me()],i.prototype,"rotationCenterY",2),D([Me()],i.prototype,"rotation",2),i}function P3e(e){return"scalingX"in e&&"scalingY"in e&&"scalingCenterX"in e&&"scalingCenterY"in e}function q2(e){var t;const n=e,s=Symbol("matrix_scale");class i extends wO(n){constructor(){super(...arguments),this[t]=new nf,this.scalingX=1,this.scalingY=1,this.scalingCenterX=0,this.scalingCenterY=0}updateMatrix(a){super.updateMatrix(a);const{scalingX:o,scalingY:c,scalingCenterX:u,scalingCenterY:h}=this;o===1&&c===1||(nf.updateTransformMatrix(this[s],o,c,0,0,0,{scalingCenterX:u,scalingCenterY:h}),a.multiplySelf(this[s]))}}return t=s,D([Me()],i.prototype,"scalingX",2),D([Me()],i.prototype,"scalingY",2),D([Me()],i.prototype,"scalingCenterX",2),D([Me()],i.prototype,"scalingCenterY",2),i}function rm(e){var t;const n=e,s=Symbol("matrix_translation");class i extends wO(n){constructor(){super(...arguments),this[t]=new nf,this.translationX=0,this.translationY=0}updateMatrix(a){super.updateMatrix(a);const{translationX:o,translationY:c}=this;o===0&&c===0||(nf.updateTransformMatrix(this[s],1,1,0,o,c),a.multiplySelf(this[s]))}}return t=s,D([Me()],i.prototype,"translationX",2),D([Me()],i.prototype,"translationY",2),i}var vs=class{static fromCanvas(e,t){const n=[];for(const s of e.traverseUp())$u(s)&&n.unshift(s);for(const s of n)t=s.fromParent(t);return $u(e)&&(t=e.fromParent(t)),t}static toCanvas(e,t){t==null?t=e.getBBox():$u(e)&&(t=e.toParent(t));for(const n of e.traverseUp())$u(n)&&(t=n.toParent(t));return t}static fromCanvasPoint(e,t,n){const s=[];for(const i of e.traverseUp())$u(i)&&s.unshift(i);for(const i of s)({x:t,y:n}=i.fromParentPoint(t,n));return $u(e)&&({x:t,y:n}=e.fromParentPoint(t,n)),{x:t,y:n}}static toCanvasPoint(e,t,n){$u(e)&&({x:t,y:n}=e.toParentPoint(t,n));for(const s of e.traverseUp())$u(s)&&({x:t,y:n}=s.toParentPoint(t,n));return{x:t,y:n}}},Iy,CO=class $y extends Gc{constructor(t){super(t),this.childNodes=new Set,this.dirty=!1,this.dirtyZIndex=!1,this.clipRect=void 0,this.opacity=1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=t?.renderToOffscreenCanvas===!0,this.optimizeForInfrequentRedraws=t?.optimizeForInfrequentRedraws===!0}static is(t){return t instanceof $y}static computeChildrenBBox(t,n=!0){return Pe.merge(Gc.extractBBoxes(t,n))}static compareChildren(t,n){return Uq(t.zIndex,n.zIndex)||t.serialNumber-n.serialNumber}containsPoint(t,n){return!0}computeBBox(){return $y.computeChildrenBBox(this.children())}computeSafeClippingBBox(t){const n=this.computeBBox();if(n?.isFinite()!==!0)return;let s=0;const i=4;for(const g of this.descendants())g instanceof $s&&(s=Math.max(s,g.strokeWidth));const r=Math.max(1,s/2*i),{x:a,y:o}=vs.toCanvasPoint(this,0,0),c=M9(t,a+n.x-r)-a,u=M9(t,o+n.y-r)-o,h=Math.ceil(n.x+n.width-c+r),f=Math.ceil(n.y+n.height-u+r);return new Pe(c,u,h,f)}prepareSharedCanvas(t,n,s){return Iy==null||Iy.pixelRatio!==s?Iy=new pO({width:t,height:n,pixelRatio:s}):Iy.resize(t,n,s),Iy}setScene(t){super.setScene(t),this.layer&&(this.scene?.layersManager.removeLayer(this.layer),this.layer=void 0);for(const n of this.children())n.setScene(t)}markDirty(t){this.dirty=!0,super.markDirty(t)}markDirtyChildrenOrder(){super.markDirtyChildrenOrder(),this.dirtyZIndex=!0,this.markDirty()}append(t){for(const n of L4e(t))n.parentNode?.removeChild(n),this.childNodes.add(n),n.parentNode=this,n.setScene(this.scene);this.markDirtyChildrenOrder(),this.markDirty()}appendChild(t){return this.append(t),t}removeChild(t){if(!this.childNodes?.delete(t))throw new Error(`AG Charts - internal error, unknown child node ${t.name??t.id} in $${this.name??this.id}`);t.parentNode=void 0,t.setScene(),this.markDirtyChildrenOrder(),this.markDirty()}clear(){for(const t of this.children())delete t.parentNode,t.setScene();this.childNodes?.clear(),this.markDirty()}pickNode(t,n){if(!(!this.visible||this.pointerEvents===1||!this.containsPoint(t,n))){if(this.childNodes!=null&&this.childNodes.size!==0){const s=[...this.children()];for(let i=s.length-1;i>=0;i--){const a=s[i].pickNode(t,n);if(a!=null)return a}}else if(!this.isContainerNode)return this}}pickNodes(t,n,s=[]){if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,n))return s;this.isContainerNode||s.push(this);for(const i of this.children())i.pickNodes(t,n,s);return s}isDirty(t){const{width:n,height:s,devicePixelRatio:i}=t,{dirty:r,layer:a}=this,o=a!=null&&(this._lastWidth!==n||this._lastHeight!==s),c=this._lastDevicePixelRatio!==i;return this._lastWidth=n,this._lastHeight=s,this._lastDevicePixelRatio=i,r||o||c}preRender(t){let n;if(this.dirty){n=super.preRender(t,0);for(const s of this.children()){const i=s.preRender(t);n.groups+=i.groups,n.nonGroups+=i.nonGroups,n.complexity+=i.complexity}n.groups+=1,n.nonGroups-=1}else n=this.childNodeCounts;return this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&n.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=this.layerManager?.addLayer({name:this.name})):this.layer!=null&&(this.layerManager?.removeLayer(this.layer),this.layer=void 0),n}render(t){const{layer:n,renderToOffscreenCanvas:s}=this,i={...t},r=this.isDirty(t);if(this.dirty=!1,!s){this.renderInContext(i),super.render(i);return}const{ctx:a,stats:o,devicePixelRatio:c}=t;let{image:u}=this;if(r){u?.bitmap.close(),u=void 0;const f=n?void 0:this.computeSafeClippingBBox(c),g=(m,...y)=>{const b=m.context;i.ctx=b,m.clear(),b.save();try{b.setTransform(...y),b.globalAlpha=1,this.renderInContext(i)}finally{b.restore(),b.verifyDepthZero?.()}};if(n)g(n,a.getTransform());else if(f){const{x:m,y,width:b,height:S}=f,C=this.prepareSharedCanvas(b,S,c);g(C,c,0,0,c,-m*c,-y*c),u={bitmap:C.transferToImageBitmap(),x:m,y,width:b,height:S}}this.image=u,o&&o.layersRendered++}else o&&o.layersSkipped++;const{globalAlpha:h}=a;if(a.globalAlpha=h*this.opacity,n){a.save();try{a.resetTransform(),n.drawImage(a)}finally{a.restore()}}else if(u){const{bitmap:f,x:g,y:m,width:y,height:b}=u;a.drawImage(f,0,0,y*c,b*c,g,m,y,b)}a.globalAlpha=h,super.render(i)}applyClip(t,n){const{x:s,y:i,width:r,height:a}=n;t.beginPath(),t.rect(s,i,r,a),t.clip()}renderInContext(t){const{ctx:n,stats:s}=t;this.dirtyZIndex&&(this.sortChildren($y.compareChildren),this.dirtyZIndex=!1),n.save();try{n.globalAlpha*=this.opacity,this.clipRect!=null&&(this.applyClip(n,this.clipRect),t.clipBBox=vs.toCanvas(this,this.clipRect));for(const i of this.children()){if(!i.visible){s&&(s.nodesSkipped+=i.childNodeCounts.nonGroups+i.childNodeCounts.groups,s.opsSkipped+=i.childNodeCounts.complexity);continue}i.isolatedRender(t)}}finally{n.restore()}}sortChildren(t){if(!this.childNodes)return;const n=[...this.childNodes].sort(t);this.childNodes.clear();for(const s of n)this.childNodes.add(s)}*children(){yield*this.childNodes}*excludeChildren(t){for(const n of this.children())(t.instance&&!(n instanceof t.instance)||t.name&&n.name!==t.name)&&(yield n)}*descendants(){for(const t of this.children())yield t,t instanceof $y&&(yield*t.descendants())}setClipRect(t){this.clipRect=t?vs.fromCanvas(this,t):void 0}setClipRectCanvasSpace(t){this.clipRect=t}getVisibility(){for(const t of this.traverseUp(!0))if(!t.visible)return!1;return!0}toSVG(){if(!this.visible)return;const t=[],n=[];for(const s of this.children()){const i=s.toSVG();i!=null&&(n.push(...i.elements),i.defs!=null&&t.push(...i.defs))}return{elements:n,defs:t}}};CO.className="Group";D([Me({convertor:e=>wt(0,e,1)})],CO.prototype,"opacity",2);var Et=CO,z3e=class extends q2(Et){},F3e=class extends im(Et){},Yi=class extends rm(Et){},Op=class extends im(rm(Et)){};function $3e(e,t){return"context"in e}function A9(e,t){return e!=null&&$3e(e)&&t[0]!=null&&typeof t[0]=="object"&&t[0].context===void 0?(t[0].context=e.context,!0):!1}function Go(e,t,...n){if(Array.isArray(e)){for(const s of e)if(A9(s,n))break}else A9(e,n);return t(...n)}var iZ=class{constructor(){this.cache=new WeakMap}call(e,t,...n){let s,i=this.cache.get(t);try{s=JSON.stringify(n)}catch{return this.invoke(e,t,i,void 0,...n)}return i==null&&(i=new Map,this.cache.set(t,i)),i.has(s)?i.get(s):this.invoke(e,t,i,s,...n)}invoke(e,t,n,s,...i){try{const r=Go(e,t,...i);return n&&s!=null&&n.set(s,r),r}catch(r){Ne.warnOnce("User callback errored, ignoring",r);return}}invalidateCache(){this.cache=new WeakMap}};function kw(e,t){if(!e)return;const{x:n,y:s,width:i,height:r}=V3e(t);F1(e.style,"width",i),F1(e.style,"height",r),F1(e.style,"left",n),F1(e.style,"top",s)}function rZ(e){const t=parseFloat(e.style.width)||e.offsetWidth,n=parseFloat(e.style.height)||e.offsetHeight,s=parseFloat(e.style.left)||e.offsetLeft,i=parseFloat(e.style.top)||e.offsetTop;return{x:s,y:i,width:t,height:n}}function B3e(e){if(e.focus({preventScroll:!0}),e.lastChild?.textContent==null)return;const t=Ll().createRange();t.setStart(e.lastChild,e.lastChild.textContent.length),t.setEnd(e.lastChild,e.lastChild.textContent.length);const n=Nn().getSelection();n?.removeAllRanges(),n?.addRange(t)}function aZ(){const e=Nn("navigator");if("scheduling"in e){const t=e.scheduling;if("isInputPending"in t)return t.isInputPending({includeContinuous:!0})}return!1}function Z2(e){return`ag-charts-icon ag-charts-icon-${e}`}function V3e(e){let{x:t,y:n,width:s,height:i}=e;return(s==null||s>0)&&(i==null||i>0)?e:(t!=null&&s!=null&&s<0&&(s=-s,t=t-s),n!=null&&i!=null&&i<0&&(i=-i,n=n-i),{x:t,y:n,width:s,height:i})}function F1(e,t,n){n==null?e.removeProperty(t):e.setProperty(t,`${n}px`)}var RD="class-instance";function Yc(e,t,n){if(Pt(t)){if(!Pt(e)||e.length!==t.length||t.some((s,i)=>Yc(e[i],s,n)!=null))return t}else if(In(t)){if(!In(e))return t;const s={},i=new Set([...Object.keys(e),...Object.keys(t)]);for(const r of i)if(e[r]!==t[r])if(n?.has(r))s[r]=t[r];else if(typeof e[r]==typeof t[r]){const a=Yc(e[r],t[r],n);a!==null&&(s[r]=a)}else s[r]=t[r];return Object.keys(s).length?s:null}else if(e!==t)return t;return null}function oZ(e,t){for(const n of Object.keys(e))if(e[n]!==t?.[n])return!1;return!0}function xs(e,t){return Pt(e)?U3e(e,t):In(e)?H3e(e,t):e instanceof Map?new Map(xs(Array.from(e))):MO(e)}function U3e(e,t){const n=[],s=t?.seen;for(const i of e){if(typeof i=="object"&&s?.includes(i)){Ne.warn("cycle detected in array",i);continue}s?.push(i),n.push(xs(i,t)),s?.pop()}return n}function H3e(e,t){const n={};for(const s of Object.keys(e))t?.assign?.has(s)?n[s]=e[s]:t?.shallow?.has(s)?n[s]=MO(e[s]):n[s]=xs(e[s],t);return n}function MO(e){return Pt(e)?e.slice(0):In(e)?{...e}:mf(e)?new Date(e):qOe(e)?new RegExp(e.source,e.flags):e}function ud(e,t,n,s,i,r){if(Pt(e)){r=t(e,s,i,r);let a=0;for(const o of e)r=ud(o,t,n,s?.[a],i,r),a++}else if(In(e)){r=t(e,s,i,r);for(const a of Object.keys(e)){if(n?.has(a))continue;const o=e[a];r=ud(o,t,n,s?.[a],i,r)}}return r}function cx(e,t,n={}){const{path:s,matcherPath:i=s?.replace(/(\[[0-9+]+])/i,"[]"),skip:r=[]}=n;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${s??"<root>"}`);if(t==null)return e;if(Vh(e))return e.set(t);const a=e,o=IT(e);for(const c of Object.keys(t)){if(xO.has(c))continue;const u=`${i?i+".":""}${c}`;if(r.includes(u))continue;const h=t[c],f=`${s?s+".":""}${c}`,g=a.constructor,m=a[c];try{const y=IT(m),b=IT(h);if(o===RD&&!(c in e||c==="context")){if(h===void 0)continue;Ne.warn(`unable to set [${f}] in ${g?.name} - property is unknown`);continue}if(y!=null&&b!=null&&b!==y&&(y!==RD||b!=="object")){Ne.warn(`unable to set [${f}] in ${g?.name} - can't apply type of [${b}], allowed types are: [${y}]`);continue}if(Vh(m))h===void 0?m.clear():m.set(h);else if(b==="object"&&c!=="context"){if(!(c in a)){Ne.warn(`unable to set [${f}] in ${g?.name} - property is unknown`);continue}m==null?a[c]=h:cx(m,h,{...n,path:f,matcherPath:u})}else a[c]=h}catch(y){Ne.warn(`unable to set [${f}] in [${g?.name}]; nested error is: ${y.message}`)}}return e}function IT(e){return e==null?null:ZOe(e)||mf(e)?"primitive":Pt(e)?"array":En(e)?In(e)?"object":RD:Qc(e)?"function":"primitive"}var G3e=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(n=>Ne.errorOnce(n))})}async acquireImmediately(e){return this.available?(await this.acquire(e),!0):!1}async waitForClearAcquireQueue(){return this.acquire(()=>Promise.resolve(void 0))}async dispatchNext(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{await e(),t?.()}catch(n){Ne.error("mutex callback error",n),t?.()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0}},lZ=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");const n=this.eventListeners.get(e);n?n.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){const n=this.eventListeners.get(e);n!=null&&(n.delete(t),n.size===0&&this.eventListeners.delete(e))}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){this.eventListeners.get(e.type)?.forEach(t=>t(e))}},xf=class extends mt{constructor(e=0,t=e,n=e,s=t){super(),this.top=e,this.right=t,this.bottom=n,this.left=s}};D([O],xf.prototype,"top",2);D([O],xf.prototype,"right",2);D([O],xf.prototype,"bottom",2);D([O],xf.prototype,"left",2);function hr(e,t){const n=Pt(e)?e:e.split(".");if(n.length===1){const[s]=n;return ef((i,r,a)=>i[s]=a,i=>i[s],t)}return ef((s,i,r)=>bO(s,n,r),s=>yO(s,n),t)}function W3e(e){return ef((t,n,s)=>t[e]=s)}function Is(e,t){return ef((n,s,i)=>n[e][t??s]=i)}function fr(e){const{newValue:t,oldValue:n,changeValue:s}=e;return ef((i,r,a,o)=>(a!==o&&(o!==void 0&&n?.call(i,o),a!==void 0&&t?.call(i,a),s?.call(i,a,o)),a))}function Ld(e){return _q(e)}function Y3e(e){return cZ((t,n)=>Nn().requestAnimationFrame(t),e)}function K3e(e){return cZ((t,n=0)=>{n===0?queueMicrotask(t):setTimeout(t,n)},e)}function cZ(e,t){let n=0,s=!1,i,r;const a=()=>s,o=()=>{s=!1,r?.(),r=void 0,i=void 0,n>0&&e(c)},c=()=>{const u=n;n=0,s=!0;const h=t({count:u});if(!h){o();return}h.then(o,o)};return{schedule(u){n===0&&!a()&&e(c,u),n++},async await(){if(a())for(i??(i=new Promise(u=>{r=u}));a();)await i}}}var jO=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function vp(e,t,n){const{offsetX:s,offsetY:i,clientX:r,clientY:a}=t,{currentX:o,currentY:c}=Oc.calcCurrentXY(n,t);return{type:e,device:"mouse",offsetX:s,offsetY:i,clientX:r,clientY:a,currentX:o,currentY:c,sourceEvent:t}}function $1(e,t,n){return{type:e,sourceEvent:t}}var q3e={blur:e=>({type:"blur",sourceEvent:e}),change:e=>({type:"change",sourceEvent:e}),contextmenu:(e,t)=>vp("contextmenu",e,t),focus:e=>({type:"focus",sourceEvent:e}),keydown:e=>({type:"keydown",sourceEvent:e}),keyup:e=>({type:"keyup",sourceEvent:e}),click:(e,t)=>vp("click",e,t),dblclick:(e,t)=>vp("dblclick",e,t),mouseenter:(e,t)=>vp("mouseenter",e,t),mousemove:(e,t)=>vp("mousemove",e,t),mouseleave:(e,t)=>vp("mouseleave",e,t),wheel:e=>{const{offsetX:t,offsetY:n,clientX:s,clientY:i}=e,r=e.deltaMode===0?.01:1,a=e.deltaX*r,o=e.deltaY*r;return{type:"wheel",offsetX:t,offsetY:n,clientX:s,clientY:i,deltaX:a,deltaY:o,sourceEvent:e}},touchstart:(e,t)=>$1("touchstart",e),touchmove:(e,t)=>$1("touchmove",e),touchend:(e,t)=>$1("touchend",e),touchcancel:(e,t)=>$1("touchcancel",e)},Oc=class{static alloc(e,t,n){return q3e[e](t,n)}static isHTMLEvent(e){return jO.includes(e)}static calcCurrentXY(e,t){const n=e.getBoundingClientRect();return{currentX:t.clientX-n.x,currentY:t.clientY-n.y}}},Z3e=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(e,t){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[e]=t}lazyGetWidgetListeners(e,t){var n;if(!(e in(this.sourceListeners??{}))){const s=r=>{const a=Oc.alloc(e,r,t.getElement());this.dispatch(e,t,a)},i={};e.startsWith("touch")&&(i.passive=!1),this.initSourceHandler(e,s),t.getElement().addEventListener(e,s,i)}return this.widgetListeners??(this.widgetListeners={}),(n=this.widgetListeners)[e]??(n[e]=[]),this.widgetListeners[e]}add(e,t,n){this.lazyGetWidgetListeners(e,t).push(n)}remove(e,t,n){const s=this.lazyGetWidgetListeners(e,t),i=s.indexOf(n);i>-1&&s.splice(i,1)}destroy(e){if(this.widgetListeners=void 0,this.sourceListeners){for(const[t,n]of Uo(this.sourceListeners))e.getElement().removeEventListener(t,n);this.sourceListeners=void 0}}dispatch(e,t,n){for(const s of this.widgetListeners?.[e]??[])s(n,t)}},Q3e=class{constructor(e,t,n,s){this.glob=e,this.self=t,this.window=Nn(),this.cleanup=new Cs,this.mousegeneral=c=>{c.stopPropagation(),c.stopImmediatePropagation()},this.mousemove=c=>{c.stopPropagation(),c.stopImmediatePropagation(),this.glob.globalMouseDragCallbacks?.mousemove(c)},this.mouseup=c=>{c.button===0&&(c.stopPropagation(),c.stopImmediatePropagation(),this.glob.globalMouseDragCallbacks?.mouseup(c),this.destroy())};const{window:i,mousegeneral:r,mousemove:a,mouseup:o}=this;this.cleanup.register(_n(i,"mousedown",r,{capture:!0}),_n(i,"mouseenter",r,{capture:!0}),_n(i,"mouseleave",r,{capture:!0}),_n(i,"mouseout",r,{capture:!0}),_n(i,"mouseover",r,{capture:!0}),_n(i,"mousemove",a,{capture:!0}),_n(i,"mouseup",o,{capture:!0})),t.mouseDragger=this,e.globalMouseDragCallbacks=n,e.globalMouseDragCallbacks.mousedown(s),s.stopPropagation(),s.stopImmediatePropagation()}destroy(){this.cleanup.flush(),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};function X3e(e,t,n,s){if(e.globalMouseDragCallbacks==null)return new Q3e(e,t,n,s)}var J3e=500,e5e=100;function t5e(e,t){const n=e.clientX-t.clientX,s=e.clientY-t.clientY;return n*n+s*s}var _D=!1,n5e=class{constructor(e,t,n,s,i){this.glob=e,this.self=t,this.initialTouch=s,this.target=i,this.cleanup=new Cs,this.longTapInterrupted=!1,this.longtap=()=>{const{target:o,initialTouch:c}=this;if(!this.longTapInterrupted){const u=new Cs;o.dispatchEvent(new TouchEvent("touchcancel",{touches:[c],bubbles:!0})),_D=!0;const h=b=>b.preventDefault(),f=b=>{_D=!1,b.preventDefault(),u.flush()};u.register(_n(o,"touchmove",h,{passive:!1}),_n(o,"touchend",f,{passive:!1}),_n(o,"touchcancel",f,{passive:!1}));const{clientX:g,clientY:m}=c,y=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:Nn(),clientX:g,clientY:m,pointerType:"touch"});o.dispatchEvent(y)}},this.touchmove=o=>{const{glob:c,self:u,initialTouch:h}=this,f=this.findInitialFinger(o.targetTouches);f!=null&&(this.longTapInterrupted=this.longTapInterrupted||t5e(h,f)>e5e,u.dragTouchEnabled&&c.globalTouchDragCallbacks?.touchmove(o,f))},this.touchend=o=>{this.longTapInterrupted=!0;const c=this.findInitialFinger(o.changedTouches,o.touches);c!=null&&this.glob.globalTouchDragCallbacks?.touchend(o,c),this.destroy()},this.longtapTimer=setTimeout(this.longtap,J3e);const{touchmove:r,touchend:a}=this;this.cleanup.register(_n(i,"touchmove",r,{passive:!1}),_n(i,"touchstart",a,{passive:!1}),_n(i,"touchend",a,{passive:!1}),_n(i,"touchcancel",a,{passive:!1})),t.touchDragger=this,e.globalTouchDragCallbacks=n}destroy(){clearTimeout(this.longtapTimer),this.cleanup.flush(),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(...e){const t=e.map(n=>Array.from(n)).flat();return Array.from(t).find(n=>n.identifier===this.initialTouch.identifier)}};function s5e(e,t,n,s,i){if(!(e.globalTouchDragCallbacks!=null||_D))return new n5e(e,t,n,s,i)}function LT(e,t,n,s){const{currentX:i,currentY:r}=Oc.calcCurrentXY(e.getElement(),s),a=s.pageX-n.pageX,o=s.pageY-n.pageY;return{type:t,device:"mouse",offsetX:n.offsetX+a,offsetY:n.offsetY+o,clientX:s.clientX,clientY:s.clientY,currentX:i,currentY:r,originDeltaX:a,originDeltaY:o,sourceEvent:s}}function i5e(e,{pageX:t,pageY:n}){const{x:s,y:i}=e.getElement().getBoundingClientRect();return{offsetX:t-s,offsetY:n-i}}function OT(e,t,n,s,i){const{currentX:r,currentY:a}=Oc.calcCurrentXY(e.getElement(),i),o=i.pageX-n.pageX,c=i.pageY-n.pageY;return{type:t,device:"touch",offsetX:n.offsetX+o,offsetY:n.offsetY+c,clientX:i.clientX,clientY:i.clientY,currentX:r,currentY:a,originDeltaX:o,originDeltaY:c,sourceEvent:s}}var T9={},E9=class{constructor(e){this.dispatchCallback=e,this.dragTouchEnabled=!0}destroy(){this.dragTriggerRemover?.(),this.dragTriggerRemover=void 0,this.listeners?.clear(),this.mouseDragger?.destroy(),this.touchDragger?.destroy()}getListenerSet(e){this.listeners??(this.listeners=new Map);let t=this.listeners.get(e);return t===void 0&&(t=new Set,this.listeners.set(e,t)),t}add(e,t,n){switch(this.getListenerSet(e).add(n),e){case"drag-start":case"drag-move":case"drag-end":{this.registerDragTrigger(t);break}}}remove(e,t,n){this.getListenerSet(e).delete(n)}registerDragTrigger(e){if(this.dragTriggerRemover==null){const t=e.getElement(),n=new Cs;n.register(_n(t,"mousedown",s=>this.triggerMouseDrag(e,s)),_n(t,"touchstart",s=>this.triggerTouchDrag(e,s),{passive:!1})),this.dragTriggerRemover=()=>n.flush()}}triggerMouseDrag(e,t){t.button===0&&this.startMouseDrag(e,t)}startMouseDrag(e,t){const n={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};ID(["pageX","pageY","offsetX","offsetY"],n,t);const s={mousedown:i=>{const r=LT(e,"drag-start",n,i);this.dispatch("drag-start",e,r)},mousemove:i=>{const r=LT(e,"drag-move",n,i);this.dispatch("drag-move",e,r)},mouseup:i=>{const r=LT(e,"drag-end",n,i);this.dispatch("drag-end",e,r),this.endDrag(e,r)}};this.mouseDragger=X3e(T9,this,s,t)}endDrag(e,{sourceEvent:t,clientX:n,clientY:s}){const i=e.getElement(),r=i.getBoundingClientRect();dO(r,n,s)||(i.dispatchEvent(new MouseEvent("mouseleave",t)),t.target?.dispatchEvent(new MouseEvent("mouseenter",t)))}triggerTouchDrag(e,t){const n=t.targetTouches[0];t.targetTouches.length===1&&n!=null&&this.startOneFingerTouch(e,t,n)}startOneFingerTouch(e,t,n){const s={pageX:NaN,pageY:NaN,...i5e(e,n)};ID(["pageX","pageY"],s,n);const i={touchmove:(o,c)=>{const u=OT(e,"drag-move",s,o,c);this.dispatch("drag-move",e,u)},touchend:(o,c)=>{const u=OT(e,"drag-end",s,o,c);this.dispatch("drag-end",e,u)}},r=e.getElement();this.touchDragger=s5e(T9,this,i,n,r);const a=OT(e,"drag-start",s,t,n);this.dispatch("drag-start",e,a)}dispatch(e,t,n){for(const s of this.getListenerSet(e))s(n,t);this.dispatchCallback(e,n)}},r5e=class{constructor(e){this.elem=e}setBounds(e){kw(this.elemContainer??this.elem,e)}getBounds(){return rZ(this.elemContainer??this.elem)}static setElementContainer(e,t){const n=e.getBounds();kw(t,n),_4e(e.elem,{width:"100%",height:"100%"}),e.elem.remove(),e.elemContainer=t,e.elemContainer.replaceChildren(e.elem)}},Hl=class extends r5e{constructor(){super(...arguments),this.index=NaN,this.children=[]}set id(e){nn(this.elem,"id",e)}get id(){return ag(this.elem,"id")}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){this.destroyListener?.(),this.destroyListener=void 0,this.parent?.removeChild(this),this.children.forEach(e=>{e.parent=void 0,e.destroy()}),this.children.length=0,this.destructor(),this.remove(),this.internalListener?.destroy(),this.htmlListener?.destroy(this)}remove(){this.elem.remove(),this.elemContainer?.remove()}setHidden(e){vl(this.elem,"display",e?"none":void 0)}isHidden(){return Nn()?.getComputedStyle?.(this.elem).display==="none"}setCursor(e){vl(this.elem,"cursor",e)}setTextContent(e){this.elem.textContent=e??null}setAriaDescribedBy(e){nn(this.elem,"aria-describedby",e)}setAriaHidden(e){nn(this.elem,"aria-hidden",e)}setAriaLabel(e){nn(this.elem,"aria-label",e)}setAriaExpanded(e){nn(this.elem,"aria-expanded",e)}setAriaControls(e){nn(this.elem,"aria-controls",e)}setAriaHasPopup(e){nn(this.elem,"aria-haspopup",e)}setInnerHTML(e){this.elem.innerHTML=e}setPointerEvents(e){vl(this.elem,"pointer-events",e)}setCSSVariable(e,t){this.elem.style.setProperty(e,t)}isDisabled(){return ag(this.elem,"aria-disabled",!1)}hasPopup(){const e=ag(this.elem,"aria-haspopup");return e!==void 0&&e!=="false"}parseFloat(e){return e===""?0:parseFloat(e)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(e){this.elem.focus(e)}setFocusOverride(e){nn(this.elem,"data-focus-override",e)}setPreventsDefault(e){nn(this.elem,"data-preventdefault",e)}setTabIndex(e){nn(this.elem,"tabindex",e)}addChild(e){this.addChildToDOM(e,this.getBefore(e)),this.children.push(e),e.index=this.children.length-1,e.parent=this,this.onChildAdded(e)}removeChild(e){const t=this.children.findIndex(n=>n===e);this.children.splice(t,1),this.removeChildFromDOM(e),this.onChildRemoved(e)}moveChild(e,t){e.domIndex!==t&&(e.domIndex=t,this.removeChildFromDOM(e),this.addChildToDOM(e,this.getBefore(e)))}addClass(...e){this.elem.classList.add(...e)}removeClass(...e){this.elem.classList.remove(...e)}toggleClass(e,t){this.elem.classList.toggle(e,t)}appendOrInsert(e,t){t?t.getElement().insertAdjacentElement("beforebegin",e):this.elem.appendChild(e)}addChildToDOM(e,t){this.appendOrInsert(e.getElement(),t)}removeChildFromDOM(e){this.elem.removeChild(e.getElement())}onChildAdded(e){}onChildRemoved(e){}getBefore({domIndex:e}){if(e!==void 0)return this.children.filter(t=>t.domIndex!==void 0&&t.domIndex>e).reduce((t,n)=>!t||n.domIndex<t.domIndex?n:t,void 0)}addListener(e,t){return Oc.isHTMLEvent(e)?(this.htmlListener??(this.htmlListener=new Z3e),this.htmlListener.add(e,this,t)):(this.internalListener??(this.internalListener=new E9(this.onDispatch.bind(this))),this.internalListener.add(e,this,t)),()=>this.removeListener(e,t)}removeListener(e,t){Oc.isHTMLEvent(e)?this.htmlListener?.remove(e,this,t):this.htmlListener!=null&&this.internalListener?.remove(e,this,t)}setDragTouchEnabled(e){this.internalListener??(this.internalListener=new E9(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=e}onDispatch(e,t){if(!t.sourceEvent?.bubbles)return;let{parent:n}=this;for(;n!=null;){const{internalListener:s}=n;if(s!=null){const i={...t,...Oc.calcCurrentXY(n.getElement(),t)};s.dispatch(e,n,i)}n=n.parent}}static addWindowEvent(e,t){const n=s=>{s.persisted||t()};return _n(Nn(),"pagehide",n)}};function a5e(e){for(const t of["B","KB","MB","GB"]){if(e<1536)return`${e.toFixed(1)}${t}`;e/=1024}return`${e.toFixed(1)}TB}`}function o5e(){if(!("memory"in performance))return;const{totalJSHeapSize:e,usedJSHeapSize:t,jsHeapSizeLimit:n}=performance.memory,s=[];for(const i of[t,e,n])typeof i=="number"&&s.push(a5e(i));return`Heap ${s.join(" / ")}`}function D9(e,t,n,s,i={},r=Pe.zero){if(!Dt.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:a=0,layersSkipped:o=0,nodesRendered:c=0,nodesSkipped:u=0,opsPerformed:h=0,opsSkipped:f=0}=s??{},g=performance.now(),{start:m,...y}=t,b=Object.entries(y).map(([_,F])=>k9(_,F)).filter(_=>_!=null).join(" + "),S=Object.entries(i).map(([_,F])=>`${_}: ${JSON.stringify(F)}`).join(" ; "),C=Dt.check("scene:stats:verbose"),M=o5e(),N=[`${k9("",m,g)} (${b})`,`${S}`,`Layers: ${C?RT(a,o):e.size}`,C?`Nodes: ${RT(c,u)}`:null,C?`Ops: ${RT(h,f)}`:null,C&&M?M:null].filter(mi),T=new Iq(n),E=new Map(N.map(_=>[_,T.measureText(_)])),k=Math.max(...Array.from(E.values(),_=>_.width)),L=f5e(E.values(),_=>_.height),I=2+r.x;n.save();try{n.fillStyle="white",n.fillRect(I,0,k,L),n.fillStyle="black";let _=0;for(const[F,G]of E.entries())_+=G.height,n.fillText(F,I,_)}catch(_){Ne.warnOnce("Error during debug stats rendering",_)}finally{n.restore()}}function l5e(e){const t=Mw(Nn("agChartsSceneDebug")),n=[];for(const s of t)s==="layout"?n.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):n.push(s);e.debugNodeSearch=n}function c5e(e,t){e.save();try{for(const[n,s]of Object.entries(t)){const i=vs.toCanvas(s);if(!i){Ne.log(`Scene.render() - no bbox for debugged node [${n}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(i.x,i.y,i.width,i.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(n,i.x,i.y,i.width),e.fillText(n,i.x,i.y,i.width)}}catch(n){Ne.warnOnce("Error during debug rendering",n)}finally{e.restore()}}var u5e=new Set,d5e=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function h5e(e){const{...t}=e;for(const n of Object.keys(t))d5e.has(n)||typeof t[n]!="number"&&typeof t[n]!="string"&&typeof t[n]!="boolean"&&(u5e.add(n),delete t[n]);return t}function AS(e,t){if(!Dt.check(!0,"scene"))return{};let n=0;return{node:t==="json"?h5e(e):e,name:e.name??e.id,dirty:e instanceof Et?e.dirty:void 0,...Array.from(e instanceof Et?e.children():[],s=>AS(s,t)).reduce((s,i)=>{let{name:r}=i;const{node:{visible:a,opacity:o,zIndex:c,translationX:u,translationY:h,rotation:f,scalingX:g,scalingY:m},node:y}=i;(!a||o<=0)&&(r=`(${r})`),Et.is(y)&&y.renderToOffscreenCanvas&&(r=`*${r}*`);const b=Array.isArray(c)?`(${c.join(", ")})`:c,S=[`${(n++).toString().padStart(3,"0")}|`,`${r??"<unknown>"}`,`z: ${b}`,u&&`x: ${u}`,h&&`y: ${h}`,f&&`r: ${f}`,g!=null&&g!==1&&`sx: ${g}`,m!=null&&m!==1&&`sy: ${m}`].filter(N=>!!N).join(" ");let C=S,M=1;for(;s[C]!=null&&M<100;)C=`${S} (${M++})`;return s[C]=i,s},{})}}function uZ(e){const t=e instanceof Et?e.dirty:void 0;if(!t)return{dirtyTree:{},paths:[]};const n=Array.from(e instanceof Et?e.children():[],r=>uZ(r)).filter(r=>r.paths.length>0),s=Et.is(e)?e.name??e.id:e.id,i=n.length?n.flatMap(r=>r.paths).map(r=>`${s}.${r}`):[s];return{dirtyTree:{name:s,node:e,dirty:t,...n.map(r=>r.dirtyTree).filter(r=>r.dirty!=null).reduce((r,a)=>(r[a.name??"<unknown>"]=a,r),{})},paths:i}}function RT(e,t){const n=e+t;return`${e} / ${n} (${Math.round(100*e/n)}%)`}function k9(e,t,n){const s=n!=null?n-t:t;return`${e}: ${Math.round(s*100)/100}ms`}function f5e(e,t){let n=0;for(const s of e)n+=t(s);return n}var By=(e,{x0:t,y0:n,x1:s,y1:i,cx:r,cy:a},o,c)=>{if(c&&e.moveTo(t,n),t!==s||n!==i){const u=Math.atan2(n-a,t-r),h=Math.atan2(i-a,s-r);e.arc(r,a,o,u,h)}else e.lineTo(t,n)},xi=class extends $s{constructor(){super(...arguments),this.path=new jg,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty("path"))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(this.fillShadow?.isDirty()??!1)||(this._clipPath?.isDirty()??!1))}resetPathDirty(){this.path.clear(!0),this._dirtyPath=!1}isPathDirty(){return this.path.isDirty()}onChangeDetection(e){this._dirtyPath||(this._dirtyPath=!0,super.onChangeDetection(e))}computeBBox(){return this.updatePathIfDirty(),this.path.computeBBox()}isPointInPath(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)}distanceSquared(e,t){return this.distanceSquaredTransformedPoint(e,t)}svgPathData(e){return this.updatePathIfDirty(),this.path.toSVG(e)}distanceSquaredTransformedPoint(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(e){return e.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=e.devicePixelRatio,this.updatePathIfDirty(),super.preRender(e,this.path.commands.length)}render(e){const{ctx:t}=e;if(this.clip&&!isNaN(this._clipX)&&!isNaN(this._clipY)){t.save();try{const n=this.strokeWidth/2;this._clipPath??(this._clipPath=new jg),this._clipPath.clear(),this._clipPath.rect(-n,-n,this._clipX+n,this._clipY+n+n),t.clip(this._clipPath?.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(t)}finally{t.restore()}}else this._clipPath=void 0,this.drawPath(t);this.fillShadow?.markClean(),super.render(e)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}toSVG(){if(!this.visible)return;const e=Ds("path");e.setAttribute("d",this.svgPathData());const t=this.applySvgFillAttributes(e,[]);return this.applySvgStrokeAttributes(e),{elements:[e],defs:t}}};xi.className="Path";D([Me()],xi.prototype,"clip",2);D([Me()],xi.prototype,"clipX",1);D([Me()],xi.prototype,"clipY",1);var B1=(e,t,n,s,i)=>{let r=!1,a=!1,o=s-Math.sqrt(Math.max(i**2-n**2,0)),c=0,u=0,h=n-Math.sqrt(Math.max(i**2-s**2,0));return o>e?(r=!0,o=e,c=n-Math.sqrt(Math.max(i**2-(s-e)**2))):Fr(o,0)&&(o=0),h>t?(a=!0,u=s-Math.sqrt(Math.max(i**2-(n-t)**2)),h=t):Fr(h,0)&&(h=0),{leading0:o,leading1:c,trailing0:u,trailing1:h,leadingClipped:r,trailingClipped:a}},TS=(e,t,n,s,i,r,a)=>{let{topLeft:o,topRight:c,bottomRight:u,bottomLeft:h}=r;const f=Math.max(o+h,c+u),g=Math.max(o+c,h+u);if(f<=0&&g<=0){if(a==null)e.rect(t,n,s,i);else{const L=Math.max(t,a.x),I=Math.min(t+s,a.x+a.width),_=Math.max(n,a.y),F=Math.min(n+i,a.y+a.height);e.rect(L,_,I-L,F-_)}return}else if(a==null&&o===c&&o===u&&o===h){e.roundRect(t,n,s,i,o);return}if(s<0&&(t+=s,s=Math.abs(s)),i<0&&(n+=i,i=Math.abs(i)),s<=0||i<=0)return;if(a==null)a=new Pe(t,n,s,i);else{const L=Math.max(t,a.x),I=Math.min(t+s,a.x+a.width),_=Math.max(n,a.y),F=Math.min(n+i,a.y+a.height);a=new Pe(L,_,I-L,F-_)}const m=Math.max(f/i,g/s,1);m>1&&(o/=m,c/=m,u/=m,h/=m);let y=!0,b=!0,S=!0,C=!0,M,N,T,E;if(y){const L=B1(a.height,a.width,Math.max(t+o-a.x,0),Math.max(n+o-a.y,0),o);L.leadingClipped&&(C=!1),L.trailingClipped&&(b=!1);const I=Math.max(a.x+L.leading1,a.x),_=Math.max(a.y+L.leading0,a.y),F=Math.max(a.x+L.trailing1,a.x),G=Math.max(a.y+L.trailing0,a.y),U=t+o,H=n+o;M={x0:I,y0:_,x1:F,y1:G,cx:U,cy:H}}if(b){const L=B1(a.width,a.height,Math.max(n+c-a.y,0),Math.max(a.x+a.width-(t+s-c),0),c);L.leadingClipped&&(y=!1),L.trailingClipped&&(S=!1);const I=Math.min(a.x+a.width-L.leading0,a.x+a.width),_=Math.max(a.y+L.leading1,a.y),F=Math.min(a.x+a.width-L.trailing0,a.x+a.width),G=Math.max(a.y+L.trailing1,a.y),U=t+s-c,H=n+c;N={x0:I,y0:_,x1:F,y1:G,cx:U,cy:H}}if(S){const L=B1(a.height,a.width,Math.max(a.x+a.width-(t+s-u),0),Math.max(a.y+a.height-(n+i-u),0),u);L.leadingClipped&&(b=!1),L.trailingClipped&&(C=!1);const I=Math.min(a.x+a.width-L.leading1,a.x+a.width),_=Math.min(a.y+a.height-L.leading0,a.y+a.height),F=Math.min(a.x+a.width-L.trailing1,a.x+a.width),G=Math.min(a.y+a.height-L.trailing0,a.y+a.height),U=t+s-u,H=n+i-u;T={x0:I,y0:_,x1:F,y1:G,cx:U,cy:H}}if(C){const L=B1(a.width,a.height,Math.max(a.y+a.height-(n+i-h),0),Math.max(t+h-a.x,0),h);L.leadingClipped&&(S=!1),L.trailingClipped&&(y=!1);const I=Math.max(a.x+L.leading0,a.x),_=Math.min(a.y+a.height-L.leading1,a.y+a.height),F=Math.max(a.x+L.trailing0,a.x),G=Math.min(a.y+a.height-L.trailing1,a.y+a.height),U=t+h,H=n+i-h;E={x0:I,y0:_,x1:F,y1:G,cx:U,cy:H}}let k=!1;y&&M!=null&&(By(e,M,o,!k),k||(k=!0)),b&&N!=null&&(By(e,N,c,!k),k||(k=!0)),S&&T!=null&&(By(e,T,u,!k),k||(k=!0)),C&&E!=null&&By(e,E,h,!k),e.closePath()},si=class extends xi{constructor(){super(...arguments),this.borderPath=new jg,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=this.strokeWidth,this.effectiveStrokeWidth=this.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){const{path:e,borderPath:t,crisp:n,topLeftCornerRadius:s,topRightCornerRadius:i,bottomRightCornerRadius:r,bottomLeftCornerRadius:a}=this;let{x:o,y:c,width:u,height:h,strokeWidth:f,clipBBox:g}=this;const y=1/(this.layerManager?.canvas.pixelRatio??1);let b=1;if(e.clear(!0),t.clear(!0),u===0||h===0){this.effectiveStrokeWidth=0,this.lastUpdatePathStrokeWidth=0,this.microPixelEffectOpacity=0;return}if(n&&(u<=y&&(b*=u/y),h<=y&&(b*=h/y),u=this.align(o,u),h=this.align(c,h),o=this.align(o),c=this.align(c),g=g!=null?new Pe(this.align(g.x),this.align(g.y),this.align(g.x,g.width),this.align(g.y,g.height)):void 0),f)if(u<y){const S=o+y/2;t.moveTo(S,c),t.lineTo(S,c+h),f=y,this.borderClipPath=void 0}else if(h<y){const S=c+y/2;t.moveTo(o,S),t.lineTo(o+u,S),f=y,this.borderClipPath=void 0}else if(f<u&&f<h){const S=f/2;o+=S,c+=S,u-=f,h-=f;const C=g?.clone().shrink(S),M={topLeft:s>0?s-f:0,topRight:i>0?i-f:0,bottomRight:r>0?r-f:0,bottomLeft:a>0?a-f:0};this.borderClipPath=void 0,u>0&&h>0&&(C==null||C?.width>0&&C?.height>0)&&(TS(e,o,c,u,h,M,C),TS(t,o,c,u,h,M,C))}else this.borderClipPath=this.borderClipPath??new jg,this.borderClipPath.clear(!0),this.borderClipPath.rect(o,c,u,h),t.rect(o,c,u,h);else{const S={topLeft:s,topRight:i,bottomRight:r,bottomLeft:a};this.borderClipPath=void 0,TS(e,o,c,u,h,S,g)}if([s,i,r,a].every(S=>S===0)){const S=this.getBBox();this.hittester=S.containsPoint.bind(S),this.distanceSquared=(C,M)=>this.getBBox().distanceSquared(C,M)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=f,this.lastUpdatePathStrokeWidth=f,this.microPixelEffectOpacity=b}computeBBox(){const{x:e,y:t,width:n,height:s,clipBBox:i}=this;return i?.clone()??new Pe(e,t,n,s)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAndAlpha(e){super.applyFillAndAlpha(e),e.globalAlpha*=this.microPixelEffectOpacity}applyStrokeAndAlpha(e){super.applyStrokeAndAlpha(e),e.globalAlpha*=this.microPixelEffectOpacity}renderStroke(e){const{stroke:t,effectiveStrokeWidth:n}=this;if(t&&n){const{globalAlpha:s}=e,{lineDash:i,lineDashOffset:r,lineCap:a,lineJoin:o,borderPath:c,borderClipPath:u}=this;u&&e.clip(u.getPath2D()),this.applyStrokeAndAlpha(e),e.lineWidth=n,i&&e.setLineDash(i),r&&(e.lineDashOffset=r),a&&(e.lineCap=a),o&&(e.lineJoin=o),e.stroke(c.getPath2D()),e.globalAlpha=s}}};si.className="Rect";D([Me()],si.prototype,"x",2);D([Me()],si.prototype,"y",2);D([Me()],si.prototype,"width",2);D([Me()],si.prototype,"height",2);D([Me()],si.prototype,"topLeftCornerRadius",2);D([Me()],si.prototype,"topRightCornerRadius",2);D([Me()],si.prototype,"bottomRightCornerRadius",2);D([Me()],si.prototype,"bottomLeftCornerRadius",2);D([Ma({})],si.prototype,"clipBBox",2);D([Me()],si.prototype,"crisp",2);var Qr=class Sc extends $s{constructor(t){super(t),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontCache=void 0,this.fontSize=Sc.defaultFontSize,this.fontFamily="sans-serif",this.textAlign="start",this.textBaseline="alphabetic",this.boxPadding=0,this.trimText=t?.trimText??!0}onTextChange(){if(this.richText?.clear(),this.textMap?.clear(),Pt(this.text))this.lines=[],this.richText??(this.richText=new Et),this.richText.setScene(this.scene),this.richText.append(this.text.flatMap(t=>t.text.split(F2)).filter(Boolean).map(()=>new Sc({trimText:!1})));else{const t=this.text?.split(`
`)??[];this.lines=this.trimText?t.map(n=>n.trim()):t}}get font(){return this.fontCache??(this.fontCache=Dq(this)),this.fontCache}static computeBBox(t,n,s,i){const{font:r,lineHeight:a,textAlign:o,textBaseline:c}=i,{width:u,height:h,lineMetrics:f}=wa(r).measureLines(t),g=a?a*f.length:h,m=Sc.calcTopOffset(g,f,c),y=Sc.calcLeftOffset(u,o);return new Pe(n-y,s-m,u,g)}static calcTopOffset(t,n,s){switch(s){case"alphabetic":return n[0]?.ascent??0;case"middle":return t/2;case"bottom":return t;default:return 0}}static calcLeftOffset(t,n){let s=0;switch(n){case"center":s=.5;break;case"right":case"end":s=1}return t*s}computeBBox(){if(this.generateTextMap(),this.textMap?.size){const o=Pe.merge(this.textMap.values());return o.x=this.x-Sc.calcLeftOffset(o.width,this.textAlign),o.y=this.y,o}const{x:t,y:n,lines:s,textBaseline:i,textAlign:r}=this,a=Sc.computeBBox(s,t,n,{font:this,textBaseline:i,textAlign:r});return this.boxing!=null&&a.grow(this.boxPadding),a}getTextMeasureBBox(){return this.computeBBox()}getPlainText(){return ao(this.text)}isPointInPath(t,n){return this.getBBox()?.containsPoint(t,n)??!1}setScene(t){this.richText?.setScene(t),super.setScene(t)}generateTextMap(){if(!Pt(this.text)||this.textMap?.size)return;this.textMap??(this.textMap=new Map);let t=0;const n=this.richText.children();for(const{width:s,height:i,ascent:r,segments:a}of $2(this.text,this).lineMetrics){let o=0;for(const{color:c,textMetrics:u,...h}of a){const f=n.next().value;f.x=this.x-s/2+o,f.y=r+t,f.setProperties({...h,fill:c??this.fill});const g=f.getBBox();this.textMap.set(f,g),o+=u.width}t+=i}}render(t){const{ctx:n,stats:s}=t;if(!this.text||!this.layerManager)return s&&(s.nodesSkipped+=1),super.render(t);if(Pt(this.text)){this.generateTextMap();const i=this.richText.getBBox();let r=0;switch(this.textAlign){case"left":case"start":r=i.width/2;break;case"right":case"end":r=i.width/-2}this.renderBoxing(t,i.clone().translate(r,this.y)),n.save(),n.translate(r,this.y),this.richText.render(t),n.restore()}else this.renderText(t);if(Sc.debug.check()&&!this.textMap?.size){const i=this.getBBox();n.strokeStyle="red",n.lineWidth=1,n.strokeRect(i.x,i.y,i.width,i.height)}super.render(t)}markDirty(t){return this.textMap?.clear(),super.markDirty(t)}renderText(t){const{fill:n,stroke:s,strokeWidth:i,font:r,textAlign:a}=this;if(!n&&!(s&&i)||!this.layerManager)return super.render(t);const{ctx:o}=t;o.font!==r&&(o.font=r),o.textAlign=a,this.renderBoxing(t),this.fillStroke(o)}renderBoxing(t,n){if(!this.boxing)return;const s=n??Sc.computeBBox(this.lines,this.x,this.y,this);if(s.width===0||s.height===0)return;const{x:i,y:r,width:a,height:o}=s.grow(this.boxPadding);this.boxing.opacity=this.opacity,this.boxing.x=i,this.boxing.y=r,this.boxing.width=a,this.boxing.height=o,this.boxing.preRender(t),this.boxing.render(t)}executeFill(t){this.renderLines((n,s,i)=>t.fillText(n,s,i))}executeStroke(t){this.renderLines((n,s,i)=>t.strokeText(n,s,i))}renderLines(t){const{x:n,y:s,lines:i}=this;if(!Number.isFinite(n)||!Number.isFinite(s))return;const r=wa(this),{lineMetrics:a}=r.measureLines(i),{textBaseline:o,lineHeight:c=a[0].height}=this;let u=0;o==="top"?u=a[0].ascent:(o==="middle"||o==="bottom")&&(u=c*(1-i.length),o==="middle"?(u/=2,u-=r.baselineDistance(o)):u-=a[0].descent);for(const h of a)t(h.text,n,s+u),u+=c}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}setBoxing(t){const n=t.border?.enabled?t.border?.stroke:void 0;t.fill!=null||n!=null?(this.boxing??(this.boxing=new si({scene:this.scene})),this.boxing.fill=t.fill,this.boxing.fillOpacity=t.fillOpacity??1,this.boxing.cornerRadius=t.cornerRadius??0,this.boxing.stroke=n,this.boxing.strokeWidth=t.border?.strokeWidth??0,this.boxing.strokeOpacity=t.border?.strokeOpacity??1,this.boxPadding=t.padding??0):this.boxing&&(this.boxing.destroy(),this.boxing=void 0)}getBoxingProperties(){const{fill:t,fillOpacity:n,cornerRadius:s,stroke:i,strokeWidth:r,strokeOpacity:a}=this.boxing??{};return{border:{enabled:i!=null,stroke:i,strokeWidth:r,strokeOpacity:a},cornerRadius:s,fill:t,fillOpacity:n,padding:this.boxPadding}}toSVG(){if(!this.visible||!this.text)return;const t=Ds("text");if(mi(this.text))this.applySvgFillAttributes(t),N9(t,this),t.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),t.setAttribute("alignment-baseline",this.textBaseline),t.setAttribute("x",String(this.x)),t.setAttribute("y",String(this.y)),t.textContent=this.text;else for(const n of this.text){const s=Ds("tspan");N9(s,{fontSize:n.fontSize??this.fontSize,fontFamily:n.fontFamily??this.fontFamily,fontWeight:n.fontWeight??this.fontWeight,fontStyle:n.fontStyle??this.fontStyle}),this.applySvgFillAttributes(s),s.textContent=n.text,t.append(s)}return{elements:[t]}}};Qr.className="Text";Qr.debug=Dt.create(!0,"scene:text");Qr.defaultFontSize=10;D([Me()],Qr.prototype,"x",2);D([Me()],Qr.prototype,"y",2);D([G2({changeCb:e=>e.onTextChange()})],Qr.prototype,"text",2);D([Me({changeCb:e=>{e.fontCache=void 0}})],Qr.prototype,"fontStyle",2);D([Me({changeCb:e=>{e.fontCache=void 0}})],Qr.prototype,"fontWeight",2);D([Me({changeCb:e=>{e.fontCache=void 0}})],Qr.prototype,"fontSize",2);D([Me({changeCb:e=>{e.fontCache=void 0}})],Qr.prototype,"fontFamily",2);D([Me()],Qr.prototype,"textAlign",2);D([Me()],Qr.prototype,"textBaseline",2);D([Me()],Qr.prototype,"lineHeight",2);var ha=Qr,dZ=class extends im(ha){},Ng=class extends im(rm(ha)){},hZ={};Ul(hZ,{BASE_FONT_SIZE:()=>Tc,CARTESIAN_AXIS_TYPE:()=>pZ,CARTESIAN_POSITION:()=>fZ,FONT_SIZE:()=>NO,FONT_SIZE_RATIO:()=>eo,POLAR_AXIS_SHAPE:()=>mZ,POLAR_AXIS_TYPE:()=>gZ});var NO=(e=>(e[e.SMALLEST=8]="SMALLEST",e[e.SMALLER=10]="SMALLER",e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=14]="LARGE",e[e.LARGEST=17]="LARGEST",e))(NO||{}),Tc=12,eo=(e=>(e[e.SMALLEST=8/Tc]="SMALLEST",e[e.SMALLER=10/Tc]="SMALLER",e[e.SMALL=12/Tc]="SMALL",e[e.MEDIUM=13/Tc]="MEDIUM",e[e.LARGE=14/Tc]="LARGE",e[e.LARGEST=17/Tc]="LARGEST",e))(eo||{}),fZ=(e=>(e.TOP="top",e.TOP_RIGHT="top-right",e.TOP_LEFT="top-left",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.BOTTOM="bottom",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e))(fZ||{}),pZ=(e=>(e.CATEGORY="category",e.GROUPED_CATEGORY="grouped-category",e.ORDINAL_TIME="ordinal-time",e.UNIT_TIME="unit-time",e.TIME="time",e.NUMBER="number",e.LOG="log",e))(pZ||{}),gZ=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(gZ||{}),mZ=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(mZ||{}),us=class extends mt{constructor(){super(...arguments),this.id=Xo(this),this.node=new dZ({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(e,t){return e.eventsHub.on("layout:complete",()=>this.updateA11yText(e,t))}computeTextWrap(e,t){const{text:n,padding:s,wrapping:i}=this,r=Math.min(this.maxWidth??1/0,e)-s*2,a=this.maxHeight??t-s*2,o={maxWidth:r,maxHeight:a,font:this,textWrap:i};if(!isFinite(r)&&!isFinite(a)){this.node.text=n;return}let c;Pt(n)?(c=fO(n,o),this.truncated=c.some(kq)):(c=hO(n??"",o),this.truncated=rb(c)),this.node.text=c}updateA11yText(e,t){const{proxyInteractionService:n}=e;if(this.enabled&&this.text){const s=vs.toCanvas(this.node);if(s){const{id:i}=this;this.proxyText??(this.proxyText=n.createProxyElement({type:"text",domManagerId:i,where:t})),this.proxyText.textContent=ao(this.text),this.proxyText.setBounds(s),this.proxyText.addListener("mousemove",r=>this.handleMouseMove(e,r)),this.proxyText.addListener("mouseleave",r=>this.handleMouseLeave(e,r))}}else this.proxyText?.destroy(),this.proxyText=void 0}handleMouseMove(e,t){if(t!=null&&this.enabled&&this.truncated){const{x:n,y:s}=vs.toCanvas(this.node),i=t.sourceEvent.offsetX+n,r=t.sourceEvent.offsetY+s;e.tooltipManager.updateTooltip(this.id,{canvasX:i,canvasY:r,showArrow:!1},[{type:"structured",title:ao(this.text)}])}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};us.SMALL_PADDING=10;D([O,Is("node","visible")],us.prototype,"enabled",2);D([O,Is("node")],us.prototype,"text",2);D([O,Is("node")],us.prototype,"textAlign",2);D([O,Is("node")],us.prototype,"fontStyle",2);D([O,Is("node")],us.prototype,"fontWeight",2);D([O,Is("node")],us.prototype,"fontSize",2);D([O,Is("node")],us.prototype,"fontFamily",2);D([O,Is("node","fill")],us.prototype,"color",2);D([O],us.prototype,"spacing",2);D([O],us.prototype,"maxWidth",2);D([O],us.prototype,"maxHeight",2);D([O],us.prototype,"wrapping",2);D([O],us.prototype,"padding",2);D([O],us.prototype,"layoutStyle",2);var Q2=(e=>(e.X="x",e.Y="y",e.Angle="angle",e.Radius="radius",e))(Q2||{});function p5e(e){switch(e){case"x":case"y":case"angle":case"radius":return!0;default:return!1}}var X2=class{constructor(){this.title=new us,this.subtitle=new us,this.footnote=new us}positionCaptions(e){const{title:t,subtitle:n,footnote:s}=this,i=e.layoutBox.height/10;t.enabled&&(this.positionCaption("top",t,e.layoutBox,i),this.shrinkLayoutByCaption("top",t,e.layoutBox)),n.enabled&&(this.positionCaption("top",n,e.layoutBox,i),this.shrinkLayoutByCaption("top",n,e.layoutBox)),s.enabled&&(this.positionCaption("bottom",s,e.layoutBox,i),this.shrinkLayoutByCaption("bottom",s,e.layoutBox))}positionAbsoluteCaptions(e){const{title:t,subtitle:n,footnote:s}=this,{rect:i}=e.series;for(const r of[t,n,s])if(r.layoutStyle==="overlay"){if(r.textAlign==="left")r.node.x=i.x+r.padding;else if(r.textAlign==="right"){const a=r.node.getBBox();r.node.x=i.x+i.width-a.width-r.padding}}}computeX(e,t){return e==="left"?t.x:e==="right"?t.x+t.width:t.x+t.width/2}positionCaption(e,t,n,s){if(!t.text)return;const{lineMetrics:i}=Pt(t.text)?$2(t.text,t):wa(t).measureLines(t.text),r=Math.max(i[0].height,s);t.node.x=this.computeX(t.textAlign,n)+t.padding,t.node.y=n.y+(e==="top"?0:n.height)+t.padding,t.node.textBaseline=e,t.computeTextWrap(n.width,r)}shrinkLayoutByCaption(e,t,n){if(t.layoutStyle==="block"){const s=t.node.getBBox().clone(),{spacing:i=0}=t;e==="bottom"&&Pt(t.text)&&(t.node.y-=s.height,s.y-=s.height),n.shrink(Math.ceil(e==="top"?s.y-n.y+s.height+i:n.y+n.height-s.y+i),e)}}};D([O],X2.prototype,"title",2);D([O],X2.prototype,"subtitle",2);D([O],X2.prototype,"footnote",2);var g5e=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],m5e=class{constructor(e){this.chartService=e,this.mementoOriginatorKey="chartType"}createMemento(){let e=this.chartService.publicApi?.getOptions()?.chartType;return e??(e="candlestick"),e}guardMemento(e){return e==null||g5e.includes(e)}restoreMemento(e,t,n){if(n==null)return;const s={chartType:n};this.chartService.publicApi?.updateDelta(s).catch(i=>Ne.error("error restoring state",i))}},e0="12.2.0",I9=Symbol("previous-memento-not-found"),y5e=class{constructor(e){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=Dt.create(!0,"history"),this.cleanup=new Cs,this.cleanup.register(e.on("series:undo",this.undo.bind(this)),e.on("series:redo",this.redo.bind(this)))}destroy(){this.cleanup.flush()}addMementoOriginator(e){this.originators.set(e.mementoOriginatorKey,e),this.clearState.set(e.mementoOriginatorKey,e.createMemento()),this.debugEvent("History add originator:",e.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[e,t]of this.originators.entries())this.clearState.set(e,t.createMemento())}record(e,...t){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const n=new Map;for(const s of t){if(!this.originators.has(s.mementoOriginatorKey))throw new Error(`Originator [${s.mementoOriginatorKey}] has not been added to the HistoryManager.`);n.set(s.mementoOriginatorKey,s.createMemento())}this.history.push({label:e,mementos:n}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${e}]`)}undo(){const e=this.history[this.historyIndex];if(e){for(const t of e.mementos.keys()){const n=this.findPreviousMemento(t);if(n===I9)throw new Error(`Could not find previous memento for [${t}].`);this.restoreMemento(t,n)}this.historyIndex-=1,this.debugEvent(`History undo: [${e.label}]`)}}redo(){const e=this.history[this.historyIndex+1];if(e){for(const[t,n]of e.mementos.entries())this.restoreMemento(t,n);this.historyIndex+=1,this.debugEvent(`History redo: [${e.label}]`)}}findPreviousMemento(e){for(let t=this.historyIndex-1;t>=0;t--)if(this.history[t].mementos.has(e))return this.history[t].mementos.get(e);return this.clearState.has(e)?this.clearState.get(e):I9}restoreMemento(e,t){this.originators.get(e)?.restoreMemento(e0,e0,t)}debugEvent(...e){this.debug(...e,this.history.map((t,n)=>n===this.historyIndex?`** ${t.label} **`:t.label))}},yZ=class PD{constructor(t){this.version=t.split("-")[0]}save(...t){const n={version:this.version};for(const s of Object.values(t))n[s.mementoOriginatorKey]=this.encode(s,s.createMemento());return n}restore(t,...n){if(typeof t!="object"){Ne.warnOnce(`Could not restore data of type [${typeof t}], expecting an object, ignoring.`);return}if(t==null){Ne.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in t)||typeof t.version!="string"){Ne.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(const s of n){const i=this.decode(s,t[s.mementoOriginatorKey]),r=[];if(!s.guardMemento(i,r)){const a=r.length>0?`

${r.join(`

`)}

`:"";Ne.warnOnce(`Could not restore [${s.mementoOriginatorKey}] data, value was invalid, ignoring.${a}`,i);return}s.restoreMemento(this.version,t.version,i)}}encode(t,n){try{return JSON.parse(JSON.stringify(n,PD.encodeTypes))}catch(s){throw new Error(`Failed to encode [${t.mementoOriginatorKey}] value [${s}].`,{cause:s})}}decode(t,n){if(n==null)return n;try{return JSON.parse(JSON.stringify(n),PD.decodeTypes)}catch(s){throw new Error(`Failed to decode [${t.mementoOriginatorKey}] value [${s}].`,{cause:s})}}static encodeTypes(t,n){return mf(this[t])?{__type:"date",value:this[t].toISOString()}:n}static decodeTypes(t,n){return En(this[t])&&"__type"in this[t]&&this[t].__type==="date"?new Date(this[t].value):n}},x5e=class{constructor(){this.caretaker=new yZ(e0),this.state=new Map}setState(e,t){Cr(this.state.get(e.mementoOriginatorKey),t)||this.setStateAndRestore(e,t)}setStateAndRestore(e,t){this.state.set(e.mementoOriginatorKey,t),this.restoreState(e)}restoreState(e){const{caretaker:t,state:n}=this;if(!n.has(e.mementoOriginatorKey))return;const s=n.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:s},e)}},b5e=`.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{pointer-events:none}.ag-charts-canvas canvas{display:block}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{top:0;left:0;outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-border-radius: 4px;--ag-charts-chart-background-color: #fff;--ag-charts-chart-padding: 20px;--ag-charts-focus-shadow: 0 0 0 3px #2196f3;--ag-charts-foreground-color: #181d1f;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-popup-shadow: 0 0 16px rgba(0, 0, 0, .15);--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #181d1f;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-button-background-color: #fff;--ag-charts-button-border: 1px solid #dddddd;--ag-charts-button-font-weight: normal;--ag-charts-button-text-color: inherit;--ag-charts-input-background-color: #fff;--ag-charts-input-border: 1px solid #dddddd;--ag-charts-input-text-color: #181d1f;--ag-charts-menu-background-color: #fafafa;--ag-charts-menu-border: 1px solid #dddddd;--ag-charts-menu-text-color: #181d1f;--ag-charts-panel-background-color: #fafafa;--ag-charts-panel-text-color: #181d1f;--ag-charts-tooltip-background-color: #fafafa;--ag-charts-tooltip-border: 1px solid #dddddd;--ag-charts-tooltip-text-color: #181d1f;--ag-charts-tooltip-subtle-text-color: #8c8c8c;--ag-charts-crosshair-label-background-color: #fafafa;--ag-charts-crosshair-label-text-color: #181d1f;--ag-charts-spacing: 4px;--ag-charts-icon-size: 16px;--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-tooltip-border-radius: var(--ag-charts-border-radius);--ag-charts-menu-border-radius: var(--ag-charts-border-radius);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: 1px solid var(--ag-charts-border-color);--ag-charts-focus-border: 1px solid var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-chevron-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjQ3IDUuNDdhLjc1Ljc1IDAgMCAxIDEuMDYgMGw0IDRhLjc1Ljc1IDAgMCAxIDAgMS4wNmwtNCA0YS43NS43NSAwIDAgMS0xLjA2LTEuMDZMMTAuOTQgMTAgNy40NyA2LjUzYS43NS43NSAwIDAgMSAwLTEuMDYiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:var(--ag-charts-button-border);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:var(--ag-charts-input-border);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:var(--ag-charts-input-border);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-legend-toolbar{pointer-events:auto}.ag-charts-proxy-legend-toolbar>div[role=listitem]{pointer-events:none}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;--tooltip-row-spacing: 8px;--tooltip-column-spacing: 16px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;top:var(--top, 0px);left:var(--left, 0px);width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-tooltip-text-color);background:var(--ag-charts-tooltip-background-color);border:var(--ag-charts-tooltip-border);border-radius:var(--ag-charts-tooltip-border-radius);box-shadow:var(--ag-charts-popup-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{--tooltip-row-spacing: 2px;--tooltip-column-spacing: 8px;padding:3px 6px}.ag-charts-tooltip--arrow-top:before,.ag-charts-tooltip--arrow-right:before,.ag-charts-tooltip--arrow-bottom:before,.ag-charts-tooltip--arrow-left:before{content:"";position:absolute;display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-bottom-color:transparent;border-right-color:transparent;background:inherit;clip-path:polygon(0 0,100% 0,100% 1px,1px 100%,0 100%)}.ag-charts-tooltip--arrow-top:before{bottom:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * .5)) rotate(45deg)}.ag-charts-tooltip--arrow-bottom:before{top:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(225deg)}.ag-charts-tooltip--arrow-left:before{right:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * .5)) rotate(315deg)}.ag-charts-tooltip--arrow-right:before{left:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * -.5)) rotate(135deg)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:var(--tooltip-row-spacing)}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;place-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:var(--tooltip-column-spacing);align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-tooltip-footer{grid-column:1 / -1;color:var(--ag-charts-tooltip-subtle-text-color);text-align:center}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-panel-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-popup-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-menu-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-button-border);color:var(--ag-charts-button-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}
`,AO=class{constructor(){this.cleanup=new Cs,this.destroyed=!1}destroy(){this.cleanup.flush(),this.destroyed=!0}},v5e=class ES{constructor(t,n,s){this.element=t,this.topTabGuard=n,this.bottomTabGuard=s,this.cleanup=new Cs,this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,!1),this.initTabGuard(this.bottomTabGuard,!0),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",i=>this.onBlur(i),{capture:!0})}set tabIndex(t){this.guardTabIndex=t,this.guardTabIndex===0?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){this.cleanup.flush()}initTabGuard(t,n){this.cleanup.register(_n(t,"focus",()=>this.onTab(t,n)))}setGuardIndices(t){const n=t;nn(this.topTabGuard,"tabindex",n),nn(this.bottomTabGuard,"tabindex",n)}onFocus(){this.hasFocus=!0,this.guardTabIndex!==0&&this.setGuardIndices(0)}onBlur({relatedTarget:t}){const{topTabGuard:n,bottomTabGuard:s}=this;this.hasFocus=!1,this.guardTabIndex!==0&&t!==n&&t!==s&&this.setGuardIndices(this.guardTabIndex)}onTab(t,n){if(this.guardTabIndex!==0){let s;t.tabIndex===0?(s=this.findExitTarget(!n),this.setGuardIndices(this.guardTabIndex)):s=this.findEnterTarget(n),s?.focus()}}static queryFocusable(t,n){const s=Nn();return Array.from(t.querySelectorAll(n)).filter(i=>{if(i instanceof HTMLElement){const r=s.getComputedStyle(i);return r.display!=="none"&&r.visibility!=="none"}return!1})}findEnterTarget(t){const n=ES.queryFocusable(this.element,'[tabindex="0"]'),s=t?n.length-1:0;return n[s]}findExitTarget(t){const n=ES.queryFocusable(Ll(),"[tabindex]").filter(r=>r.tabIndex>0).sort((r,a)=>r.tabIndex-a.tabIndex),{before:s,after:i}=ES.findBeforeAndAfter(n,this.guardTabIndex);return t?s:i}static findBeforeAndAfter(t,n){let s=0,i=t.length-1,r,a;for(;s<=i;){const o=Math.floor((s+i)/2),c=t[o].tabIndex;if(c===n){r=t[o-1]||void 0,a=t[o+1]||void 0;break}else c<n?(r=t[o],s=o+1):(a=t[o],i=o-1)}return{before:r,after:a}}};function TO(e,t,n=["Escape"]){return _n(e,"keydown",s=>{J2(s,...n)&&t(s)})}function xZ(e,t){const n=_n(Nn(),"mousedown",s=>{[0,2].includes(s.button)&&!vZ(e,s)&&(t(),n())});return n}function bZ(e,t){const n=_n(Nn(),"touchstart",s=>{Array.from(s.targetTouches).some(r=>!vZ(e,r))&&(t(),n())});return n}function vZ(e,t){return t.target instanceof Element&&t.target.shadowRoot!=null?!0:t.target instanceof Node&&e.contains(t.target)}function SZ(e,t,n){const s=i=>{for(const r of t)nn(r,"data-focus-visible-override",i)};return s(n),_n(e,"keydown",()=>s(!0),{once:!0})}function lb(e){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)}function J2(e,...t){return lb(e)&&t.some(n=>e.key===n)}function L9(e,t,n){return _n(e,"keydown",s=>{J2(s,n)&&t.focus()})}var ux={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function S5e(e){const{orientation:t,buttons:n,wrapAround:s=!1,onEscape:i,onFocus:r,onBlur:a}=e,{nextKey:o,prevKey:c}=ux[t],u=m=>{m.target&&"tabIndex"in m.target&&(n.forEach(y=>y.tabIndex=-1),m.target.tabIndex=0)},[h,f]=s?[n.length,n.length]:[0,1/0],g=new Cs;for(let m=0;m<n.length;m++){const y=n[(h+m-1)%f],b=n[m],S=n[(h+m+1)%f];g.register(_n(b,"focus",u),r&&_n(b,"focus",r),a&&_n(b,"blur",a),i&&TO(b,i),y&&L9(b,y,c),S&&L9(b,S,o),_n(b,"keydown",C=>{J2(C,o,c)&&C.preventDefault()})),b.tabIndex=m===0?0:-1}return g}function w5e(e,t){return n=>{if(e.ariaDisabled==="true")return n.preventDefault();t(n)}}function EO(e){return"button"in e?e.button===0:lb(e)&&(e.code==="Space"||e.key==="Enter")}function DO(e){if(e?.target instanceof HTMLElement&&"tabindex"in e.target.attributes)return e.target}function wZ(e){return _n(e,"keydown",t=>{if(t.defaultPrevented)return;ag(t.target,"data-preventdefault",!0)&&J2(t,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&t.preventDefault()})}var C5e=class{constructor(e){this.callback=e,this.devicePixelRatio=Nn("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=t=>{t.matches||(this.devicePixelRatio=Nn("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){this.devicePixelRatioMediaQuery?.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){const e=Nn("matchMedia")?.(`(resolution: ${this.pixelRatio}dppx)`);e?.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=e}},CZ=class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([t,n])=>this.observe(t,n)),this.queuedObserveRequests=[],this.observeWindow()},typeof ResizeObserver<"u"&&(this.resizeObserver=new ResizeObserver(t=>{for(const{target:n,contentRect:{width:s,height:i}}of t){const r=this.elements.get(n);this.checkSize(r,n,s,i)}}));let e;this.pixelRatioObserver=new C5e(()=>{clearTimeout(e),e=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady=Ll("readyState")==="complete",this.documentReady?this.observeWindow():Nn()?.addEventListener("load",this.onLoad)}destroy(){Nn()?.removeEventListener("load",this.onLoad),this.resizeObserver?.disconnect(),this.resizeObserver=void 0,this.pixelRatioObserver?.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){this.pixelRatioObserver?.observe()}checkPixelRatio(){const e=this.pixelRatioObserver?.pixelRatio??1;for(const[t,n]of this.elements)if(n.size!=null&&n.size.pixelRatio!==e){const{width:s,height:i}=n.size;n.size={width:s,height:i,pixelRatio:e},n.cb(n.size,t)}}checkSize(e,t,n,s){if(e&&(n!==e.size?.width||s!==e.size?.height)){const i=this.pixelRatioObserver?.pixelRatio??1;e.size={width:n,height:s,pixelRatio:i},e.cb(e.size,t)}}observe(e,t){if(!this.documentReady){this.queuedObserveRequests.push([e,t]);return}this.elements.has(e)?this.removeFromQueue(e):this.resizeObserver?.observe(e);const n={cb:t};this.elements.set(e,n)}unobserve(e){this.resizeObserver?.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(([t])=>t!==e)}},Ag=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),typeof t<"u"&&super.set(e,t),delete this.cachedState,delete this.cachedValue,this}delete(e){return delete this.cachedState,delete this.cachedValue,super.delete(e)}stateId(){return this.cachedState??(this.cachedState=Array.from(this.keys()).pop()??this.defaultState),this.cachedState}stateValue(){return this.cachedValue??(this.cachedValue=Array.from(this.values()).pop()??this.defaultValue),this.cachedValue}},M5e='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay ag-charts-tooltip-container"></div></div></div></div>',j5e=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area","tooltip-container"],N5e=new Set(["styles","canvas-container","canvas","tooltip-container"]),O9={safeHorizontal:"ag-charts-wrapper--safe-horizontal",safeVertical:"ag-charts-wrapper--safe-vertical"},A5e=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}],["tooltip-container",{childElementType:"div"}]]);function T5e(e,t){if(typeof IntersectionObserver>"u")return;const n=new IntersectionObserver(s=>{for(const i of s)i.target===e&&t(i.intersectionRatio)},{root:e});return n.observe(e),n}var MZ={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON(){return MZ}};function R9(e,t){const n=Ot("div");return n.className="ag-charts-tab-guard",e.insertAdjacentElement(t,n),n}var kO=class Ah extends AO{constructor(t,n,s,i,r="normal"){super(),this.eventsHub=t,this.chart=n,this.styleContainer=i,this.mode=r,this.anchorName=`--${Xo(this)}`,this.styles=new Map,this.pendingContainer=void 0,this.container=void 0,this.documentRoot=void 0,this.initiallyConnected=void 0,this.containerSize=void 0,this.sizeMonitor=new CZ,this.cursorState=new Ag("default"),this.minWidth=0,this.minHeight=0,this.element=this.initDOM(),this.rootElements=this.initRootElements(),this.rootElements.canvas.element.style.setProperty("anchor-name",this.anchorName);let a=!1;if(this.observer=T5e(this.element,o=>{o===0&&!a&&this.eventsHub.emit("dom:hidden",null),a=o===0}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",b5e),this.setContainer(s),this.cleanup.register(wZ(this.element)),this.mode==="normal"){const o=this.rootElements["canvas-center"].element;if(o==null)throw new Error("Error initializing tab guards");const c=R9(o,"beforebegin"),u=R9(o,"afterend");this.tabGuards=new v5e(o,c,u)}}initDOM(){if(this.mode==="normal"){const s=Ot("div");return s.innerHTML=M5e,s.firstChild}const t=Ot("div");t.role="presentation",t.dataset.agCharts="",t.classList.add("ag-charts-wrapper");const n=Ot("div");return t.appendChild(n),n.role="presentation",n.classList.add("ag-charts-series-area"),t}initRootElements(){const{mode:t,element:n}=this,s={};for(const i of j5e){const r=`ag-charts-${i}`;let a;if(t==="normal"?a=n.classList.contains(r)?n:n.getElementsByClassName(r)[0]:N5e.has(i)?a=n:a=n.getElementsByClassName(r)[0]??Ot("div"),a==null)throw new Error(`AG Charts - unable to find DOM element ${r}`);s[i]={element:a,children:new Map,listeners:[]}}return s}destroy(){super.destroy(),this.observer?.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),this.pendingContainer=void 0,Object.values(this.rootElements).forEach(t=>{t.children.forEach(n=>n.remove()),t.element.remove()}),this.element.remove()}postRenderUpdate(){this.mode!=="minimal"&&(this.pendingContainer==null||this.pendingContainer===this.container||(Ah.batchedUpdateContainer.length===0&&Nn().setTimeout(this.applyBatchedUpdateContainer.bind(this),0),Ah.batchedUpdateContainer.push(this)))}applyBatchedUpdateContainer(){for(const t of Ah.batchedUpdateContainer)t.destroyed||t.updateContainer();Ah.batchedUpdateContainer.splice(0)}setSizeOptions(t=300,n=300,s,i){const{style:r}=this.element;r.width=`${s??t}px`,r.height=`${i??n}px`,this.minWidth=s??t,this.minHeight=i??n,this.updateContainerClassName()}updateContainerSize(){const{style:t}=this.rootElements["canvas-center"].element;t.visibility=this.containerSize==null?"hidden":"",this.containerSize?(t.width=`${this.containerSize.width??0}px`,t.height=`${this.containerSize.height??0}px`):(t.width="",t.height=""),this.updateContainerClassName()}setTabGuardIndex(t){this.tabGuards&&(this.tabGuards.tabIndex=t)}setContainer(t){t!==this.container&&(this.pendingContainer=t,(this.mode==="minimal"||this.container==null)&&this.updateContainer())}updateContainer(){const{pendingContainer:t}=this;if(!(t==null||t===this.container)){if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),this.documentRoot!=null)for(const n of this.rootElements.styles.children.keys())this.removeChild("styles",n);this.container=t,this.pendingContainer=void 0,this.documentRoot=this.getShadowDocumentRoot(t),this.initiallyConnected=t.isConnected;for(const[n,s]of this.styles)this.addStyles(n,s);t.appendChild(this.element),this.sizeMonitor.observe(t,n=>{this.containerSize=n,this.updateContainerSize(),this.eventsHub.emit("dom:resize",null)}),this.eventsHub.emit("dom:container-change",null)}}setThemeClass(t){const n="ag-charts-theme-";this.element.classList.forEach(s=>{s.startsWith(n)&&s!==t&&this.element.classList.remove(s)}),this.element.classList.add(t)}setThemeParameters(t){for(const[n,s]of Uo(t)){let i=`${s}`;n.endsWith("Size")||n.endsWith("Radius")?i=`${s}px`:n.endsWith("Border")&&typeof s=="boolean"&&(i=s?"var(--ag-charts-border)":"none"),this.element.style.setProperty(`--ag-charts-${h4e(n)}`,i)}}updateCanvasLabel(t){nn(this.rootElements["canvas-proxy"].element,"aria-label",t)}getEventElement(t,n){return["focus","blur","keydown","keyup"].includes(n)?this.rootElements["series-area"].element:t}addEventListener(t,n,s){const i=this.getEventElement(this.element,t);return _n(i,t,n,s)}removeEventListener(t,n,s){this.getEventElement(this.element,t).removeEventListener(t,n,s)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){const t=Nn(),n=new Pe(0,0,t.innerWidth,t.innerHeight),s=this.getRawOverlayClientRect();return n.intersection(s)?.toDOMRect()??MZ}getRawOverlayClientRect(){let t=this.element;const n=this.element.getRootNode()?.fullscreenElement;for(;t!=null;){let r;if(n!=null&&t===n)r=!0;else{const o=t.computedStyleMap?.()?.get("overflow-y")?.toString();r=o==="auto"||o==="scroll"}if(r)return Pe.fromObject(t.getBoundingClientRect());t=t.parentElement}if(this.documentRoot!=null)return Pe.fromObject(this.documentRoot.getBoundingClientRect());const{innerWidth:s,innerHeight:i}=Nn();return new Pe(0,0,s,i)}getShadowDocumentRoot(t=this.container){const n=t?.ownerDocument?.body??Ll("body");for(;t!=null;){if(t===n)return;if(t.parentNode instanceof DocumentFragment)return t;t=t.parentNode}}getParent(t){return this.rootElements[t].element}getChildBoundingClientRect(t){const{children:n}=this.rootElements[t],s=[];for(const i of n.values())s.push(Pe.fromObject(i.getBoundingClientRect()));return Pe.merge(s)}isManagedChildDOMElement(t,n,s){const{children:i}=this.rootElements[n],r=i?.get(s);return r!=null&&t.contains(r)}contains(t,n){return n==null?this.element.contains(t):this.rootElements[n].element.contains(t)}addStyles(t,n){const s="data-ag-charts";if(this.styles.set(t,n),this.container==null)return;const i=o=>o.getAttribute(s)===t,r=o=>{const c=new Set(["TITLE","META"]);let u=!0,h;for(const g of o.children){if(u&&c.has(g.tagName)){h=g;continue}if(u=!1,i(g))return;g.hasAttribute(s)&&(h=g)}const f=Ot("style");return this.chart.styleNonce!=null&&(f.nonce=this.chart.styleNonce),h==null?o.prepend(f):o.insertBefore(f,h.nextSibling),f};let a;this.styleContainer?a=r(this.styleContainer):this.initiallyConnected===!1?a=this.addChild("styles",t):this.documentRoot==null&&!Ah.headStyles.has(t)?(a=r(Ll("head")),Ah.headStyles.add(t)):this.documentRoot!=null&&(a=this.addChild("styles",t)),!(a==null||i(a))&&(a.setAttribute(s,t),a.innerHTML=n)}removeStyles(t){this.removeChild("styles",t)}updateCursor(t,n){this.cursorState.set(t,n),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(t,n,s,i){const{element:r,children:a,listeners:o}=this.rootElements[t];if(!a)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(a.has(n))return a.get(n);const{childElementType:c="div"}=A5e.get(t)??{};if(s&&s.tagName.toLowerCase()!==c.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const u=s??Ot(c);for(const[h,f,g]of o)u.addEventListener(h,f,g);if(a.set(n,u),c==="style"&&this.chart.styleNonce!=null&&(u.nonce=this.chart.styleNonce),i){const h=r.querySelector(i.query);if(h==null)throw new Error(`AG Charts - addChild query failed ${i.query}`);h.insertAdjacentElement(i.where,u)}else r?.appendChild(u);return u}removeChild(t,n){const{children:s}=this.rootElements[t];s&&(s.get(n)?.remove(),s.delete(n))}incrementDataCounter(t){const{dataset:n}=this.element;n[t]??(n[t]="0"),n[t]=String(Number(n[t])+1)}setDataBoolean(t,n){this.element.dataset[t]=String(n)}updateContainerClassName(){const{element:t,containerSize:n,minWidth:s,minHeight:i}=this;t.classList.toggle(O9.safeHorizontal,s>=(n?.width??1/0)),t.classList.toggle(O9.safeVertical,i>=(n?.height??1/0))}};kO.batchedUpdateContainer=[];kO.headStyles=new Set;var jZ=kO,E5e=class extends Hl{constructor(){super(Ot("div")),this.textElement=Ds("text"),this.textElement.role="presentation",this.svgElement=Ds("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(e){this.textElement.textContent=e;const n=this.textElement.getBBox?.();n&&this.svgElement.setAttribute("viewBox",`${n.x} ${n.y} ${n.width} ${n.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},D5e=class{constructor(e,t){this.getDispatcher=t,this.onExpanded=()=>{this.controller.setAriaExpanded(!0);const n=this.getDispatcher();if(n&&this.controls){const s={type:"expand-controlled-widget",controlled:this.controls};n.dispatch("expand-controlled-widget",this.controller,s)}},this.onCollapsed=n=>{this.controller.setAriaExpanded(!1),n.mode==="0"&&this.controller.focus()},e.setAriaExpanded(!1),this.controller=e}destroy(){this.controls?.collapse({mode:"2"}),this.setControlled(void 0)}setControlled(e){this.controls&&(this.controls.removeListener("expand-widget",this.onExpanded),this.controls.removeListener("collapse-widget",this.onCollapsed)),this.controls=e,this.controls&&(this.controller.setAriaControls(this.controls.id),this.controls.addListener("expand-widget",this.onExpanded),this.controls.addListener("collapse-widget",this.onCollapsed))}getControlled(){return this.controls}expandControlled(e){this.controller.isDisabled()||this.controls?.expand({controller:this.controller,sourceEvent:void 0,overrideFocusVisible:e?.overrideFocusVisible})}},IO=class extends Hl{constructor(e,t){super(e),nn(this.elem,"role",t),this.setEnabled(!0),this.addListener("keydown",({sourceEvent:n})=>{EO(n)&&(n.preventDefault(),this.htmlListener?.dispatch("click",this,{type:"click",device:"keyboard",sourceEvent:n}))})}lazyControllerImpl(){return this.controllerImpl??(this.controllerImpl=new D5e(this,()=>this.internalListener)),this.controllerImpl}destructor(){this.controllerImpl?.destroy()}setEnabled(e){nn(this.elem,"aria-disabled",!e)}setControlled(e){return this.lazyControllerImpl().setControlled(e)}getControlled(){return this.lazyControllerImpl().getControlled()}expandControlled(e){return this.lazyControllerImpl().expandControlled(e)}addListener(e,t){return super.addListener(e,(n,s)=>{(e==="click"||e==="dblclick")&&this.isDisabled()||t(n,s)})}},cb=class extends IO{constructor(){super(Ot("button"))}},k5e=class extends Hl{constructor(){super(Ot("div")),nn(this.elem,"role","group")}destructor(){}},LO=class extends Hl{constructor(e,t){super(Ot("div")),this.focusedChildIndex=0,this.onChildFocus=(n,s)=>{const i=this.children[this.focusedChildIndex];this.focusedChildIndex=s.index,i?.setTabIndex(-1),s.setTabIndex(0)},this.onChildKeyDown=(n,s)=>{const i=this.orientation,[r,a]=i==="both"?[ux.horizontal,ux.vertical]:[ux[i],void 0];let o=-1;if(lb(n.sourceEvent)){const c=n.sourceEvent.key;c===r.nextKey||c===a?.nextKey?o=s.index+1:(c===r.prevKey||c===a?.prevKey)&&(o=s.index-1)}this.children[o]?.focus()},nn(this.elem,"role",t),this.orientation=e}get orientation(){return ag(this.elem,"aria-orientation")??"both"}set orientation(e){nn(this.elem,"aria-orientation",e!=="both"?e:void 0)}focus(){this.children[this.focusedChildIndex]?.focus()}clear(){this.focusedChildIndex=0;for(const e of this.children)this.removeChildListeners(e),e.parent=void 0;this.elem.textContent="",this.children.length=0}addChildListeners(e){e.addListener("focus",this.onChildFocus),e.addListener("keydown",this.onChildKeyDown)}removeChildListeners(e){e.removeListener("focus",this.onChildFocus),e.removeListener("keydown",this.onChildKeyDown)}onChildAdded(e){this.addChildListeners(e),e.setTabIndex(this.children.length===1?0:-1)}onChildRemoved(e){this.removeChildListeners(e);const{focusedChildIndex:t,children:n}=this,s=t===e.index;for(let i=0;i<n.length;i++){const r=n[i];r.index===t&&(this.focusedChildIndex=i),r.index=i}if(s){const i=n[t]??n[t-1];i?(this.focusedChildIndex=i.index,i.setTabIndex(0)):this.focusedChildIndex=0}}},I5e=class extends LO{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(e=>e.getElement().parentElement.remove())}addChildToDOM(e,t){const n=Ot("div");nn(n,"role","listitem"),vl(n,"position","absolute"),Hl.setElementContainer(e,n),this.appendOrInsert(n,t),this.setHidden(!1)}removeChildFromDOM(e){e.getElement().parentElement.remove(),this.setHidden(this.children.length===0)}setHidden(e){this.children.length===0&&(e=!0),super.setHidden(e)}},Tg=class extends Hl{constructor(e){super(e)}destructor(){}},L5e=new Intl.NumberFormat("en-US",{style:"percent"});function Eg(e,t=2){return typeof e=="number"?AZ(e,t):typeof e=="string"?e:String(e??"")}function NZ(e){return L5e.format(e)}var _9=new Map().set(2,new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}));function AZ(e,t){let n=_9.get(t);return n||(n=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,useGrouping:!1}),_9.set(t,n)),n.format(e)}var OO=class Vy extends Hl{constructor(){super(Ot("input")),this._step=Vy.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(t){this._step=t,this.getElement().step=t.attributeValue}get keyboardStep(){return this._keyboardStep?.step??this._step}set keyboardStep(t){if(t!==this._keyboardStep?.step&&(this._keyboardStep!==void 0&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),t!==void 0)){const n=()=>this.getElement().step=t.attributeValue,s=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:t,onKeyDown:n,onKeyUp:s,onBlur:s},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return ag(this.elem,"aria-orientation")??"both"}set orientation(t){nn(this.elem,"aria-orientation",t!=="both"?t:void 0),Vy.registerDefaultPreventers(this,t)}destructor(){}clampValueRatio(t,n){const s=this.getValueRatio(),i=wt(t,s,n);return i!==s&&this.setValueRatio(i),i}setValueRatio(t,n){const{divider:s}=this.step,i=Math.round(t*1e4)/s,{ariaValueText:r=NZ(i/s)}=n??{},a=this.getElement();a.value=`${i}`,a.ariaValueText=r}getValueRatio(){return this.getElement().valueAsNumber/this.step.divider}static registerDefaultPreventers(t,n){n==="both"?t.removeListener("keydown",Vy.onKeyDown):t.addListener("keydown",Vy.onKeyDown)}static onKeyDown(t,n){let s=[];const{orientation:i}=n;i==="horizontal"?s=["ArrowUp","ArrowDown"]:i==="vertical"&&(s=["ArrowLeft","ArrowRight"]),s.includes(t.sourceEvent.code)&&t.sourceEvent.preventDefault()}};OO.STEP_ONE={attributeValue:"1",divider:1};OO.STEP_HUNDRETH={attributeValue:"0.01",divider:100};var RO=OO,O5e=class extends cb{constructor(){super(),nn(this.elem,"role","switch"),this.setChecked(!1)}setChecked(e){nn(this.elem,"aria-checked",e)}},eC=class extends LO{constructor(e="horizontal"){super(e,"toolbar")}destructor(){}};function Sp(e,t){return t.params?.type===e}function R5e(e){if(e==="button")return new cb;if(e==="slider")return new RO;if(e==="toolbar")return new eC;if(e==="group")return new k5e;if(e==="list")return new I5e;if(e==="region")return new Tg(Ot("div"));if(e==="text")return new E5e;if(e==="listswitch")return new O5e;throw Error("AG Charts - error allocating meta")}function P9(e){const t={params:e,result:void 0};return t.result=R5e(t.params.type),t}var TZ=class{constructor(e,t,n){this.eventsHub=e,this.localeManager=t,this.domManager=n,this.cleanup=new Cs}destroy(){this.cleanup.flush()}addLocalisation(e){e(),this.cleanup.register(this.eventsHub.on("locale:change",e))}createProxyContainer(e){const t=P9(e),{params:n,result:s}=t,i=s.getElement();return this.domManager.addChild("canvas-proxy",n.domManagerId,i),i.classList.add(...n.classList,"ag-charts-proxy-container"),i.role=n.type,Sp("toolbar",t)&&(t.result.orientation=t.params.orientation),this.addLocalisation(()=>{i.ariaLabel=this.localeManager.t(n.ariaLabel.id,n.ariaLabel.params)}),s}createProxyElement(e){const t=P9(e);if(Sp("button",t)){const{params:n,result:s}=t,i=s.getElement();if(this.initInteract(n,s),typeof n.textContent=="string")i.textContent=n.textContent;else{const{textContent:r}=n;this.addLocalisation(()=>{i.textContent=this.localeManager.t(r.id,r.params)})}this.setParent(t.params,t.result)}if(Sp("slider",t)){const{params:n,result:s}=t,i=s.getElement();this.initInteract(n,s),i.type="range",i.role="presentation",i.style.margin="0px",this.addLocalisation(()=>{i.ariaLabel=this.localeManager.t(n.ariaLabel.id,n.ariaLabel.params)}),this.setParent(t.params,t.result)}if(Sp("text",t)){const{params:n,result:s}=t;this.initElement(n,s),this.setParent(t.params,t.result)}if(Sp("listswitch",t)){const{params:n,result:s}=t;this.initInteract(n,s),s.setTextContent(n.textContent),s.setChecked(n.ariaChecked),s.setAriaDescribedBy(n.ariaDescribedBy),this.setParent(t.params,t.result)}if(Sp("region",t)){const{params:n,result:s}=t,i=s.getElement();this.initInteract(n,s),i.role="region",this.setParent(t.params,t.result)}return t.result}initElement(e,t){const n=t.getElement();return vl(n,"cursor",e.cursor),n.classList.toggle("ag-charts-proxy-elem",!0),n}initInteract(e,t){const{tabIndex:n,domIndex:s}=e,i=this.initElement(e,t);n!==void 0&&(i.tabIndex=n),s!==void 0&&(t.domIndex=s)}setParent(e,t){if("parent"in e)e.parent?.addChild(t);else{const n={where:e.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",e.domManagerId,t.getElement(),n),t.destroyListener=()=>{this.domManager.removeChild("canvas-proxy",e.domManagerId)}}}},_5e={ariaInitSeriesArea:"interactive chart",ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceStandaloneChart:"chart, ${caption}",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationsToolbar:"Annotations",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColor:"Color",ariaLabelColorPicker:"Color picker",ariaLabelColorPickerAlpha:"Transparency",ariaLabelColorPickerHue:"Hue",ariaLabelColorPickerMultiColor:"Multi Color",ariaLabelColorPickerPalette:"Palette",ariaLabelFinancialCharts:"Financial Charts",ariaLabelGaugeTarget:"Target",ariaLabelGaugeValue:"Value",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaRoleDescription2DSlider:"2D slider",ariaValueColorPalette:"s ${s}[percent0to2dp], v ${v}[percent0to2dp]",ariaValueColorPaletteFirstV:"v ${v}[percent0to2dp], s ${s}[percent0to2dp]",ariaValuePanRange:"${min}[percent0to2dp] to ${max}[percent0to2dp]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",contextMenuResetZoom:"Reset zoom",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}",tooltipPaginationStatus:"${index}[number] of ${count}[number]"},P5e=/\$\{(\w+)}(?:\[(\w+)])?/gi,_T={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),percent0to2dp:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},z5e=({defaultValue:e,variables:t})=>e?.replaceAll(P5e,(n,s,i)=>{const r=t[s],a=i!=null?_T[i]:null;return i!=null&&a==null&&Ne.warnOnce(`Format style [${i}] is not supported`),a!=null?a.format(r):typeof r=="number"?_T.number.format(r):r instanceof Date?_T.datetime.format(r):String(r)}),F5e=class{constructor(e){this.eventsHub=e,this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.eventsHub.emit("locale:change",null))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.eventsHub.emit("locale:change",null))}t(e,t={}){const{localeText:n=_5e,getLocaleText:s}=this,i=n[e];return s?.({key:e,defaultValue:i,variables:t})??z5e({defaultValue:i,variables:t})??e}},_O=class{constructor(e){this.enabled=!0,this.width=600,this.height=300;const{width:t,height:n,canvasElement:s,willReadFrequently:i=!1}=e;this.pixelRatio=e.pixelRatio??Nn("devicePixelRatio")??1,this.element=s??Ot("canvas"),this.element.style.display="block",this.element.style.width=(t??this.width)+"px",this.element.style.height=(n??this.height)+"px",this.element.width=Math.round((t??this.width)*this.pixelRatio),this.element.height=Math.round((n??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:i}),this.onEnabledChange(),this.resize(t??0,n??0,this.pixelRatio),Rq(this.context)}drawImage(e,t=0,n=0){return e.drawImage(this.context.canvas,t,n)}toDataURL(e){return this.element.toDataURL(e)}resize(e,t,n){if(!(e>0&&t>0))return;const{element:s,context:i}=this;s.width=Math.round(e*n),s.height=Math.round(t*n),i.setTransform(n,0,0,n,0,0),s.style.width=e+"px",s.style.height=t+"px",this.width=e,this.height=t,this.pixelRatio=n}clear(){Oq(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}reset(){this.context.reset(),this.context.verifyDepthZero?.()}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};D([Ld(e=>e.onEnabledChange())],_O.prototype,"enabled",2);var $5e=class extends Id{constructor(){super(...arguments),this.cache=new Map,this.imageLoadingCount=0}loadImage(e,t){const n=this.cache.get(e);if(n?.image)return n.image;if(n!=null&&t){n.nodes.add(t);return}if(!t)return;const s={image:void 0,nodes:new Set([t])},i=new Image;return this.imageLoadingCount++,i.onload=()=>{s.image=i;for(const r of s.nodes)r.markDirty();s.nodes.clear(),this.imageLoadingCount--,this.emit("image-loaded",{uri:e})},i.onerror=()=>{this.imageLoadingCount--,s.nodes.clear(),this.emit("image-error",{uri:e})},i.src=e,this.cache.set(e,s),s.image}waitingToLoad(){return this.imageLoadingCount>0}destroy(){this.cache.forEach(e=>{e.nodes.clear()}),this.cache.clear()}},B5e=class{constructor(e){this.canvas=e,this.debug=Dt.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(e,t,n){this.canvas.resize(e,t,n),this.layersMap.forEach(({canvas:s})=>s.resize(e,t,n))}addLayer(e){const{width:t,height:n,pixelRatio:s}=this.canvas,{name:i}=e,r=new pO({width:t,height:n,pixelRatio:s});return this.layersMap.set(r,{id:this.nextLayerId++,name:i,canvas:r}),this.debug("Scene.addLayer() - layers",this.layersMap),r}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(const e of this.layersMap.values())e.canvas.destroy();this.layersMap.clear()}},tC=class extends Id{constructor(e){super(),this.debug=Dt.create(!0,"scene"),this.id=Xo(this),this.imageLoader=new $5e,this.root=null,this.pendingSize=null,this.isDirty=!1,this.cleanup=new Cs,this.updateDebugFlags(),this.canvas=new _O(e),this.layersManager=new B5e(this.canvas),this.cleanup.register(this.imageLoader.on("image-loaded",()=>{this.emit("scene-changed",{})}),this.imageLoader.on("image-error",({uri:t})=>{Ne.warnOnce(`Unable to load image ${t}`)}))}waitingForUpdate(){return this.imageLoader?.waitingToLoad()??!1}get width(){return this.pendingSize?.[0]??this.canvas.width}get height(){return this.pendingSize?.[1]??this.canvas.height}get pixelRatio(){return this.pendingSize?.[2]??this.canvas.pixelRatio}setContainer(e){const{element:t}=this.canvas;return t.parentElement?.removeChild(t),e.appendChild(t),this}setRoot(e){return this.root===e?this:(this.isDirty=!0,this.root?.setScene(),this.root=e,e&&(e.visible=!0,e.setScene(this)),this)}updateDebugFlags(){Dt.inDevelopmentMode(()=>Gc._debugEnabled=!0)}clearCanvas(){this.canvas.clear()}attachNode(e){return this.appendChild(e),()=>this.removeChild(e)}appendChild(e){return this.root?.appendChild(e),this}removeChild(e){return this.root?.removeChild(e),this}download(e,t){WOe(this.canvas.toDataURL(t),e?.trim()??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t,n){return e=Math.round(e),t=Math.round(t),n??(n=this.pixelRatio),e>0&&t>0&&(e!==this.width||t!==this.height||n!==this.pixelRatio)?(this.pendingSize=[e,t,n],this.isDirty=!0,!0):!1}render(e){const{debugSplitTimes:t={start:performance.now()},extraDebugStats:n,seriesRect:s}=e??{},{canvas:i,canvas:{context:r}={},root:a,pendingSize:o,width:c,height:u,pixelRatio:h}=this;if(!r)return;const f=performance.now();let g=!1;if(o&&(g=!0,this.layersManager.resize(...o),this.pendingSize=null),a&&!a.visible){this.isDirty=!1;return}let m;if(a instanceof Et&&(m=a.dirty),a!=null&&m===!1&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{tree:AS(a,"console")}),D9(this.layersManager,t,r,void 0,n,s);return}const y={ctx:r,width:c,height:u,devicePixelRatio:h,debugNodes:{}};Dt.check("scene:stats:verbose")&&(y.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),l5e(y);let b=!1;if((m!==!1||g)&&(b=!0,i.clear()),a&&Dt.check("scene:dirtyTree")){const{dirtyTree:S,paths:C}=uZ(a);Dt.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:S,paths:C})}if(a&&b){if(a.visible&&a.preRender(y),this.debug.check()){const S=AS(a,"console");this.debug("Scene.render() - before",{canvasCleared:b,tree:S})}if(a.visible)try{r.save(),a.render(y),r.restore()}catch(S){throw this.canvas.reset(),S}}t[""]=performance.now()-f,r.verifyDepthZero?.(),this.isDirty=!1,D9(this.layersManager,t,r,y.stats,n,s),c5e(r,y.debugNodes),a&&this.debug.check()&&this.debug("Scene.render() - after",{tree:AS(a,"console"),canvasCleared:b})}toSVG(){const{root:e,width:t,height:n}=this;if(e!=null)return Gc.toSVG(e,t,n)}strip(){const{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1,this.clear()}destroy(){this.strip(),this.canvas.destroy(),this.imageLoader.destroy(),this.cleanup.flush(),Object.assign(this,{canvas:void 0})}};tC.className="Scene";var V5e=class{constructor(e,t,n){this.eventsHub=e,this.annotationRoot=t,this.fireChartEvent=n,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return e==null||Pt(e)}restoreMemento(e,t,n){this.annotations=this.cleanData(n??[]).map(s=>{const i=this.getAnnotationTypeStyles(s.type);return pn(s,i)}),this.eventsHub.emit("annotations:restore",{annotations:this.annotations})}updateData(e){this.annotations=this.cleanData(e??[])}fireChangedEvent(){this.fireChartEvent({type:"annotations",annotations:xs([...this.annotations])})}attachNode(e){return this.annotationRoot.append(e),()=>(this.annotationRoot?.removeChild(e),this)}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){return this.styles?.[e]}cleanData(e){for(const t of e)"textAlign"in t&&delete t.textAlign;return e}},EZ=(e=>(e[e.CHART_BACKGROUND=0]="CHART_BACKGROUND",e[e.AXIS_BAND_HIGHLIGHT=1]="AXIS_BAND_HIGHLIGHT",e[e.AXIS_GRID=2]="AXIS_GRID",e[e.AXIS=3]="AXIS",e[e.SERIES_AREA_CONTAINER=4]="SERIES_AREA_CONTAINER",e[e.ZOOM_SELECTION=5]="ZOOM_SELECTION",e[e.SERIES_CROSSLINE_RANGE=6]="SERIES_CROSSLINE_RANGE",e[e.SERIES_LAYER=7]="SERIES_LAYER",e[e.AXIS_FOREGROUND=8]="AXIS_FOREGROUND",e[e.SERIES_CROSSHAIR=9]="SERIES_CROSSHAIR",e[e.SERIES_CROSSLINE_LINE=10]="SERIES_CROSSLINE_LINE",e[e.SERIES_ANNOTATION=11]="SERIES_ANNOTATION",e[e.CHART_ANNOTATION=12]="CHART_ANNOTATION",e[e.CHART_ANNOTATION_FOCUSED=13]="CHART_ANNOTATION_FOCUSED",e[e.STATUS_BAR=14]="STATUS_BAR",e[e.SERIES_LABEL=15]="SERIES_LABEL",e[e.LEGEND=16]="LEGEND",e[e.NAVIGATOR=17]="NAVIGATOR",e[e.FOREGROUND=18]="FOREGROUND",e))(EZ||{}),U5e=class{constructor(e,t){this.eventsHub=e,this.sceneRoot=t,this.axes=new Map,this.axisGridGroup=new Et({name:"Axes-Grids",zIndex:2}),this.axisGroup=new Et({name:"Axes",zIndex:3}),this.axisLabelGroup=new Et({name:"Axes-Labels",zIndex:15}),this.axisCrosslineRangeGroup=new Et({name:"Axes-Crosslines-Range",zIndex:6}),this.axisCrosslineLineGroup=new Et({name:"Axes-Crosslines-Line",zIndex:10}),this.axisCrosslineLabelGroup=new Et({name:"Axes-Crosslines-Label",zIndex:15}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(e,t){const n={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(const s of e)t.includes(s)||(s.detachAxis(n),s.destroy());for(const s of t)e?.includes(s)||s.attachAxis(n);this.axes.clear();for(const s of t){const i=s.createAxisContext();this.axes.has(i.direction)?this.axes.get(i.direction)?.push(i):this.axes.set(i.direction,[i])}this.eventsHub.emit("axis:change",null)}getAxisContext(e){return this.axes.get(e)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},dx=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PROCESS_DOMAIN=3]="PROCESS_DOMAIN",e[e.PERFORM_LAYOUT=4]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=5]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=6]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=7]="SCENE_RENDER",e[e.NONE=8]="NONE",e))(dx||{}),nC=class{constructor(e,t,n){this.eventsHub=e,this.caller=t,this.animationManager=n,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.pendingData=void 0,this.debug=Dt.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){typeof e=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.eventsHub.emit("data:source-change",null))}clearCallback(){this.dataSourceCallback=void 0}load(e){const{pendingData:t}=this;if(t!=null&&t.params.windowStart?.valueOf()===e.windowStart?.valueOf()&&t.params.windowEnd?.valueOf()===e.windowEnd?.valueOf()){const n=this.requestCounter++;this.isLoadingInitialData=!1,this.dispatch(n,t.data);return}this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}async getData(){const{latestRequest:e}=this;if(!e)return;const{params:t,fetchRequest:n}=e,s=await n;return{params:t,data:s}}restoreData(e){this.pendingData=e}createThrottledFetch(e){return a9(t=>this.fetch(t).catch(n=>Ne.error("callback failed",n)),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return a9((t,n)=>this.dispatch(t,n),e,{leading:!0,trailing:!0})}dispatch(e,t){this.debug(`DataService - dispatching 'data-load' | ${e}`),this.eventsHub.emit("data:load",{data:t})}async fetch(e){"context"in this.caller&&(e.context=this.caller.context);const t=Promise.resolve().then(async()=>{if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const n=performance.now(),s=this.requestCounter++;this.debug(`DataService - requesting | ${s}`);let i;try{i=await this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-n}ms | ${s}`)}catch(a){this.debug(`DataService - request failed | ${s}`),Ne.errorOnce(`DataService - request failed | [${a}]`)}this.isLoadingInitialData=!1;const r=this.freshRequests.indexOf(t);return r===-1||this.dispatchOnlyLatest&&r!==this.freshRequests.length-1?(this.debug(`DataService - discarding stale request | ${s}`),i):(this.freshRequests=this.freshRequests.slice(r+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(i)?this.throttledDispatch(s,i):this.eventsHub.emit("data:error",null),i)});this.latestRequest={params:e,fetchRequest:t},this.freshRequests.push(t),await t}};D([fr({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],nC.prototype,"dispatchThrottle",2);D([fr({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],nC.prototype,"requestThrottle",2);var H5e=class{constructor(e,t){this.domManager=e,this.updateService=t,this.observers=[]}updateFonts(e){!e||e.size===0||(this.loadFonts(e),e.forEach(t=>{this.observeFontStatus(t)}))}destroy(){for(const e of this.observers)e.disconnect();this.observers=[]}loadFonts(e){const t=Array.from(e).map(r=>encodeURIComponent(r)),n=":wght@100;200;300;400;500;600;700;800;900",s=`${n}&family=`,i=`@import url('https://fonts.googleapis.com/css2?family=${t.join(s)}${n}&display=swap');
`;this.domManager.addStyles(`google-font-${t.join("-")}`,i)}observeFontStatus(e){const t=window.document.createElement("div");t.style.setProperty("position","absolute"),t.style.setProperty("top","0"),t.style.setProperty("margin","0"),t.style.setProperty("padding","0"),t.style.setProperty("overflow","hidden"),t.style.setProperty("visibility","hidden"),t.style.setProperty("width","auto"),t.style.setProperty("max-width","none"),t.style.setProperty("font-synthesis","none"),t.style.setProperty("font-family",e),t.style.setProperty("font-size","16px"),t.style.setProperty("white-space","nowrap"),t.textContent="UVWxyz",this.domManager.addChild("canvas-container",`font-check-${encodeURIComponent(e)}`,t);const n=new ResizeObserver(s=>{const i=s?.at(0)?.contentBoxSize.at(0)?.inlineSize;i!=null&&i>0&&(wa.clear(),this.updateService.update(4))});n.observe(t),this.observers.push(n)}},DZ=class{constructor(){this.registeredListeners=new Map}addListener(e,t){const n={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(n):this.registeredListeners.set(e,[n]),()=>this.removeListener(n.symbol)}removeListener(e){for(const[t,n]of this.registeredListeners.entries()){const s=n.findIndex(i=>i.symbol===e);if(s>=0){n.splice(s,1),n.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(const n of this.getListenersByType(e))try{n.handler(...t)}catch(s){Ne.errorOnce(s)}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},Ly=new WeakMap;function t0(e,t){const n=JSON.stringify(e,null,0);return Ly.has(t)||Ly.set(t,new Map),Ly.get(t)?.has(n)||Ly.get(t)?.set(n,t(e)),Ly.get(t)?.get(n)}var PT=class{constructor(){this.weak=new WeakMap,this.strong=new Map,this.set=!1,this.value=void 0}};function ub(e,t){let n=new PT;const s=(...i)=>{let r=n;for(const a of i){const o=typeof a=="object"||typeof a=="symbol"?r.weak:r.strong;let c=o.get(a);c==null&&(c=new PT,o.set(a,c)),r=c}if(r.set)return t?.("hit",e,i),r.value;{const a=e(...i);return r.set=!0,r.value=a,t?.("miss",e,i),a}};return s.reset=()=>{n=new PT},s}function Vi(e,t){const n=new Map,s=(...a)=>a.map(o=>typeof o=="object"||typeof o=="symbol"?o:(n.has(o)||n.set(o,{v:o}),n.get(o))),i={},r=new WeakMap;return(...a)=>{const o=a.length===0?[i]:s(...a);let c=r;for(const f of o.slice(0,-1))c.has(f)||c.set(f,new WeakMap),c=c.get(f);const u=o.at(-1);let h=c.get(u);return h?t?.("hit",e,a):(h=e(...a),c.set(u,h),t?.("miss",e,a)),h}}var gl={millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e",month:"%b",year:"%Y"},G5e={millisecond:"%Y %b %e %H:%M:%S.%L",second:"%Y %b %e %H:%M:%S",minute:"%Y %b %e %H:%M",hour:"%Y %b %e %H:%M",day:"%Y %b %e",month:"%Y %b",year:"%Y"},tr={year:0,month:1,day:2,hour:3,minute:4,second:5,millisecond:6},W5e=/%[-_0]?L/,Y5e=/%[-_0]?S/,K5e=/%[-_0]?M/,q5e=/%[-_0]?[HI]/,Z5e=/^%[-_0]?[de]$/,Q5e=/^%[-_0]?[Bbm]$/,X5e=/^%[-_0]?[Yy]$/;function J5e(e,t,n){if(typeof e=="string")return e;e??(e=gl);const{millisecond:s=gl.millisecond,second:i=gl.second,minute:r=gl.minute,hour:a=gl.hour,day:o=gl.day,month:c=gl.month,year:u=gl.year}=e,h=tr[t],f=G5e[t],g=n?tr[n]:-1;if(g<tr.year&&h>=tr.year&&!X5e.test(u)||g<tr.month&&h>=tr.month&&!Q5e.test(c)||g<tr.day&&h>=tr.day&&!Z5e.test(o))return f;let m;switch(t){case"year":return u;case"month":return g<tr.year?`${c} ${u}`:c;case"day":return g<tr.year?`${c} ${o} ${u}`:`${c} ${o}`;case"hour":m=a;break;case"minute":m=r;break;case"second":m=i;break;case"millisecond":m=s;break;default:return f}if(h>=tr.hour&&!q5e.test(m)||h>=tr.minute&&!K5e.test(m)||h>=tr.second&&!Y5e.test(m)||h>=tr.millisecond&&!W5e.test(m))return f;let y;return g<tr.year?y=`${c} ${o} ${u}`:g<tr.month&&(y=`${c} ${o}`),y?`${m} ${y}`:m}var Dg=class DS extends DZ{constructor(){super(...arguments),this.formats=new Map,this.dateFormatter=ub((t,n,s,i,r)=>{const a=DS.mergeSpecifiers(t,n)??gl;return DS.getFormatter("date",a,s,i,{truncateDate:r})}),this.formatter=void 0}static mergeSpecifiers(...t){let n;for(const s of t)typeof s=="string"?n=s:In(s)&&(n=In(n)?{...n,...s}:s);return n}static getFormatter(t,n,s,i="long",{truncateDate:r}={}){if(In(n)){if(t!=="date"){Ne.warn("Date formatter configuration is not supported for non-date types.");return}s??(s="millisecond");const a=i==="component"?n?.[s]??gl[s]:J5e(n,s,r);return Wx(a)}switch(t){case"number":{const a=sO(n);return a==null?void 0:dq(a)}case"date":return Wx(n);case"category":return a=>n.replace("%s",String(a))}}setFormatter(t){this.formatter!==t&&(this.formatter=t,this.formats.clear(),this.dateFormatter.reset(),this.dispatch("format-changed"))}format(t,n,{specifier:s,truncateDate:i}={}){if(n.value==null)return;const{formatter:r}=this;if(r==null)return;if(typeof r=="function"){const u=t(r,n);return u!=null?String(u):void 0}const a=r[n.property];if(a==null)return;if(typeof a=="function"){const u=t(a,n);return u!=null?String(u):void 0}else if(n.type==="date"){const{unit:u,style:h}=n;return this.dateFormatter(a,s,u,h,i)?.(n.value)}const o=s??a;if(typeof o!="string")return;let c=this.formats.get(o);return c==null&&(c=DS.getFormatter(n.type,o),this.formats.set(o,c)),c?.(n.value,n.type==="number"?n.fractionDigits:void 0)}defaultFormat(t,{specifier:n,truncateDate:s}={}){const{formatter:i}=this,r=typeof i=="function"?void 0:i?.[t.property];switch(t.type){case"date":{const{unit:a,style:o}=t,c=r!=null&&typeof r!="function"?r:void 0;return this.dateFormatter(c,n,a,o,s)?.(t.value)??String(t.value)}case"number":return Eg(t.value,t.fractionDigits);case"category":return Array.isArray(t.value)?t.value.join(" - "):typeof t.value=="string"?t.value:typeof t.value=="number"?Eg(t.value):String(t.value)}}};function eRe(e,t){return n=>Number(e)*(1-n)+Number(t)*n}function kZ(e,t){if(typeof e=="string")try{e=Pn.fromString(e)}catch{e=Pn.fromArray([0,0,0])}if(typeof t=="string")try{t=Pn.fromString(t)}catch{t=Pn.fromArray([0,0,0])}return n=>Pn.mix(e,t,n).toRgbaString()}var zD={};Ul(zD,{easeIn:()=>tRe,easeInOut:()=>nRe,easeInOutQuad:()=>rRe,easeInQuad:()=>sRe,easeOut:()=>n0,easeOutQuad:()=>iRe,inverseEaseOut:()=>LZ,linear:()=>IZ});var IZ=e=>e,tRe=e=>1-Math.cos(e*Math.PI/2),n0=e=>Math.sin(e*Math.PI/2),nRe=e=>-(Math.cos(e*Math.PI)-1)/2,sRe=e=>e*e,iRe=e=>1-(1-e)**2,rRe=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,LZ=e=>2*Math.asin(e)/Math.PI,Iw=.2,Rp=["initial","remove","update","add","trailing","end","none"],s0={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Iw,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+Iw,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},OZ=(e=>(e.Loop="loop",e.Reverse="reverse",e))(OZ||{});function aRe(e){return e.every(t=>t instanceof Gc)}function sC(e){return aRe(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}function FD(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((n,s)=>FD(n,t[s])):Aw(e)&&Aw(t)?e.equals(t):In(e)&&In(t)?mO(e,t,FD):!1}var RZ=class{constructor(e){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??IZ,this.phase=e.phase;const t=e.duration??s0[this.phase].animationDuration;this.duration=t*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,e.skip===!0&&(this.onUpdate?.(e.to,!1,this),this.onStop?.(this),this.onComplete?.(this),this.isComplete=!0),e.collapsable!==!1&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){return FD(e.from,e.to)?0:t}play(e=!1){this.isPlaying||this.isComplete||(this.isPlaying=!0,this.onPlay?.(this),this.autoplay&&(this.autoplay=!1,e&&this.onUpdate?.(this.from,!0,this)))}stop(){this.isPlaying=!1,this.isComplete||(this.isComplete=!0,this.onStop?.(this))}update(e){if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);const t=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;const n=this.interpolate(this.isReverse?1-this.delta:this.delta);this.onUpdate?.(n,!1,this);const s=this.delay+this.duration;return this.elapsed>=s?(this.stop(),this.isComplete=!0,this.onComplete?.(this),e-(s-t)):0}get delta(){return this.ease(wt(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if(typeof t!="object"||Aw(t))return this.interpolateValue(e,t);if(Array.isArray(t)){const s=[];for(let i=0;i<t.length;i++){const r=this.createInterpolator(e[i],t[i]);r!=null&&s.push(r)}return i=>{const r=[];for(const a of s)r.push(a(i));return r}}const n=[];for(const s of Object.keys(t)){const i=this.createInterpolator(e[s],t[s]);i!=null&&n.push([s,i])}return s=>{const i={};for(const[r,a]of n)i[r]=a(s);return i}}interpolateValue(e,t){if(!(e==null||t==null)){if(Aw(e))return n=>e[V2](t,n);try{switch(typeof e){case"number":return eRe(e,t);case"string":return kZ(e,t);case"boolean":if(e===t)return()=>e;break;case"object":return()=>e;default:throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},z9=class{constructor(e){this.maxAnimationTime=e,this.debug=Dt.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(Rp.map(t=>[t,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(Rp[this.currentPhase])??[]}checkOverlappingId(e){e!=null&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){if(e.isComplete)return;if(Rp.indexOf(e.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",e.id),e.stop();return}this.controllers.set(e.id,e),this.phases.get(e.phase)?.push(e)}removeAnimation(e){this.controllers.delete(e.id);const t=this.phases.get(e.phase),n=t?.indexOf(e);n!=null&&n>=0&&t?.splice(n,1)}progress(e){if(!this.isReady)return;let t=e===0?.01:e;const n=()=>{const u=Rp[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:u,phaseMeta:s0[u]}};let{phase:s,phaseControllers:i,phaseMeta:r}=n();const a=()=>Rp[this.currentPhase]==null,o=()=>{for({phase:s,phaseControllers:i,phaseMeta:r}=n();!a()&&i.length===0;)this.currentPhase++,{phase:s,phaseControllers:i,phaseMeta:r}=n(),this.debug(`AnimationBatch - phase changing to ${s}`,{unusedTime:t},i)},c=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${s} with ${i?.length} of ${c}`);do{const u=t,h=r.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0;let f=0;for(const g of i)h?g.stop():t=Math.min(g.update(u),t),g.isComplete&&(f++,this.removeAnimation(g));this.animationTimeConsumed+=u-t,this.debug(`AnimationBatch - updated ${i.length} controllers; ${f} completed`,i),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),o()}while(t>0&&!a());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(const[,t]of this.controllers)if(t.duration>0&&s0[t.phase].skipIfNoEarlierAnimations!==!0){e=!1;break}if(!e)for(const[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(const t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(const e of this.controllers.values())e.play()}stop(){for(const e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){Ne.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(e!=null&&this.controllers.has(e)){const t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(const t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}getRemainingTime(e){if(!this.isActive())return 0;let t=0;for(const[n,s]of this.phases)s.length!==0&&(e!=null&&e!==n||(t+=Math.max(...s.map(i=>i.isComplete?0:i.delay+i.duration-(i.elapsed??0)))));return t}destroy(){this.stop(),this.controllers.clear()}},_Z=(e=>(e[e.Default=32]="Default",e[e.ZoomDrag=16]="ZoomDrag",e[e.Annotations=8]="Annotations",e[e.ContextMenu=4]="ContextMenu",e[e.Animation=2]="Animation",e[e.AnnotationsSelected=1]="AnnotationsSelected",e[e.Clickable=41]="Clickable",e[e.Focusable=34]="Focusable",e[e.Keyable=43]="Keyable",e[e.ContextMenuable=36]="ContextMenuable",e[e.AnnotationsMoveable=9]="AnnotationsMoveable",e[e.AnnotationsDraggable=57]="AnnotationsDraggable",e[e.ZoomDraggable=50]="ZoomDraggable",e[e.ZoomClickable=34]="ZoomClickable",e[e.ZoomWheelable=59]="ZoomWheelable",e[e.All=63]="All",e))(_Z||{}),PZ=class{constructor(){this.stateQueue=34}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}isState(e){return!!(this.stateQueue&-this.stateQueue&e)}};function F9(e){return e==null?!0:!isNaN(e)&&e>=0&&e<=2}var zZ=class{constructor(e,t){this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.maxAnimatableItems=1/0,this.batch=new z9(this.defaultDuration*1.5),this.debug=Dt.create(!0,"animation"),this.events=new Id,this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(e,t){return this.events.on(e,t)}animate(e){const t=this.batch;try{t.checkOverlappingId(e.id)}catch(o){this.failsafeOnError(o);return}let{id:n}=e;n==null&&(n=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const s=this.isSkipped()||e.phase==="none";s&&this.debug("AnimationManager - skipping animation");const{delay:i,duration:r}=e;if(!F9(i))throw new Error(`Animation delay of ${i} is unsupported (${n})`);if(!F9(r))throw new Error(`Animation duration of ${r} is unsupported (${n})`);const a=new RZ({...e,id:n,skip:s,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(a,this.defaultDuration))return this.batch.addAnimation(a),a}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}getRemainingTime(e){return this.batch.getRemainingTime(e)}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=Nn().requestAnimationFrame(t=>{e(t).catch(n=>Ne.error(n))})}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let e;const t=async n=>{await this.debug.group("AnimationManager.onAnimationFrame()",async()=>{const s=()=>{const i=n-(e??n);e=n,this.debug("AnimationManager",{controllersCount:this.batch.size,deltaTime:i}),this.interactionManager.pushState(2);try{this.batch.progress(i)}catch(r){this.failsafeOnError(r)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:i})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(s):await this.chartUpdateMutex.acquire(s),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))})};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){Ne.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.destroy(),this.batch=new z9(this.defaultDuration*1.5),e===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}destroy(){this.stop(),this.events.clear()}},oRe=class{constructor(){this.download={type:"action",showOn:"always",label:"contextMenuDownload",enabled:!0,action:void 0,items:void 0},this["zoom-to-cursor"]={type:"action",showOn:"series-area",label:"contextMenuZoomToCursor",enabled:!0,action:void 0,items:void 0},this["pan-to-cursor"]={type:"action",showOn:"series-area",label:"contextMenuPanToCursor",enabled:!0,action:void 0,items:void 0},this["reset-zoom"]={type:"action",showOn:"series-area",label:"contextMenuResetZoom",enabled:!0,action:void 0,items:void 0},this["toggle-series-visibility"]={type:"action",showOn:"legend-item",label:"contextMenuToggleSeriesVisibility",enabled:!0,action:void 0,items:void 0},this["toggle-other-series"]={type:"action",showOn:"legend-item",label:"contextMenuToggleOtherSeries",enabled:!0,action:void 0,items:void 0},this.separator={type:"separator",showOn:"always",label:"separator",enabled:!0,action:void 0,items:void 0}}},lRe=class{constructor(){this.defaults=["download","zoom-to-cursor","pan-to-cursor","reset-zoom","toggle-series-visibility","toggle-other-series"]}},FZ=class{constructor(){this.items=new oRe,this.lists=new lRe}},$Z=class{constructor(e){this.eventsHub=e,this.builtins=new FZ,this.hiddenActions=new Set,this.setVisible("zoom-to-cursor",!1),this.setVisible("pan-to-cursor",!1),this.setVisible("reset-zoom",!1)}static check(e,t){return t.showOn==e}static checkCallback(e,t,n){return e===t}dispatchContext(e,t,n,s){const{widgetEvent:i}=t;if(i.sourceEvent.defaultPrevented)return;const r=s?.x??t.canvasX,a=s?.y??t.canvasY,o={showOn:e,x:r,y:a,context:n,widgetEvent:i};this.eventsHub.emit("context-menu:setup",o),this.eventsHub.emit("context-menu:complete",o)}isVisible(e){return!this.hiddenActions.has(e)}setVisible(e,t){t?this.hiddenActions.delete(e):this.hiddenActions.add(e)}},BZ=class{constructor(e){this.eventsHub=e,this.highlightStates=new Ag}updateHighlight(e,t){const n=this.getActiveHighlight();this.highlightStates.set(e,t);const s=this.getActiveHighlight();this.isEqual(s,n)||this.eventsHub.emit("highlight:change",{callerId:e,currentHighlight:s,previousHighlight:n})}getActiveHighlight(){return this.highlightStates.stateValue()}isEqual(e,t){return e===t||e!=null&&t!=null&&e?.series===t?.series&&e?.itemId===t?.itemId&&e?.datum===t?.datum}},VZ=(e=>(e[e.None=0]="None",e[e.Item=1]="Item",e[e.Series=2]="Series",e[e.OtherSeries=3]="OtherSeries",e[e.OtherItem=4]="OtherItem",e))(VZ||{}),iC=[0,1,2,3,4];function am(e){const t=n=>n;switch(e){case 1:return"highlighted-item";case 4:return"unhighlighted-item";case 2:return"highlighted-series";case 3:return"unhighlighted-series";case 0:return"none";default:return t(e)}}var Xc=class extends mt{};D([O],Xc.prototype,"fill",2);D([O],Xc.prototype,"fillOpacity",2);D([O],Xc.prototype,"stroke",2);D([O],Xc.prototype,"strokeWidth",2);D([O],Xc.prototype,"strokeOpacity",2);D([O],Xc.prototype,"lineDash",2);D([O],Xc.prototype,"lineDashOffset",2);var Jc=class extends mt{constructor(){super(...arguments),this.enabled=!0,this.range="tooltip",this.bringToFront=!1,this.highlightedItem={},this.unhighlightedItem={},this.highlightedSeries={},this.unhighlightedSeries={}}getItemHighlightStyle(e){switch(e){case 1:return this.highlightedItem;case 4:return this.unhighlightedItem;case 2:return this.highlightedSeries;case 3:return this.unhighlightedSeries}}getSeriesHighlightStyle(e){switch(e){case 1:case 4:case 2:return this.highlightedSeries;case 3:return this.unhighlightedSeries}}getStyle(e){return pn(this.getItemHighlightStyle(e),this.getSeriesHighlightStyle(e))}};D([O],Jc.prototype,"enabled",2);D([O],Jc.prototype,"range",2);D([O],Jc.prototype,"bringToFront",2);D([O],Jc.prototype,"highlightedItem",2);D([O],Jc.prototype,"unhighlightedItem",2);D([O],Jc.prototype,"highlightedSeries",2);D([O],Jc.prototype,"unhighlightedSeries",2);var rC=class extends mt{};D([O],rC.prototype,"strokeWidth",2);D([O],rC.prototype,"dimOpacity",2);D([O],rC.prototype,"enabled",2);var UZ=class extends mt{constructor(){super(...arguments),this.color="black"}};D([O],UZ.prototype,"color",2);var Jo=class extends mt{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};D([O],Jo.prototype,"start",2);D([O],Jo.prototype,"stop",2);D([O],Jo.prototype,"fill",2);D([O],Jo.prototype,"fillOpacity",2);D([O],Jo.prototype,"stroke",2);D([O],Jo.prototype,"strokeWidth",2);D([O],Jo.prototype,"strokeOpacity",2);D([O],Jo.prototype,"lineDash",2);D([O],Jo.prototype,"lineDashOffset",2);var db=class{constructor(){this.key="x",this.segments=new sm(Jo)}};D([O],db.prototype,"enabled",2);D([O],db.prototype,"key",2);D([O],db.prototype,"segments",2);var Od=class extends mt{constructor(){super(...arguments),this.type="gradient",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.reverse=!1,this.colorSpace="rgb"}};D([O],Od.prototype,"type",2);D([O],Od.prototype,"colorStops",2);D([O],Od.prototype,"bounds",2);D([O],Od.prototype,"gradient",2);D([O],Od.prototype,"rotation",2);D([O],Od.prototype,"reverse",2);D([O],Od.prototype,"colorSpace",2);var ii=class extends mt{constructor(){super(...arguments),this.type="pattern",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.scale=1,this.reverse=!1,this.pattern="forward-slanted-lines",this.width=26,this.height=26,this.padding=6,this.fill="black",this.fillOpacity=1,this.backgroundFill="white",this.backgroundFillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0}};D([O],ii.prototype,"type",2);D([O],ii.prototype,"colorStops",2);D([O],ii.prototype,"bounds",2);D([O],ii.prototype,"gradient",2);D([O],ii.prototype,"rotation",2);D([O],ii.prototype,"scale",2);D([O],ii.prototype,"reverse",2);D([O],ii.prototype,"path",2);D([O],ii.prototype,"pattern",2);D([O],ii.prototype,"width",2);D([O],ii.prototype,"height",2);D([O],ii.prototype,"padding",2);D([O],ii.prototype,"fill",2);D([O],ii.prototype,"fillOpacity",2);D([O],ii.prototype,"backgroundFill",2);D([O],ii.prototype,"backgroundFillOpacity",2);D([O],ii.prototype,"stroke",2);D([O],ii.prototype,"strokeOpacity",2);D([O],ii.prototype,"strokeWidth",2);var eu=class extends mt{constructor(){super(...arguments),this.type="image",this.url="",this.rotation=0,this.scale=1,this.backgroundFill="black",this.backgroundFillOpacity=1,this.repeat="no-repeat",this.fit="contain"}};D([O],eu.prototype,"type",2);D([O],eu.prototype,"url",2);D([O],eu.prototype,"rotation",2);D([O],eu.prototype,"scale",2);D([O],eu.prototype,"backgroundFill",2);D([O],eu.prototype,"backgroundFillOpacity",2);D([O],eu.prototype,"repeat",2);D([O],eu.prototype,"fit",2);var hb=class extends mt{constructor(e=!0){super(),this.deprecated=e,this.item=new Xc,this.series=new rC,this.text=new UZ}set(e){return this.deprecated&&Ne.warnOnce("highlightStyle is deprecated, use highlight instead."),super.set(e)}};D([O],hb.prototype,"item",2);D([O],hb.prototype,"series",2);D([O],hb.prototype,"text",2);var xo=class extends mt{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new Jc,this.highlightStyle=new hb}handleUnknownProperties(e,t){"context"in t&&(this.context=t.context,e.delete("context"))}};D([O],xo.prototype,"id",2);D([O],xo.prototype,"visible",2);D([O],xo.prototype,"focusPriority",2);D([O],xo.prototype,"showInLegend",2);D([O],xo.prototype,"cursor",2);D([O],xo.prototype,"nodeClickRange",2);D([O],xo.prototype,"highlight",2);D([O],xo.prototype,"highlightStyle",2);function $9(e,t){if(e==null||t.length===0)return[!1,!1];const n=e.valueOf(),s=t[0],i=t[t.length-1];if(typeof s=="string")return[n===s,n===i];let r=s.valueOf(),a=i.valueOf();return r>a&&([r,a]=[a,r]),[n===r,n===a]}function aC(e,t,n,s,i,r){const[a,o]=$9(t,r),[c,u]=$9(e,i);return{xKey:n,yKey:s,xValue:e,yValue:t,first:c,last:u,min:a,max:o}}function i0(e,t,[n,s],i){let r=Zx(0,t-1,o=>{const c=e===1?o:t-o,u=i(c)?.[1]??NaN;return!Number.isFinite(u)||u>=n})??0,a=Oh(0,t-1,o=>{const c=e===1?o:t-o,u=i(c)?.[0]??NaN;return!Number.isFinite(u)||u<=s})??t-1;return e===-1&&([r,a]=[t-a,t-r]),r=Math.max(r,0),a=Math.min(a+1,t),[r,a]}function PO(e,t,n){if(n){const{x:i,y:r,width:a,height:o}=n;return{canvasX:i+a/2,canvasY:r+o/2}}const s=t.yBar?.upperPoint??t.midPoint??e.datumMidPoint?.(t);if(s){const{x:i,y:r}=vs.toCanvasPoint(e.contentGroup,s.x,s.y);return{canvasX:Math.round(i),canvasY:Math.round(r)}}}function HZ(e,t,n,s,i){let r=-1,a=0,o=0,c=!1;for(;a<s&&r<=t-e;){r+=1;const u=n+o;if(c||(o*=-1),o>=0&&(o+=1),c&&o<0&&(o-=1),u<e||u>t){c=!0;continue}i(u)&&(a+=1)}return a}function zO(e){const t={};for(const n of iC)t[n]=e(void 0,!1,n);return t}function cRe(e,...t){const n={};for(const s of t??["default"])for(const i of iC){const r=n[s]??(n[s]={});r[i]=e(void 0,!1,i,s)}return n}var Lw=class{constructor(e,t,n,s){this.domManager=n,this.tooltip=s,this.stateTracker=new Ag,this.suppressState=new Ag(!1),this.appliedState=null,this.cleanup=new Cs,this.cleanup.register(s.setup(t,n),e.on("dom:hidden",()=>this.tooltip.hide()))}destroy(){this.cleanup.flush()}updateTooltip(e,t,n,s){n??(n=this.stateTracker.get(e)?.content),this.stateTracker.set(e,{meta:t,content:n,pagination:s}),this.applyStates()}removeTooltip(e){this.stateTracker.delete(e),this.applyStates()}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}applyStates(){const e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):void 0;if(this.suppressState.stateValue()||t?.meta==null||t?.content==null){this.appliedState=null,this.tooltip.hide();return}const n=this.domManager.getBoundingClientRect(),s=this.tooltip.bounds==="extended"?this.domManager.getOverlayClientRect():n;if(Cr(this.appliedState?.content,t?.content)&&Cr(this.appliedState?.pagination,t?.pagination)){const i=this.tooltip.isVisible();this.tooltip.show(s,n,t?.meta,null,void 0,i)}else this.tooltip.show(s,n,t?.meta,t?.content,t?.pagination);this.appliedState=t}static makeTooltipMeta(e,t,n,s){const{canvasX:i,canvasY:r}=e,a=t.properties.tooltip,{placement:o,anchorTo:c,xOffset:u,yOffset:h}=a.position,f=PO(t,n,s);return{canvasX:i,canvasY:r,nodeCanvasX:f?.canvasX??i,nodeCanvasY:f?.canvasY??r,enableInteraction:a.interaction?.enabled??!1,showArrow:a.showArrow,position:{placement:o,anchorTo:c,xOffset:u,yOffset:h}}}},B9=3,uRe=505,V9=30;function zT(e,t){const{device:n,offsetX:s,offsetY:i,clientX:r,clientY:a,currentX:o,currentY:c,sourceEvent:u}=t;return{type:e,device:n,offsetX:s,offsetY:i,clientX:r,clientY:a,currentX:o,currentY:c,sourceEvent:u}}function U9(e,t){const n=e*e+t*t,s=B9*B9;return n>=s}function dRe(e,t){const n=e.clientX-t.clientX,s=e.clientY-t.clientY,i=n*n+s*s,r=V9*V9;return i<r}var GZ=class{constructor(e){this.cleanup=new Cs,this.events=new Id,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.cleanup.register(e.addListener("touchstart",this.onTouchStart.bind(this)),e.addListener("touchmove",this.onTouchMove.bind(this)),e.addListener("touchend",this.onTouchEnd.bind(this)),e.addListener("mousemove",this.onMouseMove.bind(this)),e.addListener("dblclick",this.onDblClick.bind(this)),e.addListener("drag-start",this.onDragStart.bind(this)),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.cleanup.flush()}onTouchStart(e){const{clientX:t,clientY:n}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=t,this.touch.clientY=n}onTouchMove(e){const{clientX:t,clientY:n}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-t),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-n),this.touch.clientX=t,this.touch.clientY=n}onTouchEnd(e){e.sourceEvent.preventDefault()}onMouseMove(e){this.events.emit("mousemove",e)}onDblClick(e){this.events.emit("dblclick",e)}onDragStart(e){this.dragStartEvent=e}onDragMove(e){this.dragStartEvent!=null&&U9(e.originDeltaX,e.originDeltaY)&&(this.events.emit("drag-start",this.dragStartEvent),this.events.emit("drag-move",{...this.dragStartEvent,type:"drag-move"}),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.events.emit("drag-move",e)}onDragEnd(e){if(this.isDragging){this.events.emit("drag-end",e),this.isDragging=!1;return}if(e.device==="mouse"){const t=zT("click",e);this.events.emit("click",t)}else if(e.sourceEvent.type==="touchend"){if(U9(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;const t=zT("click",e);this.events.emit("click",t);const n=Date.now();if(this.lastClick!==void 0&&n-this.lastClick.time<=uRe&&dRe(this.lastClick,e)){const s=zT("dblclick",e);this.events.emit("dblclick",s),this.lastClick=void 0}else this.lastClick={time:n,clientX:e.clientX,clientY:e.clientY}}}},FT=class extends Tg{constructor(e){super(e)}addChildToDOM(){}removeChildFromDOM(){}},hRe=class{constructor(e,t){this.seriesWidget=new FT(e.getParent("series-area")),this.chartWidget=new FT(e.getParent("canvas-proxy")),this.containerWidget=new FT(e.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),t.withDragInterpretation&&(this.seriesDragInterpreter=new GZ(this.seriesWidget))}destroy(){this.seriesDragInterpreter?.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}};function r0(e,t){const[n,s]=pi(t);return wt(n,e,s)}function pi(e){if(e.length===0)return[];const t=[1/0,-1/0];for(const n of e)n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n);return t}function sf(e){const[t,n]=pi(e);return n-t}function WZ(e){return e=e|0,e<=0?1:e===1?2:1<<32-Math.clz32(e-1)}function $D(e){return e=e|0,e<=0?0:e===1?1:1<<31-Math.clz32(e)}var YZ=class BD extends Y2{constructor(t=[],n=[]){super(),this.domain=t,this.range=n,this.defaultTickCount=BD.defaultTickCount,this.defaultClamp=!1}static is(t){return t instanceof BD}normalizeDomains(...t){return FO(...t)}calcBandwidth(t=1,n=1){const{domain:s}=this,i=this.getPixelRange();if(s.length===0)return i;let a=Math.abs(s[1].valueOf()-s[0].valueOf())/t+1;if(n!==0){const o=Math.floor(i);a=Math.min(a,o)}return i/Math.max(1,a)}convert(t,n){const{domain:s}=this;if(!s||s.length<2||t==null)return NaN;const{range:i}=this,r=n?.clamp??this.defaultClamp;let a=s[0].valueOf(),o=s[1].valueOf(),c=t.valueOf();if(this.transform&&(a=this.transform(a),o=this.transform(o),c=this.transform(c)),r){const[h,f]=pi([a,o]);if(c<h)return i[0];if(c>f)return i[1]}if(a===o)return(i[0]+i[1])/2;if(c===a)return i[0];if(c===o)return i[1];const u=i[0];return u+(c-a)/(o-a)*(i[1]-u)}invert(t,n){const{domain:s}=this;if(s.length<2)return;let i=s[0].valueOf(),r=s[1].valueOf();this.transform&&(i=this.transform(i),r=this.transform(r));const{range:a}=this,[o,c]=a;let u;return o===c?u=this.toDomain((i+r)/2):u=this.toDomain(i+(t-o)/(c-o)*(r-i)),this.transformInvert?this.transformInvert(u):u}getPixelRange(){const[t,n]=this.range;return Math.abs(n-t)}};YZ.defaultTickCount=5;var jn=YZ;function FO(...e){let t,n=1/0,s,i=-1/0;for(const r of e)for(const a of r){const o=a.valueOf();o<n&&(n=o,t=a),o>i&&(i=o,s=a)}return t!=null&&s!=null?{domain:[t,s],animatable:!0}:{domain:[],animatable:!1}}var $O=class KZ extends Y2{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof KZ}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=wt(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this.invalid=!0,this._paddingInner=wt(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this.invalid=!0,this._paddingOuter=wt(0,t,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Ne.warnOnce("Expected update to not invalidate scale"))}convert(t,n){this.refresh();const s=this.findIndex(t,n?.alignment);return s==null||s<0||s>=this.bands.length?NaN:this.ordinalRange(s)}invertNearestIndex(t){this.refresh();const n=this.bands.length;if(n===0)return-1;let s=0,i=n-1,r=1/0,a=0;for(;s<=i;){const o=(i+s)/2|0,c=this.ordinalRange(o),u=Math.abs(c-t);if(u===0)return o;u<r&&(r=u,a=o),c<t?s=o+1:i=o-1}return a}update(){const[t,n]=this.range;let{_paddingInner:s}=this;const{_paddingOuter:i,bands:r}=this,a=r.length;if(a===0)return;const o=n-t;let c;a===1?(s=0,c=o*(1-i*2)):c=o/Math.max(1,a-s+i*2);const u=this.round&&Math.floor(c)>0,h=u?Math.floor(c):c;let f=t+(o-h*(a-s))/2,g=h*(1-s);u&&(f=Math.round(f),g=Math.round(g)),this._step=h,this._inset=f,this._bandwidth=g,this._rawBandwidth=c*(1-s)}ordinalRange(t){const{_inset:n,_step:s,range:i}=this,r=Math.min(i[0],i[1]),a=Math.max(i[0],i[1]);return wt(r,n+s*t,a)}};D([ob],$O.prototype,"range",2);D([ob],$O.prototype,"round",2);var tu=$O,el=class qZ extends tu{static is(t){return t instanceof qZ}toDomain(t){return new Date(t)}get reversed(){const{domain:t}=this;return t.length>0&&t[0].valueOf()>t[t.length-1].valueOf()}convert(t,n){this.refresh(),t instanceof Date||(t=new Date(t));const{domain:s,bands:i,reversed:r}=this;if(s.length<=0)return NaN;const a=this.ordinalRange(0),o=this.ordinalRange(i.length-1);if(i.length===0)return a;if(n?.clamp===!0){const{range:M}=this;if(t<i[0])return M[0];if(t>i[i.length-1])return M[1]}if((n?.alignment??0)!==2){const M=super.convert(t,n);return r?o-(M-a):M}const u=t.valueOf();let h=this.findIndex(t)??0,f;r?(h=Math.min(Math.max(h,1),i.length-1),f=-1):(h=Math.min(Math.max(h,0),i.length-2),f=1);const g=i[h].valueOf(),m=i[h+f].valueOf(),y=this.ordinalRange(h),b=this.ordinalRange(h+f),C=(u-g)/(m-g)*(b-y)+y;return r?o-(C-a):C}invert(t,n=!1){this.refresh();const{domain:s,bands:i}=this;if(s.length<=0)return;const r=s[0].valueOf()>s[s.length-1].valueOf();let a;return n?a=this.invertNearestIndex(t-this.bandwidth/2):a=Zx(0,i.length-1,c=>this.ordinalRange(c)>=t)??i.length-1,i[r?i.length-1-a:a]}findIndex(t,n=0){const{bands:s}=this,i=t.valueOf();return n===1?Zx(0,s.length-1,r=>s[r].valueOf()>=i):Oh(0,s.length-1,r=>s[r].valueOf()<=i)}},a0={bottomCenter:yRe,center:mRe,clone:SRe,collides:wRe,end:pRe,from:CRe,height:bRe,round:vRe,start:fRe,topCenter:gRe,origin:MRe,width:xRe};function fRe(e){return{x:e.x1,y:e.y1}}function pRe(e){return{x:e.x2,y:e.y2}}function gRe(e){return{x:(e.x1+e.x2)/2,y:Math.min(e.y1,e.y2)}}function mRe(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}}function yRe(e){return{x:(e.x1+e.x2)/2,y:Math.max(e.y1,e.y2)}}function xRe(e){return Math.abs(e.x2-e.x1)}function bRe(e){return Math.abs(e.y2-e.y1)}function vRe(e){return{x1:Math.round(e.x1),y1:Math.round(e.y1),x2:Math.round(e.x2),y2:Math.round(e.y2)}}function SRe(e){return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}}function wRe(e,t){const n=VD(e),s=VD(t);return n.x1<=s.x2&&n.x2>=s.x1&&n.y1<=s.y2&&n.y2>=s.y1}function VD(e){return{x1:Math.min(e.x1,e.x2),x2:Math.max(e.x1,e.x2),y1:Math.min(e.y1,e.y2),y2:Math.max(e.y1,e.y2)}}function CRe(e,t,n,s){if(typeof e=="number")return{x1:e,y1:t,x2:n,y2:s};if("width"in e)return VD({x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height});throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(e)}] [${t}] [${n}] [${s}]`)}function MRe(){return{x1:0,y1:0,x2:0,y2:0}}function V1(e,t,n,s,i){return t+(s-t)*((i-e)/(n-e))}function H9(e,t,n,s,i){return e+(i-t)*((n-e)/(s-t))}function G9(e,t,n){return[H9(e,n.min,t,n.max,0),H9(e,n.min,t,n.max,1)]}function jRe(e,t,n){const[s,i]=G9(e.x1,e.x2,t),[r,a]=G9(e.y1,e.y2,n);return{x1:s,x2:i,y1:r,y2:a}}function W9(e,t,n,s,i,r){if(n<=i&&r<=s)return n;const a=i-n,o=r-s,c=Math.abs(a)<Math.abs(o)?a:o;return wt(e,n+c,t)}function NRe(e,t,n){const{x:s={min:0,max:1},y:i={min:0,max:1}}=t,r=a0.from(n),a=a0.from(e),o=jRe(a,s,i),c=W9(o.x1,o.x2,a.x1,a.x2,r.x1,r.x2),u=W9(o.y1,o.y2,a.y1,a.y2,r.y1,r.y2),h={x:{min:V1(a.x1,s.min,a.x2,s.max,c),max:V1(a.x1,s.min,a.x2,s.max,c+e.width)},y:{min:V1(a.y1,i.min,a.y2,i.max,u),max:V1(a.y1,i.min,a.y2,i.max,u+e.height)}},f=h.x.max-h.x.min,g=h.y.max-h.y.min;return h.x.min=wt(0,h.x.min,1-f),h.x.max=h.x.min+f,h.y.min=wt(0,h.y.min,1-g),h.y.max=h.y.min+g,h}function ZZ(e,t){const n=e?.valueOf(),s=t?.valueOf();return typeof n!="number"||typeof s!="number"?[void 0,void 0]:n<s?[0,1]:[1,0]}var ARe=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},Y9=e=>on((t,{options:n})=>!jn.is(e?.scale)&&!el.is(e?.scale)||t==null||n.end==null?!0:t<n.end,"to be less than end"),QZ=class extends AO{constructor(e,t){super(),this.eventsHub=e,this.fireChartEvent=t,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new Ag(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new ARe,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.boundFireOnceChartEvent=this.fireOnceChartEvent.bind(this),this.cleanup.register(e.on("layout:complete",()=>{this.didLayoutAxes=!0;const{pendingMemento:n}=this;n&&this.restoreMemento(n.version,n.mementoVersion,n.memento),this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(e,t){if(e==null)return!0;if(!En(e))return!1;const n=this.getPrimaryAxis("x"),s=this.getPrimaryAxis("y"),i={rangeX:{start:Y9(n),end:ot},rangeY:{start:Y9(s),end:ot},ratioX:{start:ot,end:ot},ratioY:{start:ot,end:ot},autoScaledAxes:ot},{invalid:r}=or(e,i);return r.length>0?(t.push(...r.map(String)),!1):!0}restoreMemento(e,t,n){const{independentAxes:s}=this;if(!this.axes||!this.didLayoutAxes){this.pendingMemento={version:e,mementoVersion:t,memento:n};return}this.pendingMemento=void 0;const i=this.getDefinedZoom();if(n?.rangeX?i.x=this.rangeToRatio(n.rangeX,"x")??{min:0,max:1}:n?.ratioX?i.x={min:n.ratioX.start??0,max:n.ratioX.end??1}:i.x={min:0,max:1},!this.navigatorModule||this.zoomModule){let o=n?.autoScaledAxes?.includes("y");if(n?.rangeY)o??(o=!1),i.y=this.rangeToRatio(n.rangeY,"y")??{min:0,max:1};else if(n?.ratioY)o??(o=!1),i.y={min:n.ratioY.start??0,max:n.ratioY.end??1};else{o??(o=!0);const c=o?this.getAutoScaleYZoom(i.x):void 0;i.y=c??{min:0,max:1}}i.autoScaleYAxis=o}if(this.lastRestoredState=i,s!==!0){this.updateZoom("zoom-manager",i);return}const r=this.getPrimaryAxis("x"),a=this.getPrimaryAxis("y");for(const o of[r,a])o&&this.updateAxisZoom("zoom-manager",o.id,i[o.direction])}updateAxes(e){const{axes:t,axisZoomManagers:n}=this,s=new Map(n);n.clear(),t.length=0;for(const i of e)typeof i=="string"?n.set(i,s.get(i)??new K9(i)):(t.push(i),n.set(i.id,s.get(i.id)??new K9(i)));this.state.size>0&&t.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(e=!0){this.independentAxes=e}setAutoScaleYAxis(e,t){this.autoScaleYAxis.enabled=e,this.autoScaleYAxis.padding=t,e&&this.autoScaleYZoom("toggle-auto-scale")}setNavigatorEnabled(e=!0){this.navigatorModule=e}setZoomModuleEnabled(e=!0){this.zoomModule=e}isNavigatorEnabled(){return this.navigatorModule}isZoomEnabled(){return this.zoomModule}updateZoom(e,t){if(t?.x&&(t.x.min<0||t.x.max>1)&&(Ne.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${t.x.min}, max: ${t.x.max} }], expecting a ratio of 0 to 1, ignoring.`),t.x=void 0),t?.y&&(t.y.min<0||t.y.max>1)&&(Ne.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${t.y.min}, max: ${t.y.max} }], expecting a ratio of 0 to 1, ignoring.`),t.y=void 0),this.axisZoomManagers.size===0){const s=this.state.stateId();(s==="initial"||s===e)&&this.state.set(e,t);return}this.state.set(e,t);const n=t?.autoScaleYAxis;n!=null&&(this.autoScaleYAxis.manuallyAdjusted=!n),this.axisZoomManagers.forEach(s=>{s.updateZoom(e,t?.[s.direction])}),this.applyChanges(e)}updateAxisZoom(e,t,n){this.axisZoomManagers.get(t)?.updateZoom(e,n),this.applyChanges(e)}resetZoom(e){this.autoScaleYAxis.manuallyAdjusted=!1;const t=this.getRestoredZoom();this.updateZoom(e,{x:{min:t?.x?.min??0,max:t?.x?.max??1},y:{min:t?.y?.min??0,max:t?.y?.max??1},autoScaleYAxis:t?.autoScaleYAxis??!0})}resetAxisZoom(e,t){const s=this.axisZoomManagers.get(t)?.direction;if(s==null)return;const i=this.getRestoredZoom();if(s==="y"){const r=i?.autoScaleYAxis??!0;this.autoScaleYAxis.manuallyAdjusted=!r}for(const r of this.axes)r.direction===s&&this.updateAxisZoom(e,r.id,i?.[s]??{min:0,max:1})}setAxisManuallyAdjusted(e,t){this.axisZoomManagers.get(t)?.direction==="y"&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(e,t,n){const s=this.getPrimaryAxis(t);s&&this.updateAxisZoom(e,s.id,n)}panToBBox(e,t,n){if(!this.isZoomEnabled()&&!this.isNavigatorEnabled())return!1;const s=this.getZoom();if(s===void 0||!s.x&&!s.y)return!1;if(!(t.width>0&&t.height>0&&Math.abs(n.width)<=Math.abs(t.width)&&Math.abs(n.height)<=Math.abs(t.height)))return Ne.warnOnce("cannot pan to target BBox - chart too small?"),!1;const r=NRe(t,s,n);return this.independentAxes?(this.updatePrimaryAxisZoom(e,"x",r.x),this.updatePrimaryAxisZoom(e,"y",r.y)):this.updateZoom(e,r),!0}fireZoomPanStartEvent(e){this.eventsHub.emit("zoom:pan-start",{callerId:e})}extendToEnd(e,t,n){return this.extendWith(e,t,s=>Number(s)-n)}extendWith(e,t,n){const s=this.getPrimaryAxis(t);if(!s)return;const i=this.getDomainExtents(s);if(!i)return;const[,r]=i,a=n(r),o=this.rangeToRatio({start:a},t);o&&this.updateZoom(e,{[t]:o})}updateWith(e,t,n){const s=this.getPrimaryAxis(t);if(!s)return;const i=this.getDomainExtents(s);if(!i)return;let[r,a]=i;[r,a]=n(r,a);const o=this.rangeToRatio({start:r,end:a},t);o&&this.updateZoom(e,{[t]:o})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(n=>{n.direction==="x"?e??(e=n.getZoom()):n.direction==="y"&&(t??(t=n.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){return this.axisZoomManagers.get(e)?.getZoom()??{min:0,max:1}}getAxisZooms(){const e={};for(const[t,n]of this.axisZoomManagers.entries())e[t]={direction:n.direction,zoom:n.getZoom()};return e}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(e){return this.getPrimaryAxis(e)?.id}getBoundSeries(){const e=this.getPrimaryAxis("x"),t=this.getPrimaryAxis("y");let n;if(this.independentAxes){const s=new Set(e?.boundSeries??[]),i=new Set(t?.boundSeries??[]);n=new Set;for(const r of s)i.has(r)&&n.add(r)}else n=new Set([...e?.boundSeries??[],...t?.boundSeries??[]]);return n}constrainZoomToItemCount(e,t){const{autoScaleYAxis:n}=this,s=n.enabled&&!n.manuallyAdjusted;let i=[e.x.min,e.x.max],r=s?void 0:[e.y.min,e.y.max];for(const c of this.getBoundSeries()){const u=c.getZoomRangeFittingItems(i,r,t);if(u==null)return;i=u.x,r=u.y}const a={min:i[0],max:i[1]};let o;if(o??(o=this.getAutoScaleYZoom(a)),r&&(o={min:r[0],max:r[1]}),o!=null)return{x:a,y:o}}isVisibleItemsCountAtLeast(e,t){const{autoScaleYAxis:n}=this,s=this.getBoundSeries(),i=[e.x.min,e.x.max],r=n.enabled&&!n.manuallyAdjusted?void 0:[e.y.min,e.y.max];let a=0;for(const o of s){const c=t-(a??0),u=o.getVisibleItems(i,r,c);if(a+=u,a>=t)return!0}return s.size===0}getMementoRanges(){const e=this.getDefinedZoom();let t;return this.autoScaleYAxis.enabled&&(t=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]),{rangeX:this.getRangeDirection(e.x,"x"),rangeY:this.getRangeDirection(e.y,"y"),ratioX:{start:e.x.min,end:e.x.max},ratioY:{start:e.y.min,end:e.y.max},autoScaledAxes:t}}getAutoScaleYZoom(e){if(!this.isZoomEnabled())return;const{independentAxes:t,autoScaleYAxis:n}=this;if(!n.enabled||n.manuallyAdjusted)return;const{padding:s}=n;let i;return t?i=this.primaryAxisZoom("y",e,{padding:s}):i=this.combinedAxisZoom("y",e,{padding:s}),e.min===0&&e.max===1?i!=null?{min:0,max:1}:void 0:i}autoScaleYZoom(e,t=!0){const{independentAxes:n}=this,s=this.getZoom();if(s?.x==null)return;const i=this.getAutoScaleYZoom(s.x);if(!(i==null||Cr(s.y,i))){if(n){const r=this.getPrimaryAxis("y");(r==null?void 0:this.axisZoomManagers.get(r.id))?.updateZoom("zoom-manager",i)}else for(const r of this.axisZoomManagers.values())r.direction==="y"&&r.updateZoom("zoom-manager",i);t&&this.applyChanges(e)}}applyChanges(e){if(this.autoScaleYZoom(e,!1),!Array.from(this.axisZoomManagers.values(),s=>s.applyChanges()).includes(!0))return;const n={};for(const[s,i]of this.axisZoomManagers.entries())n[s]=i.getZoom();this.eventsHub.emit("zoom:change",{...this.getZoom(),axes:n,callerId:e}),this.eventsHub.on("layout:complete",this.boundFireOnceChartEvent)}fireOnceChartEvent(){this.fireChartEvent({type:"zoom",...this.getMementoRanges()}),this.eventsHub.off("layout:complete",this.boundFireOnceChartEvent)}getRangeDirection(e,t){const n=this.getPrimaryAxis(t);if(!n||!jn.is(n.scale)&&!el.is(n.scale))return;const s=this.getDomainPixelExtents(n);if(!s)return;const[i,r]=s;let a,o;return i<=r?(a=n.scale.invert(0),o=n.scale.invert(i+(r-i)*e.max)):(a=n.scale.invert(i-(i-r)*e.min),o=n.scale.invert(0)),{start:a,end:o}}rangeToRatio(e,t){const n=this.getPrimaryAxis(t);if(!n)return;const s=this.getDomainPixelExtents(n);if(!s)return;const[i,r]=s,{scale:a}=n,{start:o,end:c}=e,[u=0,h=1]=ZZ(o,c);let f=o==null?i:a.convert(o,{alignment:u}),g=c==null?r:a.convert(c,{alignment:h})+(a.bandwidth??0);if(!bn(f)||!bn(g))return;const[m,y]=[Math.min(i,r),Math.max(i,r)];if(f<m||f>y){Ne.warnOnce(`Invalid range start [${o}], expecting a value between [${a.invert(i)}] and [${a.invert(r)}], ignoring.`);return}if(g<m||g>y){Ne.warnOnce(`Invalid range end [${c}], expecting a value between [${a.invert(i)}] and [${a.invert(r)}], ignoring.`);return}f=Math.min(y,Math.max(m,f)),g=Math.min(y,Math.max(m,g));const b=r-i;if(b===0)return;const S=Math.abs((f-i)/b),C=Math.abs((g-i)/b);if(!(S>=C))return{min:S,max:C}}getPrimaryAxis(e){return this.axes?.find(t=>t.direction===e)}getDomainExtents(e){const{domain:t}=e.scale,n=t.at(0),s=t.at(-1);if(!(n==null||s==null))return[n,s]}getDomainPixelExtents(e){const[t,n]=e.scale.range;if(!(!bn(t)||!bn(n)))return[t,n]}getDefinedZoom(){const e=this.getZoom();return{x:{min:e?.x?.min??0,max:e?.x?.max??1},y:{min:e?.y?.min??0,max:e?.y?.max??1}}}zoomBounds(e,t,n,s){const i=e.scale,r=i.range;i.range=[0,1];const a=t.scale,o=a.range;a.range=[0,1];let c=1,u=!1,h=0,f=!1;for(const y of t.boundSeries){if(!y.visible)continue;const{connectsToYAxis:b}=y,S=y.getRange("y",[n.min,n.max]);for(const C of S){const M=a.convert(C);Number.isFinite(M)&&(M<c&&(c=M,u=!b||C<0),M>h&&(h=M,f=!b||C>0))}}if(bn(t.min)&&(c=0),bn(t.max)&&(h=1),i.range=r,a.range=o,c>=h)return;const g=(u?s:0)+(f?s:0),m=Math.min((h-c)*(1+g),1);if(!(m<=0)){if(u&&f){const y=(h+c)/2;c=y-m/2,h=y+m/2}else!u&&f?h=c+m:u&&!f&&(c=h-m);return c<0?(h+=-c,c=0):h>1&&(c-=h-1,h=1),{min:c,max:h}}}primaryAxisZoom(e,t,{padding:n=0}={}){const s=e==="x"?"y":"x",i=this.getPrimaryAxis(s),r=this.getPrimaryAxis(e);if(!(i==null||r==null))return this.zoomBounds(i,r,t,n)}combinedAxisZoom(e,t,{padding:n=0}={}){const s=e==="x"?"y":"x",i=new Map;for(const c of this.axes)if(c.direction===s)for(const u of c.boundSeries)i.set(u,c);let r=1,a=0;for(const c of this.axes)if(c.direction===e)for(const u of c.boundSeries){const h=i.get(u);if(h==null)continue;const f=this.zoomBounds(h,c,t,n);if(f==null)return;r=Math.min(r,f.min),a=Math.max(a,f.max)}const o=1e-6;if(r<o&&(r=0),a>1-o&&(a=1),!(r>a))return{min:r,max:a}}},K9=class{constructor(e){let t,n;typeof e=="string"?(this.direction=e,t=0,n=1):(this.direction=e.direction,[t=0,n=1]=e.visibleRange),this.state=new Ag({min:t,max:n}),this.currentZoom=this.state.stateValue()}updateZoom(e,t){this.state.set(e,t)}getZoom(){return xs(this.state.stateValue())}hasChanges(){const e=this.currentZoom,t=this.state.stateValue();return e.min!==t.min||e.max!==t.max}applyChanges(){const e=this.hasChanges();return this.currentZoom=this.state.stateValue(),e}},BO=(e=>(e[e.Caption=0]="Caption",e[e.Legend=1]="Legend",e[e.ToolbarLeft=2]="ToolbarLeft",e[e.ToolbarBottom=3]="ToolbarBottom",e[e.Navigator=4]="Navigator",e[e.Overlay=5]="Overlay",e))(BO||{}),XZ=class{constructor(e){this.eventsHub=e,this.elements=new Map}registerElement(e,t){return this.elements.has(e)?this.elements.get(e).add(t):this.elements.set(e,new Set([t])),()=>this.elements.get(e)?.delete(t)}createContext(e,t){const n=new TRe(e,t);for(const s of Object.values(BO))typeof s=="number"&&this.elements.get(s)?.forEach(i=>i(n));return n}emitLayoutComplete(e,t){const{width:n,height:s}=e;this.eventsHub.emit("layout:complete",{axes:t.axes??[],chart:{width:n,height:s},clipSeries:t.clipSeries??!1,series:t.series})}},TRe=class{constructor(e,t){this.width=e,this.height=t,this.layoutBox=new Pe(0,0,e,t)}};function ERe({point:e,anchor:t},n,s,i,r){if(e.size===0)return!1;let a=e.x,o=e.y;t!=null&&(a-=(t.x-.5)*e.size,o-=(t.y-.5)*e.size);let c=a;a<n?c=n:a>n+i&&(c=n+i);let u=o;o<s?u=s:o>s+r&&(u=s+r);const h=a-c,f=o-u;return Math.sqrt(h**2+f**2)<=e.size/2}function DRe(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}var kRe={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};function IRe(e,t,n=5){const s=new Map,i=[],r=new Map(Array.from(e.entries(),([o,c])=>[o,c.toSorted((u,h)=>h.point.size-u.point.size)])),a=[...r.values()].flat();for(const[o,c]of r.entries()){const u=[];if(c[0]?.label){for(let h=0,f=c.length;h<f;h++){const g=c[h],{point:m,label:y,anchor:b}=g,{text:S,width:C,height:M}=y,N=m.size/2;let T=0,E=0;if(N>0&&g.placement!=null){const I=kRe[g.placement];T=(C/2+N+n)*I.x,E=(M/2+N+n)*I.y}let k=m.x-C/2+T,L=m.y-M/2+E;if(b&&(k-=(b.x-.5)*m.size,L-=(b.y-.5)*m.size),dO(t,k,L,C,M)&&!a.some(I=>ERe(I,k,L,C,M))&&!i.some(I=>Aq(I,k,L,C,M))){const I={index:h,text:S,x:k,y:L,width:C,height:M,datum:g};u.push(I),i.push(I)}}s.set(o,u)}}return s}var LRe=class{constructor(){this.labelData=new Map}updateLabels(e,t,n=Pe.zero){const s={x:-t.left,y:-t.top,width:n.width+t.left+t.right,height:n.height+t.top+t.bottom},i=new Set(e.map(a=>a.id));for(const a of this.labelData.keys())i.has(a)||this.labelData.delete(a);for(const a of e){const o=a.getLabelData();o.every(DRe)&&this.labelData.set(a.id,o)}const r=IRe(this.labelData,s,5);for(const a of e)a.updatePlacedLabelData?.(r.get(a.id)??[])}},ORe=class{constructor(e){this.eventsHub=e,this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(({hideInLegend:e,isFixed:t})=>!e&&!t).map(({enabled:e,seriesId:t,itemId:n,legendItemName:s})=>({visible:e,seriesId:t,itemId:n,legendItemName:s}))}guardMemento(e){return e==null||Pt(e)}restoreMemento(e,t,n){n?.forEach(s=>{const{seriesId:i,data:r}=this.getRestoredData(s)??{};!i||!r||this.updateData(i,r)}),this.update()}getRestoredData(e){const{seriesId:t,itemId:n,legendItemName:s,visible:i}=e;if(t){const a=(this.legendDataMap.get(t)??[]).map(o=>{const c=o.seriesId===t&&(!n||o.itemId===n);return c&&o.isFixed&&this.warnFixed(o.seriesId,o.itemId),!o.isFixed&&c?{...o,enabled:i}:o});return{seriesId:t,data:a}}if(!(n==null&&s==null))for(const r of this.getData()){if(n!=null&&r.itemId!==n||s!=null&&r.legendItemName!==s)continue;if(r.isFixed){this.warnFixed(r.seriesId,n);return}const a=(this.legendDataMap.get(r.seriesId)??[]).map(o=>o.itemId===n||o.legendItemName===s?{...o,enabled:i}:o);return{seriesId:r.seriesId,data:a}}}warnFixed(e,t){Ne.warnOnce(`The legend item with seriesId [${e}] and itemId [${t}] is not configurable, this series item cannot be toggled through the legend.`)}update(e){this.eventsHub.emit("legend:change",{legendData:e??this.getData()})}updateData(e,t=[]){this.legendDataMap.set(e,t)}clearData(){this.legendDataMap.clear()}toggleItem(e,t,n,s){if(s){this.getData().forEach(o=>{const c=(this.legendDataMap.get(o.seriesId)??[]).map(u=>u.legendItemName===s?{...u,enabled:e}:u);this.updateData(o.seriesId,c)});return}const i=this.getData(t),r=i.length===1,a=i.map(o=>n==null&&r||o.itemId===n?{...o,enabled:e}:o);this.updateData(t,a)}getData(e){return e?this.legendDataMap.get(e)??[]:[...this.legendDataMap].reduce((t,[n,s])=>t.concat(s),[])}getDatum({seriesId:e,itemId:t}={}){return this.getData(e).find(n=>n.itemId===t)}getSeriesEnabled(e){const t=this.getData(e);if(t.length>0)return t.some(n=>n.enabled)}getItemEnabled({seriesId:e,itemId:t}={}){return this.getDatum({seriesId:e,itemId:t})?.enabled??!0}},RRe=class{updateCallback(e){this.resolvePartialCallback=e}resolvePartial(e,t,n){return this.resolvePartialCallback?.(e,t,n)}},_Re=class{constructor(){this.groups=new Map}registerSeries({internalId:e,seriesGrouping:t,visible:n,type:s}){if(!t)return;let i=this.groups.get(s);i==null&&(i=new Map,this.groups.set(s,i)),i.set(e,{grouping:t,visible:n})}updateSeries({internalId:e,seriesGrouping:t,visible:n,type:s}){if(!t)return;const i=this.groups.get(s)?.get(e);i&&(i.grouping=t,i.visible=n)}deregisterSeries({internalId:e,type:t}){const n=this.groups.get(t);n!=null&&(n.delete(e),n.size===0&&this.groups.delete(t))}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:n}){if(!t)return{visibleGroupCount:n?1:0,visibleSameStackCount:n?1:0,index:0};const s=new Set,i=new Set,r=this.groups.get(e);for(const o of r?.values()??[])o.visible&&(s.add(o.grouping.groupIndex),o.grouping.groupIndex===t.groupIndex&&i.add(o.grouping.stackIndex));const a=Array.from(s);return a.sort((o,c)=>o-c),{visibleGroupCount:a.length,visibleSameStackCount:i.size,index:a.indexOf(t.groupIndex)}}},JZ=class{constructor(e){this.updateCallback=e,this.events=new Id}addListener(e,t){return this.events.on(e,t)}destroy(){this.events.clear()}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(e){this.events.emit("update-complete",{type:"update-complete",apiUpdate:e})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData({series:e}){this.events.emit("process-data",{type:"process-data",series:e})}},PRe=class{constructor(e,t){this.eventsHub=new Id,this.callbackCache=new iZ,this.highlightManager=new BZ(this.eventsHub),this.formatManager=new Dg,this.layoutManager=new XZ(this.eventsHub),this.localeManager=new F5e(this.eventsHub),this.seriesStateManager=new _Re,this.stateManager=new x5e,this.seriesLabelLayoutManager=new LRe,this.cleanup=new Cs,this.contextModules=[];const{scene:n,root:s,syncManager:i,container:r,fireEvent:a,updateCallback:o,updateMutex:c,styleContainer:u,chartType:h,domMode:f,withDragInterpretation:g}=t;this.chartService=e,this.syncManager=i,this.domManager=new jZ(this.eventsHub,this.chartService,r,u,f),this.widgets=new hRe(this.domManager,{withDragInterpretation:g});const m=this.domManager.addChild("canvas","scene-canvas",n?.canvas.element);this.scene=n??new tC({canvasElement:m}),this.scene.setRoot(s),this.cleanup.register(this.scene.on("scene-changed",()=>{this.updateService.update(7)})),this.axisManager=new U5e(this.eventsHub,s),this.legendManager=new ORe(this.eventsHub),this.annotationManager=new V5e(this.eventsHub,e.annotationRoot,a),this.chartTypeOriginator=new m5e(e),this.interactionManager=new PZ,this.contextMenuRegistry=new $Z(this.eventsHub),this.optionsGraphService=new RRe,this.updateService=new JZ(o),this.proxyInteractionService=new TZ(this.eventsHub,this.localeManager,this.domManager),this.fontManager=new H5e(this.domManager,this.updateService),this.historyManager=new y5e(this.eventsHub),this.animationManager=new zZ(this.interactionManager,c),this.dataService=new nC(this.eventsHub,e,this.animationManager),this.tooltipManager=new Lw(this.eventsHub,this.localeManager,this.domManager,e.tooltip),this.zoomManager=new QZ(this.eventsHub,a);for(const y of El.byType("context")){if(!y.chartTypes.includes(h))continue;const b=y.moduleFactory(this);this.contextModules.push(b),this[y.contextKey]=b}}destroy(){this.animationManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.domManager.destroy(),this.fontManager.destroy(),this.proxyInteractionService.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(e=>e.destroy()),this.cleanup.flush()}},eQ=class extends mt{constructor(){super(...arguments),this.range="tooltip"}};D([O],eQ.prototype,"range",2);function zRe(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function FRe(e,t){if(e==null||t==null)return e===t;if(e.size!==t.size)return!1;for(const[n,s]of e){const i=t.get(n);if(i==null||!zRe(s,i))return!1}return!0}function $Re(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){const{type:s,idsMap:i,scopes:r,data:a,...o}=e[n],{type:c,idsMap:u,scopes:h,data:f,...g}=t[n];if(s!==c||r&&h&&!Lc(r,h)||a&&f&&a!==f||!Cr(o,g)||!FRe(i,u))return!1}return!0}function BRe(e,t){const{props:n,...s}=e,{props:i,...r}=t;return Cr(s,r)&&$Re(n,i)}function VRe(e,t,n,s){return t===e.data&&Lc(n,e.ids)&&BRe(s,e.opts)}var q9=class tQ{constructor(){this.domain=new Set}static is(t){return t instanceof tQ}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},Hu=class nQ{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof nQ}static extendDomain(t,n=[1/0,-1/0]){for(const s of t)typeof s=="number"&&(n[0]>s&&(n[0]=s),n[1]<s&&(n[1]=s));return n}extend(t){typeof t!="number"&&!(t instanceof Date)||(this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t))}getDomain(){return[...this.domain]}},wp=0,Cp=1,fl=2,URe=class{constructor(e){const t=e.reduce((r,a)=>Math.max(r,a.length),0);let s=1<<32-Math.clz32(t);t===s/2&&(s=s>>>1),this.maxLevelSize=s;const i=new Float64Array((s*2-1)*2).fill(NaN);for(const r of e)for(let a=0;a<r.length;a+=1){const o=Number(r[a]),c=s+a-1,u=(c*fl|0)+wp,h=(c*fl|0)+Cp,f=i[u],g=i[h];(!Number.isFinite(f)||o<f)&&(i[u]=o),(!Number.isFinite(g)||o>g)&&(i[h]=o)}for(let r=s/2|0;r>=1;r=r/2|0){const a=r-1|0,o=a+r|0;for(let c=0;c<r;c+=1){const u=a+c,h=o+c*2,f=h+1,g=i[(h*fl|0)+wp],m=i[(f*fl|0)+wp];i[(u*fl|0)+wp]=!Number.isFinite(m)||g<m?g:m;const y=i[(h*fl|0)+Cp],b=i[(f*fl|0)+Cp];i[(u*fl|0)+Cp]=!Number.isFinite(b)||y>b?y:b}}this.buffer=i}computeRangeInto(e,t,n,s,i,r,a){const o=i+r-1;if(o<t||i>=n)return a;if(i>=t&&o<n){const c=e[(s*fl|0)+wp],u=e[(s*fl|0)+Cp];Number.isFinite(c)&&(a[0]=Math.min(a[0],c)),Number.isFinite(u)&&(a[1]=Math.max(a[1],u))}else r>1&&(s=s*2|0,r=r/2|0,this.computeRangeInto(e,t,n,s+1|0,i,r,a),this.computeRangeInto(e,t,n,s+2|0,i+r,r,a));return a}rangeBetween(e,t){if(e>t)return[NaN,NaN];const{maxLevelSize:n,buffer:s}=this,i=[1/0,-1/0];return this.computeRangeInto(s,e,t,0,0,n,i),i}get range(){const{buffer:e}=this;return[e[wp],e[Cp]]}};function HRe(e){if(e.length<=1)return 1;let t=0,n=e[0];for(let s=1;s<e.length;s++){const i=e[s];if(i==null)continue;if(typeof i.valueOf()!="number")return;const a=Math.sign(i-n);if(a!==0){if(t!==0&&t!==a)return;t=a}n=i}return t===0?1:t}var Z9=Symbol("key-sort-orders"),Q9=Symbol("column-sort-orders"),X9=Symbol("domain-ranges");function GRe(e){return e.map(t=>En(t)?JSON.stringify(t):t).join("-")}function Gr(e){const t=e?.map(Number);return t?.every(Number.isFinite)?t:[]}function sQ(e,t){return t?.get(e.id)??0}function J9(e){return"scopes"in e&&Array.isArray(e.scopes)}function $T(e,t){const n=[];for(let s=0;s<e;s+=1)n[s]=t;return n}function Ow(e,t){const n=[];for(const s of e){const i=s?.[t];if(i==null)return;n.push(i)}return n}function iQ(e){const t=[];let n=0,s;const i=new RegExp(`((?:(?:^|\\.)\\s*\\w+|\\[\\s*(?:'(?:[^']|(?<!\\\\)\\\\')*'|"(?:[^"]|(?<!\\\\)\\\\")*"|-?\\d+)\\s*\\])\\s*)`,"g");for(;s=i.exec(e);){if(s.index!==n)return;n=s.index+s[0].length;const r=s[1].trim();if(r.startsWith("."))t.push(r.slice(1).trim());else if(r.startsWith("[")){const a=r.slice(1,-1).trim();a.startsWith("'")?t.push(a.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):a.startsWith('"')?t.push(a.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):t.push(a)}else t.push(r)}if(n===e.length)return t}function WRe(e){return t=>{let n=t;for(const s of e)n=n[s];return n}}var rQ=class{constructor(e,t="standalone",n=!1){this.opts=e,this.mode=t,this.suppressFieldDotNotation=n,this.debug=Dt.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(o,c,u,h){for(const f of o)h.has(f)||h.set(f,$T(c.length,!1)),h.get(f)[u]=!0};let s=!0;for(const o of e.props){if(o.type==="key"&&!s)throw new Error("AG Charts - internal config error: keys must come before values.");o.type==="value"&&s&&(s=!1)}const i=({matchGroupIds:o=[]})=>{for(const c of o)if(this.values.every(u=>u.groupId!==c))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${c}).`)},r=new Set,a=new Set;for(const o of e.props){const c=o.type==="key"?r:a;switch(J9(o)&&o.scopes?.forEach(u=>c.add(u)),o.type){case"key":this.keys.push({...o,index:this.keys.length,missing:new Map});break;case"value":if(o.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(o)}`);this.values.push({...o,index:this.values.length,missing:new Map});break;case"aggregate":i(o),this.aggregates.push({...o,index:this.aggregates.length});break;case"group-value-processor":i(o),this.groupProcessors.push({...o,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...o,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...o,index:this.reducers.length});break;case"processor":this.processors.push({...o,index:this.processors.length});break}}if(this.opts.groupByKeys||this.opts.groupByFn!=null){const o=new Set(a.values());if(r.forEach(c=>o.delete(c)),o.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...o.values()]}`)}}resolveProcessedDataDefById(e,t){const n=this.scopeCache.get(e.id)?.get(t);if(!n)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:n.index,def:n}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveKeysById(e,t,n){const s=this.resolveProcessedDataIndexById(e,t),i=n.keys[s];if(i==null)throw new Error(`AG Charts - didn't find keys for [${t}, ${e.id}]`);return i.get(e.id)}hasColumnById(e,t){return this.scopeCache.get(e.id)?.get(t)!=null}resolveColumnById(e,t,n){const s=this.resolveProcessedDataIndexById(e,t),i=n.columns?.[s];if(i==null)throw new Error(`AG Charts - didn't find column for [${t}, ${e.id}]`);return i}*forEachDatum(e,t,n){const s=t.columnScopes.findIndex(i=>i.has(e.id));for(const i of n.datumIndices[s]??[])yield t.columns[s][i]}*forEachGroupDatum(e,t){const n=t.columnScopes.findIndex(r=>r.has(e.id)),s={groupIndex:0,columnIndex:n},i=[];for(const r of t.groups){s.group=r;for(const a of r.datumIndices[n]??i)s.datumIndex=a,yield s;s.groupIndex++}}getDomain(e,t,n,s){return this.getDomainsByType(n??"value",s)?.[this.resolveProcessedDataIndexById(e,t)]??[]}getDomainBetweenRange(e,t,[n,s],i){const r=t.map(u=>this.resolveProcessedDataIndexById(e,u)),a=r.join(":"),o=i[X9];let c=o.get(a);if(c==null){const u=r.map(h=>i.columns[h]);c=new URe(u),o.set(a,c)}return c.rangeBetween(n,s)}getSortOrder(e,t,n){let s=n.get(t);return s==null&&(s={sortOrder:HRe(e)},n.set(t,s)),s.sortOrder}getKeySortOrder(e,t,n){const s=this.resolveProcessedDataIndexById(e,t),i=n.keys[s]?.get(e.id);return i?this.getSortOrder(i,s,n[Z9]):void 0}getColumnSortOrder(e,t,n){const s=this.resolveProcessedDataIndexById(e,t);return this.getSortOrder(n.columns[s],s,n[Q9])}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e){const{opts:{groupByKeys:t,groupByFn:n},aggregates:s,groupProcessors:i,reducers:r,processors:a,propertyProcessors:o}=this,c=performance.now();if(t&&this.keys.length===0)return;let u=this.extractData(e);t?u=this.groupData(u):n&&(u=this.groupData(u,n(u))),i.length>0&&u.type==="grouped"&&this.postProcessGroups(u),s.length>0&&u.type==="ungrouped"?this.aggregateUngroupedData(u):s.length>0&&u.type==="grouped"&&this.aggregateGroupedData(u),o.length>0&&this.postProcessProperties(u),r.length>0&&this.reduceData(u),a.length>0&&this.postProcessData(u),this.warnDataMissingProperties(e);const h=performance.now();return u.time=h-c,this.debug.check()&&YRe(u),this.processScopeCache(),u}warnDataMissingProperties(e){if(e.size!==0)for(const t of Xp(this.keys,this.values))for(const[n,s]of t.missing){if(s<(e.get(n)?.length??1/0))continue;const i=n==null?"":` for ${n}`;Ne.warnOnce(`the key '${t.property}' was not found in any data element${i}.`)}}processScopeCache(){this.scopeCache.clear();for(const e of Xp(this.keys,this.values,this.aggregates))if(e.idsMap)for(const[t,n]of e.idsMap)for(const s of n)if(!this.scopeCache.has(t))this.scopeCache.set(t,new Map([[s,e]]));else{if(this.scopeCache.get(t)?.has(s))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(t).set(s,e)}}valueGroupIdxLookup({matchGroupIds:e}){const t=[];for(const[n,s]of this.values.entries())(!e||s.groupId&&e.includes(s.groupId))&&t.push(n);return t}valueIdxLookup(e,t){const n=e==null||e.length===0,s=typeof t=="string"?t:t.id,i=a=>{if(a.idsMap){for(const[o,c]of a.idsMap)if(e?.includes(o)&&c.has(s))return!0}return!1},r=this.values.reduce((a,o,c)=>((o.scopes==null||n&&!o.scopes.length||o.scopes.some(h=>e?.includes(h)))&&(o.property===s||o.id===s||i(o))&&a.push(c),a),[]);if(r.length===0)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return r}extractData(e){const{dataDomain:t,processValue:n,allScopesHaveSameDefs:s}=this.initDataDomainProcessor(),{keys:i,values:r}=this,{invalidData:a,invalidKeys:o,invalidKeyCount:c,allKeyMappings:u}=this.extractKeys(i,e,n),{columns:h,columnScopes:f,partialValidDataCount:g,maxDataLength:m}=this.extractValues(a,r,e,o,n),y=b=>{const S=t.get(b),C=S.getDomain();return Hu.is(S)&&C[0]>C[1]?[]:C};return{type:"ungrouped",input:{count:m},scopes:new Set(e.keys()),dataSources:e,aggregation:void 0,keys:[...u.values()],columns:h,columnScopes:f,invalidKeys:o,invalidKeyCount:c,invalidData:a,domain:{keys:i.map(y),values:r.map(y)},defs:{allScopesHaveSameDefs:s,keys:i,values:r},partialValidDataCount:g,time:0,[X9]:new Map,[Z9]:new Map,[Q9]:new Map}}extractKeys(e,t,n){const s=new Map,i=new Map,r=new Map,a=new Map;let o,c;const u=(h,f)=>{const g=c.get(h);o.set(f,o.get(g)),s.has(g)&&(s.set(f,s.get(g)),i.set(f,i.get(g)))};for(const h of e){const{invalidValue:f,scopes:g}=h;o=new Map,c=new Map,a.set(h,o);for(const m of g??[]){const y=t.get(m)??[];if(c.has(y)){u(y,m);continue}const b=[];o.set(m,b),c.set(y,m);let S,C,M=0;for(let N=0;N<y.length;N++){if(y[N]==null||typeof y[N]!="object")continue;const T=n(h,y[N],N,m);if(T.valid){b.push(T.value);continue}b.push(f),S??(S=$T(y.length,!1)),C??(C=$T(y.length,!1)),M+=1,S[N]=!0,C[N]=!0}S&&C&&(s.set(m,S),i.set(m,C),r.set(m,M))}}return{invalidData:i,invalidKeys:s,invalidKeyCount:r,allKeyMappings:a}}extractValues(e,t,n,s,i){let r=0;const a=[],o=[];let c=0;for(const u of t){const{invalidValue:h}=u;if(new Set(u.scopes.map(C=>n.get(C))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(u)}`);const g=new Set(u.scopes),m=Dy(u.scopes),y=n.get(m),b=new Array,S=s.get(m);for(let C=0;C<y.length;C++){if(y[C]==null||typeof y[C]!="object")continue;const M=y[C],N=S!=null?S[C]:!1,T=i(u,M,C,u.scopes);let E=T.value;(N||!T.valid)&&this.markScopeDatumInvalid(u.scopes,y,C,e),N?E=h:T.valid||(r+=1,E=h),b[C]=E}a.push(b),o.push(g),c=Math.max(c,b.length)}return{columns:a,columnScopes:o,partialValidDataCount:r,maxDataLength:c}}groupData(e,t){var n;const{keys:s,columns:i,columnScopes:r,invalidKeys:a,invalidData:o}=e,c=e.scopes,u=[],h=[],f=new Set,g=c.size!==1||t!=null?new Map:void 0;for(const m of c){const y=i.map((T,E)=>E).filter(T=>!f.has(T)&&r[T].has(m));if(y.length===0)continue;for(const T of y)f.add(T);const b=new Set;for(const T of y)for(const E of r[T])b.add(E);const S=s.map(T=>T.get(m)).filter(T=>T!=null),C=i[Dy(y)],M=o?.get(m),N=a?.get(m);for(let T=0;T<C.length;T++){if(N?.[T]===!0)continue;const E=S.map(_=>_[T]);if(E==null||E.length===0)throw new Error("AG Charts - no keys found for scope: "+m);const k=t?.(E)??E,L=g!=null?GRe(k):void 0;let I=g?.get(L);if(I==null&&(I={keys:k,datumIndices:[],aggregation:[],validScopes:c},g?.set(L,I),u.push(I.keys),h.push(I)),M?.[T]===!0){I.validScopes===c&&(I.validScopes=new Set(c.values()));for(const _ of b)I.validScopes.delete(_)}for(const _ of y)(n=I.datumIndices)[_]??(n[_]=[]),I.datumIndices[_].push(T)}}return{...e,type:"grouped",domain:{...e.domain,groups:u},groups:h}}aggregateUngroupedData(e){const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{columns:n,dataSources:s}=e,i=Dy(s.keys()),r=e.keys.map(o=>o.get(i)),a=s.get(i);e.aggregation=a?.map((o,c)=>{const u=[];for(const[h,f]of this.aggregates.entries()){const g=this.valueGroupIdxLookup(f);let m=f.groupAggregateFunction?.()??[1/0,-1/0];const y=g.map(M=>n[M][c]),b=Ow(r,c),S=b!=null?f.aggregateFunction(y,b):void 0;S&&(m=f.groupAggregateFunction?.(S,m)??Hu.extendDomain(S,m));const C=f.finalFunction?.(m)??m;u[h]=C,Hu.extendDomain(C,t[h])}return u})}aggregateGroupedData(e){const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{columns:n}=e;for(const[s,i]of this.aggregates.entries()){const r=this.valueGroupIdxLookup(i);for(const a of e.groups){a.aggregation??(a.aggregation=[]);const o=a.keys;let c=i.groupAggregateFunction?.()??[1/0,-1/0];const u=Math.max(...r.map(f=>a.datumIndices[f]?.length??0));for(let f=0;f<u;f++){const g=r.map(y=>n[y][a.datumIndices[y]?.[f]]),m=i.aggregateFunction(g,o);m&&(c=i.groupAggregateFunction?.(m,c)??Hu.extendDomain(m,c))}const h=i.finalFunction?.(c)??c;a.aggregation[s]=h,Hu.extendDomain(h,t[s])}}}postProcessGroups(e){const{groupProcessors:t}=this,{columnScopes:n,columns:s,invalidData:i}=e;for(const r of t){const a=this.valueGroupIdxLookup(r),o=r.adjust()();for(const c of e.groups)o(s,a,c);for(const c of a){const h=this.values[c].valueType==="category",f=s[c],g=Dy(n[c]),m=i?.get(g),y=h?new q9:new Hu;for(let b=0;b<f.length;b+=1)m?.[b]!==!0&&y.extend(f[b]);e.domain.values[c]=y.getDomain()}}}postProcessProperties(e){for(const{adjust:t,property:n,scopes:s}of this.propertyProcessors)for(const i of this.valueIdxLookup(s,n))t()(e,i)}reduceData(e){e.reduced??(e.reduced={});const{dataSources:t,keys:n}=e;for(const s of this.reducers){const i=s.reducer();let r=s.initialValue;if(e.type==="grouped")for(const a of e.groups)r=i(r,a.keys);else{const a=J9(s)?s.scopes[0]:Dy(t.keys()),o=n.map(h=>h.get(a)).filter(h=>h!=null),c=o.map(()=>{}),u=t.get(a);for(let h=0;h<u.length;h+=1){for(let f=0;f<c.length;f++)c[f]=o[f]?.[h];r=i(r,c)}}e.reduced[s.property]=r}}postProcessData(e){e.reduced??(e.reduced={});for(const t of this.processors)e.reduced[t.property]=t.calculate(e,e.reduced[t.property])}initDataDomainProcessor(){const{keys:e,values:t}=this,n=new Set;for(const h of t)if(h.scopes)for(const f of h.scopes)n.add(f);const s=new Map,i=new Map;let r=!0;const a=()=>{for(const h of Xp(e,t))h.valueType==="category"?s.set(h,new q9):(s.set(h,new Hu),r&&(r=(h.scopes?.length??0)===n.size))};a();const o=this.buildAccessors(Xp(e,t)),c={value:void 0,missing:!1,valid:!1};return{dataDomain:s,processValue:(h,f,g,m)=>{let y,b;if(o.has(h.property)){try{b=o.get(h.property)(f)}catch{}y=b!=null}else y=h.property in f,b=y?f[h.property]:h.missingValue;h.forceValue!=null&&(b=y&&eO(b)?-1*h.forceValue:h.forceValue,y=!0),c.missing=!y;const S="missingValue"in h;if(!y&&!S)if(typeof m=="string"){const C=h.missing.get(m)??0;h.missing.set(m,C+1)}else for(const C of m){const M=h.missing.get(C)??0;h.missing.set(C,M+1)}if(s.has(h)||a(),y&&h.validation?.(b,f,g)===!1)if(c.valid=!1,"invalidValue"in h)b=h.invalidValue;else return this.mode!=="integrated"&&Ne.warnOnce(`invalid value of type [${typeof b}] for [${h.scopes} / ${h.id}] ignored:`,`[${b}]`),c.value=void 0,c;else c.valid=!0;if(h.processor){let C=i.get(h);C==null&&(C=h.processor(),i.set(h,C)),b=C(b,g)}return s.get(h)?.extend(b),c.value=b,c},initDataDomain:a,scopes:n,allScopesHaveSameDefs:r}}buildAccessors(e){const t=new Map;if(this.suppressFieldDotNotation)return t;for(const n of e){if(!(n.property.includes(".")||n.property.includes("[")))continue;const i=iQ(n.property);if(i==null){Ne.warnOnce("Invalid property path [%s]",n.property);continue}const r=WRe(i);t.set(n.property,r)}return t}};function YRe(e){const t=(n,s)=>{s.length>0&&(Ne.log(`DataModel.processData() - ${n}`),Ne.table(s))};Ne.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[])}var VO=class pl{constructor(t,n){this.mode=t,this.suppressFieldDotNotation=n,this.debug=Dt.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(t,n,s){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((i,r)=>{this.requested.push({id:t,opts:s,data:n,resolve:i,reject:r})})}execute(t){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const n=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",n);const s=this.mergeRequested(n);this.debug("DataController.execute() - merged",s),this.debug.check()&&(Nn().processedData=[]);const i=[];for(const{data:r,ids:a,opts:o,resolves:c,rejects:u}of s){const h=t?.find(m=>VRe(m,r,a,o));let f,g;if(h==null)try{f=new rQ(o,this.mode,this.suppressFieldDotNotation);const m=new Map(n.map(y=>[y.id,y.data]));g=f.processData(m)}catch(m){u.forEach(y=>y(m));continue}else({dataModel:f,processedData:g}=h);if(i.push({opts:o,data:r,ids:a,dataModel:f,processedData:g}),this.debug.check()&&Nn("processedData").push(g),g)for(const m of c)m({dataModel:f,processedData:g});else{const m=new Error("AG Charts - no processed data generated");for(const y of u)y(m)}}return i}validateRequests(t){const n=[];for(const[s,i]of t.entries())s>0&&i.data.length!==t[0].data.length&&i.opts.groupByData===!1&&i.opts.groupByKeys===!1?i.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):n.push(i);return n}mergeRequested(t){const n=[];for(const s of t){const i=n.find(pl.groupMatch(s));i?i.push(s):n.push([s])}return n.map(pl.mergeRequests)}static groupMatch({data:t,opts:n}){function s(u){return u.filter(h=>h.type==="key").map(h=>h.property).join(";")}const{groupByData:i,groupByKeys:r=!1,groupByFn:a,props:o}=n,c=s(o);return([u])=>(i===!1||u.data===t)&&(u.opts.groupByKeys??!1)===r&&u.opts.groupByFn===a&&s(u.opts.props)===c}static mergeRequests(t){const n={ids:[],rejects:[],resolves:[],data:t[0].data,opts:{...t[0].opts,props:[]}},s=new Map,i=new Map;let r=0;for(const a of t){const{id:o,data:c,resolve:u,reject:h,opts:{props:f,...g}}=a;n.ids.push(o),n.rejects.push(h),n.resolves.push(u),n.data??(n.data=c),n.opts??(n.opts={...g,props:[]});for(const m of f){const y={...m,scopes:[o],data:c};pl.createIdsMap(o,y);let b;pl.crossScopeMergableTypes.has(y.type)?b=-1:i.has(c)?b=i.get(c):(b=r++,i.set(c,b));const S=`${y.type}-${b}-${y.groupId}`,C=s.get(S),M=C?.find(N=>pl.deepEqual(N,y));if(C==null){n.opts.props.push(y),s.set(S,[y]);continue}else if(M==null){n.opts.props.push(y),C.push(y);continue}y.scopes!=null&&(M.scopes??(M.scopes=[]),M.scopes.push(...y.scopes)),(M.type==="key"||M.type==="value")&&y.idsMap?.size&&(M.idsMap??(M.idsMap=new Map),pl.mergeIdsMap(y.idsMap,M.idsMap))}}return n}static mergeIdsMap(t,n){for(const[s,i]of t){const r=n.get(s);if(r==null)n.set(s,new Set(i));else for(const a of i)r.add(a)}}static createIdsMap(t,n){n.id!=null&&(n.idsMap??(n.idsMap=new Map),n.idsMap.has(t)?n.idsMap.get(t).add(n.id):n.idsMap.set(t,new Set([n.id])))}static deepEqual(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;let s,i;if(Array.isArray(t)){if(i=t.length,i!==n.length)return!1;for(s=i-1;s>=0;s--)if(!pl.deepEqual(t[s],n[s]))return!1;return!0}const r=Object.keys(t);if(i=r.length,i!==Object.keys(n).length)return!1;for(s=i-1;s>=0;s--){const a=r[s];if(!pl.skipKeys.has(a)&&(!Object.hasOwn(n,a)||!pl.deepEqual(t[a],n[a])))return!1}return!0}return!1}};VO.crossScopeMergableTypes=new Set(["key","group-value-processor"]);VO.skipKeys=new Set(["id","idsMap","type","scopes","data"]);var aQ=VO,KRe=class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate)}create(e,t){const n=this.axesMap.get(e);if(n)return n(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},Uh=new KRe,fb=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","topology","standalone"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","topology","standalone"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","topology","standalone"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"axis-option",optionsKey:"bandHighlight",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"radial-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"sankey"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function oC(e){return fb.find(t=>t.type==="series"&&t.identifier===e)?.chartTypes}function qRe(e){return oC(e)?.find(n=>n==="cartesian")==="cartesian"}function ZRe(e){return oC(e)?.find(n=>n==="polar")==="polar"}function QRe(e){return oC(e)?.find(n=>n==="topology")==="topology"}function XRe(e){return oC(e)?.find(n=>n==="standalone")==="standalone"}function JRe(e){return e.packageType==="enterprise"}function e_e(e){if(!JRe(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const t=fb.find(n=>n.type===e.type&&("optionsKey"in n&&"optionsKey"in e?n.optionsKey===e.optionsKey:!0)&&("contextKey"in n&&"contextKey"in e?n.contextKey===e.contextKey:!0)&&n.identifier===e.identifier&&e.chartTypes.every(s=>n.chartTypes.includes(s)));return t&&(t.useCount??(t.useCount=0),t.useCount++),t!=null}function t_e(){return fb.filter(({useCount:e})=>e==null||e===0)}var n_e=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,{optionsKey:t,moduleFactory:n,themeTemplate:s}){this.legendMap.set(e,{optionsKey:t,moduleFactory:n}),this.themeTemplates.set(t,s)}create(e,t){const n=this.legendMap.get(e)?.moduleFactory;if(n)return n(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,[t,n])=>(e[t]=n.optionsKey,e),{})}},UO=new n_e,oQ=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return this.get(e)==="cartesian"}isPolar(e){return this.get(e)==="polar"}isTopology(e){return this.get(e)==="topology"}isStandalone(e){return this.get(e)==="standalone"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get standaloneTypes(){return this.seriesTypes.filter(e=>this.isStandalone(e))}},s_e=class extends Map{set(e,t){return super.set(e,pn(t,this.get(e)))}},fi=new oQ,i_e=new oQ,UD=new s_e,r_e=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,{chartTypes:[t],moduleFactory:n,predictAxis:s,defaultAxes:i,themeTemplate:r,solo:a,stackable:o,groupable:c,stackedByDefault:u,hidden:h}){this.setThemeTemplate(e,r),this.seriesMap.set(e,{moduleFactory:n,predictAxis:s,defaultAxes:i,solo:a,stackable:o,groupable:c,stackedByDefault:u}),fi.set(e,t),h||i_e.set(e,t)}create(e,t){const n=this.seriesMap.get(e)?.moduleFactory;if(n)return n(t);throw new Error(`AG Charts - unknown series type: ${e}`)}predictAxes(e,t,n){if(!t)return;const s=t?.data??n;if(!s?.length)return;const i=this.seriesMap.get(e)?.predictAxis;if(!i)return;const r=new Map,a=I4e(0,s.length-1,5);for(const o of a){const c=s[o];for(const u of Object.values(Q2)){const h=i(u,c,t);if(!r.has(u)){r.set(u,h);continue}const f=r.get(u);if(!(!h&&!f)){if(!h||!f)return;for(const g of Object.keys(f))if(f[g]!==h[g])return}}}for(const[o,c]of r)c||r.delete(o);if(r.size!==0){if(r.size===1){const o=this.cloneDefaultAxes(e);if(!o)return;const[c]=r.values();return o.map(u=>u.type==="category"?c:u)}return Array.from(r.values())}}cloneDefaultAxes(e){const t=this.seriesMap.get(e)?.defaultAxes;return t==null?null:xs(t)}setThemeTemplate(e,t){const n=this.themeTemplates.get(e);this.themeTemplates.set(e,pn(t,n))}getThemeTemplate(e){return this.themeTemplates.get(e)}isSolo(e){return this.seriesMap.get(e)?.solo??!1}isGroupable(e){return this.seriesMap.get(e)?.groupable??!1}isStackable(e){return this.seriesMap.get(e)?.stackable??!1}isStackedByDefault(e){return this.seriesMap.get(e)?.stackedByDefault??!1}},Xa=new r_e,HO=class wc{constructor(t){this.chart=t}subscribe(t=wc.DEFAULT_GROUP){let n=this.get(t);return n||(n={members:new Set},wc.chartsGroups.set(t,n)),n.members.add(this.chart),this}unsubscribe(t=wc.DEFAULT_GROUP){const n=this.get(t);return n?.members.delete(this.chart),delete n?.domains?.x?.sources?.[this.chart.id],delete n?.domains?.y?.sources?.[this.chart.id],this}getChart(){return this.chart}getGroupState(t=wc.DEFAULT_GROUP){return this.get(t)}getGroupMembers(t=wc.DEFAULT_GROUP){const n=this.get(t);return n?Array.from(n.members):[]}getGroupSiblings(t=wc.DEFAULT_GROUP){return this.getGroupMembers(t).filter(n=>n!==this.chart)}getGroupSyncMode(t=wc.DEFAULT_GROUP){return this.getGroupMembers(t).some(n=>n.series.length>1)?"multi-series":"single-series"}get(t){return wc.chartsGroups.get(t)}};HO.chartsGroups=new Map;HO.DEFAULT_GROUP=Symbol("sync-group-default");var a_e=HO,GO=class extends mt{constructor(){super(...arguments),this.enabled=!1}};D([O],GO.prototype,"enabled",2);D([O],GO.prototype,"tabIndex",2);var lQ={};Ul(lQ,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>zo,fromToMotion:()=>Fs,staticFromToMotion:()=>nu});var zo={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function Fs(e,t,n,s,i,r,a){const{fromFn:o,toFn:c,applyFn:u=(y,b)=>y.setProperties(b)}=i,{nodes:h,selections:f}=sC(s),g=(y,b)=>{let S,C=0,M=0;for(const N of b){const T=y[C]===N,E={last:M>=b.length-1,lastLive:C>=y.length-1,prev:b[M-1],prevFromProps:S,prevLive:y[C-1],next:b[M+1],nextLive:y[C+(T?1:0)]},k=`${e}_${t}_${N.id}`;n.stopByAnimationId(k);let L="unknown";T?r&&a&&(L=o_e(N,N.datum,r,a)):L="removed",N.transitionOut=L==="removed";const{phase:I,start:_,finish:F,delay:G,duration:U,...H}=o(N,N.datum,L,E),{phase:z,start:$,finish:P,delay:B,duration:Y,...K}=c(N,N.datum,L,E),te=F==null;n.animate({id:k,groupId:e,phase:I??z??"update",duration:U??Y,delay:G??B,from:H,to:K,ease:n0,collapsable:te,onPlay:()=>{const se={..._,...$,...H};u(N,se,"start")},onUpdate(se){u(N,se,"update")},onStop:()=>{const se={..._,...$,...H,...K,...F,...P};u(N,se,"end")}}),T&&C++,M++,S=H}};let m=0;for(const y of f){const b=y.nodes(),S=b.filter(C=>!y.isGarbage(C));g(S,b),n.animate({id:`${e}_${t}_selection_${m}`,groupId:e,phase:"end",from:0,to:1,ease:n0,onStop(){y.cleanup()}}),m++}g(h,h)}function nu(e,t,n,s,i,r,a){const{nodes:o,selections:c}=sC(s),{start:u,finish:h,phase:f}=a;n.animate({id:`${e}_${t}`,groupId:e,phase:f??"update",from:i,to:r,ease:n0,onPlay:()=>{if(u){for(const g of o)g.setProperties(u);for(const g of c)for(const m of g.nodes())m.setProperties(u)}},onUpdate(g){for(const m of o)m.setProperties(g);for(const m of c)for(const y of m.nodes())y.setProperties(g)},onStop:()=>{for(const g of o)g.setProperties({...r,...h});for(const g of c){for(const m of g.nodes())m.setProperties({...r,...h});g.cleanup()}}})}function o_e(e,t,n,s){const i=n(e,t);return s.added.has(i)?"added":s.removed.has(i)?"removed":e.previousDatum==null&&e.datum!=null?"added":e.previousDatum!=null&&e.datum==null?"removed":"updated"}var cQ={};Ul(cQ,{resetMotion:()=>Ui});function Ui(e,t){const{nodes:n,selections:s}=sC(e);for(const i of s){for(const r of i.nodes()){const a=t(r,r.datum);r.setProperties(a)}i.cleanup()}for(const i of n){const r=t(i,i.datum);i.setProperties(r)}}var cr=class Th{constructor(t,n,s=!0){this.parentNode=t,this.autoCleanup=s,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=Dt.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(Gc,n)?()=>new n:n}static select(t,n,s=!0){return new Th(t,n,s)}static selectAll(t,n){const s=[],i=r=>{if(n(r)&&s.push(r),r instanceof Et)for(const a of r.children())i(a)};return i(t),s}static selectByClass(t,...n){return Th.selectAll(t,s=>n.some(i=>s instanceof i))}static selectByTag(t,n){return Th.selectAll(t,s=>s.tag===n)}createNode(t,n,s){const i=this.nodeFactory(t);return i.datum=t,n?.(i),s==null?this._nodes.push(i):this._nodes.splice(s,0,i),this.parentNode.appendChild(i),i}update(t,n,s){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",t),s){const i=new Map,r=new Map;for(let a=0;a<t.length;a++){const o=t[a];let c=s(o);if(i.has(c)){const u=(r.get(c)??0)+1;r.set(c,u),c=`${c}:${u}`}i.set(c,a)}for(const[a,o]of this._nodesMap.entries()){const c=i.get(o);c==null?this.garbageBin.add(a):(a.datum=t[c],this.garbageBin.delete(a),i.delete(o))}for(const[a,o]of i.entries()){const c=t[o];this._nodesMap.set(this.createNode(c,n,o),a)}}else{const i=Math.max(t.length,this.data.length);for(let r=0;r<i;r++)r>=t.length?this.garbageBin.add(this._nodes[r]):r>=this._nodes.length?this.createNode(t[r],n):(this._nodes[r].datum=t[r],this.garbageBin.delete(this._nodes[r]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}each(t){for(const n of this._nodes.entries())t(n[1],n[1].datum,n[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){const n=this._nodes[t];yield{node:n,datum:n.datum,index:t}}}select(t){return Th.selectAll(this.parentNode,t)}selectByClass(t){return Th.selectByClass(this.parentNode,t)}selectByTag(t){return Th.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(t){return this._nodes.at(t)}get length(){return this._nodes.length}},ya=class extends $s{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.fill=void 0,this.strokeWidth=1}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new Pe(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){return this.x1===this.x2||this.y1===this.y2?this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(e,t):!1}distanceSquared(e,t){const{x1:n,y1:s,x2:i,y2:r}=this;return Ew(e,t,n,s,i,r,1/0)}render(e){const{ctx:t,devicePixelRatio:n}=e;let{x1:s,y1:i,x2:r,y2:a}=this;if(s===r){const{strokeWidth:o}=this,c=Math.round(s*n)/n+Math.trunc(o*n)%2/(n*2);s=c,r=c}else if(i===a){const{strokeWidth:o}=this,c=Math.round(i*n)/n+Math.trunc(o*n)%2/(n*2);i=c,a=c}t.beginPath(),t.moveTo(s,i),t.lineTo(r,a),this.fillStroke(t),this.fillShadow?.markClean(),super.render(e)}toSVG(){if(!this.visible)return;const e=Ds("line");return e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(e),{elements:[e]}}};ya.className="Line";D([Me()],ya.prototype,"x1",2);D([Me()],ya.prototype,"y1",2);D([Me()],ya.prototype,"x2",2);D([Me()],ya.prototype,"y2",2);var BT="color: green",VT="color: grey";function l_e(){return _q(()=>{})}function HD(e,t){const n=cd(t);if(n.length===0)return;const s=Pq(e);for(const i of n)i in s&&(t[i]=s[i])}var uQ=class{transitionRoot(e,t){this.parent?this.parent.transitionRoot(e,t):this.transition(e,t)}},WO=class _r extends uQ{constructor(t,n,s){super(),this.defaultState=t,this.states=n,this.enterEach=s,this.debug=Dt.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,BT)}transition(t,n){if(!this.transitionChild(t,n)||this.state===_r.child||this.state===_r.parent)return;const i=this.state,r=this.states[this.state];let a=r[t];const o=`%c${this.constructor.name} | ${this.state} -> ${t} ->`;if(Array.isArray(a))a=a.find(h=>{if(!h.guard)return!0;const f=h.guard(n);return f||this.debug(`${o} (guarded)`,h.target,VT),f});else if(typeof a=="object"&&!(a instanceof _r)&&a.guard&&!a.guard(n)){this.debug(`${o} (guarded)`,a.target,VT);return}if(!a){this.debug(`${o} ${this.state}`,VT);return}const c=this.getDestinationState(a),u=c===this.state?void 0:r.onExit;this.debug(`${o} ${c}`,BT),this.state=c,typeof a=="function"?a(n):typeof a=="object"&&!(a instanceof _r)&&a.action?.(n),u?.(),this.enterEach?.(i,c),c!==i&&c!==_r.child&&c!==_r.parent&&this.states[c].onEnter?.(i,n)}transitionAsync(t,n){setTimeout(()=>{this.transition(t,n)},0)}is(t){return this.state===_r.child&&this.childState?this.childState.is(t):this.state===t}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,n){return this.state!==_r.child||!this.childState||(HD(this,this.childState),this.childState.transition(t,n),!this.childState.is(_r.parent))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,BT),this.state=this.defaultState,this.states[this.state].onEnter?.(),this.childState.resetHierarchy(),!1)}getDestinationState(t){let n=this.state;return typeof t=="string"?n=t:t instanceof _r?(this.childState=t,this.childState.parent=this,n=_r.child):typeof t=="object"&&(t.target instanceof _r?(this.childState=t.target,this.childState.parent=this,n=_r.child):t.target!=null&&(n=t.target)),n}};WO.child="__child";WO.parent="__parent";var pb=WO,c_e=class extends uQ{constructor(...e){super(),this.stateMachines=e;for(const t of e)t.parent=this}transition(e,t){for(const n of this.stateMachines)HD(this,n),n.transition(e,t)}transitionAsync(e,t){for(const n of this.stateMachines)HD(this,n),n.transitionAsync(e,t)}},bf=class{constructor(){this.enabled=!0}};D([O],bf.prototype,"enabled",2);D([O],bf.prototype,"stroke",2);D([O],bf.prototype,"strokeWidth",2);D([O],bf.prototype,"strokeOpacity",2);var Ms=class extends mt{constructor(){super(...arguments),this.enabled=!0,this.border=new bf,this._cachedFormatter=void 0}formatValue(e,t,n,s){const{formatter:i,format:r}=this;let a;if(i!=null&&(a??(a=e(i,s))),r!=null){let o=this._cachedFormatter;(o==null||o.type!==t||o.format!==r)&&(o={type:t,format:r,formatter:Dg.getFormatter(t,r)},this._cachedFormatter=o),a??(a=o.formatter?.(n))}return a==null||Pt(a)?a:String(a)}};D([O],Ms.prototype,"enabled",2);D([O],Ms.prototype,"border",2);D([O],Ms.prototype,"color",2);D([O],Ms.prototype,"cornerRadius",2);D([O],Ms.prototype,"fill",2);D([O],Ms.prototype,"fillOpacity",2);D([O],Ms.prototype,"fontStyle",2);D([O],Ms.prototype,"fontWeight",2);D([O],Ms.prototype,"fontSize",2);D([O],Ms.prototype,"fontFamily",2);D([O],Ms.prototype,"formatter",2);D([O],Ms.prototype,"format",2);D([O],Ms.prototype,"padding",2);D([O],Ms.prototype,"itemStyler",2);function kg(e){const{enabled:t=!1,stroke:n}=e?.border??{},i=e?.fill!=null||t&&n!=null?e?.padding:null;if(i==null)return{bottom:0,left:0,right:0,top:0};if(typeof i=="number")return{bottom:i,left:i,right:i,top:i};{const{bottom:r=0,left:a=0,right:o=0,top:c=0}=i;return{bottom:r,left:a,right:o,top:c}}}var YO=class{constructor(){this.moduleMap=new Map}*modules(){for(const e of this.moduleMap.values())yield e.moduleInstance}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){const t=mi(e)?e:e.optionsKey;this.moduleMap.get(t)?.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){return this.moduleMap.get(mi(e)?e:e.optionsKey)?.moduleInstance}isEnabled(e){return this.moduleMap.has(mi(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,n)=>e(t.moduleInstance,n))}destroy(){for(const e of this.moduleMap.keys())this.moduleMap.get(e)?.moduleInstance.destroy();this.moduleMap.clear()}},Gl=class extends $s{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.horizontal=!1,this.strokeWidth=1}computeBBox(){return new Pe(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){const{ctx:t}=e;let{x1:n,y1:s,x2:i,y2:r}=this;n=this.align(n),s=this.align(s),i=this.align(i),r=this.align(r);const{fill:a,horizontal:o}=this,{globalAlpha:c}=t;a!=null&&(this.applyFillAndAlpha(t),t.beginPath(),t.moveTo(n,s),t.lineTo(i,s),t.lineTo(i,r),t.lineTo(n,r),t.closePath(),t.fill(),t.globalAlpha=c);const{stroke:u,strokeWidth:h,startLine:f,endLine:g}=this;if(!!((f||g)&&u&&h)){const{lineDash:y,lineDashOffset:b,lineCap:S,lineJoin:C}=this;this.applyStrokeAndAlpha(t),t.lineWidth=h,y&&t.setLineDash([...y]),b&&(t.lineDashOffset=b),S&&(t.lineCap=S),C&&(t.lineJoin=C),t.beginPath(),f&&(t.moveTo(n,s),o?t.lineTo(n,r):t.lineTo(i,s)),g&&(t.moveTo(i,r),o?t.lineTo(i,s):t.lineTo(n,r)),t.stroke(),t.globalAlpha=c}this.fillShadow?.markClean(),super.render(e)}};Gl.className="Range";D([Me()],Gl.prototype,"x1",2);D([Me()],Gl.prototype,"y1",2);D([Me()],Gl.prototype,"x2",2);D([Me()],Gl.prototype,"y2",2);D([Me()],Gl.prototype,"startLine",2);D([Me()],Gl.prototype,"endLine",2);D([Me()],Gl.prototype,"horizontal",2);function u_e(e){return e!=null&&Object.hasOwn(e,"toString")&&mi(e.toString())}function d_e(e){return e!=null&&Object.hasOwn(e,"valueOf")&&bn(e.valueOf())}function lC(e){return bn(e)||nO(e)||d_e(e)}function h_e(e,t){return e!=null&&(!t||lC(e))}function GD(e){return u_e(e)&&Object.hasOwn(e,"id")?e.id:e}function dQ(e){switch(e.type){case"line":return e.value;case"range":return e.range}}function hQ(e,t){const n=dQ(e);if(n==null)return!1;const s=jn.is(t)||el.is(t),i=r=>h_e(r,s)&&!isNaN(t.convert(r,{clamp:!0}));if(e.type==="range"){const[r,a]=n;return i(r)&&i(a)}else return i(n)}var f_e={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:1},"top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:-1},"bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},p_e={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:-1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:-1,labelV:-1},"inside-top-right":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},g_e={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},m_e={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:-1,labelV:-1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},bo=class extends mt{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};D([O],bo.prototype,"enabled",2);D([O],bo.prototype,"text",2);D([O],bo.prototype,"fontStyle",2);D([O],bo.prototype,"fontWeight",2);D([O],bo.prototype,"fontSize",2);D([O],bo.prototype,"fontFamily",2);D([O],bo.prototype,"padding",2);D([O],bo.prototype,"color",2);D([O],bo.prototype,"position",2);D([O],bo.prototype,"rotation",2);D([O],bo.prototype,"parallel",2);var Mr=class extends mt{constructor(){super(),this.id=Xo(this),this.defaultColorRange=[],this.fill="#c16068",this.label=new bo,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.position="top",this.rangeGroup=new Et({name:this.id}),this.lineGroup=new Et({name:this.id}),this.labelGroup=new Et({name:this.id}),this.crossLineRange=new Gl,this.crossLineLabel=new Ng,this.data=void 0,this.startLine=!1,this.endLine=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}get defaultLabelPosition(){return"top"}update(e){const{enabled:t,type:n,data:s,scale:i}=this;if(!i||!t||!e||!hQ(this,i)||s==null){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updateNodes();const r=n==="range";r!==this._isRange&&(r?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=r}calculateLayout(e){if(this.data=void 0,!e)return;const{type:t,range:n,value:s,scale:i,clippedRange:r,strokeWidth:a=0}=this;if(!i)return;const o=i.bandwidth??0,c=i.step??0,u=i instanceof tu?(c-o)/2:0;let[h,f]=pi(r);h-=o,f+=o;let g,m,y,b;if(t==="line"){const S=o/2;if(g=i.convert(s)+S,m=NaN,y=i.convert(s,{clamp:!0})+S,b=NaN,y>=f||y<=h)return}else if(n){const[S,C]=n,[M,N]=ZZ(S,C);if(g=i.convert(S,{alignment:M}),m=i.convert(C,{alignment:N}),y=i.convert(S,{clamp:!0,alignment:M}),b=i.convert(C,{clamp:!0,alignment:N}),y>b&&([y,b]=[b,y],[g,m]=[m,g]),y>=f||b<=h)return;Number.isFinite(g)&&(y-=u),Number.isFinite(m)&&(m+=o,b+=o+u)}else return;y=r0(y,r),b=r0(b,r),g-u>=y&&(g-=u),m+u<=b&&(m+=u),this.startLine=a>0&&g>=y&&g<=y+u,this.endLine=a>0&&m>=b-o-u&&m<=b,this.data=[y,b],this.label.enabled===!1||this.label.text}updateNodes(){const{position:e,data:[t,n]=[0,0],gridLength:s}=this,i=Number.isFinite(n)?n-t:0;let r;switch(e){case"top":case"bottom":r=new Pe(t,e==="top"?0:-s,i,s);break;case"left":case"right":r=new Pe(e==="left"?0:-s,t,s,i)}this.updateRangeNode(r);const{label:a}=this;a.enabled!==!1&&a.text&&(this.updateLabel(),this.positionLabel(r))}updateRangeNode(e){const{type:t,position:n,crossLineRange:s,startLine:i,endLine:r,fill:a,fillOpacity:o,stroke:c,strokeWidth:u,strokeOpacity:h,lineDash:f}=this;s.x1=e.x,s.x2=e.x+e.width,s.y1=e.y,s.y2=e.y+e.height,s.horizontal=n==="top"||n==="bottom",s.startLine=i,s.endLine=r,s.fill=t==="range"?a:void 0,s.fillOpacity=o??1,s.stroke=c,s.strokeWidth=u??1,s.strokeOpacity=h??1,s.lineDash=f}updateLabel(){const{crossLineLabel:e,label:t}=this;t.text&&(e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.fill=t.color,e.text=t.text)}get anchor(){const e=this.position==="left"||this.position==="right",t=this.type==="range",{position:n=this.defaultLabelPosition}=this.label;return t?(e?g_e:m_e)[n]:(e?f_e:p_e)[n]}positionLabel(e){const{crossLineLabel:t,label:n,anchor:s}=this;t.rotation=Wi(n.rotation??0),t.textBaseline="middle",t.textAlign="center";const i=t.getBBox();if(!i)return;const{width:r,height:a}=i,o=n.padding+r/2,c=n.padding+a/2,u=e.x+e.width*(s.rangeH+1)/2-o*s.labelH,h=e.y+e.height*(s.rangeV+1)/2-c*s.labelV;t.x=u,t.y=h,t.rotationCenterX=u,t.rotationCenterY=h}computeLabelSize(){const{label:e}=this;if(e.enabled===!1||!e.text)return;const t=new Ng;t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=e.text,t.rotation=Wi(e.rotation??0),t.textBaseline="middle",t.textAlign="center";const n=t.getBBox();if(!n)return;const{width:s,height:i}=n;return{width:s,height:i}}calculatePadding(e){const{label:t,anchor:n}=this,s=this.computeLabelSize();if(!s)return;const{width:i,height:r}=s,a=t.padding+i,o=t.padding+r,c=this.position==="left"||this.position==="right";c&&(n.rangeH===-1&&n.labelH===1?e.left=Math.max(e.left??0,a):n.rangeH===1&&n.labelH===-1&&(e.right=Math.max(e.right??0,a))),c||(n.rangeV===-1&&n.labelV===1?e.top=Math.max(e.top??0,o):n.rangeV===1&&n.labelV===-1&&(e.bottom=Math.max(e.bottom??0,o)))}};Mr.className="CrossLine";D([O],Mr.prototype,"enabled",2);D([O],Mr.prototype,"type",2);D([O],Mr.prototype,"range",2);D([O],Mr.prototype,"value",2);D([O],Mr.prototype,"defaultColorRange",2);D([O],Mr.prototype,"fill",2);D([O],Mr.prototype,"fillOpacity",2);D([O],Mr.prototype,"stroke",2);D([O],Mr.prototype,"strokeWidth",2);D([O],Mr.prototype,"strokeOpacity",2);D([O],Mr.prototype,"lineDash",2);D([O],Mr.prototype,"label",2);var cC=class{constructor(){this.enabled=!0,this.width=1,this.style=[{fill:void 0,fillOpacity:1,stroke:void 0,strokeWidth:void 0,lineDash:[]}]}};D([O],cC.prototype,"enabled",2);D([O],cC.prototype,"width",2);D([O],cC.prototype,"style",2);var vf=class extends mt{};D([O],vf.prototype,"placement",2);D([O],vf.prototype,"step",2);D([O],vf.prototype,"values",2);D([O],vf.prototype,"minSpacing",2);D([O],vf.prototype,"maxSpacing",2);var ts=class extends mt{constructor(){super(...arguments),this.enabled=!0,this.border=new bf,this.wrapping="never",this.truncate=!1,this.spacing=5,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this._formatters={"component:year":void 0,"component:month":void 0,"component:day":void 0,"component:none":void 0,"long:year":void 0,"long:month":void 0,"long:day":void 0,"long:none":void 0}}getSideFlag(){return this.mirrored?1:-1}formatValue(e,t,n,s={dateStyle:"long",truncateDate:void 0}){const{formatter:i,format:r}=this,{type:a,value:o,domain:c,boundSeries:u}=t,h=t.type==="number"?t.fractionDigits:void 0,f=t.type==="date"?t.unit:void 0;let g;if(i!=null){const m=t.type==="date"?t.step:void 0;g=e(i,{value:o,index:n,domain:c,fractionDigits:h,unit:f,step:m,boundSeries:u})}if(r!=null&&g==null){const{specifier:m,dateStyle:y,truncateDate:b}=s,S=`${y}:${b??"none"}`;let C=this._formatters[S];const M=Dg.mergeSpecifiers(m,r);(C==null||C.type!==a||C.unit!==f||!Cr(C.mergedFormat,M))&&(C={type:a,mergedFormat:M,unit:f,formatter:Dg.getFormatter(a,M,f,y,s)},this._formatters[S]=C),g=C.formatter?.(o,h)}return g==null||Pt(g)?g:String(g)}};D([O],ts.prototype,"enabled",2);D([O],ts.prototype,"border",2);D([O],ts.prototype,"cornerRadius",2);D([O],ts.prototype,"fill",2);D([O],ts.prototype,"fillOpacity",2);D([O],ts.prototype,"fontStyle",2);D([O],ts.prototype,"fontWeight",2);D([O],ts.prototype,"fontSize",2);D([O],ts.prototype,"fontFamily",2);D([O],ts.prototype,"wrapping",2);D([O],ts.prototype,"truncate",2);D([O],ts.prototype,"spacing",2);D([O],ts.prototype,"minSpacing",2);D([O],ts.prototype,"color",2);D([O],ts.prototype,"rotation",2);D([O],ts.prototype,"avoidCollisions",2);D([O],ts.prototype,"mirrored",2);D([O],ts.prototype,"padding",2);D([O],ts.prototype,"parallel",2);D([O],ts.prototype,"itemStyler",2);D([O],ts.prototype,"formatter",2);D([O],ts.prototype,"format",2);var uC=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};D([O],uC.prototype,"enabled",2);D([O],uC.prototype,"width",2);D([O],uC.prototype,"stroke",2);var Sf=class extends mt{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};D([O],Sf.prototype,"enabled",2);D([O],Sf.prototype,"width",2);D([O],Sf.prototype,"size",2);D([O],Sf.prototype,"stroke",2);var tl=class extends mt{constructor(){super(...arguments),this.caption=new us,this.enabled=!1,this.spacing=us.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};D([O],tl.prototype,"enabled",2);D([O],tl.prototype,"text",2);D([O],tl.prototype,"spacing",2);D([O],tl.prototype,"fontStyle",2);D([O],tl.prototype,"fontWeight",2);D([O],tl.prototype,"fontSize",2);D([O],tl.prototype,"fontFamily",2);D([O],tl.prototype,"color",2);D([O],tl.prototype,"wrapping",2);D([O],tl.prototype,"formatter",2);var fQ=(e=>(e[e.TickAndDomain=0]="TickAndDomain",e[e.TicksOnly=1]="TicksOnly",e[e.Off=2]="Off",e))(fQ||{});function pQ(e){const[t,n]=pi(e.range),s=Math.floor(t),i=Math.ceil(n);return{min:s,max:i,visible:s!==i}}var WD=Math.PI*2,y_e=WD/2;function x_e(e,t){return Math.abs(t-e)<y_e?t:e>t?t+WD:t-WD}function gQ(e){const{min:t,max:n}=e,s=c=>c<t||c>n;return{tick:{fromFn(c,u,h){let{x1:f,x2:g,y1:m,y2:y}=c,b=c.opacity;return(h==="added"||s(u.offset))&&({x1:f,x2:g,y1:m,y2:y}=u,b=0),{x1:f,x2:g,y1:m,y2:y,opacity:b,phase:zo[h]}},toFn(c,u,h){const{x1:f,x2:g,y1:m,y2:y}=u;let b=1;return h==="removed"&&(b=0),{x1:f,x2:g,y1:m,y2:y,opacity:b}},applyFn(c,u){c.setProperties(u),c.visible=!s(c.y)}},line:{fromFn(c,u){const{x1:h,x2:f,y1:g,y2:m}=c.previousDatum??u;return{x1:h,x2:f,y1:g,y2:m,phase:zo.updated}},toFn(c,u){const{x1:h,x2:f,y1:g,y2:m}=u;return{x1:h,x2:f,y1:g,y2:m}}},label:{fromFn(c,u,h){const f=c.previousDatum??u;let{x:g,y:m,rotationCenterX:y,rotationCenterY:b,rotation:S}=f,C=c.opacity;return h==="removed"||s(f.y)?S=u.rotation:(h==="added"||s(c.datum.y))&&({x:g,y:m,rotationCenterX:y,rotationCenterY:b,rotation:S}=u,C=0),{x:g,y:m,rotationCenterX:y,rotationCenterY:b,rotation:S,opacity:C,phase:zo[h]}},toFn(c,u,h){const{x:f,y:g,rotationCenterX:m,rotationCenterY:y}=u;let b=0,S=1;return h==="added"?b=u.rotation:h==="removed"?(S=0,b=u.rotation):b=x_e(c.previousDatum?.rotation??u.rotation,u.rotation),{x:f,y:g,rotationCenterX:m,rotationCenterY:y,rotation:b,opacity:S,finish:{rotation:u.rotation}}}},group:{fromFn(c,u){const{translationX:h,translationY:f}=c;return{translationX:h,translationY:f,phase:zo.updated}},toFn(c,u){const{translationX:h,translationY:f}=u;return{translationX:h,translationY:f}}}}}function mQ(){return(e,t)=>({translationX:t.translationX,translationY:t.translationY})}function Rw(){return(e,t)=>({x:t.x,y:t.y,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,rotation:t.rotation})}function YD(){return(e,t)=>{const{x1:n,x2:s,y1:i,y2:r}=t;return{x1:n,x2:s,y1:i,y2:r}}}function yQ(){return(e,t)=>{const{x1:n,x2:s,y1:i,y2:r}=t;return{x:n,y:i,width:s-n,height:r-i}}}var xQ=(e=>(e[e.TickLines=0]="TickLines",e[e.AxisLine=1]="AxisLine",e[e.TickLabels=2]="TickLabels",e))(xQ||{});function e$(e,t){return e.domain===t.domain&&e.rangeExtent===t.rangeExtent&&e.nice===t.nice&&e.gridLength===t.gridLength&&e.visibleRange[0]===t.visibleRange[0]&&e.visibleRange[1]===t.visibleRange[1]&&e.initialPrimaryTickCount?.unzoomed===t.initialPrimaryTickCount?.unzoomed&&e.initialPrimaryTickCount?.zoomed===t.initialPrimaryTickCount?.zoomed}var su=class bQ{constructor(t,n){this.moduleCtx=t,this.scale=n,this.id=Xo(this),this._crossLines=[],this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new vf,this.dataDomain={domain:[],clipped:!1},this.title=new tl,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new Et({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new Op({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new Op({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new Et({name:`${this.id}-Labels`,zIndex:11}),this.gridGroup=new Yi({name:`${this.id}-Axis-grid`,zIndex:2}),this.gridFillGroup=this.gridGroup.appendChild(new Et({name:`${this.id}-gridFills`})),this.gridLineGroup=this.gridGroup.appendChild(new Et({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new Op({name:`${this.id}-CrossLines-Range`,zIndex:6}),this.crossLineLineGroup=new Op({name:`${this.id}-CrossLines-Line`,zIndex:10}),this.crossLineLabelGroup=new Op({name:`${this.id}-CrossLines-Label`,zIndex:15}),this.tickLabelGroupSelection=cr.select(this.tickLabelGroup,Ng,!1),this.line=new uC,this.tick=new Sf,this.gridLine=new cC,this.label=this.createLabel(),this.defaultTickMinSpacing=bQ.defaultTickMinSpacing,this.translation={x:0,y:0},this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.cleanup=new Cs,this.isHovering=!1,this.range=[0,1],this.visibleRange=[0,1],this.animatable=!0,this.tickLayout=void 0,this.formatterBoundSeries=new F4e(()=>{const{direction:s,boundSeries:i}=this;return kc(i.flatMap(r=>r.getFormatterContext(s)))}),this.moduleMap=new YO,this.range=this.scale.range.slice(),this.crossLines.forEach(s=>this.initCrossLine(s)),this.cleanup.register(this.moduleCtx.widgets.containerWidget.addListener("mousemove",s=>this.onMouseMove(s)))}set crossLines(t){const{CrossLineConstructor:n}=this.constructor;this._crossLines.forEach(s=>this.detachCrossLine(s)),this._crossLines=t.map(s=>{const i=new n;return i.set(s),i}),this._crossLines.forEach(s=>{this.attachCrossLine(s),this.initCrossLine(s)})}get crossLines(){return this._crossLines}get type(){return this.constructor.type??""}get primaryLabel(){}get primaryTick(){}isCategoryLike(){return!1}resetAnimation(t){}onMouseMove(t){const s=this.tickLabelGroup.pickNode(t.currentX,t.currentY)?.datum,{textUntruncated:i=void 0}=s??{};i!=null?(this.moduleCtx.tooltipManager.updateTooltip(this.id,{canvasX:t.currentX,canvasY:t.currentY,showArrow:!1},[{type:"structured",title:i}]),this.isHovering=!0):this.isHovering&&(this.moduleCtx.tooltipManager.removeTooltip(this.id),this.isHovering=!1)}attachCrossLine(t){this.crossLineRangeGroup.appendChild(t.rangeGroup),this.crossLineLineGroup.appendChild(t.lineGroup),this.crossLineLabelGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineRangeGroup.removeChild(t.rangeGroup),this.crossLineLineGroup.removeChild(t.lineGroup),this.crossLineLabelGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.cleanup.flush()}setScaleRange(t){const{range:n,scale:s}=this,i=(n[1]-n[0])/(t[1]-t[0]),r=i*t[0],a=n[0]-r;s.range=[a,a+i]}updateScale(){const{range:[t,n]}=this;this.setScaleRange(this.visibleRange),this.crossLines.forEach(s=>{s.clippedRange=[t,n]})}setCrossLinesVisible(t){this.crossLineRangeGroup.visible=t,this.crossLineLineGroup.visible=t,this.crossLineLabelGroup.visible=t}attachAxis(t){t.gridNode.appendChild(this.gridGroup),t.axisNode.appendChild(this.axisGroup),t.labelNode.appendChild(this.labelGroup),t.crossLineRangeNode.appendChild(this.crossLineRangeGroup),t.crossLineLineNode.appendChild(this.crossLineLineGroup),t.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(t){t.gridNode.removeChild(this.gridGroup),t.axisNode.removeChild(this.axisGroup),t.labelNode.removeChild(this.labelGroup),t.crossLineRangeNode.removeChild(this.crossLineRangeGroup),t.crossLineLineNode.removeChild(this.crossLineLineGroup),t.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(t){this.labelGroup.append(t)}inRange(t,n=0){const[s,i]=pi(this.range);return t>=s-n&&t<=i+n}getRangeOverflow(t){const{range:n,visibleRange:s}=this,i=(n[1]-n[0])/(s[1]-s[0]),[r,a]=pi([n[0]-i*s[0],n[0]-i*s[0]+i]);return t<r?t-r:t>a?t-a:0}onGridLengthChange(t,n){n^t&&this.onGridVisibilityChange(),this.crossLines.forEach(s=>this.initCrossLine(s))}onGridVisibilityChange(){}createLabel(){return new ts}update(){this.formatterBoundSeries.clear(),this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateCrossLines()}getLabelStyles(t,n,s=this.label){const i={border:s.border,color:s.color,cornerRadius:s.cornerRadius,fill:s.fill,fillOpacity:s.fillOpacity,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight,padding:s.padding,spacing:s.spacing};let r;s.itemStyler&&(r=this.cachedCallWithContext(s.itemStyler,{...t,...i}));const a=pn(r,n,i);return{border:a.border,color:a.color,cornerRadius:a.cornerRadius,fill:a.fill,fillOpacity:a.fillOpacity,fontFamily:a.fontFamily,fontSize:a.fontSize,fontStyle:a.fontStyle,fontWeight:a.fontWeight,padding:a.padding,spacing:a.spacing}}getTickSize(t=this.tick){return t.enabled?t.size:0}processData(){this.invalidateLayoutCache();const{includeInvisibleDomains:t,boundSeries:n,direction:s}=this,r=(t?n:n.filter(a=>a.isEnabled())).map(a=>a.getDomain(s));this.setDomains(...r)}setDomains(...t){let n,s;t.length>0?{domain:n,animatable:s}=this.scale.normalizeDomains(...t):(n=[],s=!0),this.dataDomain=this.normaliseDataDomain(n),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=s}calculateDomain(t){const{dataDomain:{domain:n},range:s,nice:i,scale:r,gridLength:a}=this,o=sf(s),c=[0,1];this.updateScale();const{unzoomedTickLayoutCache:u}=this;let h;if(u==null||!e$(u,{domain:n,rangeExtent:o,nice:i,gridLength:a,visibleRange:c,initialPrimaryTickCount:t})){const f=r.range;this.setScaleRange([0,1]);const g=i?0:2;h=this.calculateTickLayout(n,g,[0,1],t),r.range=f,this.unzoomedTickLayoutCache={domain:n,rangeExtent:o,nice:i,gridLength:a,visibleRange:c,initialPrimaryTickCount:t,tickLayout:h}}else h=u.tickLayout;return this.updateScale(),r.domain=h.niceDomain,{unzoomedTickLayout:h,domain:r.domain}}calculateLayout(t,n){this.chartLayout=n;const{visibleRange:s,nice:i}=this,r=s[0]===0&&s[1]===1,{unzoomedTickLayout:a,domain:o}=this.calculateDomain(t);let c;if(r)c=a;else{const{range:y,gridLength:b}=this,S=sf(y),C=i?1:2,{tickLayoutCache:M}=this;M==null||!e$(M,{domain:o,rangeExtent:S,nice:i,gridLength:b,visibleRange:s,initialPrimaryTickCount:t})?(c=this.calculateTickLayout(o,C,s,t),this.tickLayoutCache={domain:o,rangeExtent:S,nice:i,gridLength:b,visibleRange:s,initialPrimaryTickCount:t,tickLayout:c}):c=M.tickLayout}const{rawTickCount:u=0,fractionDigits:h,bbox:f}=c,g=a.rawTickCount??0,m=u!==0&&g!==0?{zoomed:u,unzoomed:g}:void 0;return this.tickLayout=c.layout,this.layout.label={fractionDigits:h,spacing:this.label.spacing,format:this.label.format},this.layoutCrossLines(),{primaryTickCount:m,bbox:f}}invalidateLayoutCache(){this.unzoomedTickLayoutCache=void 0,this.tickLayoutCache=void 0,this.tickLayout=void 0}updateCrossLines(){const t=this.hasDefinedDomain()||this.hasVisibleSeries();this.crossLines.forEach(n=>{n.update(t)})}updatePosition(){const{crossLineRangeGroup:t,crossLineLineGroup:n,crossLineLabelGroup:s,gridGroup:i,translation:r}=this,a=Math.floor(r.x),o=Math.floor(r.y);i.setProperties({translationX:a,translationY:o}),t.setProperties({translationX:a,translationY:o}),n.setProperties({translationX:a,translationY:o}),s.setProperties({translationX:a,translationY:o})}tickFormatter(t,n,s,i,r,a="long"){const{moduleCtx:o,label:c}=this,{formatManager:u}=o,h=s?this.primaryLabel:void 0,f=this.tickFormatParams(t,n,i,r),g=this.formatterBoundSeries.get();let m,y,b;if(f.type==="number")m=f.fractionDigits;else if(f.type==="date"){const{unit:E,step:k,epoch:L}=f;y={unit:E,step:k,epoch:L},b=f.truncateDate}const S=this.uncachedCallWithContext.bind(this),C={datum:void 0,seriesId:void 0,legendItemName:void 0,key:void 0,source:"axis-label",property:this.direction,domain:t,boundSeries:g},M=h??c,N=s?c.format:void 0,T={specifier:Dg.mergeSpecifiers(h?.format,c.format),truncateDate:b};return(E,k)=>{const L=this.datumFormatParams(E,C,m,y,a);return L.value=E,M.formatValue(S,L,k,{specifier:N,dateStyle:a,truncateDate:b})??u.format(S,L,T)??u.defaultFormat(L,T)}}formatDatum(t,n,s,i,r,a,o,c,u,h){if(n==null)return"";const{moduleCtx:f,direction:g,dataDomain:m}=this;c??(c=m.domain);const{formatManager:y}=f,b=this.formatterBoundSeries.get();let S;switch(s){case"crosshair":case"annotation-label":S=this.layout.label.fractionDigits+1;break;case"series-label":S=2;break;case"tooltip":S=3;break;case"legend-label":S=void 0;break}const C=this.datumFormatParams(n,{source:s,datum:a,seriesId:i,legendItemName:r,key:o,property:g,domain:c,boundSeries:b},S,void 0,"long"),{type:M,value:N}=C,T=this.createCallWithContext(t),E=u?.formatValue(T,M,N,h??C)??y.format(T,C)??this.label.formatValue(T,C,NaN)??y.defaultFormat(C);return Pt(E)?E:String(E)}getBBox(){return this.axisGroup.getBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}hasVisibleSeries(){return this.boundSeries.some(t=>t.isEnabled())}clipTickLines(t,n,s,i){this.tickLineGroup.setClipRect(new Pe(t,n,s,i))}clipGrid(t,n,s,i){this.gridGroup.setClipRect(new Pe(t,n,s,i))}getTitleFormatterParams(t){const{direction:n}=this,s=this.formatterBoundSeries.get();return{domain:t,direction:n,boundSeries:s,defaultValue:this.title?.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:t}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:jn.is(t)||el.is(t),getCanvasBounds:()=>vs.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((n,s)=>(s.getKeyProperties(this.direction).forEach(r=>n.add(r)),n),new Set),seriesIds:()=>this.boundSeries.map(n=>n.id),scaleInvert:n=>t.invert(n,!0),scaleInvertNearest:n=>t.invert(n,!0),formatScaleValue:(n,s,i)=>this.formatDatum(void 0,n,s,void 0,void 0,void 0,void 0,void 0,i),attachLabel:n=>this.attachLabel(n),inRange:(n,s)=>this.inRange(n,s),getRangeOverflow:n=>this.getRangeOverflow(n),pickBand:n=>this.pickBand(n)}}pickBand(t){if(!tu.is(this.scale))return;const{scale:n,range:s}=this,i=n.invert(this.isVertical()?t.y:t.x,!0),r=n.bandwidth??0,o=((n.step??0)-r)/2,c=n.convert(i),u=c-o,h=c+r+o;return{id:this.id,value:i,band:[r0(u,s),r0(h,s)],position:c}}isVertical(){return this.direction==="y"}isReversed(){return this.reverse}cachedCallWithContext(t,...n){const{callbackCache:s,chartService:i}=this.moduleCtx;return s.call([this,i],t,...n)}uncachedCallWithContext(t,...n){const{chartService:s}=this.moduleCtx;return Go([this,s],t,...n)}createCallWithContext(t){const{chartService:n}=this.moduleCtx;return(s,...i)=>Go([t,this,n],s,...i)}};su.defaultTickMinSpacing=50;su.CrossLineConstructor=Mr;D([O],su.prototype,"nice",2);D([O],su.prototype,"reverse",2);D([O],su.prototype,"keys",2);D([O],su.prototype,"interval",2);D([O],su.prototype,"title",2);D([Ld((e,t,n)=>e.onGridLengthChange(t,n))],su.prototype,"gridLength",2);var KO=su,qO=class extends ts{constructor(){super(...arguments),this.autoRotateAngle=335}};D([O],qO.prototype,"autoRotate",2);D([O],qO.prototype,"autoRotateAngle",2);var lg=1e3,Xu=lg*60,Hh=Xu*60,rf=Hh*24,vQ=rf*7,ZO=rf*30,o0=rf*365,Mp=new Date().getTimezoneOffset()*Xu,gb={millisecond:{milliseconds:1,hierarchy:"day",encode(e){return e.getTime()},decode(e){return new Date(e)}},second:{milliseconds:lg,hierarchy:"day",encode(e,t){const n=t?0:Mp;return Math.floor((e.getTime()-n)/lg)},decode(e,t){const n=t?0:Mp;return new Date(n+e*lg)}},minute:{milliseconds:Xu,hierarchy:"day",encode(e,t){const n=t?0:Mp;return Math.floor((e.getTime()-n)/Xu)},decode(e,t){const n=t?0:Mp;return new Date(n+e*Xu)}},hour:{milliseconds:Hh,hierarchy:"day",encode(e,t){const n=t?0:Mp;return Math.floor((e.getTime()-n)/Hh)},decode(e,t){const n=t?0:Mp;return new Date(n+e*Hh)}},day:{milliseconds:rf,hierarchy:"month",encode(e,t){const n=t?0:e.getTimezoneOffset()*Xu;return Math.floor((e.getTime()-n)/rf)},decode(e,t){let n;return t?(n=new Date(0),n.setUTCDate(n.getUTCDate()+e),n.setUTCHours(0,0,0,0)):(n=new Date(1970,0,1),n.setDate(n.getDate()+e)),n}},month:{milliseconds:ZO,hierarchy:"year",encode(e,t){return t?e.getUTCFullYear()*12+e.getUTCMonth():e.getFullYear()*12+e.getMonth()},decode(e,t){if(t){const n=Math.floor(e/12),s=e-n*12;return new Date(Date.UTC(n,s,1))}else{const n=Math.floor(e/12),s=e-n*12;return new Date(n,s,1)}}},year:{milliseconds:o0,hierarchy:void 0,encode(e,t){return t?e.getUTCFullYear():e.getFullYear()},decode(e,t){let n;return t?(n=new Date,n.setUTCFullYear(e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)):n=new Date(e,0,1,0,0,0,0),n}}};function mb(e){return typeof e=="string"?{unit:e,step:1,epoch:void 0,utc:!1}:{unit:e.unit,step:e.step??1,epoch:e.epoch,utc:e.utc??!1}}function yb(e,t,n,s){if(n==null)return 0;const i=gb[e];return Math.floor(i.encode(new Date(n),s))%t}function Ig(e,t,n,s,i){const r=gb[t];return Math.floor((r.encode(new Date(e),s)-i)/n)}function xb(e,t,n,s,i){return gb[t].decode(e*n+i,s)}function _w(e,t,n,s,i){const r=new Date(e),a=Ig(r,t,n,s,i);return xb(a,t,n,s,i)}function Pw(e,t,n,s,i){const r=new Date(Number(e)-1),a=Ig(r,t,n,s,i);return xb(a+1,t,n,s,i)}function Ja(e,t){const{unit:n,step:s,epoch:i,utc:r}=mb(e),a=yb(n,s,i,r);return _w(t,n,s,r,a)}function SQ(e,t){const{unit:n,step:s,epoch:i,utc:r}=mb(e),a=yb(n,s,i,r);return Pw(t,n,s,r,a)}function wQ(e,t){const{unit:n,step:s,epoch:i,utc:r}=mb(e),a=yb(n,s,i,r);return xb(Ig(Pw(t,n,s,r,a),n,s,r,a)-1,n,s,r,a)}function QO(e,t){const{unit:n,step:s,epoch:i,utc:r}=mb(e),a=yb(n,s,i,r);return xb(Ig(_w(t,n,s,r,a),n,s,r,a)+1,n,s,r,a)}function XO(e,t,n){if(e.valueOf()>t.valueOf()&&([e,t]=[t,e],n!=null&&(n=[1-n[1],1-n[0]])),n!=null){const s=t.valueOf()-e.valueOf(),i=e.valueOf();e=new Date(i+n[0]*s),t=new Date(i+n[1]*s)}return[new Date(e),new Date(t)]}function zw(e,t,n,{extend:s=!1,visibleRange:i=[0,1],limit:r,defaultAlignment:a="start"}={}){const o=mb(e),{unit:c,step:u,utc:h}=o;let f;o.epoch!=null?f=o.epoch:a==="interval"?f=void 0:t.valueOf()>n.valueOf()?f=n:f=t;const g=yb(o.unit,o.step,f,o.utc);let[m,y]=XO(t,n,i);m=s?_w(m,c,u,h,g):Pw(m,c,u,h,g),y=s?Pw(y,c,u,h,g):_w(y,c,u,h,g);const b=Ig(m,c,u,h,g);let S=Ig(y,c,u,h,g);return r!=null&&S-b>r&&(S=b+r),{range:[b,S],unit:c,step:u,utc:h,offset:g}}function JO(e,t,n,s){const{range:[i,r]}=zw(e,t,n,s);return Math.abs(r-i)}function co(e,t,n,s){const{range:[i,r],unit:a,step:o,utc:c,offset:u}=zw(e,t,n,s),h=[];for(let f=i;f<=r;f+=1){const g=xb(f,a,o,c,u);h.push(g)}return h}function e4(e,t,n,{extend:s,visibleRange:i,limit:r,defaultAlignment:a}={}){const{range:[o]}=zw(e,t,n,{extend:s,visibleRange:i,limit:r,defaultAlignment:a}),{range:[c]}=zw(e,t,n,{extend:s,limit:r,defaultAlignment:a});return o-c}function Kc(e){return typeof e=="string"?e:e.unit}function Md(e){return typeof e=="string"?1:e.step??1}function l0(e){return typeof e=="string"?void 0:e.epoch}function bb(e){return gb[Kc(e)].hierarchy}function Hr(e){return Md(e)*gb[Kc(e)].milliseconds}function Hi(e){return e instanceof Date?e.getTime():e}function vb(e){return e<lg?"millisecond":e<Xu?"second":e<Hh?"minute":e<Hh*23?"hour":e<28*rf?"day":e<o0?"month":"year"}function t4(e){if(e.length===0)return"millisecond";if(e.length===1)return dC(e[0]);let t=1/0;for(let n=1;n<e.length;n++)t=Math.min(t,Math.abs(e[n].valueOf()-e[n-1].valueOf()));return vb(t)}function dC(e){return Ja("second",e)<e?"millisecond":Ja("minute",e)<e?"second":Ja("hour",e)<e?"minute":Ja("day",e)<e?"hour":Ja("month",e)<e?"day":Ja("year",e)<e?"month":"year"}function n4(e){const[t,n]=e.length===0?[0,0]:pi([e[0].valueOf(),e[e.length-1].valueOf()]),s=new Date(t).getFullYear(),i=new Date(n).getFullYear();if(s!==i)return;const r=new Date(t).getMonth(),a=new Date(n).getMonth();if(r!==a)return"year";const o=new Date(t).getDate(),c=new Date(n).getDate();return o!==c?"month":"day"}function CQ(e,t,n){if(n==null||n[0]===0&&n[1]===1)return;const s=wt(0,Math.floor(n[0]*e.length),e.length),i=wt(0,Math.ceil(n[1]*e.length),e.length),r=t?e.length-i:s,a=t?e.length-s:i;return[r,a]}function b_e(e,t,n){return CQ(e,t,n)??[0,e.length]}function MQ(e,t,n){const s=CQ(e,t,n);if(s==null)return{ticks:e,count:e.length,firstTickIndex:0};const[i,r]=s;return{ticks:e.slice(i,r),count:e.length,firstTickIndex:i}}var om=class jQ extends tu{constructor(){super(...arguments),this.type="category",this.defaultTickCount=0,this.index=new Map,this.indexInitialized=!1,this._domain=[]}static is(t){return t instanceof jQ}set domain(t){this._domain!==t&&(this.invalid=!0,this._domain=t,this.index.clear(),this.indexInitialized=!1)}get domain(){return this._domain}get bands(){return this._domain}normalizeDomains(...t){let n;const s=new Set;let i=!0;for(const r of t)s.has(r)||(s.add(r),n==null?n=t$(r):(i&&(i=v_e(r,n)),n=t$([...n,...r])));return n??(n=[]),{domain:n,animatable:i}}toDomain(t){}invert(t,n=!1){this.refresh();const s=n?this.bandwidth/2:0,i=this.invertNearestIndex(Math.max(0,t-s));return n||t===this.ordinalRange(i)?this.domain[i]:void 0}ticks(t,n=this.domain,s){const{bands:i}=this;let{tickCount:r}=t;if(r===0){const b=i.length>1?1:0;return{ticks:i[b]?[i[b]]:[],count:void 0,firstTickIndex:b}}let a=r!=null&&r!==0?i.length/r|0:1;if(a=$D(a),a<=1)return MQ(n,!1,s);r=i.length/a|0;const o=a*r,c=$D((i.length-o)/2|0),u=wt(0,Math.floor((s?.[0]??0)*i.length),i.length),h=wt(0,Math.ceil((s?.[1]??1)*i.length),i.length),f=Math.floor((u-c)/a)*a+c,g=Math.ceil((h-c)/a)*a+c,m=[];for(let b=f;b<g;b+=a)b>=0&&b<i.length&&m.push(i[b]);let y=m.length>0?this.findIndex(m[0]):void 0;return y!=null&&(y=Math.floor((y-c)/a)),{ticks:m,count:void 0,firstTickIndex:y}}findIndex(t){const{index:n,indexInitialized:s}=this;if(!s){const{domain:i}=this;for(let r=0;r<i.length;r++)n.set(Hi(i[r]),r);this.indexInitialized=!0}return n.get(Hi(t))}};function t$(e){let t;const n=new Set;for(const s of e){const i=Hi(s),r=n.size;n.add(i),n.size!==r?t?.push(s):t??(t=e.slice(0,n.size))}return t??e}function v_e(e,t){let n=-1;for(const s of e){const i=t.indexOf(s);if(i===-1)n=1/0;else{if(i<=n)return!1;n=i}}return!0}function s4(e,t){return e.valueOf()-t.valueOf()}function S_e(e){let t=NaN;const n=[];for(const s of e){const i=s.valueOf();t!==i&&n.push(s),t=i}return n}function KD(e){const t=e.slice().sort(s4);return i4(t)==null?S_e(t):t}function i4(e){if(e.length===0)return 1;const t=Number(e[e.length-1])>Number(e[0])?1:-1;let n=-1/0*t;for(const s of e){const i=s.valueOf();if(Math.sign(i-n)!==t)return;n=i}return t}function qD(e,[t,n],[s,i]){const r=i-s,a=n-t,o=t+a*e[0],c=t+a*e[1];return[(o-s)/r,(c-s)/r]}var ds=(e,t)=>({duration:Hr(e)*t,timeInterval:e,step:t}),ZD=[ds({unit:"second"},1),ds({unit:"second"},5),ds({unit:"second"},15),ds({unit:"second"},30),ds({unit:"minute"},1),ds({unit:"minute"},5),ds({unit:"minute"},15),ds({unit:"minute"},30),ds({unit:"hour"},1),ds({unit:"hour"},3),ds({unit:"hour"},6),ds({unit:"hour"},12),ds({unit:"day"},1),ds({unit:"day"},2),ds({unit:"day",step:7},1),ds({unit:"day",step:7},2),ds({unit:"day",step:7},3),ds({unit:"month"},1),ds({unit:"month"},2),ds({unit:"month"},3),ds({unit:"month"},4),ds({unit:"month"},6),ds({unit:"year"},1)],NQ=[1,2,5,10];function n$(e,t){return Math.abs(Math.round(e)-e)<t}function AQ(e,t,n){return Math.abs(t-e)>=n?Math.abs(t-e)/n+1:1}function Sb(e,t,n,s,i,r){if(e===t)return{ticks:[e],count:1,firstTickIndex:0};if(n<2)return{ticks:[e,t],count:2,firstTickIndex:0};const a=c0(e,t,n,s,i);if(!Number.isFinite(a))return{ticks:[],count:0,firstTickIndex:void 0};let o=e,c=t;n$(o/a,1e-12)||(o=Math.ceil(o/a)*a),n$(c/a,1e-12)||(c=Math.floor(c/a)*a),r!=null&&(r=qD(r,[e,t],[o,c]));const{ticks:u}=fC(o,c,a,r),h=u.at(0);return{ticks:u,count:AQ(o,c,a),firstTickIndex:h==null?void 0:Math.round((h-o)/a)}}var w_e=Math.floor(2*vQ/ZO*10)/10;function s$({timeInterval:e,step:t}){const n=Hr(e)*t,s=bb(e),i=s?Hr(s):void 0;return n<=(i??1/0)*w_e}function TQ(e,{weekStart:t}){if(e.unit==="day"&&e.step===7)return t}function hC(e,t,n,s,i,{weekStart:r,primaryOnly:a=!1,targetInterval:o}){if(n<=0)return;const c=o??Math.abs(t-e)/Math.max(n,1),u=ZD.findLast(m=>(!a||s$(m))&&c>m.duration),h=ZD.find(m=>(!a||s$(m))&&c<=m.duration);if(u==null)return{unit:"millisecond",step:Math.max(c0(e,t,n,s,i),1)};if(h==null)return{unit:"year",step:o==null?c0(e/o0,t/o0,n,s,i):1};const{timeInterval:f,step:g}=c-u.duration<h.duration-c?u:h;return{unit:f.unit,step:Md(f)*g,epoch:TQ(f,{weekStart:r})}}function c0(e,t,n,s=0,i=1/0){if(e===t)return wt(1,s,i);if(n<1)return NaN;const r=Math.abs(t-e),a=10**Math.floor(Math.log10(r/n));let o=NaN,c=1/0,u=!1;for(const h of NQ){const f=Math.ceil(r/(h*a)),g=f>=s&&f<=i;if(u&&!g)continue;const m=Math.abs(f-n);(c>m||u!==g)&&(u||(u=g),c=m,o=h)}return o*a}function i$(e){for(let t=e.length-1;t>=0;t-=1)if(e[t]!=="0")return t+1;return 0}function C_e(e,t){const n=sO(t??",f");if(n==null)return;(n.precision==null||isNaN(n.precision))&&(!n.type||"eEFgGnprs".includes(n.type)?n.precision=Math.max(...e.map(i=>{if(!Number.isFinite(i))return 0;const[r,a]=i.toExponential((n.type?6:12)-1).split(/[.e]/g);return(r!=="1"&&r!=="-1"?1:0)+i$(a)+1})):"f%".includes(n.type)&&(n.precision=Math.max(...e.map(i=>{if(!Number.isFinite(i)||i===0)return 0;const r=Math.floor(Math.log10(Math.abs(i))),a=n.type?6:12,o=i.toExponential(a-1).split(/[.e]/g)[1],c=i$(o);return Math.max(0,c-r)}))));const s=dq(n);return i=>s(Number(i))}function fC(e,t,n,s){if(!Number.isFinite(n)||n<=0)return{ticks:[],count:0,firstTickIndex:void 0};if(e===t)return{ticks:[e],count:1,firstTickIndex:0};const i=10**tO(n),r=Math.min(e,t),a=Math.max(e,t);let o,c;if(s!=null&&(s[0]!==0||s[1]!==1)){const f=t-e,g=e+f*s[0],m=t-f*(1-s[1]);o=Math.min(g,m),c=Math.max(g,m)}else o=r,c=a;o=Math.floor(o*i)/i,c=Math.ceil(c*i)/i;const u=[];for(let f=0;;f+=1){const g=Math.round((r+n*f)*i)/i;if(g>a)break;g>=o&&g<=c&&u.push(g)}const h=u.at(0);return{ticks:u,count:AQ(r,a,n),firstTickIndex:h==null?void 0:Math.round((h-r)/n)}}function Lg(e,t){return e>=t?(Ne.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function EQ(e,t){const n=Math.abs(t-e),s=10**Math.floor(Math.log10(n));let i=1/0,r=[e,t];for(const a of NQ){const o=a*s,c=Math.floor(e/o)*o,u=Math.ceil(t/o)*o,h=1-n/Math.abs(u-c);i>h&&(i=h,r=[c,u])}return r}function DQ(e,t,n,s,i,r){if(e<=0)return{minTickCount:0,maxTickCount:0,tickCount:0};r=Math.max(r,e/(i+1)),n??(n=r),s??(s=e),n>s&&(n===r?n=s:s=n),n=Math.max(n,1);const a=Math.max(1,Math.floor(e/(t*n))),o=Math.min(a,Math.ceil(e/(t*s))),c=wt(o,Math.floor(i/t),a);return{minTickCount:o,maxTickCount:a,tickCount:c}}var pC=new Date(1970,0,4),Og=class kQ extends jn{constructor(){super([],[0,1]),this.type="time"}static is(t){return t instanceof kQ}toDomain(t){return new Date(t)}convert(t,n){return super.convert(t?.valueOf()??NaN,n)}invert(t){return new Date(super.invert(t))}niceDomain(t,n=this.domain){if(n.length<2)return[];let[s,i]=n;const r=4,a=this.getPixelRange();for(let o=0;o<r;o++){const[c,u]=j_e(s,i,t,a);if(Hi(s)===Hi(c)&&Hi(i)===Hi(u))break;s=c,i=u}return[s,i]}ticks(t,n=this.domain,s=[0,1],{extend:i=!1}={}){const{nice:r,interval:a,tickCount:o=jn.defaultTickCount,minTickCount:c,maxTickCount:u}=t;if(n.length<2)return;const h=n.map(Hi),f=h[0],g=h[h.length-1];if(a!=null){const S=this.getPixelRange();return{ticks:r4({start:f,stop:g,interval:a,availableRange:S,visibleRange:s,extend:i})??M_e({start:f,stop:g,tickCount:o,minTickCount:c,maxTickCount:u,visibleRange:s,extend:i}),count:void 0}}else{if(r&&o===2)return{ticks:n,count:void 0};if(r&&o===1)return{ticks:n.slice(0,1),count:void 0}}const m=hC(f,g,o,c,u,{weekStart:pC});if(m==null)return;const y=co(m,new Date(f),new Date(g),{visibleRange:s,extend:i}),b=e4(m,new Date(f),new Date(g),{visibleRange:s,extend:i});return{ticks:y,count:void 0,firstTickIndex:b,timeInterval:m}}};function M_e({start:e,stop:t,tickCount:n,minTickCount:s,maxTickCount:i,visibleRange:r,extend:a}){const o=hC(e,t,n,s,i,{weekStart:pC});return o?co(o,new Date(e),new Date(t),{visibleRange:r,extend:a}):[]}function r4({start:e,stop:t,interval:n,availableRange:s,visibleRange:i,extend:r}){if(!n)return[];if(In(n)||typeof n=="string"){const f=co(n,new Date(e),new Date(t),{visibleRange:i,extend:r});return Lg(f.length,s)?void 0:f}const a=Math.abs(n);if(Lg(Math.abs(t-e)/a,s))return;const o=ZD.findLast(f=>a%f.duration===0);if(o){const{timeInterval:f,step:g,duration:m}=o,y={...f,step:g*Md(f)*Math.round(a/m),epoch:TQ(f,{weekStart:pC})};return co(y,new Date(e),new Date(t),{visibleRange:i,extend:r})}let c=new Date(Math.min(e,t));const u=new Date(Math.max(e,t)),h=[];for(;c<=u;)h.push(c),c=new Date(c),c.setMilliseconds(c.getMilliseconds()+a);return h}function j_e(e,t,n,s){const{interval:i}=n,r=Math.min(Hi(e),Hi(t)),a=Math.max(Hi(e),Hi(t));let o;if(In(i)||typeof i=="string")o=i;else{let f;typeof i=="number"&&(f=(a-r)/Math.max(i,1),Lg(f,s)&&(f=void 0)),f??(f=n.tickCount??jn.defaultTickCount),o=hC(r,a,f,n.minTickCount,n.maxTickCount,{weekStart:pC})}if(o==null)return[e,t];const c=co(o,new Date(r),new Date(a),{extend:!0});if(c==null||c.length<2)return[e,t];const u=c[0],h=c[c.length-1];return e<=t?[u,h]:[h,u]}var cg=class IQ extends el{constructor(){super(...arguments),this.type="ordinal-time",this.defaultTickCount=jn.defaultTickCount,this._domain=[],this.isReversed=!1}static is(t){return t instanceof IQ}set domain(t){t!==this._domain&&(this.invalid=!0,this._domain=t,this._bands=void 0,this.isReversed=r$(t))}get domain(){return this._domain}get bands(){return this._bands??(this._bands=this.isReversed?this.domain.slice().reverse():this.domain),this._bands}normalizeDomains(...t){const n=t.filter(s=>s.length>0);if(n.length===0)return{domain:[],animatable:!1};if(n.length===1){let s=n[0];const i=i4(s);return i===-1?s=s.slice().reverse():i==null&&(s=KD(s.slice())),{domain:s,animatable:!0}}return{domain:KD(n.flat()),animatable:!0}}ticks(t,n,s=[0,1],{extend:i=!1,dropInitial:r=!1}={}){const{interval:a,maxTickCount:o,tickCount:c=o}=t,{bands:u}=this;if(!u.length)return;if(this.refresh(),a==null){const{ticks:M,tickOffset:N,tickEvery:T}=this.getDefaultTicks(n,c,s,i);let E=M.length>0?this.findIndex(M[0]):void 0;return E=E!=null?Math.floor((E-N)/T):void 0,{ticks:M,count:void 0,firstTickIndex:E}}let h,f;n&&n.length>=2?(h=n[0].valueOf(),f=n[n.length-1].valueOf()):(h=u[0].valueOf(),f=u[u.length-1].valueOf());const[g,m]=this.range,y=Math.abs(m-g),b=r4({start:h,stop:f,interval:a,availableRange:y,visibleRange:s,extend:i})??this.getDefaultTicks(n,c,s,i).ticks,S=[];let C=-1;for(const M of b){const N=this.findIndex(M,1)??-1,T=N===C;C=N,!(r&&N===0)&&N!==-1&&!T&&S.push(u[N])}return{ticks:S,count:void 0,firstTickIndex:void 0}}stepTicks(t,n,s=[0,1],i=!0){const r=n?this.bandDomainIndices(n):void 0,a=this.ticksEvery(r,s,t,0,!1),o=a.at(-1),c=i&&t>1?r?.[1]:void 0,u=c!=null&&o!=null?this.findIndex(o):void 0;return u!=null&&c!=null&&c-u<t&&a.pop(),a}bandCount(t=[0,1]){const{domain:n}=this,s=Math.floor(t[0]*n.length);return Math.ceil(t[1]*n.length)-s}getDefaultTicks(t,n,s,i){const{bands:r}=this,a=Math.ceil(r.length/n),o=Math.floor(a/2),c=t?this.bandDomainIndices(t):void 0;return{ticks:this.ticksEvery(c,s,a,o,i),tickOffset:o,tickEvery:a}}bandDomainIndices(t){const n=r$(t),s=this.findIndex(t[n?t.length-1:0],1)??0,i=this.findIndex(t[n?0:t.length-1],1)??this.bands.length-1;return[s,i]}ticksEvery([t,n]=[0,this.bands.length],s,i,r,a){const{bands:o}=this,c=t,u=n-t+1;let h=c+Math.floor(s[0]*u),f=c+Math.ceil(s[1]*u);a&&(h-=i,f+=i),h=Math.max(h,0),f=Math.min(f,o.length);let g;if(i<=1)g=o.slice(h,f);else{g=[];for(let m=h;m<f;m+=1)(m-c+r)%i===0&&g.push(o[m])}return g}};function r$(e){return e.length>0&&e[0]>e[e.length-1]}var LQ=5e7,Ju=class OQ extends el{constructor(){super(...arguments),this.type="unit-time",this.defaultTickCount=12,this._domain=[],this._bands=void 0}static is(t){return t instanceof OQ}static supportsInterval(t,n){return a$(t,n)}set domain(t){t!==this._domain&&(this._domain=t,this._bands=void 0)}get domain(){return this._domain}get interval(){return this._interval}set interval(t){this._interval!==t&&(this._interval=t,this._bands=void 0)}get bands(){return this._bands??(this._bands=this.calculateBands(this._domain,[0,1]).bands),this._bands}normalizeDomains(...t){return FO(...t)}convert(t,n){this.refresh(),t instanceof Date||(t=new Date(t));const{domain:s,interval:i}=this;if(s.length<2)return NaN;if(n?.clamp!==!0&&i!=null){const r=t.valueOf(),[a,o]=kS(s,i),c=Math.min(a.valueOf(),o.valueOf()),u=Math.max(a.valueOf(),o.valueOf()),h=QO(i,new Date(u)).valueOf();if(r<c||r>=h)return NaN}return super.convert(t,n)}calculateBands(t,n,s=!1){if(t===this.domain&&n[0]===0&&n[1]===1&&!s&&this._bands!=null)return{bands:this._bands,firstBandIndex:0};if(t.length<2)return{bands:[],firstBandIndex:void 0};const{interval:i}=this;if(i==null)return{bands:[],firstBandIndex:void 0};const r={visibleRange:n,extend:s};if(!a$(t,i,r))return{bands:[],firstBandIndex:void 0};const[a,o]=kS(t,i);if(JO(i,a,o,r)>LQ)return Ne.warnOnce("the configured unit results in too many bands, ignoring. Supply a larger unit."),{bands:[],firstBandIndex:void 0};const c=co(i,a,o,r),u=e4(i,a,o,r);return{bands:c,firstBandIndex:u}}ticks({interval:t},n=this.domain,s=[0,1],{extend:i=!1}={}){if(n.length<2)return;let r,a,o;if(n===this.domain&&!i?({bands:r}=this.calculateBands(n,[0,1],!1),o=b_e(r,!1,s),a=o[0]):{bands:r,firstBandIndex:a}=this.calculateBands(n,s,i),t==null)return{ticks:r,count:void 0,firstTickIndex:a};const c=this.interval?Hr(this.interval):1/0,u=Math.min(n[0].valueOf(),n[1].valueOf()),h=Math.max(n[0].valueOf(),n[1].valueOf());let f,g,m;if(In(t)||typeof t=="string")f=co(t,n[0],n[1],{extend:!0,visibleRange:s}),g=0,m=f.length-1;else{const T=o?o[0]:0,E=o?o[1]:r.length-1;f=r,g=Oh(T,E,k=>r[k].valueOf()<=u)??T,m=Oh(T,E,k=>r[k].valueOf()<=h)??E}const y=[];let b;for(let T=g;T<=m;T++){const E=f[T].valueOf(),k=Oh(0,r.length-1,I=>r[I].valueOf()<=E),L=k!=null&&k!=b?r[k]:void 0;b=k,L!=null&&E-L.getTime()<=c&&y.push(L)}let S,C;if(this.interval){const T=kS([new Date(u),new Date(h)],this.interval);S=T[0].valueOf(),C=T[1].valueOf()}else S=u,C=h;let M=Zx(0,y.length-1,T=>y[T].valueOf()>=S)??0,N=Oh(0,y.length-1,T=>y[T].valueOf()<=C)??y.length-1;return i&&(M=Math.max(M-1,0),N=Math.min(N+1,y.length-1)),{ticks:y.slice(M,N+1),count:y.length,firstTickIndex:a}}};function a$(e,t,n){const[s,i]=kS(e,t);return JO(t,s,i,n)<=LQ}function kS(e,t){const n=Ja(t,e[0]),s=Ja(t,e[1]);return[n,s]}function N_e(e,t,n,s,i){let[r,a]=pi(t.map(Number));const o=Math.floor(n.unzoomed);if(o<=1){const[C,M]=A_e(r,a),N=5*Math.pow(2,-Math.ceil(Math.log2(i[1]-i[0]))),{ticks:T}=Sb(C,M,N,void 0,void 0,i),E=[e.toDomain(C),e.toDomain(M)];return s&&E.reverse(),{domain:E,ticks:T}}if(r===a){const C=Math.floor(Math.log10(r)),M=Math.pow(10,C),N=Math.min(M,1),T=o-1;r-=N*Math.floor(T/2),a=r+N*T}let c=r,u=a;c=T_e(c,u,o);const h=D_e(c,u,o),f=o-1;u=c+f*h;const g=Math.floor(c/h)*h,m=Math.floor(u/h)*h;g<=r&&m>=a&&(c=g,u=m);const y=[e.toDomain(c),e.toDomain(u)];s&&y.reverse();const b=h*((n.unzoomed-1)/(n.zoomed-1)),S=E_e(c,b,Math.floor(n.zoomed));return{domain:y,ticks:S}}function A_e(e,t){let n=e,s=t,i=0;do{[n,s]=EQ(n,s);const{ticks:r}=Sb(n,s,5);if(r.length%2===1)return[n,s];n-=1,s+=1}while(i++<10);return[e,t]}function T_e(e,t,n){e=Math.floor(e);const s=Math.abs(t-e)/(n-1),i=Math.floor(Math.log10(s)),r=Math.pow(10,i);return Math.floor(e/r)*r}function E_e(e,t,n){const s=tO(t),i=Math.pow(10,s),r=[];for(let a=0;a<n;a++){const o=e+t*a;r.push(Math.round(o*i)/i)}return r}function D_e(e,t,n){const s=n-1,i=(t-e)/s;return k_e(i)}function k_e(e){const t=Math.floor(Math.log10(e)),n=Math.pow(10,t),s=e/n;return s>0&&s<=1?n:s>1&&s<=2?2*n:s>2&&s<=5?5*n:s>5&&s<=10?10*n:e}function a4(){const e=new Map;return t=>{const n=e.get(t);return n?(e.set(t,n+1),`${t}_${n}`):(e.set(t,1),t)}}var I_e=18,L_e=[1,2,3,4,6,8,9,10,12];function QD(e,t=0){const n=[];for(const s of e){const{x:i,y:r,width:a,height:o}=s;if(n.some(c=>Aq(c,i,r,a+t,o+t)))return!0;n.push(s)}return!1}function O_e(e,t,n,s){if(e==null)return t;if(typeof e!="number"){const o=t[0],c=typeof e=="string"?{unit:e,epoch:o}:{...e,epoch:o};return co(c,t[0],t[1],{visibleRange:n,extend:s})}const i=[],r=t[0].valueOf(),a=t[1].valueOf();for(let o=r;o<=a;o+=e)i.push(new Date(o));return i}function XD(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(e[n]?.valueOf()!==t[n]?.valueOf())return!1;return!0}function RQ(e){if(e.length<2)return 1/0;let t=0,n=e[0].translation;for(let s=1;s<e.length;s++){const i=e[s].translation,r=Math.abs(i-n);t=Math.max(t,r),n=i}return t}function _Q(e,{niceDomain:t,rawTicks:n,rawFirstTickIndex:s=0,generatePrimaryTicks:i,primaryTicksIndices:r,alignment:a,fractionDigits:o,timeInterval:c}){const{scale:u,label:h,tickFormatter:f,inRange:g,isVertical:m,sizeLimit:y=1/0}=e,b=Og.is(u)||el.is(u),S=wa(h),C=a4(),M=[];return o4(u,t,()=>{const N=tu.is(u)?u.bandwidth??1/0:1/0,T=(u.bandwidth??0)/2,E=R_e(h.enabled,i,t,n,o,c,f),k={font:h,maxWidth:m?y:N,maxHeight:m?N:y,overflow:h.truncate?"ellipsis":"hide",textWrap:h.wrapping};for(let L=0;L<n.length;L++){const I=n[L],_=u.convert(I,{alignment:a})+T;if(g&&!g(_))continue;const F=r?.has(L)??!1,G=E(F,I,L);let U=null;h.avoidCollisions&&(U=Pt(G)?fO(G,k):hO(G,k)||null);const H=U??G,z=Pt(H),$=H!==G&&(!z||kq(H.at(-1)));let P;if(b){const B=I?.valueOf();Number.isFinite(B)&&(P=C(`v:${B}`))}P??(P=C(`l:${z?ao(H.flat()):H}`)),M.push({tick:I,tickId:P,tickLabel:H,isPrimary:F,index:L+s,textUntruncated:$?ao(G):void 0,textMetrics:z?$2(H,h):S.measureLines(H),translation:Math.floor(_)})}}),M}function o4(e,t,n){const s=e.domain;try{e.domain=t,n()}finally{e.domain=s}}function R_e(e,t,n,s,i,r,a){const o=t?"component":"long",c=t&&r?bb(r):void 0,u=t?a(n,s,!0,i,c,o):null,h=e?a(n,s,!1,i,r,o):null;return(f,g,m)=>(f?u:h)?.(g,m)??String(g)}function PQ(e,t,n,s,i,r,a,o){if(!Og.is(e)&&!el.is(e))return;const c=bb(r);if(c==null)return;a&&(t=[1-t[1],1-t[0]]);const u=Math.min(e.domain[0].valueOf(),e.domain[e.domain.length-1].valueOf()),h=Math.max(e.domain[0].valueOf(),e.domain[e.domain.length-1].valueOf());let[f,g]=XO(new Date(u),new Date(h),t);f=Ja(c,f),f.valueOf()>=u&&(f=wQ(c,f)),g=SQ(c,g),g.valueOf()<=h&&(g=QO(c,g));const m=co(c,f,g),y=Hr(r),b=cg.is(e),S={...i,interval:r},C=[];let M,N,T,E=0;if(cg.is(e)){const k=Kc(r);N=o!=null&&Hr(o)>=Hr(k)?2:3,T=1;const L=n/s,I=e.bandCount(t)/(L*I_e);E=L_e.findLast(_=>I>=_)??1}else Ju.is(e)&&(e.interval==null||Hr(e.interval)>=y)?N=1:(N=0,T=2);for(let k=0;k<m.length-1;k++){const L=m[k],I=m[k+1],_=k===0,F=k===m.length-2,G=I.valueOf()-L.valueOf(),U=[Math.max((u-L.valueOf())/G,0),Math.min((h-L.valueOf())/G,1)];let H;switch(N){case 0:H=O_e(S.interval,[L,I],U,!0);break;case 1:case 3:{H=e.ticks(S,[L,I],U,{extend:!0,dropInitial:!0})?.ticks??[];break}case 2:H=e.stepTicks(E,[L,I],void 0,!F);break}if(D4e(H,B=>B.valueOf()<L.valueOf()),F||k4e(H,B=>{switch(N){case 0:case 3:return B.valueOf()+y>I.valueOf();case 1:case 2:return B.valueOf()>=I.valueOf()}}),H.length===0)continue;const z=H[0],$=s4(z,L);(N===0?$===0:$<=y)&&(!b||!_)&&(M??(M=new Set),M.add(C.length)),C.push(...H)}return M?.size===1&&M.has(0)&&(M=void 0),{ticks:C,primaryTicksIndices:M,alignment:T}}function zQ(e,t,n,s,i){const r=o$(e.format,s);if(r==null)return{width:0,height:0};const a=Wx(r),o=s?bb(s):void 0,c=o$(t?.format,o),u=c?Wx(c):a,h=new Date(n[0]),f=new Date(n[n.length-1]),g=o?co(o,new Date(n[0]),new Date(n[n.length-1]),{extend:!0}):void 0;let m=0,y=0;if(a!=null){const b=kg(e),S=b.left+b.right,C=b.top+b.bottom;let M,N;g!=null&&g.length>1?(M=g[0],N=g[1]):(M=h,N=f);const T=co(s,M,N,{limit:50});for(const E of T){const k=a(E),{width:L,height:I}=i.measureLines(k);m=Math.max(m,L+S),y=Math.max(y,I+C)}}if(u!=null&&g!=null){const b=kg(t),S=b.left+b.right,C=b.top+b.bottom;for(const M of g){const N=u(M),{width:T,height:E}=i.measureLines(N);m=Math.max(m,T+S),y=Math.max(y,E+C)}}return{width:Math.ceil(m),height:Math.ceil(y)}}function FQ(e,t,n,s){return e&&!t?n*s===-1?"top":"bottom":"middle"}function $Q(e,t,n,s,i){const r=t>0&&t<=Math.PI,a=n>0&&n<=Math.PI,o=r||a?-1:1;if(e)if(t||n){if(s*o===-1)return"end"}else return"center";else if(s*i===-1)return"end";return"start"}function o$(e,t){if(e!=null){if(typeof e=="string")return e;if(In(e)&&t!=null)return e[Kc(t)]}}function BQ(e,t,n=0){const s=Wc(e),i=!s&&n>=0&&n<=Math.PI?-1:1,r=!s&&n-Math.PI/2>=0&&n-Math.PI/2<=Math.PI?-1:1;let a=0;return t?a=i*(Math.PI/2):r===-1&&(a=Math.PI),{configuredRotation:s,defaultRotation:a,parallelFlipFlag:i,regularFlipFlag:r}}var __e=new Date(1970,0,4);function VQ(e){const{label:t,domain:n,axisRotation:s,labelOffset:i,sideFlag:r}=e,{defaultRotation:a,configuredRotation:o,parallelFlipFlag:c,regularFlipFlag:u}=BQ(t.rotation,t.parallel,s),h=o+a,f=(I,_=0)=>{const F=t.minSpacing??(o===0&&_===0?10:0),G=h+_,U=kg(t);return QD(F_e(e,I,G),F)||QD($_e(I.ticks,i,G,U),F)},{maxTickCount:g}=UQ(e),m=P_e(e),y=t.enabled&&t.avoidCollisions,b=Number.isFinite(g)?g:10,S=y&&t.autoRotate&&t.rotation==null;let C=0,M=0,N=!0,T={tickDomain:[],niceDomain:n,ticks:[],rawTicks:[],rawTickCount:void 0,timeInterval:void 0,fractionDigits:0};for(;N&&C<=b;)({tickData:T,index:C}=z_e(e,m,T,C)),M=S&&f(T,0)?Wc(t.autoRotateAngle):0,N=y&&f(T,M);const E=$Q(t.parallel,o,M,r,u),k=FQ(t.parallel,o,r,c),L=o+M;return{tickData:T,textAlign:E,textBaseline:k,rotation:L}}function P_e(e){return e.interval?.values?2:e.primaryTickCount!=null?1:0}function UQ({scale:e,domain:t,range:n,visibleRange:s,label:i,defaultTickMinSpacing:r,interval:{minSpacing:a,maxSpacing:o}}){const{defaultTickCount:c}=e,u=sf(n),h=sf(s);if(om.is(e)){const f=t.length,g=Math.ceil(u/(h*i.fontSize));return{tickCount:Math.min(g,f),minTickCount:0,maxTickCount:f}}return DQ(u,h,a,o,c,r)}function z_e(e,t,n,s){const{step:i,values:r}=e.interval,{maxTickCount:a,minTickCount:o,tickCount:c}=UQ(e),u=_=>Math.max(c-_,o),h=i==null&&r==null&&u(s)>o,f=n.rawTicks,g=c-o,m={minTickCount:o,maxTickCount:a,tickCount:u(s)};let y=l$(e,t,m);if(h&&XD(y.rawTicks,f)){let _=s,F=g;for(;_<=F;){s=(_+F)/2|0,m.tickCount=u(s);const G=l$(e,t,m);XD(G.rawTicks,f)?_=s+1:(y=G,F=s-1)}}const{tickDomain:b,niceDomain:S,rawTicks:C,rawTickCount:M,rawFirstTickIndex:N,generatePrimaryTicks:T,primaryTicksIndices:E,alignment:k,fractionDigits:L,timeInterval:I}=y;return{tickData:{tickDomain:b,niceDomain:S,rawTicks:C,rawTickCount:M,fractionDigits:L,timeInterval:I,ticks:_Q(e,{niceDomain:S,rawTicks:C,rawFirstTickIndex:N,generatePrimaryTicks:T,primaryTicksIndices:E,alignment:k,fractionDigits:L,timeInterval:I})},index:s+1}}function l$(e,t,n){const{domain:s,reverse:i,visibleRange:r,scale:a,interval:o,primaryLabel:c,niceMode:u,primaryTickCount:h,minimumTimeGranularity:f}=e,g={nice:u===0,interval:o.step,...n},m={...g};m.nice||(m.nice=u===1);let y;t===1&&h!=null&&jn.is(a)&&(y=N_e(a,s,h,i,r));const b=u===0?y?.domain??a.niceDomain(g,s):s;let S=b,C,M,N,T,E,k;const L=c?.enabled===!0&&m.interval==null;o4(a,b,()=>{switch(t){case 2:if(S=o.values,C=o.values,M=C.length,cg.is(a)?k=1:Ju.is(a)&&(k=2),jn.is(a)){const[_,F]=pi(b.map(Number));C=C.filter(G=>Number(G)>=_&&Number(G)<=F).sort((G,U)=>Number(G)-Number(U))}break;case 1:if(y)C=y.ticks,M=y.ticks.length;else{const _=a.ticks(m,b,r);C=_?.ticks,M=_?.count}break;default:{const{tickCount:_,minTickCount:F,maxTickCount:G}=n;if(b.length>0&&m.interval==null&&(Ju.is(a)||L&&(Og.is(a)||cg.is(a)))){const z=b,$=Math.min(z[0].valueOf(),z[z.length-1].valueOf()),P=Math.max(z[0].valueOf(),z[z.length-1].valueOf());T=hC($,P,_,F,G,{weekStart:c==null?__e:void 0,primaryOnly:!0})}let U;cg.is(a)?U=f:Ju.is(a)&&(U=a.interval),U!=null&&T!=null&&Hr(U)>=Hr(T)&&(T=U);const H=T?PQ(a,r,_,G,m,T,i,f):void 0;if(H)({ticks:C,primaryTicksIndices:E,alignment:k}=H);else{const z=Ju.is(a)&&m.interval==null&&T!=null?{...m,interval:T}:m,$=a.ticks(z,b,r);if(C=$?.ticks,M=$?.count,N=$?.firstTickIndex,Og.is(a)||el.is(a)){const P=typeof m.interval=="number"?vb(m.interval):m.interval;T??(T=P??$?.timeInterval)}}}}}),C??(C=[]);let I=0;for(const _ of C){if(typeof _!="number")continue;const F=tO(_);F>I&&(I=F)}return L||(E=void 0),{tickDomain:S,niceDomain:b,rawTicks:C,rawTickCount:M,rawFirstTickIndex:N,generatePrimaryTicks:L,primaryTicksIndices:E,alignment:k,fractionDigits:I,timeInterval:T}}function F_e(e,t,n){const{niceDomain:s,ticks:i,timeInterval:r}=t;if(r==null)return[];const a=RQ(i),{label:o,labelOffset:c,primaryLabel:u,domain:h}=e,{width:f,height:g}=zQ(o,u,s??h,r,wa(o)),m=[];for(const y of[0,a]){const{x:b,y:S}=Nq(c,y,n);m.push({x:b,y:S,width:f,height:g})}return m}function $_e(e,t,n,s){const i=[],r=s.left+s.right,a=s.top+s.bottom;for(const{tickLabel:o,textMetrics:c,translation:u}of e){if(!o)continue;const{x:h,y:f}=Nq(t,u,n),g=c.width+r,m=c.height+a;i.push({x:h,y:f,width:g,height:m})}return i}var gC=class HQ extends KO{constructor(t,n){super(t,n),this.maxThicknessRatio=.3,this.minimumTimeGranularity=void 0,this.headingLabelGroup=this.axisGroup.appendChild(new Yi({name:`${this.id}-Axis-heading`})),this.lineNodeGroup=this.axisGroup.appendChild(new Yi({name:`${this.id}-Axis-line`})),this.lineNode=this.lineNodeGroup.appendChild(new ya({zIndex:1})),this.tickLineGroupSelection=cr.select(this.tickLineGroup,ya,!1),this.gridLineGroupSelection=cr.select(this.gridLineGroup,ya,!1),this.gridFillGroupSelection=cr.select(this.gridFillGroup,si,!1),this.tempText=new Ng({debugDirty:!1}),this.tempCaption=new us,this.animationManager=t.animationManager,this.animationState=new pb("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:i=>this.animateReadyUpdate(i),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.headingLabelGroup.appendChild(this.title.caption.node);let s;this.cleanup.register(t.eventsHub.on("layout:complete",i=>{const r=[i.chart.width,i.chart.height];s!=null&&!Lc(r,s)&&this.animationState.transition("resize"),s=r}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(t){return t instanceof HQ}get horizontal(){return this.position==="top"||this.position==="bottom"}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.gridFillGroupSelection.clear()}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}get direction(){return this.position==="top"||this.position==="bottom"?"x":"y"}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new qO}updateDirection(){switch(this.position){case"top":this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(t,n){return this.updateDirection(),super.calculateLayout(t,n)}layoutCrossLines(){const t=this.hasDefinedDomain()||this.hasVisibleSeries();this.crossLines.forEach(n=>{n.calculateLayout?.(t)})}calculateTickLayout(t,n,s,i){const r=this.label.getSideFlag(),a=r*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding);if(n===2&&this.label.enabled===!1&&this.tick.enabled===!1&&this.gridLine.enabled===!1){const{bbox:fe,spacing:oe}=this.tickBBox(t,[],[]);return{ticks:[],rawTickCount:0,tickDomain:t,niceDomain:t,fractionDigits:0,timeInterval:void 0,bbox:fe,layout:{ticks:[],tickLines:[],gridLines:[],gridFills:[],labels:[],spacing:oe}}}const{label:o,primaryLabel:c,scale:u,range:h,interval:f,reverse:g,defaultTickMinSpacing:m,minimumTimeGranularity:y}=this,b=VQ({label:o,scale:u,interval:f,primaryLabel:c,domain:t,range:h,reverse:g,niceMode:n,visibleRange:s,defaultTickMinSpacing:m,minimumTimeGranularity:y,sideFlag:r,labelOffset:a,primaryTickCount:i,axisRotation:this.horizontal?-.5*Math.PI:0,isVertical:this.direction==="y",sizeLimit:this.chartLayout?.sizeLimit,inRange:fe=>this.inRange(fe,.001),tickFormatter:(...fe)=>this.tickFormatter(...fe)}),{tickData:S}=b;if(this.label.avoidCollisions&&this.horizontal&&S.ticks.length>2&&(jn.is(this.scale)||el.is(this.scale))){const fe=this.chartLayout?.padding.right??0,oe=S.ticks.at(-1);oe?.tickLabel!=null&&oe.translation+oe.textMetrics.width/2>h[1]+fe&&(oe.tickLabel=void 0,s[0]===0&&s[1]===1&&(S.ticks[0].tickLabel=void 0))}const{ticks:M,tickDomain:N,rawTicks:T,rawTickCount:E,fractionDigits:k,timeInterval:L,niceDomain:I}=S,_=M.map(fe=>this.getTickLabelProps(fe,b)),{position:F,gridPadding:G,gridLength:U}=this,H=F==="bottom"||F==="right"?-1:1,z=H*G,$=H*(U+G),P=this.calculateGridLines(M,z,$),B=this.calculateGridFills(M,z,$),Y=this.calculateTickLines(M,H),{bbox:K,spacing:te}=this.tickBBox(N,M,_);return{ticks:T,rawTickCount:E,tickDomain:N,niceDomain:I,fractionDigits:k,timeInterval:L,bbox:K,layout:{ticks:M,gridLines:P,gridFills:B,tickLines:Y,labels:_,spacing:te}}}calculateGridLines(t,n,s){return t.map((i,r)=>this.calculateGridLine(i,r,n,s,t))}calculateGridLine({index:t,tickId:n,translation:s},i,r,a,o){const{gridLine:c,horizontal:u}=this,[h,f,g,m]=u?[s,r,s,a]:[r,s,a,s],{style:y}=c,{stroke:b,strokeWidth:S=0,lineDash:C}=y[t%y.length]??{};return{tickId:n,offset:s,x1:h,y1:f,x2:g,y2:m,stroke:b,strokeWidth:S,lineDash:C}}calculateGridFills(t,n,s){const{horizontal:i,range:r,type:a}=this,o=[];if(t.length==0)return o;let c=0;const u=!i&&a==="unit-time";if(u&&t[0].translation<r[0]||!u&&t[0].translation>r[0]){const f={tickId:`before:${t[0].tickId}`,translation:r[0]};o.push(this.calculateGridFill(f,-1,t[0].index,n,s,t)),c=1}return o.push(...t.map((f,g)=>this.calculateGridFill(f,g,f.index+c,n,s,t))),o}calculateGridFill({tickId:t,translation:n},s,i,r,a,o){const{gridLine:c,horizontal:u,range:h}=this,f=o[s+1],g=n,m=f?f.translation:h[1],[y,b,S,C]=u?[g,Math.max(r,a),m,Math.min(r,a)]:[Math.min(r,a),Math.min(g,m),Math.max(r,a),Math.max(g,m)],{fill:M,fillOpacity:N}=c.style[i%c.style.length]??{};return{tickId:t,x1:y,y1:b,x2:S,y2:C,fill:M,fillOpacity:N}}calculateTickLines(t,n){return t.map(s=>this.calculateTickLine(s,s.index,n,t))}calculateTickLine({isPrimary:t,tickId:n,translation:s},i,r,a){const{horizontal:o,tick:c,primaryTick:u}=this,h=t&&u?.enabled?u:c,f=-r*this.getTickSize(h),[g,m,y,b]=o?[s,0,s,f]:[0,s,f,s],{stroke:S,width:C}=h;return{tickId:n,offset:s,x1:g,y1:m,x2:y,y2:b,stroke:S,strokeWidth:C,lineDash:void 0}}update(){this.updateDirection();const t=Array.from(this.tickLabelGroupSelection.nodes(),a=>a.datum.tickId);super.update(),this.tickLineGroup.visible=this.tick.enabled||(this.primaryTick?.enabled??!1),this.tickLabelGroup.visible=this.label.enabled||(this.primaryTick?.enabled??!1);const{tickLayout:n}=this;if(this.updateTitle(this.scale.domain,n?.spacing??0),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),n){const{ticks:a}=n;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{const o=a.map(u=>u.tickId),c=$4e(t,o);this.animationState.transition("update",c)}}const{enabled:s,stroke:i,width:r}=this.line;this.lineNode.setProperties({stroke:i,strokeWidth:s?r:0}),this.updateTickLines(),this.updateGridLines(),this.updateGridFills()}getAxisTransform(){return{translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){super.updatePosition();const t=this.getAxisTransform();this.tickLineGroup.datum=t,this.tickLabelGroup.datum=t,this.lineNodeGroup.datum=t,this.headingLabelGroup.datum=t}getAxisLineCoordinates(){const{horizontal:t}=this,[n,s]=pi(this.range);return t?{x1:n,x2:s,y1:0,y2:0}:{x1:0,x2:0,y1:n,y2:s}}getTickLineBBox(t){const{translation:n}=t,{position:s,primaryTick:i}=this;let r=this.getTickSize();switch(i?.enabled&&(r=Math.max(r,this.getTickSize(i))),s){case"top":return new Pe(n,-r,n,r);case"bottom":return new Pe(n,0,n,r);case"left":return new Pe(-r,n,r,n);case"right":return new Pe(0,n,r,n)}}lineNodeBBox(){const{position:t,seriesAreaPadding:n}=this,{y1:s,y2:i}=this.getAxisLineCoordinates(),r=i-s;switch(t){case"top":return new Pe(s,-n,r,n);case"bottom":return new Pe(s,0,r,n);case"left":return new Pe(-n,s,n,r);case"right":return new Pe(0,s,n,r)}}titleBBox(t,n){const{tempCaption:s}=this;return s.node.setProperties(this.titleProps(s,t,n)),s.node.getBBox()}tickBBox(t,n,s){const{tick:i,primaryTick:r,label:a,primaryLabel:o,title:c,position:u,horizontal:h,seriesAreaPadding:f}=this,g=[];if(g.push(this.lineNodeBBox()),i.enabled||r?.enabled)for(const S of n)g.push(this.getTickLineBBox(S));const{tempText:m}=this;if(a.enabled)for(const S of s){if(!S.visible)continue;m.setProperties(S);const C=m.getBBox();C&&g.push(C)}if(o?.enabled&&u==="bottom"&&(g.push(new Pe(0,h9(a.fontSize)+2,1,this.getTickSize(i)+a.spacing+f)),o.format!=null)){const{format:C}=o,N=(In(C)?Object.values(C):[C]).reduce((T,E)=>Math.max(T,u4e(E)),0);g.push(new Pe(0,this.getTickSize(r??i)+o.spacing+f,1,N*h9(o.fontSize)+2))}let y=0;if(c.enabled){const S=Pe.merge(g);y=h?S.height:S.width,g.push(this.titleBBox(t,y))}return{bbox:Pe.merge(g),spacing:y}}titleProps(t,n,s){const{title:i}=this;if(!i.enabled)return t.enabled=!1,{visible:!1,text:"",textBaseline:"bottom",x:0,y:0,rotationCenterX:0,rotationCenterY:0,rotation:0};t.enabled=!0,t.color=i.color,t.fontFamily=i.fontFamily,t.fontSize=i.fontSize,t.fontStyle=i.fontStyle,t.fontWeight=i.fontWeight,t.wrapping=i.wrapping;const r=(i.spacing??0)+s,{range:a}=this,o=(a[0]+a[1])/2;let c,u,h,f;switch(this.position){case"top":c=o,u=-r,h=0,f="bottom";break;case"bottom":c=o,u=r,h=0,f="top";break;case"left":c=-r,u=o,h=-.5*Math.PI,f="bottom";break;case"right":c=r,u=o,h=.5*Math.PI,f="bottom";break}const{formatter:g=y=>y.defaultValue}=i,m=this.cachedCallWithContext(g,this.getTitleFormatterParams(n));return t.text=m,{visible:!0,text:m,textBaseline:f,x:c,y:u,rotationCenterX:c,rotationCenterY:u,rotation:h}}getTickLabelProps(t,n){const{horizontal:s,primaryLabel:i,primaryTick:r,seriesAreaPadding:a,scale:o}=this,{tickId:c,tickLabel:u="",translation:h,isPrimary:f,textUntruncated:g}=t,m=f&&i?.enabled?i:this.label,y=f&&r?.enabled?r:this.tick,{rotation:b,textBaseline:S,textAlign:C}=n,{range:M}=o,N=this.label.getSideFlag(),T=kg(m)[this.position],E=N*(this.getTickSize(y)+m.spacing+a)-T,k=u!=="",L=s?h:E,I=s?-E:h;return{...this.getLabelStyles({value:t.tick,formattedValue:u},void 0,m),tickId:c,rotation:b,text:u,textAlign:C,textBaseline:S,textUntruncated:g,visible:k,x:L,y:I,rotationCenterX:L,rotationCenterY:I,range:M}}updateSelections(){if(!this.tickLayout)return;const t=this.getAxisLineCoordinates(),{tickLines:n,gridLines:s,gridFills:i,labels:r}=this.tickLayout,a=o=>o.tickId;this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLine.enabled?s:[],void 0,a),this.gridFillGroupSelection.update(this.gridLine.enabled?i:[],void 0,a),this.tickLineGroupSelection.update(n,void 0,a),this.tickLabelGroupSelection.update(r,void 0,a)}updateGridLines(){this.gridLineGroupSelection.each((t,n)=>{t.stroke=n.stroke,t.strokeWidth=n.strokeWidth,t.lineDash=n.lineDash})}updateGridFills(){this.gridFillGroupSelection.each((t,n)=>{t.fill=n.fill,t.fillOpacity=n.fillOpacity??1})}updateTickLines(){this.tickLineGroupSelection.each((t,n)=>{t.stroke=n.stroke,t.strokeWidth=n.strokeWidth,t.lineDash=n.lineDash})}updateTitle(t,n){const{caption:s}=this.title,i=this.titleProps(s,t,n);s.node.visible=i.visible,s.node.text=i.text,s.node.textBaseline=i.textBaseline,s.node.datum=i}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((t,n)=>{t.fill=n.color,t.text=n.text,t.textBaseline=n.textBaseline,t.textAlign=n.textAlign??"center",t.pointerEvents=n.textUntruncated==null?1:0,t.setFont(n),t.setBoxing(n)})}animateReadyUpdate(t){const{animationManager:n}=this.moduleCtx,s=pQ(this),i=gQ(s);Fs(this.id,"axis-group",n,[this.lineNodeGroup,this.tickLabelGroup,this.tickLineGroup,this.headingLabelGroup],i.group),Fs(this.id,"line",n,[this.lineNode],i.line),Fs(this.id,"line-paths",n,[this.gridLineGroupSelection,this.tickLineGroupSelection],i.tick,(r,a)=>a.tickId,t),Fs(this.id,"tick-labels",n,[this.tickLabelGroupSelection],i.label,(r,a)=>a.tickId,t),Fs(this.id,"title",n,[this.title.caption.node],i.label,(r,a)=>a.tickId,t)}resetSelectionNodes(){Ui([this.lineNodeGroup,this.tickLabelGroup,this.tickLineGroup,this.headingLabelGroup],mQ()),Ui([this.gridLineGroupSelection,this.tickLineGroupSelection],YD()),Ui([this.gridFillGroupSelection],yQ()),Ui([this.tickLabelGroupSelection],Rw()),Ui([this.title.caption.node],Rw()),Ui([this.lineNode],YD())}};D([O],gC.prototype,"thickness",2);D([O],gC.prototype,"maxThicknessRatio",2);D([O],gC.prototype,"position",2);var wb=gC,GQ=["top","right","bottom","left"];function B_e(e){return typeof e=="string"&&GQ.includes(e)}function V_e(e){const t=[],n=[],s=[...GQ];for(const i of e)i instanceof wb&&(B_e(i.position)?n.push(i.position):t.push(i));for(const i of t){let r;do r=s.pop();while(r&&n.includes(r));if(r==null)break;i.position=r}}var U_e=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function H_e(e,t,n){const s=(u,h,f)=>{const g=[u];for(const m of U_e)m in h&&h[m]!=null&&g.push(`${m}=${h[m]}`);return f?.seriesGrouping&&g.push(`seriesGrouping.groupId=${f?.seriesGrouping.groupId}`),g.join(";")},i=new Map;let r=0;for(const u of e){const h=s(u.type,u.properties,n?.[r]);i.has(h)||i.set(h,[]),i.get(h)?.push([u,r++])}const a=new Map;r=0;for(const u of t){const h=s(u.type,u,u);a.has(h)||a.set(h,[]),a.get(h)?.push([u,r++])}if(![...i.keys()].some(u=>a.has(u)))return{status:"no-overlap",oldKeys:i.keys(),newKeys:a.keys()};const c=[];for(const[u,h]of a.entries())for(const[f,g]of h){const m=i.get(u);if(m==null||m.length<1){c.push({opts:f,targetIdx:g,idx:g,status:"add"}),i.delete(u);continue}const[y,b]=m.shift(),S=n?.[b]??{},C=Yc(S,f??{}),{groupIndex:M,stackIndex:N}=C?.seriesGrouping??{};M!=null||N!=null?c.push({opts:f,series:y,diff:C,targetIdx:g,idx:b,status:"series-grouping"}):C?c.push({opts:f,series:y,diff:C,targetIdx:g,idx:b,status:"update"}):c.push({opts:f,series:y,targetIdx:g,idx:b,status:"no-op"}),m.length===0&&i.delete(u)}for(const u of i.values())for(const[h,f]of u)c.push({series:h,idx:f,targetIdx:-1,status:"remove"});return{status:"overlap",changes:c}}function mC(e){const{series:t}=e;return t?.[0]?.type??"line"}function WQ(e){const t=mC(e);return fi.isCartesian(t)||qRe(t)}function G_e(e){const t=mC(e);return fi.isPolar(t)||ZRe(t)}function YQ(e){const t=mC(e);return fi.isTopology(t)||QRe(t)}function KQ(e){const t=mC(e);return fi.isStandalone(t)||XRe(t)}var W_e=class extends YO{applyOptions(e){for(const t of this.moduleMap.values())t.module.optionsKey in e&&Vh(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(const{module:e,moduleInstance:t}of this.moduleMap.values())e.type==="legend"&&(yield{legendType:e.identifier,legend:t})}},JD="ag-charts-overlay",c$="ag-charts-dark-overlay",_h=class extends mt{constructor(e,t){super(),this.className=e,this.defaultMessageId=t,this.enabled=!0}getText(e){return Pt(this.text)?this.text.map(t=>t.text).join(""):e.t(this.text??this.defaultMessageId)}getElement(e,t,n,s){if(this.content?.remove(),this.focusBox=s,this.renderer){const i={},r=Go(e,this.renderer,i);if(r instanceof HTMLElement)this.content=r;else{const a=Ot("div");a.innerHTML=r;const{firstElementChild:o}=a;o instanceof HTMLElement&&a.childElementCount===1?this.content=o:this.content=a}}else{const i=Ot("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});if(Pt(this.text)){const r=Ot("div");for(const a of this.text){const o=Ot("span",{color:a.color,fontSize:`${a.fontSize}px`,fontFamily:a.fontFamily??"inherit",fontWeight:String(a.fontWeight),fontStyle:a.fontStyle});o.innerText=a.text,r.appendChild(o)}i.appendChild(r)}else i.innerText=this.getText(n);this.content=i,t?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(r){i.style.opacity=String(r)},onStop(){i.style.opacity="1"}})}return this.content}removeElement(e=()=>this.content?.remove(),t){if(this.content){if(t){const{content:n}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(s){n.style.opacity=String(s)},onStop(){e?.()}})}else e?.();this.content=void 0,this.focusBox=void 0}}};D([O],_h.prototype,"enabled",2);D([O],_h.prototype,"text",2);D([O],_h.prototype,"renderer",2);var lm=class extends mt{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new _h("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new _h("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new _h("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new _h("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(e){for(const t of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(t.focusBox!==void 0)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};D([O],lm.prototype,"darkTheme",2);D([O],lm.prototype,"loading",2);D([O],lm.prototype,"noData",2);D([O],lm.prototype,"noVisibleSeries",2);D([O],lm.prototype,"unsupportedBrowser",2);function Y_e(e,t){const{animationDuration:n}=s0.add,s=n*t,i=Ot("div",`${JD}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${s}ms linear 50ms both`}),r=Ot("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),a=Ot("p",{marginTop:"1em"});a.innerText=e;const o=Ot("div",`${JD}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),c=Ot("style");return c.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),i.replaceChildren(c,r,a,o),i}var qQ=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.ANY_CONTENT=1]="ANY_CONTENT",e))(qQ||{}),ZQ=(e=>(e[e.FOREGROUND=0]="FOREGROUND",e[e.HIGHLIGHT=1]="HIGHLIGHT",e[e.LABEL=2]="LABEL",e))(ZQ||{});function QQ(e,t,n,s){if(Ho(e))return{type:"gradient",gradient:e.gradient??t.gradient,colorStops:e.colorStops??t.colorStops,bounds:e.bounds??t.bounds,rotation:e.rotation??t.rotation,reverse:e.reverse??t.reverse,colorSpace:e.colorSpace??t.colorSpace};if(Cd(e)){const i=e.pattern??n.pattern;let r=e.strokeWidth;i==="backward-slanted-lines"||i==="forward-slanted-lines"||i==="horizontal-lines"||i==="vertical-lines"?r??(r=n.strokeWidth):r??(r=0);const a=e.width??e.height??n.width,o=e.height??e.width??n.height;return{type:"pattern",pattern:i,width:a,height:o,path:e.path,padding:e.padding??n.padding,fill:e.fill??n.fill,fillOpacity:e.fillOpacity??n.fillOpacity,backgroundFill:e.backgroundFill??n.backgroundFill,backgroundFillOpacity:e.backgroundFillOpacity??n.backgroundFillOpacity,stroke:e.stroke??n.stroke,strokeOpacity:e.strokeOpacity??n.strokeOpacity,strokeWidth:r,rotation:e.rotation??n.rotation,scale:e.scale??n.scale}}return tf(e)?{type:"image",url:e.url,width:e.width,height:e.height,backgroundFill:e.backgroundFill??s.backgroundFill,backgroundFillOpacity:e.backgroundFillOpacity??s.backgroundFillOpacity,rotation:e.rotation??s.rotation,repeat:e.repeat??s.repeat,fit:e.fit??s.fit}:e}function ek(e,t,n,s){return!Ho(e?.fill)&&!Cd(e?.fill)&&!tf(e?.fill)?e:{...e,fill:QQ(e.fill,t,n,s)}}function XQ(e,t,n,s){n==null||!Ho(t)||t.bounds==null||t.bounds==="item"?e.fillBBox=void 0:e.fillBBox=n[t.bounds],e.fillParams=s}function Rc(e,t,n,s){const i=t?.opacity??1;e.fill=t?.fill,XQ(e,e.fill,n,s),e.fillOpacity=(t?.fillOpacity??1)*i,e.stroke=t?.stroke,e.strokeOpacity=(t?.strokeOpacity??1)*i,e.strokeWidth=t?.strokeWidth??0,e.lineDash=t?.lineDash,e.lineDashOffset=t?.lineDashOffset??0}var JQ=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_NODE=1]="NEAREST_NODE",e[e.AXIS_ALIGNED=2]="AXIS_ALIGNED",e))(JQ||{}),K_e=.25,q_e=.125,yC=class{constructor(e,t,n,s){this.type=e,this.event=t,this.defaultPrevented=!1,this.datum=n.datum,this.seriesId=s.id}preventDefault(){this.defaultPrevented=!0}},Fw=class{constructor(e,t){this.series=e,this.seriesGrouping=t,this.type="groupingChanged"}};function u$(e){switch(e){case"x":return"x";case"y":return"y";case"angle":return"angle";case"radius":return"radius"}}function UT(e){switch(e){case"x":return"x";case"y":return"y";case"angle":return"angle";case"radius":return"radius"}}var xC=class extends lZ{constructor(e){super(),this.cleanup=new Cs,this.usesPlacedLabels=!1,this.hasChangesOnHighlight=!1,this.seriesGrouping=void 0,this.NodeEvent=yC,this.internalId=Xo(this),this.contentGroup=new Yi({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new Yi({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new Yi({name:`${this.internalId}-annotation`}),this.labelGroup=new Yi({name:`${this.internalId}-series-labels`}),this.axes={},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new YO,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this.declarationOrder=-1,this._broughtToFront=!1,this.events=new Id,this._pickNodeCache=new JL(5),this.fireEventWrapper=o=>super.fireEvent(o);const{moduleCtx:t,pickModes:n,propertyKeys:s={},propertyNames:i={},canHaveAxes:r=!1,usesPlacedLabels:a=!1}=e;this.ctx=t,this.propertyKeys=s,this.propertyNames=i,this.canHaveAxes=r,this.usesPlacedLabels=a,this.pickModes=n,this.cleanup.register(this.ctx?.eventsHub.on("highlight:change",o=>this.onChangeHighlight(o)))}get pickModeAxis(){return"main"}get id(){return this.properties?.id??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.ctx.legendManager.toggleItem(e,this.id),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){return this.properties.tooltip?.enabled}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){const{internalId:n,type:s,visible:i}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),t&&this.ctx.seriesStateManager.registerSeries({internalId:n,type:s,visible:i,seriesGrouping:t}),this.fireEvent(new Fw(this,t))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(e,t,n){e.appendChild(this.contentGroup),t.appendChild(this.highlightGroup),t.appendChild(this.labelGroup),n?.appendChild(this.annotationGroup)}detachSeries(e,t,n){e?.removeChild(this.contentGroup),t.removeChild(this.highlightGroup),t.removeChild(this.labelGroup),n?.removeChild(this.annotationGroup)}setSeriesIndex(e,t=!1){const n=this.bringToFront();return!t&&e===this.declarationOrder&&n===this._broughtToFront?!1:(this.declarationOrder=e,this._broughtToFront=n,this.setZIndex(n?Number.MAX_VALUE:e),this.fireEvent(new Fw(this,this.seriesGrouping)),!0)}setZIndex(e){this.contentGroup.zIndex=[1,e,0],this.highlightGroup.zIndex=[1,e,1],this.labelGroup.zIndex=[1,e,2],this.annotationGroup.zIndex=e}renderToOffscreenCanvas(){return!1}addEventListener(e,t){return super.addEventListener(e,t)}removeEventListener(e,t){return super.removeEventListener(e,t)}hasEventListener(e){return super.hasEventListener(e)}addChartEventListeners(){}updatedDomains(){}destroy(){this.cleanup.flush(),this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getPropertyValues(e,t){const n=u$(e),s=n!=null?UT(this.resolveKeyDirection(n)):e,i=t?.[s],r=[];if(!i)return r;const a=(...o)=>{for(const c of o)Array.isArray(c)?a(...c):typeof c=="object"?a(...Object.values(c)):r.push(c)};return a(...i.map(o=>this.properties[o])),r}getKeys(e){return this.getPropertyValues(UT(e),this.propertyKeys)}getKeyProperties(e){return this.propertyKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getPropertyValues(UT(e),this.propertyNames)}getFormatterContext(e){const{id:t}=this,n=this.getPropertyValues(e,this.propertyKeys),s=this.getPropertyValues(e,this.propertyNames),i=[];for(let r=0;r<n.length;r++)i.push({seriesId:t,key:n[r],name:s[r]});return i}resolveKeyDirection(e){return e}getDomain(e){const t=this.getSeriesDomain(e),n=this.moduleMap.mapModules(s=>s.getDomain(e)).flat();return n.length!==0?t.concat(n):t}getRange(e,t){return this.getSeriesRange(e,t)}getZoomRangeFittingItems(e,t,n){}getVisibleItems(e,t,n){return 1/0}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){if(!this.properties.highlight)return 1;const{opacity:t=1}=this.getHighlightStyle();return t}getHighlightState(e,t,n,s){if(t)return 1;if(e?.series==null)return 0;if(this.isSeriesHighlighted(e,s)){const i=this.isItemHighlighted(e,n);return i==null||i?2:4}return 3}getHighlightStateString(e,t,n,s){return am(this.getHighlightState(e,t,n,s))}onChangeHighlight(e){const t=e.previousHighlight,n=e.currentHighlight,s=this.getHighlightState(n),i=this.getHighlightState(t);if(this.setSeriesIndex(this.declarationOrder),s===i){this.hasChangesOnHighlight=!1;return}const{highlightedSeries:r,unhighlightedItem:a,unhighlightedSeries:o}=this.properties.highlight,c=this.hasItemStylers();this.hasChangesOnHighlight=c||!bS(r)||!bS(a)||!bS(o)}bringToFront(){return this.properties.highlight.bringToFront&&this.isSeriesHighlighted(this.ctx.highlightManager.getActiveHighlight())}isSeriesHighlighted(e,t){return e?.series===this}isItemHighlighted(e,t){if(!(e?.datumIndex==null||t==null))return e.datumIndex===t}getHighlightStyle(e,t,n,s){const i=this.ctx.highlightManager?.getActiveHighlight();return n??(n=this.getHighlightState(i,e,t,s)),this.properties.highlight.getStyle(n)}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,t)=>Object.assign(e,t),{})}pickNodes(e,t,n=!1){const{pickModes:s,pickModeAxis:i,visible:r,contentGroup:a}=this;if(!r||!a.visible||t==="highlight"&&!this.properties.highlight.enabled||t==="highlight-tooltip"&&!this.properties.highlight.enabled)return;let o=1/0;if(t==="tooltip"||t==="highlight-tooltip"){const{tooltip:g}=this.properties;o=typeof g.range=="number"?g.range:1/0,n||(n=g.range==="exact")}else if(t==="event"||t==="context-menu"){const{nodeClickRange:g}=this.properties;o=typeof g=="number"?g:1/0,n||(n=g==="exact")}const c=s.filter(g=>!n||g===0),{x:u,y:h}=e,f=JSON.stringify({x:u,y:h,maxDistance:o,selectedPickModes:c});if(this._pickNodeCache.has(f))return this._pickNodeCache.get(f);for(const g of c){let m;switch(g){case 0:{const y=this.pickNodesExactShape(e);m=y.length===0?void 0:{datums:y,distance:0};break}case 1:{const y=this.pickNodeClosestDatum(e),b=y?.distance===0?this.pickNodesExactShape(e):void 0;b!=null&&b.length!==0?m={datums:b,distance:0}:y?m={datums:[y.datum],distance:y.distance}:m=void 0;break}case 2:{const y=i!=null?this.pickNodeMainAxisFirst(e,i==="main-category"):void 0;m=y!=null?{datums:[y.datum],distance:y.distance}:void 0;break}}if(m&&m.distance<=o)return this._pickNodeCache.set(f,{pickMode:g,datums:m.datums,distance:m.distance})}return this._pickNodeCache.set(f,void 0)}pickNodesExactShape(e){const t=[];for(const n of this.contentGroup.pickNodes(e.x,e.y)){const s=n.closestDatum();s!=null&&s.missing!==!0&&t.push(s)}return t}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){const n=U2(e.x,e.y,t),s=n.nearest?.closestDatum();if(s!=null&&s.missing!==!0)return{datum:s,distance:Math.sqrt(n.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(e){}fireEvent(e){Go([this.properties,this.ctx.chartService],this.fireEventWrapper,e)}fireNodeClickEvent(e,t){const n=new this.NodeEvent("seriesNodeClick",e,t,this);return this.fireEvent(n),!n.defaultPrevented}fireNodeDoubleClickEvent(e,t){const n=new this.NodeEvent("seriesNodeDoubleClick",e,t,this);return this.fireEvent(n),!n.defaultPrevented}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}onLegendInitialState(e,t){const{visible:n=!0,itemId:s,legendItemName:i}=t??{};this.toggleSeriesItem(n,e,s,i)}onLegendItemClick(e){const{enabled:t,itemId:n,series:s,legendType:i}=e,r="legendItemName"in this.properties?this.properties.legendItemName:void 0,a="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,o=r!=null&&r===e.legendItemName;(s.id===this.id||o||a!=null)&&this.toggleSeriesItem(t,i,n,r,e)}onLegendItemDoubleClick(e){const{enabled:t,itemId:n,series:s,numVisibleItems:i,legendType:r}=e,a="legendItemName"in this.properties?this.properties.legendItemName:void 0,o="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,c=a!=null&&a===e.legendItemName;s.id===this.id||c||o!=null?this.toggleSeriesItem(!0,r,n,a,e):t&&i===1?this.toggleSeriesItem(!0,r,void 0,a):this.toggleSeriesItem(!1,r,void 0,a)}toggleSeriesItem(e,t,n,s,i){const r=this.id;(e||t!=="category")&&(this.visible=e),this.nodeDataRefresh=!0,this._pickNodeCache.clear();const a={type:"seriesVisibilityChange",seriesId:r,itemId:n,legendItemName:i?.legendItemName??s,visible:e};this.fireEvent(a),this.ctx.legendManager.toggleItem(e,r,n,s)}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getAxisValueText(e,t,n,s,i,r){const{id:a,properties:o}=this;return e.formatDatum(o,n,t,a,r,s,i)}getLabelText(e,t,n,s,i,r,a){if(e==null)return"";const{axes:o,canHaveAxes:c,ctx:u,id:h,properties:f}=this,g="series-label",m="legendItemName"in f?f.legendItemName:void 0,y={seriesId:this.id,...a},b=c?u$(s):void 0,S=b!=null?o[this.resolveKeyDirection(b)]:void 0;if(S!=null)return S.formatDatum(f,e,g,h,m,t,n,i,r,y);const{formatManager:C}=u,M=this.callWithContext.bind(this),N=E=>ao(r.formatValue(M,E.type,E.value,y)??C.format(M,E)??String(e)),T=this.getFormatterContext(s);switch(s){case"y":case"color":case"size":return N({type:"number",value:e,datum:t,seriesId:h,legendItemName:m,key:n,source:g,property:s,domain:i,boundSeries:T,fractionDigits:void 0});case"x":case"radius":case"angle":case"label":case"secondaryLabel":case"calloutLabel":case"sectorLabel":case"legendItem":return N({type:"category",value:e,datum:t,seriesId:h,legendItemName:m,key:n,source:g,property:s,domain:i,boundSeries:T})}}getMarkerStyle(e,{datumIndex:t,datum:n,point:s},i,r,a={size:s?.size??e.size??0},o){const{itemStyler:c}=e,{highlightState:u,isHighlight:h=!1,checkForHighlight:f=!0,resolveItemStylerMarkerPath:g=!0,resolveStylerMarkerPath:m}=r??{};if(m){const C=m==="marker"?["series",`${this.declarationOrder}`,"marker"]:["series",`${this.declarationOrder}`],M={permissivePath:!0},N=this.ctx.optionsGraphService.resolvePartial(C,a,M);N&&(a={...N,size:N.size??a.size})}const y=f?this.getHighlightStyle(h,t,u):void 0;let S=pn(y,a,e.getStyle(),o);if(c&&i){const C=this.ctx.highlightManager?.getActiveHighlight(),M=this.getHighlightStateString(C,h,t),N=this.cachedCallWithContext(c,{seriesId:this.id,...S,...i,highlighted:h,highlightState:M,datum:n}),T=g?["series",`${this.declarationOrder}`,"marker"]:["series",`${this.declarationOrder}`],E=this.ctx.optionsGraphService.resolvePartial(T,N);S=pn(E,S)}return S}applyMarkerStyle(e,t,n,s,{applyTranslation:i=!0,selected:r=!0}={}){const{shape:a,size:o=0}=e,c=this.visible&&o>0&&n&&!isNaN(n.x)&&!isNaN(n.y);if(Rc(t,e,s),i?t.setProperties({visible:c,shape:a,size:o,x:n?.x,y:n?.y,scalingCenterX:n?.x,scalingCenterY:n?.y}):t.setProperties({visible:c,shape:a,size:o}),r||(t.fillOpacity*=K_e,t.strokeOpacity*=q_e),typeof a=="function"&&!t.dirtyPath){t.path.clear(!0),t.updatePath(),t.checkPathDirty();const u=t.getBBox();if(n!=null&&u.isFinite()){const h=u.computeCenter(),[f,g]=["x","y"].map(m=>(e.strokeWidth??0)+Math.abs(h[m]-n[m]));n.focusSize=Math.max(u.width+f,u.height+g)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:t,height:n}=e??{width:NaN,height:NaN},s=e?{seriesRectWidth:t,seriesRectHeight:n}:void 0,i=Yc(this.nodeDataDependencies,s)!=null;return i&&(this._nodeDataDependencies=s,this.markNodeDataDirty()),i}pickFocus(e){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(e,t){const{datumCallbackCache:n}=this,s=n.get(e);if(s!=null)return s;try{const i=t();return n.set(e,i),i}catch(i){Ne.error(String(i))}}cachedCallWithContext(e,...t){return this.ctx.callbackCache.call([this.properties,this.ctx.chartService],e,...t)}callWithContext(e,...t){return Go([this.properties,this.ctx.chartService],e,...t)}formatTooltipWithContext(e,t,n){return e.formatTooltip([this.properties,this.ctx.chartService],t,n)}minTimeInterval(){}};D([fr({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],xC.prototype,"seriesGrouping",2);var Z_e=class{constructor(e){this.swapChain=e,this.hasBeenActivated=!1,this.div=Ot("div"),this.svg=Ds("svg"),this.outerPath=Ds("path"),this.innerPath=Ds("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=Ot("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",t=>this.onSwap(t))}clear(){}update(e,t,n){if(t!=null)if(e instanceof xi){const s=(r,a)=>{let{x:o,y:c}=vs.toCanvasPoint(e,r,a);return o-=t.x??0,c-=t.y??0,{x:o,y:c}},i=e.svgPathData(s);this.outerPath.setAttribute("d",i),this.innerPath.setAttribute("d",i),this.show(this.svg)}else{let s;if(n){const i=Math.max(e.x-t.x,0),r=Math.max(e.y-t.y,0),a=Math.min(e.x+e.width-t.x,t.width),o=Math.min(e.y+e.height-t.y,t.height);s=new Pe(i,r,a-i,o-r)}else s=new Pe(e.x-t.x,e.y-t.y,e.width,e.height);kw(this.div,s),this.show(this.div)}}onSwap(e){e!==this.element.parentElement&&(this.element.remove(),e.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(e){this.hasBeenActivated=!0,this.element.innerHTML="",this.element.append(e)}overrideFocusVisible(e){this.focusVisible=e;const t={true:"1",false:"0",undefined:""};this.element.parentElement?.style.setProperty("opacity",t[`${e}`])}isFocusVisible(e=!1){if(!e&&!this.hasBeenActivated)return!1;const t=this.element.parentElement;return t!=null&&Nn().getComputedStyle(t).opacity==="1"}},Q_e=class{constructor(e,t,n,s){this.label1=e,this.label2=t,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=i=>(vl(i.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",i)),this.onFocus=i=>(vl(i.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",i)),nn(this.label1,"id",jw()),nn(this.label2,"id",jw()),vl(this.label1,"display","none"),vl(this.label2,"display","none"),this.label1.textContent=s,this.label2.textContent=s,this.activeAnnouncer=this.createAnnouncer(n),this.inactiveAnnouncer=this.createAnnouncer(n),nn(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap(s)}createAnnouncer(e){const t=Ot("div");return t.role=e,t.className="ag-charts-swapchain",t.addEventListener("blur",this.onBlur),t.addEventListener("focus",this.onFocus),t}destroy(){for(const e of[this.activeAnnouncer,this.inactiveAnnouncer])e.removeEventListener("blur",this.onBlur),e.removeEventListener("focus",this.onFocus),e.remove()}focus(e){this.focusOptions=e,this.activeAnnouncer.focus(e),this.focusOptions=void 0}update(e){this.skipDispatch=!0,this.swap(e),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(e,t){this.listeners[e].push(t),e==="swap"&&t(this.activeAnnouncer)}dispatch(e,t){e==="focus"?this.hasFocus=!0:e==="blur"&&(this.hasFocus=!1),this.listeners[e].forEach(n=>n(t))}swap(e){const t=this.activeAnnouncer.tabIndex;this.label2.textContent=e,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],Cg(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),Cg(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:t}),this.dispatch("swap",this.activeAnnouncer)}},X_e={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function J_e(e,t){for(const n of t)if("code"in n){if(n.code===e.code)return!0}else if(n.key===e.key&&(n.shift===void 0||n.shift===e.shiftKey)&&(n.ctrlOrMeta===void 0||n.ctrlOrMeta===e.ctrlKey||n.ctrlOrMeta===e.metaKey))return!0;return!1}function ePe(e){for(const[t,{activatesFocusIndicator:n=!0,bindings:s}]of Uo(X_e))if(J_e(e,s))return{name:t,activatesFocusIndicator:n}}function tPe(e,t,n){const s=PO(e,n.datum,n.movedBounds);if(s!=null)return{x:s.canvasX,y:s.canvasY};const i=n.bounds;if(i!=null){if(i instanceof Pe){const{x:r,y:a}=i.computeCenter();return{x:t.x+r,y:t.y+a}}return vs.toCanvas(i).computeCenter()}}function nPe({bounds:e}){return e instanceof Pe?e:e!=null?vs.toCanvas(e):Pe.NaN}function sPe(e,t,n){const{x:s,y:i}=tPe(e,t,n)??{};if(s!==void 0&&i!==void 0)return{type:"keyboard",canvasX:s,canvasY:i}}function eX(e,t,n,s){let{top:i,right:r,bottom:a,left:o,width:c,height:u}=s;return o!=null?c!=null?r=n.width-o+c:r!=null&&(c=n.width-o-r):r!=null&&c!=null&&(o=n.width-r-c),i!=null?u!=null?a=n.height-i-u:a!=null&&(u=n.height-a-i):a!=null&&u!=null&&(i=n.height-a-u),c==null?u==null?(u=t,c=e):c=Math.ceil(e*u/t):u??(u=Math.ceil(t*c/e)),o==null&&(r==null?o=Math.floor((n.width-c)/2):o=n.width-r-c),i==null&&(a==null?i=Math.floor((n.height-u)/2):i=n.height-u-a),{x:o,y:i,width:c,height:u}}var d$=.1,h$=200,f$=12,iPe=.5,rPe=class{constructor(){this.events=new Id,this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(e,t){if(Number.isNaN(this.x)||Number.isNaN(this.y)){this.x=e,this.y=t,this.vx=0,this.vy=0,this.emitUpdate(),this.animationFrameHandle!=null&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0);return}this.x1=e,this.y1=t,this.t0=Date.now(),this.animationFrameHandle??(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;const{x1:e,y1:t,t0:n}=this,s=Date.now(),i=s-n;this.t0=s;const r=.001,a=Math.ceil(i/(r*1e3))|0;let{x:o,y:c,vx:u,vy:h}=this;for(let f=0;f<a;f+=1){const g=o-e,m=c-t,y=-(h$*g+f$*u)/d$,b=-(h$*m+f$*h)/d$;u+=y*r,h+=b*r,o+=u*r,c+=h*r}Math.hypot(o-e,c-t)<iPe?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=o,this.y=c,this.vx=u,this.vy=h,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.events.emit("update",{x:this.x,y:this.y})}},U1=null;function hx(e){return e===""?"":(U1??(U1=Ot("div")),U1.textContent=String(e),U1.innerHTML.replace(/\n/g,"<br>"))}function Uy(e,t){const{path:n,size:s}=e,{x:i,y:r}=e;n.clear();let a=!1;for(const[o,c]of t){const u=i+(o-.5)*s,h=r+(c-.5)*s;a?n.lineTo(u,h):n.moveTo(u,h),a=!0}n.closePath()}var aPe={circle({path:e,x:t,y:n,size:s}){const i=s/2;e.arc(t,n,i,0,Math.PI*2),e.closePath()},cross(e){Uy(e,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(e){Uy(e,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart({path:e,x:t,y:n,size:s}){const i=s/4;n=n+i/2,e.arc(t-i,n-i,i,Wi(130),Wi(330)),e.arc(t+i,n-i,i,Wi(220),Wi(50)),e.lineTo(t,n+i),e.closePath()},pin({path:e,x:t,y:n,size:s}){e.moveTo(t+(.15625-.5)*s,n+(.34375-.5)*s),e.cubicCurveTo(t+(.15625-.5)*s,n+(.151491-.5)*s,t+(.307741-.5)*s,n+(0-.5)*s,t+(.5-.5)*s,n+(0-.5)*s),e.cubicCurveTo(t+(.692259-.5)*s,n+(0-.5)*s,t+(.84375-.5)*s,n+(.151491-.5)*s,t+(.84375-.5)*s,n+(.34375-.5)*s),e.cubicCurveTo(t+(.84375-.5)*s,n+(.493824-.5)*s,t+(.784625-.5)*s,n+(.600181-.5)*s,t+(.716461-.5)*s,n+(.695393-.5)*s),e.cubicCurveTo(t+(.699009-.5)*s,n+(.719769-.5)*s,t+(.681271-.5)*s,n+(.743104-.5)*s,t+(.663785-.5)*s,n+(.766105-.5)*s),e.cubicCurveTo(t+(.611893-.5)*s,n+(.834367-.5)*s,t+(.562228-.5)*s,n+(.899699-.5)*s,t+(.528896-.5)*s,n+(.980648-.5)*s),e.cubicCurveTo(t+(.524075-.5)*s,n+(.992358-.5)*s,t+(.512663-.5)*s,n+(1-.5)*s,t+(.5-.5)*s,n+(1-.5)*s),e.cubicCurveTo(t+(.487337-.5)*s,n+(1-.5)*s,t+(.475925-.5)*s,n+(.992358-.5)*s,t+(.471104-.5)*s,n+(.980648-.5)*s),e.cubicCurveTo(t+(.487337-.5)*s,n+(1-.5)*s,t+(.475925-.5)*s,n+(.992358-.5)*s,t+(.471104-.5)*s,n+(.980648-.5)*s),e.cubicCurveTo(t+(.437772-.5)*s,n+(.899699-.5)*s,t+(.388107-.5)*s,n+(.834367-.5)*s,t+(.336215-.5)*s,n+(.766105-.5)*s),e.cubicCurveTo(t+(.318729-.5)*s,n+(.743104-.5)*s,t+(.300991-.5)*s,n+(.719769-.5)*s,t+(.283539-.5)*s,n+(.695393-.5)*s),e.cubicCurveTo(t+(.215375-.5)*s,n+(.600181-.5)*s,t+(.15625-.5)*s,n+(.493824-.5)*s,t+(.15625-.5)*s,n+(.34375-.5)*s),e.closePath()},plus(e){Uy(e,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square({path:e,x:t,y:n,size:s,pixelRatio:i}){const r=s/2;e.moveTo(ui(i,t-r),ui(i,n-r)),e.lineTo(ui(i,t+r),ui(i,n-r)),e.lineTo(ui(i,t+r),ui(i,n+r)),e.lineTo(ui(i,t-r),ui(i,n+r)),e.closePath()},star({path:e,x:t,y:n,size:s}){const r=s/2,a=r/2,o=Math.PI/2;for(let c=0;c<10;c++){const u=c%2===0?r:a,h=c*Math.PI/5-o,f=t+Math.cos(h)*u,g=n+Math.sin(h)*u;e.lineTo(f,g)}e.closePath()},triangle(e){Uy(e,[[.5,0],[1,.87],[0,.87]])}},Cb=class extends xi{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}isPointInPath(e,t){return this.distanceSquared(e,t)<=0}get midPoint(){return{x:this.x,y:this.y}}distanceSquared(e,t){const n=ni.anchor(this.shape);return Math.max(Math.hypot(e-this.x+(n.x-.5)*this.size,t-this.y+(n.y-.5)*this.size)-this.size/2,0)}updatePath(){const{path:e,shape:t,x:n,y:s,size:i}=this,r=this.layerManager?.canvas?.pixelRatio??1,a=ni.anchor(t),o={path:e,x:n-(a.x-.5)*i,y:s-(a.y-.5)*i,size:i,pixelRatio:r};e.clear(),typeof t=="string"?aPe[t](o):typeof t=="function"&&t(o)}computeBBox(){const{x:e,y:t,size:n}=this,s=ni.anchor(this.shape);return new Pe(e-n*s.x,t-n*s.y,n,n)}executeFill(e,t){if(t)return super.executeFill(e,t)}executeStroke(e,t){if(t)return super.executeStroke(e,t)}};D([Ma({})],Cb.prototype,"shape",2);D([Me()],Cb.prototype,"x",2);D([Me()],Cb.prototype,"y",2);D([Me({convertor:Math.abs})],Cb.prototype,"size",2);var ni=class extends im(q2(rm(Cb))){static anchor(e){return e==="pin"?{x:.5,y:1}:typeof e=="function"&&"anchor"in e?e.anchor:{x:.5,y:.5}}constructor(e){super(e),e?.shape!=null&&(this.shape=e.shape)}};function tX(e,t,n=t*(5/3)){const s=new Et,i=Math.min(e.marker.strokeWidth??1,2),r=Math.min(e.line?.strokeWidth??0,2),a=Math.max(e.marker.enabled===!1?0:t,e.line==null?0:n),o=Math.max(e.marker.enabled===!1?0:t,r);if(e.line!=null){const{stroke:c,strokeOpacity:u,lineDash:h}=e.line,f=new ya;f.x1=0,f.y1=o/2,f.x2=a,f.y2=o/2,f.stroke=c,f.strokeOpacity=u,f.strokeWidth=r,f.lineDash=h,s.append(f)}if(e.marker.enabled!==!1){const{shape:c,fill:u,fillOpacity:h,stroke:f,strokeOpacity:g,lineDash:m,lineDashOffset:y}=e.marker,b=new ni;b.shape=c??"square",b.size=t,b.fill=u,b.fillOpacity=h??1,b.stroke=f,b.strokeOpacity=g??1,b.strokeWidth=i,b.lineDash=m,b.lineDashOffset=y??0;const S=ni.anchor(c),C=a/2+(S.x-.5)*t,M=o/2+(S.y-.5)*t,N=t/(t+i);b.x=C,b.y=M,b.scalingCenterX=C,b.scalingCenterY=M,b.scalingX=N,b.scalingY=N,s.append(b)}return Et.toSVG(s,a,o)}var Ci="ag-charts-tooltip",nX="ag-charts-tooltip--dark";function sX(e){const t=[],n=new Map;for(const s of e)if(s.type==="structured"){const{heading:i}=s,r=i!=null?n.get(i):void 0,a={type:"structured",heading:i,items:[s]};r==null?(n.set(i,a),t.push(a)):r.items.push(s)}else t.push(s);return t}function iX(e){const t=sX(e),n=[];return t.forEach(s=>{if(s.type==="raw")return"";s.heading!=null&&n.push(ao(s.heading)),s.items.forEach(i=>{i.title!=null&&n.push(ao(i.title)),i.data?.forEach(r=>{n.push(r.label??r.fallbackLabel,r.value)})})}),n.join("; ")}function tk(e,t,n){let s="";if(e==null&&!t)return"";e==null?s+=`<span class="${Ci}-label">${hx(t)}</span>`:(s+=`<span class="${Ci}-label">${hx(e)}</span>`,s+=" ",s+=`<span class="${Ci}-value">${hx(t)}</span>`);const i=[`${Ci}-row`];return n&&i.push(`${Ci}-row--inline`),s=`<div class="${i.join(" ")}">${s}</div>`,s}function oPe(e){let t="";if(e.data?.length&&e.data.every(i=>i.value==null||i.value===""))return t;const n=e.title==null&&e.data?.length===1,s=e.symbol==null?void 0:tX(e.symbol,12);return s!=null&&(e.title!=null||e.data?.length)&&(t+=`<span class="${Ci}-symbol">${s}</span>`),e.title!=null&&(t+=`<span class="${Ci}-title">${hx(ao(e.title))}</span>`,t+=" "),e.data?.forEach(i=>{t+=tk(i.label??i.fallbackLabel,i.value,n),t+=" "}),t}function rX(e,t){if(e==null||t.length===1)return;const n=e?.t("tooltipPaginationStatus",{index:t.index+1,count:t.length});return`<div class="${Ci}-footer">${n}</div>`}function p$(e,t,n,s){const i=t.items.length===1?t.items[0]:void 0;let r,a,o;switch(n){case"compact":r=!0,a=ao(i?.title);break;case"single":r=i!=null&&(t.heading==null||i.title==null)&&i.data?.length===1&&i.data[0].label==null&&i.data[0].value!=null,o=ao(t.heading??i?.title);break;case"shared":r=!1}let c="";if(r&&i!=null?(a!=null&&(c+=tk(void 0,a,!1)),i.data?.forEach(h=>{c+=tk(h.label??o,h.value,!1),c+=" "})):(t.heading!=null&&(c+=`<span class="${Ci}-heading">${hx(ao(t.heading))}</span>`,c+=" "),t.items.forEach(h=>{c+=oPe(h)})),c.length===0)return;const u=n!=="compact"&&s!=null?rX(e,s):void 0;return u+null&&(c+=u),c=`<div class="${Ci}-content">${c.trimEnd()}</div>`,c}function lPe(e,t){const n=t==null?void 0:rX(e,t);return n==null?"":`<div class="${Ci}-content">${n}</div>`}function aX(e,t,n,s){const i=sX(t);if(i.length!==0){if(i.length===1&&i[0].type==="structured")return p$(e,i[0],n,s);{const r=i.map(a=>a.type==="structured"?p$(e,a,n):a.rawHtmlString);return s!=null&&r.push(lPe(e,s)??""),r.join("")}}}var cPe={left:-1,"top-left":-1,"bottom-left":-1,top:0,center:0,bottom:0,right:1,"top-right":1,"bottom-right":1},uPe={"top-left":-1,top:-1,"top-right":-1,left:0,center:0,right:0,"bottom-left":1,bottom:1,"bottom-right":1},dPe={left:3,"top-left":void 0,"bottom-left":void 0,top:2,center:void 0,bottom:1,right:0,"top-right":void 0,"bottom-right":void 0},g$={top:2,bottom:2,left:1,right:1,"top-right":3,"top-left":3,"bottom-right":3,"bottom-left":3,center:0},hPe={pointer:"top",node:"top",chart:"top-left"},wf=class extends mt{constructor(){super(...arguments),this.xOffset=0,this.yOffset=0}};D([O],wf.prototype,"xOffset",2);D([O],wf.prototype,"yOffset",2);D([O],wf.prototype,"anchorTo",2);D([O],wf.prototype,"placement",2);var vo=class extends mt{constructor(){super(),this.enabled=!0,this.mode="single",this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new wf,this.pagination=!1,this.darkTheme=!1,this.bounds="extended",this.cleanup=new Cs,this.springAnimation=new rPe,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.sizeMonitor=new CZ,this._elementSize=void 0,this._showTimeout=void 0,this.arrowPosition=void 0,this._visible=!1,this.positionParams=void 0,this.localeManager=void 0,this.cleanup.register(this.springAnimation.events.on("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(e,t){return"togglePopover"in Nn().HTMLElement.prototype&&(this.element=t.addChild("tooltip-container",Ci),this.element.setAttribute("popover","manual"),this.element.className=Ci,this.element.style.positionAnchor=t.anchorName,this.sizeMonitor.observe(this.element,n=>{this._elementSize=n,this.updateTooltipPosition()})),this.localeManager=e,()=>{t.removeChild("tooltip-container",Ci),this.cleanup.flush(),this.element&&this.sizeMonitor.unobserve(this.element)}}isVisible(){return this._visible}contains(e){return this.element?.contains(e)??!1}updateTooltipPosition(){const{element:e,_elementSize:t,positionParams:n}=this;if(e==null||t==null||n==null)return;const{canvasRect:s,relativeRect:i,meta:r}=n,{x:a,y:o}=this.springAnimation,c=r.position?.anchorTo??"pointer";let u=r.position?.placement??hPe[c];Array.isArray(u)||(u=[u]);const h=r.position?.xOffset??0,f=r.position?.yOffset??0,g=i.x,m=i.y,y=i.width-t.width-1+g,b=i.height-t.height+m;let S=0,C,M,N=!1;do{C=u[S],S+=1;const I=this.getTooltipBounds({elementSize:t,placement:C,anchorTo:c,canvasX:a,canvasY:o,yOffset:f,xOffset:h,canvasRect:s});M=eX(t.width,t.height,i,I),N=!1,g$[C]&1&&(N||(N=M.x<g||M.x>y)),g$[C]&2&&(N||(N=M.y<m||M.y>b))}while(S<u.length&&N);const T=wt(g,M.x,y),E=wt(m,M.y,b);N||(N=T!==M.x||E!==M.y);const k=c!=="chart"&&!N&&!h&&!f,L=r.showArrow??this.showArrow??k;this.arrowPosition=L?dPe[C]:void 0,this.updateClassModifiers(),e.style.translate=`${T}px ${E}px`}show(e,t,n,s,i,r=!1){const{element:a}=this;if(a!=null&&s!=null&&s.length!==0){const u=aX(this.localeManager,s,this.mode,this.pagination?i:void 0);if(u==null){this.toggle(!1);return}a.innerHTML=u}else if(a==null||a.innerHTML===""){this.toggle(!1);return}const o={x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height};switch(this.positionParams={canvasRect:t,relativeRect:o,meta:n},n.position?.anchorTo??"pointer"){case"node":this.springAnimation.update(n.nodeCanvasX??n.canvasX,n.nodeCanvasY??n.canvasY);break;case"pointer":this.springAnimation.update(n.canvasX,n.canvasY);break;case"chart":this.springAnimation.reset()}n.enableInteraction?(this.enableInteraction=!0,a.style.pointerEvents="auto",a.removeAttribute("aria-hidden"),a.tabIndex=-1):(this.enableInteraction=!1,a.style.pointerEvents="none",a.setAttribute("aria-hidden","true"),a.removeAttribute("tabindex")),a.style.setProperty("--top",`${t.top}px`),a.style.setProperty("--left",`${t.left}px`),this.updateClassModifiers(),this.toggle(!0,r)}hide(){this.toggle(!1)}maybeEnterInteractiveTooltip({relatedTarget:e},t){const{interactive:n,interactiveLeave:s,enabled:i,element:r}=this;if(r==null)return!1;if(s)return!0;const a=n&&i&&this.isVisible()&&e instanceof Node&&this.contains(e);return a&&(this.interactiveLeave={callback:t,listener:o=>{(o.relatedTarget==null||o.relatedTarget instanceof Node&&!this.contains(o.relatedTarget))&&this.popInteractiveLeaveCallback()}},r.addEventListener("focusout",this.interactiveLeave.listener),r.addEventListener("mouseout",this.interactiveLeave.listener)),a}popInteractiveLeaveCallback(){const{interactiveLeave:e,element:t}=this;this.interactiveLeave=void 0,e&&(t&&(t.removeEventListener("focusout",e.listener),t.removeEventListener("mouseout",e.listener)),e.callback())}toggle(e,t=!1){const{delay:n}=this;e&&n>0&&!t?this._showTimeout??(this._showTimeout=setTimeout(()=>{this._showTimeout=void 0,this.toggleCallback(!0)},n)):(clearTimeout(this._showTimeout),this._showTimeout=void 0,this.toggleCallback(e))}toggleCallback(e){this.element?.isConnected&&this._visible!==e&&(this._visible=e,this.element.togglePopover(e),e?this.updateTooltipPosition():(this.springAnimation.reset(),this.popInteractiveLeaveCallback()))}updateClassModifiers(){if(!this.element?.isConnected)return;const{classList:e}=this.element,t=(n,s)=>e.toggle(`${Ci}--${n}`,s);t("no-interaction",!this.enableInteraction),t("arrow-top",this.arrowPosition===1),t("arrow-right",this.arrowPosition===3),t("arrow-bottom",this.arrowPosition===2),t("arrow-left",this.arrowPosition===0),t("compact",this.mode==="compact"),e.toggle(nX,this.darkTheme);for(const n of this.wrapTypes)e.toggle(`${Ci}--wrap-${n}`,n===this.wrapping)}getTooltipBounds(e){const{elementSize:t,anchorTo:n,placement:s,canvasX:i,canvasY:r,yOffset:a,xOffset:o,canvasRect:c}=e,{width:u,height:h}=t,f={width:u,height:h};if(n==="node"||n==="pointer"){const g=cPe[s],m=uPe[s];return f.top=r+a+h*(m-1)/2+8*m,f.left=i+o+u*(g-1)/2+8*g,f}switch(s){case"top":return f.top=a,f.left=c.width/2-u/2+o,f;case"right":return f.top=c.height/2-h/2+a,f.left=c.width-u+o,f;case"left":return f.top=c.height/2-h/2+a,f.left=o,f;case"bottom":return f.top=c.height-h+a,f.left=c.width/2-u/2+o,f;case"top-left":return f.top=a,f.left=o,f;case"top-right":return f.top=a,f.left=c.width-u+o,f;case"bottom-right":return f.top=c.height-h+a,f.left=c.width-u+o,f;case"bottom-left":return f.top=c.height-h+a,f.left=o,f}return f}};D([O],vo.prototype,"enabled",2);D([O],vo.prototype,"mode",2);D([O],vo.prototype,"showArrow",2);D([O],vo.prototype,"delay",2);D([O],vo.prototype,"range",2);D([O],vo.prototype,"wrapping",2);D([O],vo.prototype,"position",2);D([O],vo.prototype,"pagination",2);D([O],vo.prototype,"darkTheme",2);D([O],vo.prototype,"bounds",2);function nk(e,t){return e.series===t.series&&Cr(e.datumIndex,t.datumIndex)}var fPe=class{constructor(){this.candidates=[]}get current(){return this.active}reset(){this.candidates.length=0,this.active=void 0}update(e,t){this.candidates=e;let n=t!=null?e.findIndex(s=>nk(s,t)):-1;return n===-1&&(n=0),this.active=e[n],{current:this.active,index:n,length:e.length}}next(){const{candidates:e,active:t}=this,n=t==null?-1:e.findIndex(i=>nk(i,t));if(n===-1)return;let s=n+1;return s>=e.length&&(s=0),this.active=e[s],{current:this.active,index:s,length:this.candidates.length}}},pPe=class extends AO{constructor(e){super(),this.chart=e,this.id=Xo(this),this.series=[],this.announceMode="when-changed",this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.cachedTooltipContent=void 0,this.hoverScheduler=Y3e(()=>{if(!(!this.tooltip.lastHover&&!this.highlight.pendingHoverEvent)){if(this.chart.getUpdateType()<=5){this.hoverScheduler.schedule();return}this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)}}),this.tooltipCandidates=new fPe;const t=e.ctx.localeManager.t("ariaInitSeriesArea"),n=e.ctx.domManager.addChild("series-area","series-area-aria-label1"),s=e.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new Q_e(n,s,"img",t),this.swapChain.addListener("blur",o=>this.onBlur(o)),this.swapChain.addListener("focus",()=>this.onFocus()),e.ctx.domManager.mode==="normal"&&(this.focusIndicator=new Z_e(this.swapChain),this.focusIndicator.overrideFocusVisible(e.mode==="integrated"?!1:void 0));const{seriesDragInterpreter:i,seriesWidget:r,containerWidget:a}=e.ctx.widgets;r.setTabIndex(-1),this.cleanup.register(()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label2"),r.addListener("focus",()=>this.swapChain.focus({preventScroll:!0})),r.addListener("mousemove",o=>this.onHover(o,r)),r.addListener("wheel",o=>this.onWheel(o)),r.addListener("mouseleave",o=>this.onLeave(o)),r.addListener("keydown",o=>this.onKeyDown(o)),r.addListener("contextmenu",(o,c)=>this.onContextMenu(o,c)),a.addListener("contextmenu",(o,c)=>this.onContextMenu(o,c)),a.addListener("click",(o,c)=>this.onClick(o,c)),a.addListener("dblclick",(o,c)=>this.onClick(o,c)),e.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),e.ctx.eventsHub.on("dom:resize",()=>this.clearAll()),e.ctx.eventsHub.on("highlight:change",o=>this.changeHighlightDatum(o)),e.ctx.eventsHub.on("layout:complete",o=>this.layoutComplete(o)),e.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),e.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),e.ctx.eventsHub.on("zoom:change",()=>this.clearAll()),e.ctx.eventsHub.on("zoom:pan-start",()=>this.clearAll())),i&&this.cleanup.register(i.events.on("drag-move",o=>this.onDragMove(o,r)),i.events.on("click",o=>this.onClick(o,r)),i.events.on("dblclick",o=>this.onClick(o,r)))}get bbox(){return(this.seriesRect??Pe.zero).clone()}isState(e){return this.chart.ctx.interactionManager.isState(e)}isIgnoredTouch(e){return!(e.device!=="touch"||e.type==="click"||this.chart.ctx.chartService.touch.dragAction==="hover"||this.chart.ctx.chartService.touch.dragAction==="drag"&&this.isState(9))}dataChanged(){var e;this.cachedTooltipContent=void 0,this.highlight.appliedHoverEvent&&((e=this.highlight).stashedHoverEvent??(e.stashedHoverEvent=this.highlight.appliedHoverEvent),this.clearHighlight()),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.focusIndicator?.clear()}preSceneRender(){this.highlight.stashedHoverEvent!=null&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),this.tooltip.lastHover!=null&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){this.isState(34)&&this.focusIndicator?.isFocusVisible()&&(this.announceMode!=="always"&&(this.announceMode="never"),this.handleFocus(0,0))}update(e,t){this.chart.ctx.updateService.update(e,t)}seriesChanged(e){this.focus.sortedSeries=[...e].sort((t,n)=>{let s=t.properties.focusPriority??1/0,i=n.properties.focusPriority??1/0;return s===i&&([s,i]=[t.declarationOrder,n.declarationOrder]),s<i?-1:s>i?1:0}),this.series=e}layoutComplete(e){this.seriesRect=e.series.rect,this.hoverRect=e.series.rect,this.chart.ctx.widgets.seriesWidget.setBounds(e.series.rect),this.chart.ctx.domManager.mode==="normal"&&this.chart.ctx.widgets.chartWidget.setBounds(e.chart)}onContextMenu(e,t){const{sourceEvent:n}=e;if(n.currentTarget!=t.getElement())return;if(n.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){const{currentX:u,currentY:h}=e;this.chart.ctx.contextMenuRegistry.dispatchContext("always",{widgetEvent:e,canvasX:u,canvasY:h},void 0)}return}let s,i;if(this.focusIndicator?.isFocusVisible())s=this.chart.ctx.highlightManager.getActiveHighlight(),s&&this.seriesRect&&s.midPoint&&(i=vs.toCanvasPoint(s.series.contentGroup,s.midPoint.x,s.midPoint.y));else if(this.isState(36)){const u=this.pickNodes({x:e.currentX,y:e.currentY},"context-menu");u&&(this.chart.ctx.highlightManager.updateHighlight(this.id),s=u.matches[0].datum)}const r=s?.series;this.clearAll();const a=e.currentX+t.cssLeft(),o=e.currentY+t.cssTop(),{datumIndex:c}=s??{};r&&s&&c!=null?this.chart.ctx.contextMenuRegistry.dispatchContext("series-node",{widgetEvent:e,canvasX:a,canvasY:o},{pickedSeries:r,pickedNode:{...s,datumIndex:c}},i):this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{widgetEvent:e,canvasX:a,canvasY:o},void 0,i)}onLeave(e){!this.isState(41)||e.sourceEvent.relatedTarget?.className==="ag-charts-text-input__textarea"||this.maybeEnterInteractiveTooltip(e.sourceEvent)||(this.chart.ctx.domManager.updateCursor(this.id),this.hoverDevice!=="keyboard"&&this.clearAll())}onWheel(e){this.isState(41)&&(this.focusIndicator?.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(e,t){this.isState(41)&&(this.focusIndicator?.overrideFocusVisible(!1),this.onHoverLikeEvent(e,t))}onHover(e,t){this.isState(41)&&this.onHoverLikeEvent(e,t)}onHoverLikeEvent(e,t){if(!this.isIgnoredTouch(e)&&(e.device==="touch"&&this.chart.ctx.chartService.touch.dragAction==="hover"&&e.sourceEvent.preventDefault(),t===this.chart.ctx.widgets.seriesWidget&&((e.device==="touch"||gPe(e,"drag-move"))&&(this.tooltip.lastHover=e),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=e,this.hoverScheduler.schedule(),this.isState(32)))){const{currentX:n,currentY:s}=e,i=this.pickNodes({x:n,y:s},"event")?.matches,r=i?.[0];r?.series.hasEventListener("seriesNodeClick")||r?.series.hasEventListener("seriesNodeDoubleClick")||i!=null&&i.length>1&&this.chart.tooltip.pagination?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(e,t){if(e.device==="keyboard"||(t===this.chart.ctx.widgets.seriesWidget&&this.chart.ctx.animationManager.isActive()&&this.chart.ctx.animationManager.skipCurrentBatch(),e.device==="touch"&&t===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41)))return;if(t===this.chart.ctx.widgets.seriesWidget){if(!t.getElement().contains(e.sourceEvent.target))return}else if(e.sourceEvent.target!=t.getElement())return;if(this.focusIndicator?.overrideFocusVisible(!1),this.onHoverLikeEvent(e,t),!this.isState(32))return;if(t==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(e)){this.update(5),e.sourceEvent.preventDefault();return}const n={type:e.type==="click"?"click":"doubleClick",event:e.sourceEvent};this.chart.fireEvent(n)}onFocus(){this.isState(34)&&(this.hoverDevice=this.focusIndicator?.isFocusVisible(!0)?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(e){this.isState(34)&&(this.hoverDevice="pointer",this.maybeEnterInteractiveTooltip(e)||this.clearAll(),this.focusIndicator?.overrideFocusVisible(void 0))}onKeyDown(e){if(!this.isState(43))return;const t=ePe(e.sourceEvent);switch(t?.activatesFocusIndicator===!1&&this.focusIndicator?.overrideFocusVisible(this.previousInputDevice==="keyboard"),t?.name){case"redo":return this.chart.ctx.eventsHub.emit("series:redo",null);case"undo":return this.chart.ctx.eventsHub.emit("series:undo",null);case"zoomin":return this.chart.ctx.eventsHub.emit("series:keynav-zoom",{delta:1,widgetEvent:e});case"zoomout":return this.chart.ctx.eventsHub.emit("series:keynav-zoom",{delta:-1,widgetEvent:e});case"arrowup":return this.onArrow(-1,0,e);case"arrowdown":return this.onArrow(1,0,e);case"arrowleft":return this.onArrow(0,-1,e);case"arrowright":return this.onArrow(0,1,e);case"submit":return this.onSubmit(e)}}onArrow(e,t,n){this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",this.focusIndicator?.overrideFocusVisible(!0),this.focus.seriesIndex+=e,this.focus.datumIndex+=t,this.handleFocus(e,t),n.sourceEvent.preventDefault(),this.chart.ctx.eventsHub.emit("series:focus-change",null))}onSubmit(e){if(!this.isState(34))return;const{series:t,datum:n}=this.focus,s=e.sourceEvent;t!=null&&n!=null?t.fireNodeClickEvent(s,n):this.chart.fireEvent({type:"click",event:s}),s.preventDefault()}checkSeriesNodeClick(e){var t;const n=this.pickNodes({x:e.currentX,y:e.currentY},"event");if(n==null||n.matches.length===0)return;const s=this.chart.tooltip.pagination?this.tooltipCandidates.update(n.matches,this.tooltipCandidates.current)?.current:void 0,{series:i,datum:r}=s??n.matches[0],a=s==null?n.distance:0;if(e.type==="click"){const c=i.fireNodeClickEvent(e.sourceEvent,r)&&this.chart.tooltip.pagination?this.tooltipCandidates.next():void 0;if(c!=null){e.sourceEvent.preventDefault();const{currentX:u,currentY:h}=e,f=u+(this.hoverRect?.x??0),g=h+(this.hoverRect?.y??0);(t=this.highlight).pendingHoverEvent??(t.pendingHoverEvent=this.highlight.appliedHoverEvent),this.handleHoverHighlight(!1),this.showTooltip(c.current,f,g,{index:c.index,length:c.length})}return!0}return e.type==="dblclick"?(e.preventZoomDblClick=a===0,i.fireNodeDoubleClickEvent(e.sourceEvent,r),!0):!1}handleFocus(e,t){const n=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);n==null?this.handleSeriesFocus(e,t)===0?this.announceMode="when-changed":this.announceMode="always":(this.focusIndicator?.update(n.rect,this.seriesRect,!1),this.swapChain.update(n.text),this.announceMode="always")}handleSeriesFocus(e,t){if(this.chart.chartType==="standalone")return this.handleSoloSeriesFocus(e,t);const{focus:n}=this,s=n.sortedSeries.filter(c=>c.visible&&c.focusable);if(s.length===0)return 1;const i=n.datumIndex-t,r=n.seriesIndex-e;n.seriesIndex=wt(0,n.seriesIndex,s.length-1),n.series=s[n.seriesIndex];const a=this.focus.datumIndex,o=this.focus.seriesIndex;return this.updatePickedFocus(a,t,i,o,e,r)}handleSoloSeriesFocus(e,t){this.focus.series=this.focus.sortedSeries[0];const n=this.focus.datumIndex,s=this.focus.seriesIndex,i=this.focus.datumIndex-t,r=this.focus.seriesIndex-e;return this.updatePickedFocus(n,t,i,s,e,r)}updatePickedFocus(e,t,n,s,i,r){const{focus:a,hoverRect:o,seriesRect:c}=this;if(a.series==null||o==null)return 1;const u=a?.series?.pickFocus({datumIndex:e,datumIndexDelta:t,otherIndex:s,otherIndexDelta:i,seriesRect:c});if(!u)return 2;const{datum:h}=u;if(a.datum=h,a.datumIndex=u.datumIndex,u.otherIndex!=null&&(a.seriesIndex=u.otherIndex),this.focusIndicator?.isFocusVisible()){this.chart.ctx.animationManager.reset();const m=nPe(u),{x:y,y:b}=m.computeCenter();if(!o.containsPoint(y,b)&&this.chart.ctx.zoomManager.panToBBox(this.id,o,m))return 3;const{x1:S,x2:C,y1:M,y2:N}=a0.from(m),T=o.containsPoint(S,M),E=o.containsPoint(C,M),k=o.containsPoint(S,N),L=o.containsPoint(C,N);if(!(T||E||k||L)){const I=a0.from(o);u.movedBounds=m.clone(),S<I.x1&&C<I.x1?(u.movedBounds.x=I.x1-2,u.movedBounds.width=4):S>I.x2&&C>I.x2&&(u.movedBounds.x=I.x2-2,u.movedBounds.width=4),M<I.y1&&N<I.y1?(u.movedBounds.y=I.y1-2,u.movedBounds.height=4):M>I.y2&&N>I.y2&&(u.movedBounds.y=I.y2-2,u.movedBounds.height=4)}}this.focusIndicator?.update(u.movedBounds??u.bounds,this.seriesRect,u.clipFocusBox);const f=this.getTooltipContent(a.series,h.datumIndex,h,"aria-label"),g=sPe(a.series,o,u);if(g!=null&&this.hoverDevice==="keyboard"){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const m=Lw.makeTooltipMeta(g,a.series,h,u.movedBounds);this.chart.ctx.highlightManager.updateHighlight(this.id,h),this.isTooltipEnabled(a.series)&&this.chart.ctx.tooltipManager.updateTooltip(this.id,m,f)}return this.maybeAnnouncePickedFocus(t,n,i,r,u,f),0}maybeAnnouncePickedFocus(e,t,n,s,i,r){const{focus:a}=this;let o;this.announceMode==="when-changed"?e===0&&n===0||t!==i.datumIndex||s!==(i.otherIndex??a.seriesIndex)?o="always":o="never":o=this.announceMode,o==="always"&&this.swapChain.update(this.getDatumAriaText(i.datum,r))}getDatumAriaText(e,t){const n=t==null?"":iX(t);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:e.series.getDatumAriaText?.(e,n)??n})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.focusIndicator?.clear()}handleHoverHighlight(e){this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const t=this.highlight.appliedHoverEvent;if(!t||!this.isState(41))return;const{currentX:n,currentY:s}=t,i=t.currentX+(this.hoverRect?.x??0),r=t.currentY+(this.hoverRect?.y??0);if(e?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(i,r)){this.clearHighlight();return}const{range:a}=this.chart.highlight,o=a==="tooltip"?"highlight-tooltip":"highlight",c=this.pickNodes({x:n,y:s},o);if(!c||c.matches.length===0){this.chart.ctx.highlightManager.updateHighlight(this.id);return}const{current:u}=this.tooltipCandidates,f=(u==null?void 0:c.matches.find(g=>nk(g,u)))?.datum??c.matches[0].datum;this.chart.ctx.highlightManager.updateHighlight(this.id,f),this.hoverDevice="pointer"}handleHoverTooltip(e,t){const{current:n}=this.tooltipCandidates;if(this.tooltipCandidates.reset(),!this.isState(41))return;const{currentX:s,currentY:i}=e,r=s+(this.hoverRect?.x??0),a=i+(this.hoverRect?.y??0),o=e.sourceEvent.target;if(t?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(r,a)){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(o&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(o,"canvas-overlay",Ci))return;const c=this.pickNodes({x:e.currentX,y:e.currentY},"tooltip");if(!c||c.matches.length===0){this.hoverDevice=="pointer"&&this.clearTooltip();return}if(this.hoverDevice="pointer",c.distance===0){const{current:u,index:h,length:f}=this.tooltipCandidates.update(c.matches,this.chart.tooltip.pagination?n:void 0);this.showTooltip(u,r,a,{index:h,length:f})}else this.showTooltip(c.matches[0],r,a)}showTooltip({series:e,datum:t,datumIndex:n},s,i,r){const a=this.getTooltipContent(e,n,t,"tooltip");if(a!=null){const c=Lw.makeTooltipMeta({type:"pointermove",canvasX:s,canvasY:i},e,t,void 0);this.chart.ctx.tooltipManager.updateTooltip(this.id,c,a,r)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}maybeEnterInteractiveTooltip(e){return this.chart.tooltip.maybeEnterInteractiveTooltip(e,()=>{this.tooltip.lastHover=void 0,this.chart.ctx.tooltipManager.removeTooltip(this.id),this.chart.ctx.highlightManager.updateHighlight(this.id)})}changeHighlightDatum(e){const t=e.previousHighlight?.series,n=e.currentHighlight?.series;t?.properties.cursor&&e.previousHighlight?.datum&&this.chart.ctx.domManager.updateCursor(t.id),n?.properties.cursor&&n.properties.cursor!=="default"&&e.currentHighlight?.datum&&this.chart.ctx.domManager.updateCursor(n.id,n.properties.cursor),n==null||t==null?this.update(5,{clearCallbackCache:!0}):this.update(5,{seriesToUpdate:new Set([t,n].filter(Boolean)),clearCallbackCache:!0})}pickNodes(e,t,n){const s=[...this.series].reverse();let i;for(const r of s){if(!r.visible||!r.contentGroup.visible)continue;const a=r.pickNodes(e,t,n);if(a==null||a.datums.length===0)continue;const{datums:o,distance:c}=a;if(a.datums.length!==0){if(c===0){i?.distance!==0&&(i={matches:[],distance:0});for(const u of o){const{datumIndex:h}=u;i.matches.push({series:r,datum:u,datumIndex:h})}}else if(i==null||i.distance>c){const[u]=o,{datumIndex:h}=u;i={matches:[{series:r,datum:u,datumIndex:h}],distance:c}}}}return i}isTooltipEnabled(e){return e.tooltipEnabled??this.chart.tooltip.enabled}getTooltipContent(e,t,n,s){let i;if(s==="aria-label"||this.isTooltipEnabled(e)){const{cachedTooltipContent:r}=this;if(r!=null&&r.series===e&&r.datumIndex===t)i=r.content;else{const a=this.chart.getTooltipContent(e,t,n,s);this.cachedTooltipContent={series:e,datumIndex:t,content:a},i=a}}else this.cachedTooltipContent=void 0;return i}};function gPe(e,t){return e.type!==t}var m$=30,mPe=class{constructor(e){this.seriesRoot=e,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}getGroupIndex(e){const{internalId:t,seriesGrouping:n}=e;return n?.groupIndex??t}getGroupType(e,t){return t?"top":e.type}requestGroup(e){const{internalId:t,contentGroup:n}=e,s=e.bringToFront(),i=this.getGroupType(e,s),r=this.getGroupIndex(e),a=this.series.get(t);if(a!=null)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(a)}`);this.series.size===0&&(this.mode=this.expectedSeriesCount>=m$?"aggressive-grouping":"normal");let o=this.groups.get(i);o==null&&(o=new Map,this.groups.set(i,o));const c=this.lookupIdx(r);let u=o.get(c);return u==null&&(u={type:i,id:c,seriesIds:[],group:this.seriesRoot.appendChild(new Et({name:`${e.contentGroup.name??i}-managed-layer`,zIndex:e.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},o.set(c,u)),this.series.set(t,{layerState:u,seriesConfig:e,bringToFront:s}),u.seriesIds.push(t),u.group.appendChild(n),u.group}changeGroup(e){const{internalId:t,contentGroup:n}=e,s=e.bringToFront(),i=this.getGroupType(e,s),r=this.series.get(t),a=r?this.getGroupType(r.seriesConfig,r.bringToFront):void 0,o=this.getGroupIndex(e),c=this.lookupIdx(o),u=this.groups.get(i)?.get(c);if(!(a===i&&u?.seriesIds.includes(t)===!0))return this.series.has(t)&&this._releaseGroup({internalId:t,contentGroup:n,type:a}),this.requestGroup(e)}releaseGroup(e){const{internalId:t,contentGroup:n}=e,s=this.getGroupType(e,e.bringToFront());this._releaseGroup({internalId:t,contentGroup:n,type:s})}_releaseGroup(e){const{internalId:t,contentGroup:n,type:s}=e;if(!this.series.has(t))throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);const i=this.series.get(t)?.layerState;i&&(i.seriesIds=i.seriesIds.filter(r=>r!==t),i.group.removeChild(n)),i?.seriesIds.length===0?(this.seriesRoot.removeChild(i.group),this.groups.get(i.type)?.delete(i.id),this.groups.get(s)?.delete(t)):i!=null&&i.seriesIds.length>0&&(i.group.zIndex=this.getLowestSeriesZIndex(i.seriesIds)),this.series.delete(t)}updateLayerCompositing(){this.groups.forEach(e=>{e.forEach(t=>{const{group:n,seriesIds:s}=t;let i;s.length===0?i=!1:s.length>1?i=!0:i=this.series.get(s[0])?.seriesConfig.renderToOffscreenCanvas()===!0,n.renderToOffscreenCanvas=i,n.zIndex=this.getLowestSeriesZIndex(s)})})}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").at(-1)),!Number.isFinite(e))?0:Math.floor(wt(0,e/this.expectedSeriesCount,1)*m$)}destroy(){this.groups.forEach(e=>{e.forEach(t=>{this.seriesRoot.removeChild(t.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(e){let t;for(const n of e){const i=this.series.get(n)?.seriesConfig.contentGroup.zIndex??1;if(t==null||i==null){t=i;continue}t=Uq(t,i)<=0?t:i}return t??1}},oX=class extends mt{constructor(){super(...arguments),this.dragAction="drag"}};D([O],oX.prototype,"dragAction",2);var yPe=class{constructor(e,t,n,s,i,r){this.chart=e,this.eventsHub=t,this.dataService=n,this.updateService=s,this.zoomManager=i,this.animationManager=r,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.cleanup=new Cs,this.cleanup.register(this.eventsHub.on("data:source-change",()=>this.onDataSourceChange()),this.eventsHub.on("data:load",()=>this.onDataLoad()),this.eventsHub.on("data:error",()=>this.onDataError()),this.updateService.addListener("update-complete",a=>this.onUpdateComplete(a)),this.eventsHub.on("zoom:change",()=>this.onZoomChange()))}destroy(){this.cleanup.flush()}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(4)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(e){!e.apiUpdate&&!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow(e)}onZoomChange(){this.dirtyZoom=!0}updateWindow(e){if(!this.dataService.isLazy())return;const t=this.getValidAxis();let n,s=!0;if(t){const i=this.zoomManager.getAxisZoom(t.id);(i.min!==0||i.max!==1)&&(n=this.getAxisWindow(t,i)),s=this.shouldRefresh(e,t,i)}this.dirtyZoom=!1,this.dirtyDataSource=!1,s&&this.dataService.load({windowStart:n?.min,windowEnd:n?.max})}getValidAxis(){return this.chart.axes.find(e=>e.type==="time")}shouldRefresh(e,t,n){if(e.apiUpdate||this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const s=this.lastAxisZooms.get(t.id);return s&&n.min===s.min&&n.max===s.max?!1:(this.lastAxisZooms.set(t.id,n),!0)}getAxisWindow(e,t){const{domain:n}=e.scale;if(!t||n.length===0||isNaN(Number(n[0])))return;const s=Number(n[1])-Number(n[0]),i=new Date(Number(n[0])+s*t.min),r=new Date(Number(n[0])+s*t.max);return{min:i,max:r}}},xPe=/^((?!chrome|android).)*safari/i,bPe=/Version\/(\d+(\.\d+)?)/,vPe=/Chrome/,SPe=/Chrome\/(\d+)/,wPe=/Edg/,CPe=/OPR/;function MPe(){const{userAgent:e}=Nn("navigator");if(xPe.test(e)){const t=bPe.exec(e);if(t==null)return!1;const n=parseFloat(t[1]),s=Math.floor(n)>16;return s||Ne.warnOnce(`Unsupported Safari version: ${n}; ${e}`),!s}else if(vPe.test(e)&&!wPe.test(e)&&!CPe.test(e)){const t=SPe.exec(e);if(t==null)return!1;const n=parseInt(t[1],10),s=n>126;return s||Ne.warnOnce(`Unsupported Chrome version: ${n}; ${e}`),!s}return!1}var jPe=new Set(["map-shape-background","map-line-background"]),NPe=class{constructor(e,t,n,s,i,r,a){this.chartLike=e,this.overlays=t,this.eventsHub=n,this.dataService=s,this.localeManager=i,this.animationManager=r,this.domManager=a,this.cleanup=new Cs,this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(JD),this.cleanup.register(this.eventsHub.on("layout:complete",o=>this.onLayoutComplete(o)))}destroy(){this.cleanup.flush(),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:e}}){const t=this.dataService.isLoading(),n=this.chartLike.series.some(u=>u.hasData),s=this.chartLike.series.some(u=>u.visible&&!jPe.has(u.type));this.overlays.darkTheme?this.overlayElem.classList.add(c$):this.overlayElem.classList.remove(c$),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`;const i=t,r=!t&&!n,a=n&&!s,o=this.overlays.unsupportedBrowser.enabled&&MPe();i?this.showOverlay(this.overlays.loading,e):this.hideOverlay(this.overlays.loading),r?this.showOverlay(this.overlays.noData,e):this.hideOverlay(this.overlays.noData),a?this.showOverlay(this.overlays.noVisibleSeries,e):this.hideOverlay(this.overlays.noVisibleSeries),o?this.showOverlay(this.overlays.unsupportedBrowser,e):this.hideOverlay(this.overlays.unsupportedBrowser);const c=i||r||a||o;nn(this.overlayElem,"aria-hidden",!c)}showOverlay(e,t){if(!e.enabled)return;const n=e.getElement(this.chartLike,this.animationManager,this.localeManager,t);this.overlayElem.appendChild(n)}hideOverlay(e){e.removeElement(()=>{this.overlayElem.innerText=""},this.animationManager)}},Va=Dt.create(!0,"opts"),Ss=class lX extends lZ{constructor(t,n){var s;super(),this.id=Xo(this),this.seriesRoot=new Yi({name:`${this.id}-series-root`,zIndex:7}),this.annotationRoot=new Yi({name:`${this.id}-annotation-root`,zIndex:11}),this.titleGroup=new Et({name:"titles",zIndex:15}),this.debug=Dt.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new l9,this.chartCaptions=new X2,this.padding=new xf(20),this.keyboard=new GO,this.touch=new oX,this.mode="standalone",this.styleNonce=void 0,this.formatter=void 0,this.suppressFieldDotNotation=!1,this.loadGoogleFonts=!1,this.destroyed=!1,this.cleanup=new Cs,this.chartAnimationPhase="initial",this.modulesManager=new W_e,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this.syncStatus="init",this.fireEventWrapper=h=>super.fireEvent(h),this.apiUpdate=!1,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new l9,this.performUpdateType=8,this.runningUpdateType=8,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new G3e,this.clearCallbackCacheOnUpdate=!1,this.updateRequestors={},this.performUpdateTrigger=K3e(({count:h})=>{this.destroyed||this.updateMutex.acquire(async()=>{try{await this.performUpdate(h)}catch(f){Ne.error("update error",f,f.stack)}}).catch(f=>Ne.errorOnce(f))}),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=h=>{this.fireEvent(h)},this.onSeriesNodeDoubleClick=h=>{this.fireEvent(h)},this.onSeriesVisibilityChange=h=>{this.fireEvent(h)},this.seriesGroupingChanged=h=>{if(!(h instanceof Fw))return;const{series:f,seriesGrouping:g}=h;if(f.contentGroup.isRoot())return;const m=this.seriesLayerManager.changeGroup({internalId:f.internalId,type:f.type,contentGroup:f.contentGroup,bringToFront:()=>f.bringToFront(),renderToOffscreenCanvas:()=>f.renderToOffscreenCanvas(),seriesGrouping:g});m!=null&&f.attachSeries(m,this.seriesRoot,this.annotationRoot)},this.chartOptions=t;const i=n?.scene,r=n?.container??t.processedOptions.container??void 0,a=n?.styleContainer??t.specialOverrides.styleContainer;i&&(this._firstAutoSize=!1,this._lastAutoSize=[i.width,i.height,i.pixelRatio]);const o=new Et({name:"root"});o.visible=!1,o.append(this.seriesRoot),o.append(this.annotationRoot),o.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new vo,this.seriesLayerManager=new mPe(this.seriesRoot),this.mode=t.userOptions.mode??this.mode,this.styleNonce=t.processedOptions.styleNonce;const c=this.ctx=new PRe(this,{chartType:this.getChartType(),scene:i,root:o,container:r,styleContainer:a,domMode:t.optionMetadata.domMode,withDragInterpretation:t.optionMetadata.withDragInterpretation??!0,syncManager:new a_e(this),fireEvent:h=>this.fireEvent(h),updateCallback:(h,f)=>this.update(h,f),updateMutex:this.updateMutex});this.cleanup.register(c.eventsHub.on("dom:resize",()=>this.parentResize(c.domManager.containerSize))),this.overlays=new lm,(s=this.overlays.loading).renderer??(s.renderer=()=>Y_e(this.overlays.loading.getText(c.localeManager),c.animationManager.defaultDuration)),this.processors=[new yPe(this,c.eventsHub,c.dataService,c.updateService,c.zoomManager,c.animationManager),new NPe(this,this.overlays,c.eventsHub,c.dataService,c.localeManager,c.animationManager,c.domManager)],this.highlight=new eQ,this.container=r;const u=this.getModuleContext();c.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new pPe(this.initSeriesAreaDependencies()),this.cleanup.register(c.layoutManager.registerElement(0,h=>{h.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(h)}),c.eventsHub.on("layout:complete",h=>this.chartCaptions.positionAbsoluteCaptions(h)),c.eventsHub.on("data:load",h=>{this.data=h.data}),this.title.registerInteraction(u,"beforebegin"),this.subtitle.registerInteraction(u,"beforebegin"),this.footnote.registerInteraction(u,"afterend"),Hl.addWindowEvent("page-left",()=>this.destroy()),c.animationManager.addListener("animation-frame",()=>{this.update(7)}),c.animationManager.addListener("animation-start",()=>c.domManager.setDataBoolean("animating",!0)),c.animationManager.addListener("animation-stop",()=>c.domManager.setDataBoolean("animating",!1)),c.eventsHub.on("zoom:change",()=>{this.series.forEach(f=>f.animationState?.transition("updateData"));const h=this.chartAnimationPhase!=="initial";this.update(4,{forceNodeDataRefresh:!0,skipAnimations:h})})),this.parentResize(c.domManager.containerSize)}static getInstance(t){return lX.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,n){this.ctx.scene.download(t,n)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}toSVG(){return this.ctx.scene.toSVG()}get seriesAreaBoundingBox(){return this.seriesAreaManager.bbox}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(t){this.seriesAreaManager.focusIndicator?.overrideFocusVisible(t)}fireEvent(t){Go(this,this.fireEventWrapper,t)}initSeriesAreaDependencies(){const{ctx:t,tooltip:n,highlight:s,overlays:i,seriesRoot:r,mode:a}=this,o=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,getTooltipContent:(f,g,m,y)=>this.getTooltipContent(f,g,m,y),chartType:o,ctx:t,tooltip:n,highlight:s,overlays:i,seriesRoot:r,mode:a}}getModuleContext(){return this.ctx}getTooltipContent(t,n,s,i){const a=i==="aria-label"||t.properties.tooltip.enabled!==!1?t.getTooltipContent(n,s):void 0,o=a==null?[]:[a];if(this.tooltip.mode!=="shared"||this.series.length===1)return o;const c=t.getCategoryValue(n);return c==null?o:this.series.flatMap(u=>{if(u===t)return o;if(!u.isEnabled()||u.properties.tooltip.enabled===!1)return[];const h=u.datumIndexForCategoryValue(c),f=h==null?void 0:u.getTooltipContent(h,void 0);return f==null?[]:[f]})}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(t=>t.enabled&&t.text).map(t=>t.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const t of this.series)t.resetAnimation(this.chartAnimationPhase);for(const t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clearCanvas()}destroy(t){if(this.destroyed)return;const n=t?.keepTransferableResources;let s;return this.performUpdateType=8,this.cleanup.flush(),this.processors.forEach(i=>i.destroy()),this.overlays.destroy(),this.modulesManager.destroy(),n?(this.ctx.scene.strip(),s={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(i=>i.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),s}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(async()=>{if(!this.destroyed)try{await t(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}}).catch(n=>Ne.errorOnce(n)))}clearCallbackCache(){this.ctx.callbackCache.invalidateCache();for(const t of this.series)t.resetDatumCallbackCache()}update(t=0,n){if(this.destroyed)return;const{forceNodeDataRefresh:s=!1,skipAnimations:i,seriesToUpdate:r=this.series,newAnimationBatch:a,apiUpdate:o=!1,clearCallbackCache:c=!1}=n??{};this.apiUpdate=o,this.ctx.widgets.seriesWidget.setDragTouchEnabled(this.touch.dragAction!=="none"),s&&this.series.forEach(u=>u.markNodeDataDirty());for(const u of r)this.seriesToUpdate.add(u);if(i&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),a&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),(t===0||c)&&(this.clearCallbackCacheOnUpdate=!0),this.debug.check()){let u=new Error().stack??"<unknown>";u=u.replace(/\([^)]*/g,""),this.updateRequestors[u]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(n?.backOffMs))}async performUpdate(t){const{performUpdateType:n,extraDebugStats:s,_performUpdateSplits:i,ctx:r}=this,a=[...this.seriesToUpdate];this.clearCallbackCacheOnUpdate&&(this.clearCallbackCacheOnUpdate=!1,this.clearCallbackCache()),this.performUpdateType=8,this.seriesToUpdate.clear(),this.runningUpdateType=n,this.updateShortcutCount===0&&n<7&&(r.animationManager.startBatch(this._performUpdateSkipAnimations),r.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.ctx.scene.updateDebugFlags(),this.debug("Chart.performUpdate() - start",dx[n]);let o=performance.now();i.start??(i.start=o);const c=h=>{i[h]??(i[h]=0),i[h]+=performance.now()-o,o=performance.now()};switch(n){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;await this.updateData(),c("");case 2:if(this.checkUpdateShortcut(2))break;await this.processData(),this.seriesAreaManager.dataChanged(),c("");case 3:if(this.checkUpdateShortcut(3))break;await this.processDomains(),c("");case 4:if(await this.checkFirstAutoSize(),this.checkUpdateShortcut(4))break;await this.processLayout(),c("");case 5:{if(this.checkUpdateShortcut(5))break;await this.updateSeries(a),c(""),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing()}case 6:if(this.checkUpdateShortcut(6))break;r.updateService.dispatchPreSceneRender(),c("");case 7:if(this.checkUpdateShortcut(7))break;r.animationManager.endBatch(),s.updateShortcutCount=this.updateShortcutCount,r.scene.render({debugSplitTimes:i,extraDebugStats:s,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const h of Object.keys(i))delete i[h];this.ctx.domManager.incrementDataCounter("sceneRenders"),this.ctx.domManager.postRenderUpdate();case 8:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,r.animationManager.endBatch()}this.destroyed||(r.updateService.dispatchUpdateComplete(this.apiUpdate),this.apiUpdate=!1,this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=8,this.syncStatus="ready"),this._performUpdateNotify.notify();const u=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((u-i.start)*100)/100,count:t,performUpdateType:dx[n]})}updateThemeClassName(){const t="ag-charts-theme-",n=[`${t}default`,`${t}default-dark`];let s=n[0],i=!1,{theme:r}=this.chartOptions.processedOptions;for(;typeof r!="string"&&r!=null;)r=r.baseTheme;typeof r=="string"&&(s=r.replace("ag-",t),i=r.includes("-dark")),n.includes(s)||(s=i?n[1]:n[0]),this.ctx.domManager.setThemeClass(s)}updateDOM(){this.updateThemeClassName();const{enabled:t,tabIndex:n}=this.keyboard;this.ctx.domManager.setTabGuardIndex(t?n??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(t){return this.destroyed?!0:this.updateShortcutCount>3?(Ne.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}async checkFirstAutoSize(){this.width!=null&&this.height!=null||this._lastAutoSize||await this._autoSizeNotify.await(500)||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}onAxisChange(t,n){n==null&&t.length===0||this.ctx.axisManager.updateAxes(n??[],t)}onSeriesChange(t,n){const s=n?.filter(i=>!t.includes(i))??[];this.destroySeries(s),this.seriesLayerManager?.setSeriesCount(t.length);for(const i of t){if(n?.includes(i))continue;const r=this.seriesLayerManager.requestGroup(i);i.attachSeries(r,this.seriesRoot,this.annotationRoot);const a=this;i.chart={get mode(){return a.mode},get isMiniChart(){return!1},get seriesRect(){return a.seriesRect}},i.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(i),i.addChartEventListeners()}this.seriesAreaManager?.seriesChanged(t)}destroySeries(t){t?.forEach(n=>{n.removeEventListener("seriesNodeClick",this.onSeriesNodeClick),n.removeEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),n.removeEventListener("groupingChanged",this.seriesGroupingChanged),n.destroy(),this.seriesLayerManager.releaseGroup(n),n.detachSeries(void 0,this.seriesRoot,this.annotationRoot),n.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("seriesNodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&t.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const t of this.axes)t.boundSeries=this.series.filter(n=>n.axes[t.direction]===t)}assignAxesToSeries(){const t=uO(this.axes,n=>n.direction);for(const n of this.series)for(const s of n.directions){const i=t[s];if(!i){Ne.warnOnce(`no available axis for direction [${s}]; check series and axes configuration.`);return}const r=n.getKeys(s),a=i.find(o=>!o.keys.length||r.some(c=>o.keys.includes(c)));if(!a){Ne.warnOnce(`no matching axis for direction [${s}] and keys [${r}]; check series and axes configuration.`);return}n.axes[s]=a}}parentResize(t){if(t==null||this.width!=null&&this.height!=null)return;let{width:n,height:s}=t;const{pixelRatio:i}=t;if(n=Math.floor(n),s=Math.floor(s),n===0&&s===0)return;const[r=0,a=0,o=1]=this._lastAutoSize??[];r===n&&a===s&&o===i||(this._lastAutoSize=[n,s,i],this.resize("SizeMonitor",{}))}resize(t,n){const{scene:s,animationManager:i}=this.ctx,{inWidth:r,inHeight:a,inMinWidth:o,inMinHeight:c,inOverrideDevicePixelRatio:u}=n;this.ctx.domManager.setSizeOptions(o??this.minWidth,c??this.minHeight,r??this.width,a??this.height);const h=r??this.width??this._lastAutoSize?.[0],f=a??this.height??this._lastAutoSize?.[1],g=u??this.overrideDevicePixelRatio??this._lastAutoSize?.[2];if(this.debug(`Chart.resize() from ${t}`,{width:h,height:f,pixelRatio:g,stack:new Error().stack}),!(h==null||f==null||!bn(h)||!bn(f))&&s.resize(h,f,g)){i.reset();let m=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(m=!1,this._firstAutoSize=!1),this.update(4,{forceNodeDataRefresh:!0,skipAnimations:m}),this._autoSizeNotify.notify()}}async updateData(){this.series.forEach(n=>n.setChartData(this.data));const t=this.modulesManager.mapModules(n=>n.updateData?.(this.data));await Promise.all(t)}async processData(){this.series.some(i=>i.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const t=new aQ(this.mode,this.suppressFieldDotNotation),n=this.series.map(i=>i.processData(t)),s=this.modulesManager.mapModules(i=>i.processData?.(t));this._cachedData=t.execute(this._cachedData),await Promise.all([...n,...s]),this.updateLegends()}async processDomains(){for(const t of this.axes)t.processData();for(const t of this.series)t.updatedDomains()}updateLegends(t){for(const{legend:n,legendType:s}of this.modulesManager.legends())s==="category"?this.setCategoryLegendData(t):this.setLegendData(s,n)}setCategoryLegendData(t){var n;const{ctx:{legendManager:s,stateManager:i}}=this;t&&this.series.forEach(a=>{const o=t.find(c=>c.seriesId===a.id);a.onLegendInitialState("category",o)});const r=this.series.flatMap(a=>{const o=a.getLegendData("category");return s.updateData(a.id,o),o});if(t){i.setStateAndRestore(s,t);return}if(this.mode!=="integrated"){const a={},o=new Map(this.series.map(c=>[c.id,c.type]));for(const{seriesId:c,symbol:{marker:u},label:h}of r.filter(f=>!f.hideInLegend)){if(u.fill==null)continue;const f=o.get(c),g=a[f]??(a[f]={});g[n=h.text]??(g[n]=u.fill),g[h.text]!==u.fill&&Ne.warnOnce(`legend item '${h.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}s.update()}setLegendData(t,n){n.data=this.series.filter(s=>s.properties.showInLegend).flatMap(s=>s.getLegendData(t))}async processLayout(){const t=this.animationRect,{width:n,height:s}=this.ctx.scene,i=this.ctx.layoutManager.createContext(n,s);await this.performLayout(i),t&&!this.animationRect?.equals(t)&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async updateSeries(t){const{seriesRect:n}=this;await Promise.all(t.map(s=>s.update({seriesRect:n}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(s=>s.visible&&s.usesPlacedLabels),this.padding,this.seriesRect)}async waitForUpdate(t,n){const s=Nn("agChartsDebugTimeout");s==null?(t??(t=1e5),n??(n=!1)):(t=s,n??(n=!0));const i=performance.now();for(;(this._pendingFactoryUpdatesCount>0||this.performUpdateType!==8||this.runningUpdateType!==8||this.ctx.scene.waitingForUpdate())&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue(),(this.performUpdateType!==8||this.runningUpdateType!==8)&&await this._performUpdateNotify.await(),performance.now()-i>t){const r=`Chart.waitForUpdate() timeout of ${t} reached - first chart update taking too long.`;if(n)throw new Error(r);Ne.warnOnce(r)}aZ()&&await c9(),this.ctx.scene.waitingForUpdate()&&await c9(50)}}filterMiniChartSeries(t){return t?.filter(n=>n.showInMiniChart!==!1)}applyOptions(t){const s=this.firstApply?t.processedOptions:t.diffOptions(this.chartOptions);if(s==null||Object.keys(s).length===0){Va("Chart.applyOptions() - no delta, forcing re-layout",s),this.update(4,{apiUpdate:!0,newAnimationBatch:!0});return}const i=this.firstApply?{}:this.chartOptions.processedOptions,r=t.processedOptions;Va("Chart.applyOptions() - applying delta",s);const a=this.applyModules(r),o=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer","formatter"];s.listeners&&this.registerListeners(this,s.listeners),cx(this,s,{skip:o});let c=!1,u="no-op";s.series!=null&&(u=this.applySeries(this,s.series,i?.series),c=!0),u==="replaced"&&this.resetAnimations(),this.applyAxes(this,r,i,u,[])&&(c=!0),s.data&&(this.data=s.data),s.legend?.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,s.legend.listeners),s.locale?.localeText&&(this.modulesManager.getModule("locale").localeText=s.locale?.localeText),this.chartOptions=t;const h=this.modulesManager.getModule("navigator"),f=this.modulesManager.getModule("zoom");!h?.enabled&&!f?.enabled&&this.ctx.zoomManager.updateZoom("chart");const g=h?.miniChart,m=r.navigator?.miniChart?.series??r.series;g?.enabled===!0&&m!=null?this.applyMiniChartOptions(g,m,r,i):g?.enabled===!1&&(g.series=[],g.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),c||(c=this.shouldForceNodeDataRefresh(s,u));const b=c||a?0:4;if(this.maybeResetAnimations(u),this.shouldClearLegendData(r,i,u)&&this.ctx.legendManager.clearData(),this.applyInitialState(r),this.ctx.formatManager.setFormatter(r.formatter),Va("Chart.applyOptions() - update type",dx[b],{seriesStatus:u,forceNodeDataRefresh:c}),t.optionsProcessingTime!==void 0){this._performUpdateSplits[""]=t.optionsProcessingTime;const S=performance.now()-t.optionsProcessingTime;this._performUpdateSplits.start=S}this.update(b,{apiUpdate:!0,forceNodeDataRefresh:c,newAnimationBatch:!0,clearCallbackCache:!0}),this.firstApply=!1}applyInitialState(t){const{annotationManager:n,chartTypeOriginator:s,historyManager:i,stateManager:r,zoomManager:a}=this.ctx,{initialState:o}=t;if("annotations"in t&&t.annotations?.enabled&&o?.annotations!=null){const c=o.annotations.map(u=>{const h=n.getAnnotationTypeStyles(u.type);return pn(u,h)});r.setState(n,c)}o?.chartType!=null&&r.setState(s,o.chartType),(t.navigator?.enabled||t.zoom?.enabled)&&o?.zoom!=null&&r.setState(a,o.zoom),o?.legend!=null&&this.updateLegends(o.legend),o!=null&&i.clear()}maybeResetAnimations(t){if(this.mode==="standalone")switch(t){case"series-grouping-change":case"replaced":this.resetAnimations();break}}shouldForceNodeDataRefresh(t,n){const s=!!t.data||n==="data-change"||n==="replaced",i=UO.getKeys(),r=Object.values(i).some(o=>t[o]!=null),a=t.title!=null&&t.subtitle!=null||t.formatter!=null;return s||r||a}shouldClearLegendData(t,n,s){const i=s==="replaced"||s==="series-grouping-change"||s==="updated"&&(t.series?.length!==n.series?.length||!t.series?.every((a,o)=>a.type===n.series?.[o].type)),r=n.legend!=null&&t.legend==null;return i||r}applyMiniChartOptions(t,n,s,i){const r=i?.navigator?.miniChart?.series??i?.series,a=this.applySeries(t,this.filterMiniChartSeries(n),this.filterMiniChartSeries(r));this.applyAxes(t,s,i,a,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const o=t.series;for(const h of o)h.properties.id=void 0;const c=t.axes,u=c.find(h=>h.direction==="x");for(const h of c)h.nice=!1,h.gridLine.enabled=!1,h.label.enabled=h===u,h.tick.enabled=!1,h.interactionEnabled=!1;if(u!=null){const h=s.navigator?.miniChart,f=h?.label,g=h?.label?.interval;if(u.line.enabled=!1,u.label.set(ke(f,["interval","autoRotate","autoRotateAngle","itemStyler","minSpacing","rotation"])),u.type==="grouped-category"){u.label.enabled=!1,u.label.rotation=0;const{depthOptions:m}=u;if(m.length===0)m.set([{label:{enabled:!0}}]);else for(let y=1;y<m.length;y++)m[y].label.enabled=!1}else(u.type==="time"||u.type==="unit-time"||u.type==="ordinal-time")&&(u.parentLevel.enabled=!1);u.interval.step=g?.step,u.interval.values=g?.values,u.interval.minSpacing=g?.minSpacing,u.interval.maxSpacing=g?.maxSpacing}}applyModules(t){const{type:n}=this.constructor;let s=!1;for(const i of El.byType("root","legend")){const a=t[i.optionsKey]!=null&&i.chartTypes.includes(n);a!==this.modulesManager.isEnabled(i)&&(a?(this.modulesManager.addModule(i,o=>o.moduleFactory(this.getModuleContext())),i.type==="legend"&&this.modulesManager.getModule(i)?.attachLegend(this.ctx.scene),this[i.optionsKey]=this.modulesManager.getModule(i)):(this.modulesManager.removeModule(i),delete this[i.optionsKey]),s=!0)}return s}initSeriesDeclarationOrder(t){for(let n=0;n<t.length;n++)t[n].setSeriesIndex(n)}applySeries(t,n,s){if(!n)return"no-change";const i=H_e(t.series,n,s);if(i.status==="no-overlap"){Va(`Chart.applySeries() - creating new series instances, status: ${i.status}`,i);const h=n.map(f=>this.createSeries(f));return this.initSeriesDeclarationOrder(h),t.series=h,"replaced"}Va("Chart.applySeries() - matchResult",i);const r=[];let a=!1,o=!1,c=!1;const u=i.changes.toSorted((h,f)=>h.targetIdx-f.targetIdx);for(const h of u)switch(o||(o=h.status==="series-grouping"),a||(a=h.diff?.data!=null),c||(c=h.status!=="no-op"),h.status){case"add":{const f=this.createSeries(h.opts);r.push(f),Va("Chart.applySeries() - created new series",f);break}case"remove":Va(`Chart.applySeries() - removing series at previous idx ${h.idx}`,h.series);break;case"no-op":r.push(h.series),Va(`Chart.applySeries() - no change to series at previous idx ${h.idx}`,h.series);break;case"series-grouping":case"update":default:{const{series:f,diff:g,idx:m}=h;Va(`Chart.applySeries() - applying series diff previous idx ${m}`,g,f),this.applySeriesValues(f,g),f.markNodeDataDirty(),r.push(f)}}return this.initSeriesDeclarationOrder(r),Va("Chart.applySeries() - final series instances",r),t.series=r,o?"series-grouping-change":a?"data-change":c?"updated":"no-op"}applyAxes(t,n,s,i,r=[]){if(!("axes"in n)||!n.axes)return!1;r=["axes[].type",...r];const a=n.axes;return!(i==="replaced")&&t.axes.length===a.length&&t.axes.every((u,h)=>u.type===a[h].type)&&WQ(s)?(t.axes.forEach((u,h)=>{const f=s.axes?.[h]??{},g=Yc(f,a[h]);Va(`Chart.applyAxes() - applying axis diff idx ${h}`,g);const m=`axes[${h}]`;cx(u,g,{path:m,skip:r})}),!0):(Va(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${i}`),t.axes=this.createAxis(a,r),!0)}createSeries(t){const n=Xa.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(n,t),this.applySeriesValues(n,t),n}applySeriesOptionModules(t,n){const s=t.createModuleContext(),i=t.getModuleMap();for(const r of El.byType("series-option"))r.optionsKey in n&&r.seriesTypes.includes(t.type)&&i.addModule(r,a=>a.moduleFactory(s))}applySeriesValues(t,n){const s=t.getModuleMap(),{type:i,data:r,listeners:a,seriesGrouping:o,showInMiniChart:c,...u}=n;for(const h of fb)if(h.type==="series-option"&&h.optionsKey in u){const f=s.getModule(h.optionsKey);if(f){const g=u[h.optionsKey];delete u[h.optionsKey],f.properties.set(g)}}u.visible!=null&&(t.visible=u.visible),t.properties.set(u),"data"in n&&t.setOptionsData(r),a&&this.registerListeners(t,a),"seriesGrouping"in n&&(o==null?t.seriesGrouping=void 0:t.seriesGrouping={...t.seriesGrouping,...o})}createAxis(t,n){const s=[],i=this.getModuleContext();for(let r=0;r<t.length;r++){const a=t[r],o=Uh.create(a.type,i);this.applyAxisModules(o,a),cx(o,a,{path:`axes[${r}]`,skip:n}),s.push(o)}return V_e(s),s}applyAxisModules(t,n){const s=t.createModuleContext(),i=t.getModuleMap();for(const r of El.byType("axis-option")){const a=n[r.optionsKey]!=null;a!==i.isEnabled(r)&&(a?(i.addModule(r,o=>o.moduleFactory(s)),t[r.optionsKey]=i.getModule(r)):(i.removeModule(r),delete t[r.optionsKey]))}}registerListeners(t,n){t.clearEventListeners();for(const[s,i]of Uo(n))t.addEventListener(s,i)}};Ss.chartsInstances=new WeakMap;D([fr({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),Ss.chartsInstances.set(e,this))},oldValue(e){Ss.chartsInstances.delete(e)}})],Ss.prototype,"container",2);D([fr({newValue(e){this.resize("width option",{inWidth:e})}})],Ss.prototype,"width",2);D([fr({newValue(e){this.resize("height option",{inHeight:e})}})],Ss.prototype,"height",2);D([fr({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],Ss.prototype,"minWidth",2);D([fr({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],Ss.prototype,"minHeight",2);D([fr({newValue(e){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:e})}})],Ss.prototype,"overrideDevicePixelRatio",2);D([O],Ss.prototype,"padding",2);D([O],Ss.prototype,"keyboard",2);D([O],Ss.prototype,"touch",2);D([O],Ss.prototype,"mode",2);D([O],Ss.prototype,"styleNonce",2);D([hr("chartCaptions.title")],Ss.prototype,"title",2);D([hr("chartCaptions.subtitle")],Ss.prototype,"subtitle",2);D([hr("chartCaptions.footnote")],Ss.prototype,"footnote",2);D([O],Ss.prototype,"formatter",2);D([O],Ss.prototype,"suppressFieldDotNotation",2);D([O],Ss.prototype,"loadGoogleFonts",2);D([fr({changeValue(e,t){this.onAxisChange(e,t)}})],Ss.prototype,"axes",2);D([fr({changeValue(e,t){this.onSeriesChange(e,t)}})],Ss.prototype,"series",2);var bC=Ss;function y$(e,t){let n=[];const s=e?.series?.[0]?.type,i=s==="linear-gauge"||s==="radial-gauge",r=s?fi.get(s):"unknown";for(const a of fb)if(!(r!=="unknown"&&!a.chartTypes.includes(r))){if(a.type==="root"||a.type==="legend"){const o=e[a.optionsKey];if(o==null)continue;a.optionsInnerKey?o[a.optionsInnerKey]&&(n.push(`${a.optionsKey}.${a.optionsInnerKey}`),delete o[a.optionsInnerKey]):(n.push(a.optionsKey),delete e[a.optionsKey])}else if(a.type==="axis"){if(!("axes"in e)||!Pt(e.axes)||!e.axes?.some(o=>o.type===a.identifier))continue;n.push(`axis[type=${a.identifier}]`),e.axes=e.axes.filter(o=>o.type!==a.identifier)}else if(a.type==="axis-option"){if(!("axes"in e)||!Pt(e.axes)||!e.axes?.some(o=>o[a.optionsKey]))continue;n.push(`axis.${a.optionsKey}`),e.axes.forEach(o=>{o[a.optionsKey]&&delete o[a.optionsKey]})}else if(a.type==="series"){if(a.community||!Pt(e.series)||!e.series?.some(o=>o.type===a.identifier))continue;n.push(`series[type=${a.identifier}]`),e.series=e.series.filter(o=>o.type!==a.identifier)}else if(a.type==="series-option"){if(!Pt(e.series)||!e.series?.some(o=>o[a.optionsKey]))continue;n.push(`series.${a.optionsKey}`),e.series.forEach(o=>{o[a.optionsKey]&&delete o[a.optionsKey]})}}if(n.length&&!t){i&&(n=["AgCharts.createGauge"]);let a="ag-charts-enterprise",o="https://www.ag-grid.com/charts/javascript/installation/";e.mode==="integrated"&&(a="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",o="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),Ne.warnOnce([`unable to use these enterprise features as '${a}' has not been loaded:`,"",...n,"",`See: ${o}`].join(`
`))}}function APe(e){const t="mode"in e&&e.mode==="integrated";for(const n of El.byType("root","legend")){const s=e[n.optionsKey],i=s!=null&&s.enabled===!1,r=!("removable"in n)||n.removable===!0||n.removable==="standalone-only"&&!t;i&&r&&delete e[n.optionsKey]}}function cX(e){return e?.up||e?.down||e?.neutral?"user-full":e?.fills||e?.strokes?"user-indexed":"inbuilt"}var _s={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},jc={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},l4={};Ul(l4,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>Nb,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Eb,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Db,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>d0,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>h0,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Ab,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>Tb,DEFAULT_CAPTION_ALIGNMENT:()=>td,DEFAULT_CAPTION_LAYOUT_STYLE:()=>ed,DEFAULT_FIBONACCI_STROKES:()=>u0,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>ti,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>gs,DEFAULT_GRIDLINE_ENABLED:()=>Oo,DEFAULT_POLAR_SERIES_STROKE:()=>NC,DEFAULT_SEPARATION_LINES_COLOUR:()=>Mb,DEFAULT_SHADOW_COLOUR:()=>Cf,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>AC,DEFAULT_TEXTBOX_COLOR:()=>Lb,DEFAULT_TEXTBOX_FILL:()=>kb,DEFAULT_TEXTBOX_STROKE:()=>Ib,DEFAULT_TEXT_ANNOTATION_COLOR:()=>jb,DEFAULT_TOOLBAR_POSITION:()=>Ob,IS_DARK_THEME:()=>ug,PALETTE_ALT_DOWN_FILL:()=>h4,PALETTE_ALT_DOWN_STROKE:()=>u4,PALETTE_ALT_NEUTRAL_FILL:()=>f4,PALETTE_ALT_NEUTRAL_STROKE:()=>p4,PALETTE_ALT_UP_FILL:()=>d4,PALETTE_ALT_UP_STROKE:()=>c4,PALETTE_DOWN_FILL:()=>CC,PALETTE_DOWN_STROKE:()=>SC,PALETTE_NEUTRAL_FILL:()=>jC,PALETTE_NEUTRAL_STROKE:()=>MC,PALETTE_UP_FILL:()=>wC,PALETTE_UP_STROKE:()=>vC});var ug=Symbol("is-dark-theme"),Mb=Symbol("default-separation-lines-colour"),Cf=Symbol("default-shadow-colour"),ed=Symbol("default-caption-layout-style"),td=Symbol("default-caption-alignment"),vC=Symbol("palette-up-stroke"),SC=Symbol("palette-down-stroke"),wC=Symbol("palette-up-fill"),CC=Symbol("palette-down-fill"),MC=Symbol("palette-neutral-stroke"),jC=Symbol("palette-neutral-fill"),c4=Symbol("palette-alt-up-stroke"),u4=Symbol("palette-alt-down-stroke"),d4=Symbol("palette-alt-up-fill"),h4=Symbol("palette-alt-down-fill"),f4=Symbol("palette-gray-fill"),p4=Symbol("palette-gray-stroke"),NC=Symbol("default-polar-series-stroke"),AC=Symbol("default-sparkline-crosshair-stroke"),gs=Symbol("default-financial-charts-annotation-stroke"),u0=Symbol("default-hierarchy-strokes"),jb=Symbol("default-text-annotation-color"),ti=Symbol("default-financial-charts-annotation-background-fill"),Nb=Symbol("default-annotation-handle-fill"),Ab=Symbol("default-annotation-statistics-fill"),Tb=Symbol("default-annotation-statistics-stroke"),Eb=Symbol("default-annotation-statistics-color"),Db=Symbol("default-annotation-statistics-divider-stroke"),d0=Symbol("default-annotation-statistics-fill"),h0=Symbol("default-annotation-statistics-stroke"),kb=Symbol("default-textbox-fill"),Ib=Symbol("default-textbox-stroke"),Lb=Symbol("default-textbox-color"),Ob=Symbol("default-toolbar-position"),Oo=Symbol("default-gridline-enabled"),uX=[{type:"number",position:{$if:[{$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},"bottom","left"]}},{type:"category",position:{$if:[{$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},"left","bottom"]}}],TPe={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},{$palette:"fillFallback"},{$palette:"fill"}]},EPe={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},{$palette:"fillsFallback"},{$palette:"fills"}]},TC={$if:[{$isGradient:{$palette:"fill"}},{$palette:"fillFallback"},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/stroke",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},DPe={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},[{$palette:"fillFallback"},{$palette:"fillFallback"}],{$palette:"range2"}]},kPe={type:"gradient",gradient:"linear",bounds:"item",colorStops:[{color:"black"}],rotation:0,reverse:!1,colorSpace:"rgb"},Rd={type:"gradient",gradient:"linear",bounds:"item",colorStops:{$shallow:{$map:[{color:{$value:"$1"}},{$palette:"gradient"}]}},rotation:0,reverse:!1,colorSpace:"rgb"},IPe={...Rd,colorStops:{$shallow:[{color:{$mix:[{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"black",.15]}},{color:{$mix:[{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"white",.15]}}]}},LPe={...Rd,colorStops:{$map:[{color:{$value:"$1"}},{$path:["/0",void 0,{$palette:"gradients"}]}]}},OPe=e=>({...Rd,colorStops:{$shallow:{$if:[{$or:[{$isGradient:{$palette:`${e}.fill`}},{$isPattern:{$palette:`${e}.fill`}},{$isImage:{$palette:`${e}.fill`}}]},{$path:["/colorStops",void 0,{$palette:`${e}.fill`}]},[{color:{$mix:[{$palette:`${e}.fill`},"black",.15]}},{color:{$mix:[{$palette:`${e}.fill`},"white",.15]}}]]}}}),EC={type:"gradient",gradient:"radial",bounds:"item",colorStops:{$shallow:{$map:[{color:{$value:"$1"}},{$palette:"gradient"}]}},rotation:0,reverse:!1,colorSpace:"rgb"},Rb={...EC,reverse:!0},RPe={...EC,bounds:"series"},dX={...EC,bounds:"series",reverse:!0},_Pe={type:"gradient",gradient:"conic",bounds:"series",colorStops:{$map:[{color:{$value:"$1"}},{$palette:"gradient"}]},rotation:0,reverse:!1,colorSpace:"rgb"},uo={type:"pattern",pattern:"forward-slanted-lines",width:{$isUserOption:["./height",{$path:"./height"},10]},height:{$isUserOption:["./width",{$path:"./width"},10]},padding:2,fill:{$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isImage:{$palette:"fill"}}]},{$palette:"fillFallback"},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/fill",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},fillOpacity:1,stroke:TC,strokeOpacity:1,strokeWidth:{$switch:[{$path:"./pattern"},0,[["backward-slanted-lines","forward-slanted-lines","horizontal-lines","vertical-lines"],4]]},backgroundFill:"none",backgroundFillOpacity:1,rotation:0,scale:1},PPe={...uo,stroke:{$if:[{$isGradient:{$palette:"fill"}},{$path:["/0",void 0,{$palette:"fillsFallback"}]},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/stroke",{$path:["/0",void 0,{$palette:"fillsFallback"}]},{$path:["/0",void 0,{$palette:"fills"}]}]},{$path:["/0",void 0,{$palette:"fills"}]}]}]},fill:{$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isImage:{$palette:"fill"}}]},{$path:["/0",void 0,{$palette:"fillsFallback"}]},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/fill",{$path:["/0",void 0,{$palette:"fillsFallback"}]},{$path:["/0",void 0,{$palette:"fills"}]}]},{$path:["/0",void 0,{$palette:"fills"}]}]}]}},zPe={type:"pattern",pattern:"forward-slanted-lines",width:8,height:8,padding:1,fill:"black",fillOpacity:1,backgroundFill:"white",backgroundFillOpacity:1,stroke:"black",strokeOpacity:1,strokeWidth:1,rotation:0,scale:1},FPe={...uo,fill:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]}},iu={type:"image",backgroundFill:{$palette:"fillFallback"},backgroundFillOpacity:1,repeat:"no-repeat",fit:"contain",rotation:0},$Pe={type:"image",backgroundFill:"black",backgroundFillOpacity:1,rotation:0,repeat:"no-repeat",fit:"contain",width:8,height:8};function ja(e){return Fq(e,t=>{const n=Pn.fromString(t);return[Pn.darken(n,.15).toString(),t,Pn.lighten(n,.15).toString()]})}var g4={stroke:{$path:["../../highlightStyle/item/stroke","rgba(0, 0, 0, 0.4)"]},strokeWidth:{$path:["../../highlightStyle/item/strokeWidth",2]},strokeOpacity:{$path:["../../highlightStyle/item/strokeOpacity",void 0]},opacity:{$path:["../../highlightStyle/item/opacity",1]}},hX={...g4,fill:{$path:["../../highlightStyle/item/fill","rgba(255,255,255, 0.33)"]},fillOpacity:{$path:["../../highlightStyle/item/fillOpacity",void 0]}},Rl={padding:8,cornerRadius:4,fill:{$if:[{$and:[{$eq:[{$path:"./fill/type"},"image"]},{$isUserOption:["./fill/backgroundFill",!1,!0]}]},{backgroundFill:"transparent"},void 0]},border:{enabled:{$isUserOption:["../border",!0,!1]},strokeWidth:1,stroke:{$foregroundOpacity:.08}}};function _d(e=!0){return{enabled:!0,highlightedItem:e?hX:g4,unhighlightedItem:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]}},highlightedSeries:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]}},unhighlightedSeries:{opacity:{$path:["../../highlightStyle/series/dimOpacity",void 0]}}}}function fX(e=!0){return{enabled:!0,highlightedItem:e?hX:g4,unhighlightedItem:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]},opacity:{$path:["../../highlightStyle/series/dimOpacity",void 0]}}}}var pX={border:{enabled:!1,stroke:{$foregroundBackgroundMix:.25},strokeOpacity:1,strokeWidth:1},cornerRadius:4,fillOpacity:1,padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},5,{$isUserOption:["./fill",5,0]}]}},DC={enabled:!1,key:"x",segments:{$apply:[{fill:{$applySwitch:[{$path:"type"},{$path:"../../../fill"},["gradient",Rd],["image",iu],["pattern",uo]]},stroke:{$path:"../../../stroke"},fillOpacity:{$path:"../../../fillOpacity"},strokeWidth:{$isUserOption:["./stroke",{$isUserOption:["../../../strokeWidth",{$path:"../../../strokeWidth"},{$if:[{$greaterThan:[{$path:"../../../strokeWidth"},0]},{$path:"../../../strokeWidth"},2]}]},{$path:"../../../strokeWidth"}]},strokeOpacity:{$path:"../../../strokeOpacity"},lineDash:{$path:"../../../lineDash"},lineDashOffset:{$path:"../../../lineDashOffset"}}]}},HT="white",BPe={get cartesian(){return{seriesTypes:fi.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:fi.polarTypes,commonOptions:[]}},get topology(){return{seriesTypes:fi.topologyTypes,commonOptions:[]}},get standalone(){return{seriesTypes:fi.standaloneTypes,commonOptions:[]}}},VPe={"radial-gauge":!0,"linear-gauge":!0};function UPe(e){return VPe[e]===!0}var ca=class Hy{static getDefaultColors(){return{fills:_s,fillsFallback:Object.values(_s),strokes:jc,sequentialColors:ja(_s),divergingColors:[_s.ORANGE,_s.YELLOW,_s.GREEN],hierarchyColors:["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"],secondSequentialColors:Pn.interpolate([Pn.fromHexString(_s.BLUE),Pn.fromHexString("#cbdef5")],8).map(t=>t.toString()),secondDivergingColors:[_s.GREEN,_s.YELLOW,_s.RED],secondHierarchyColors:["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"],up:{fill:_s.GREEN,stroke:jc.GREEN},down:{fill:_s.RED,stroke:jc.RED},neutral:{fill:_s.GRAY,stroke:jc.GRAY},altUp:{fill:_s.BLUE,stroke:jc.BLUE},altDown:{fill:_s.ORANGE,stroke:jc.ORANGE},altNeutral:{fill:_s.GRAY,stroke:jc.GRAY}}}static getDefaultPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:.325},backgroundColor:HT,borderColor:{$foregroundOpacity:.15},borderRadius:4,chartBackgroundColor:{$ref:"backgroundColor"},chartPadding:20,focusShadow:"0 0 0 3px var(--ag-charts-accent-color)",foregroundColor:"#181d1f",fontFamily:"Verdana, sans-serif",fontSize:Tc,fontWeight:400,gridLineColor:{$foregroundBackgroundMix:.1},popupShadow:"0 0 16px rgba(0, 0, 0, 0.15)",subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"chartBackgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:.02},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:{$ref:"foregroundColor"},chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},buttonBackgroundColor:{$ref:"backgroundColor"},buttonBorder:!0,buttonFontWeight:400,buttonTextColor:{$ref:"textColor"},inputBackgroundColor:{$ref:"backgroundColor"},inputBorder:!0,inputTextColor:{$ref:"textColor"},menuBackgroundColor:{$ref:"chromeBackgroundColor"},menuBorder:!0,menuTextColor:{$ref:"chromeTextColor"},panelBackgroundColor:{$ref:"chromeBackgroundColor"},panelSubtleTextColor:{$ref:"chromeSubtleTextColor"},tooltipBackgroundColor:{$ref:"chromeBackgroundColor"},tooltipBorder:!0,tooltipTextColor:{$ref:"chromeTextColor"},tooltipSubtleTextColor:{$ref:"chromeSubtleTextColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"chartBackgroundColor"}}}static getAxisDefaults(t,{title:n,time:s}){return pn(t,n&&{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:eo.MEDIUM},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}}},s&&{parentLevel:{enabled:!1,label:{enabled:{$path:"../../label/enabled"},border:{enabled:{$or:[{$isUserOption:["../border",!0,!1]},{$path:"../../../label/border/enabled"}]},strokeWidth:{$path:"../../../label/border/strokeWidth"},stroke:{$path:"../../../label/border/stroke"}},fill:{$path:"../../label/fill"},fontSize:{$path:"../../label/fontSize"},fontFamily:{$path:"../../label/fontFamily"},fontWeight:"bold",spacing:{$path:"../../label/spacing"},color:{$path:"../../label/color"},cornerRadius:{$path:"../../label/cornerRadius"},padding:{$path:"../../label/padding"},avoidCollisions:{$path:"../../label/avoidCollisions"}},tick:{enabled:{$path:"../../tick/enabled"},width:{$path:"../../tick/width"},size:{$path:"../../tick/size"},stroke:{$path:"../../tick/stroke"}}}},{label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0,cornerRadius:4,border:{enabled:{$isUserOption:["../border",!0,!1]},strokeWidth:1,stroke:{$foregroundOpacity:.08}},padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},{left:12,right:12,top:8,bottom:8},void 0]}},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,size:6,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,width:1,style:{$apply:[{fillOpacity:1,stroke:{$ref:"gridLineColor"},strokeWidth:{$path:"../../width"},lineDash:[]},[{fillOpacity:1,stroke:{$ref:"gridLineColor"},strokeWidth:{$path:"../../width"},lineDash:[]}]]}},crossLines:{$apply:[{enabled:!0,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.08,strokeWidth:1,label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}},void 0,{$pathString:["/common/axes/$axisType/crossLines",{axisType:{$path:["/axes/$index/type"]}}]},{$pathString:["/$seriesType/axes/$axisType/crossLines",{seriesType:{$path:["/series/0/type","line"]},axisType:{$path:["/axes/$index/type"]}}]}]}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"chartBackgroundColor"}},padding:{top:{$ref:"chartPadding"},right:{$ref:"chartPadding"},bottom:{$ref:"chartPadding"},left:{$ref:"chartPadding"}},seriesArea:{border:{enabled:!1,stroke:{$ref:"foregroundColor"},strokeOpacity:1,strokeWidth:1},cornerRadius:4,padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},5,0]}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",spacing:{$if:[{$path:"../subtitle/enabled"},10,20]},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:eo.LARGEST},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:ed,textAlign:td},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:eo.MEDIUM},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:ed,textAlign:td},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:eo.MEDIUM},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:ed,textAlign:td},legend:{...pX,enabled:{$and:[{$greaterThan:[{$size:{$path:"/series"}},1]},{$or:[{$isChartType:"cartesian"},{$isChartType:"standalone"},{$and:[{$isChartType:"polar"},{$not:{$isSeriesType:"pie"}},{$not:{$isSeriesType:"donut"}}]}]}]},position:"bottom",orientation:{$if:[{$or:[{$eq:[{$path:"./position"},"left"]},{$eq:[{$path:"./position"},"left-top"]},{$eq:[{$path:"./position"},"left-bottom"]},{$eq:[{$path:"./position"},"right"]},{$eq:[{$path:"./position"},"right-top"]},{$eq:[{$path:"./position"},"right-bottom"]},{$eq:[{$path:"./position/placement"},"left"]},{$eq:[{$path:"./position/placement"},"left-top"]},{$eq:[{$path:"./position/placement"},"left-bottom"]},{$eq:[{$path:"./position/placement"},"right"]},{$eq:[{$path:"./position/placement"},"right-top"]},{$eq:[{$path:"./position/placement"},"right-bottom"]}]},"vertical","horizontal"]},spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$rem:eo.SMALL},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}},fill:{$if:[{$path:["./position/floating",!1]},{$ref:"chartBackgroundColor"},"transparent"]}},tooltip:{enabled:!0,darkTheme:ug,delay:0,pagination:!1,mode:{$if:[{$and:[{$isChartType:"cartesian"},{$not:{$hasSeriesType:"bubble"}},{$not:{$hasSeriesType:"scatter"}},{$greaterThan:[{$size:{$path:"/series"}},1]},{$lessThan:[{$size:{$path:"/series"}},4]}]},"shared","single"]}},overlays:{darkTheme:ug},listeners:{},series:{tooltip:{range:{$path:["/tooltip/range","exact"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","pointer"]},placement:{$path:["/tooltip/position/placement",void 0]},xOffset:{$path:["/tooltip/position/xOffset",0]},yOffset:{$path:["/tooltip/position/yOffset",0]}}}}}}constructor(t={}){const{overrides:n,palette:s,params:i}=xs(t),r=this.createChartConfigPerChartType(this.getDefaults()),a={};n&&this.processOverrides(a,n);const{fills:o,strokes:c,sequentialColors:u,...h}=this.getDefaultColors();this.palette=kc(pn(s,{fills:Object.values(o),strokes:Object.values(c),sequentialColors:Object.values(u),...h})),this.paletteType=cX(s),this.params=pn(i,this.getPublicParameters()),this.config=kc(xs(r)),this.overrides=kc(n),this.presets=kc(a)}processOverrides(t,n){fi.seriesTypes.forEach(s=>{const i=s,r=n[i];UPe(i)&&(t[i]=r,delete n[i])})}createChartConfigPerChartType(t){for(const[n,{seriesTypes:s}]of Uo(BPe)){const i=UD.get(n);for(const r of s)t[r]??(t[r]=i)}return t}getDefaults(){const t=(n,s)=>{const i={},r={axes:{},...UO.getThemeTemplates(),...this.getChartDefaults(),...UD.get(n)};for(const a of s){i[a]=pn(Xa.getThemeTemplate(a),i[a]??r);const{axes:o}=i[a];for(const c of Uh.keys())o[c]=pn(o[c],Uh.getThemeTemplate(c),Hy.axisDefault[c]);(a==="map-shape-background"||a==="map-line-background")&&delete i[a].series.tooltip}return i};return pn(t("cartesian",fi.cartesianTypes),t("polar",fi.polarTypes),t("topology",fi.topologyTypes),t("standalone",fi.standaloneTypes))}static applyTemplateTheme(t,n,s){if(Pt(t))for(let i=0;i<t.length;i++){const r=t[i];typeof r=="symbol"&&s?.has(r)&&(t[i]=s.get(r))}else for(const i of Object.keys(t)){const r=t[i];typeof r=="symbol"&&s?.has(r)&&(t[i]=s.get(r))}}templateTheme(t,n=!0){const s=n?xs(t):t,i=this.getTemplateParameters();return ud(s,Hy.applyTemplateTheme,void 0,void 0,i),s}getDefaultColors(){return Hy.getDefaultColors()}getPublicParameters(){return Hy.getDefaultPublicParameters()}getTemplateParameters(){const t=new Map;t.set(ug,!1),t.set(Mb,"#d9d9d9"),t.set(Cf,"#00000080"),t.set(AC,"#aaa"),t.set(ed,"block"),t.set(td,"center"),t.set(u0,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),t.set(NC,HT),t.set(gs,_s.BLUE),t.set(ti,_s.BLUE),t.set(jb,_s.BLUE),t.set(Nb,HT),t.set(Ab,"#fafafa"),t.set(Tb,"#ddd"),t.set(Eb,"#000"),t.set(Db,"#181d1f"),t.set(d0,"#e35c5c"),t.set(h0,"#e35c5c"),t.set(kb,"#fafafa"),t.set(Ib,"#ddd"),t.set(Lb,"#000"),t.set(Ob,"top"),t.set(Oo,!1);const n=this.getDefaultColors();return t.set(vC,this.palette.up?.stroke??n.up.stroke),t.set(wC,this.palette.up?.fill??n.up.fill),t.set(SC,this.palette.down?.stroke??n.down.stroke),t.set(CC,this.palette.down?.fill??n.down.fill),t.set(MC,this.palette.neutral?.stroke??n.neutral.stroke),t.set(jC,this.palette.neutral?.fill??n.neutral.fill),t.set(c4,this.palette.altUp?.stroke??n.up.stroke),t.set(d4,this.palette.altUp?.fill??n.up.fill),t.set(u4,this.palette.altDown?.stroke??n.down.stroke),t.set(h4,this.palette.altDown?.fill??n.down.fill),t.set(f4,this.palette.altNeutral?.fill??n.altNeutral.fill),t.set(p4,this.palette.altNeutral?.stroke??n.altNeutral.stroke),t}};ca.axisDefault={number:ca.getAxisDefaults({keys:[],line:{enabled:!1},crosshair:{enabled:!0}},{title:!0,time:!1}),log:ca.getAxisDefaults({keys:[],base:10,line:{enabled:!1},crosshair:{enabled:!0}},{title:!0,time:!1}),category:ca.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!0,wrapping:"on-space"},gridLine:{enabled:Oo},crosshair:{enabled:!1}},{title:!0,time:!1}),"grouped-category":ca.getAxisDefaults({keys:[],tick:{enabled:!0,stroke:Mb},label:{spacing:10,rotation:270,wrapping:"on-space"},maxThicknessRatio:.5,paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}},{title:!0,time:!1}),time:ca.getAxisDefaults({keys:[],gridLine:{enabled:Oo},crosshair:{enabled:!0}},{title:!0,time:!0}),"unit-time":ca.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!1},gridLine:{enabled:Oo},crosshair:{enabled:!0},parentLevel:{enabled:!0}},{title:!0,time:!0}),"ordinal-time":ca.getAxisDefaults({keys:[],groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:Oo},crosshair:{enabled:!0}},{title:!0,time:!0}),"angle-category":ca.getAxisDefaults({label:{spacing:5},gridLine:{enabled:Oo},shape:{$findFirstSiblingNotOperation:void 0}},{title:!1,time:!1}),"angle-number":ca.getAxisDefaults({label:{spacing:5},gridLine:{enabled:Oo}},{title:!1,time:!1}),"radius-category":ca.getAxisDefaults({positionAngle:0,line:{enabled:!1},label:{minSpacing:5}},{title:!0,time:!1}),"radius-number":ca.getAxisDefaults({positionAngle:0,line:{enabled:!1},shape:{$findFirstSiblingNotOperation:void 0},label:{minSpacing:5}},{title:!0,time:!1})};var Wo=ca,GT="#192232",Li={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},ph={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},cm=class extends Wo{getDefaultColors(){return{fills:Li,fillsFallback:Object.values(Li),strokes:ph,sequentialColors:ja(Li),divergingColors:[Li.ORANGE,Li.YELLOW,Li.GREEN],hierarchyColors:["#192834","#253746","#324859","#3f596c","#4d6a80"],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[Li.GREEN,Li.YELLOW,Li.RED],secondHierarchyColors:["#192834","#3b5164","#496275","#577287","#668399"],up:{fill:Li.GREEN,stroke:ph.GREEN},down:{fill:Li.RED,stroke:ph.RED},neutral:{fill:Li.GRAY,stroke:ph.GRAY},altUp:{fill:Li.BLUE,stroke:ph.BLUE},altDown:{fill:Li.ORANGE,stroke:ph.ORANGE},altNeutral:{fill:Li.GRAY,stroke:ph.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),axisColor:{$foregroundBackgroundMix:.737},backgroundColor:GT,borderColor:{$foregroundBackgroundMix:.216},chromeBackgroundColor:{$foregroundBackgroundMix:.07},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundMix:.257},popupShadow:"0 0 16px rgba(0, 0, 0, 0.33)",subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"chartBackgroundColor"},.57]},crosshairLabelBackgroundColor:{$foregroundBackgroundMix:.65}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ug,!0),e.set(NC,GT),e.set(Mb,"#7f8389"),e.set(gs,Li.BLUE),e.set(jb,"#fff"),e.set(ti,Li.BLUE),e.set(Nb,GT),e.set(Ab,"#28313e"),e.set(Tb,"#4b525d"),e.set(Eb,"#fff"),e.set(Db,"#fff"),e.set(kb,"#28313e"),e.set(Ib,"#4b525d"),e.set(Lb,"#fff"),e}constructor(e){super(e)}},Or={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},gh={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},HPe=class extends cm{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Or},fillsFallback:Object.values({...Or}),strokes:{...gh},sequentialColors:ja(Or),divergingColors:[Or.GREEN,Or.BLUE,Or.RED],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],up:{fill:Or.GREEN,stroke:gh.GREEN},down:{fill:Or.RED,stroke:gh.RED},neutral:{fill:Or.BLUE,stroke:gh.BLUE},altUp:{fill:Or.GREEN,stroke:gh.GREEN},altDown:{fill:Or.RED,stroke:gh.RED},altNeutral:{fill:Or.GRAY,stroke:gh.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),chartPadding:0,gridLineColor:{$foregroundBackgroundMix:.12}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gs,Or.BLUE),e.set(ti,Or.BLUE),e.set(ed,"overlay"),e.set(td,"left"),e.set(Ob,"bottom"),e.set(Oo,!0),e}},Rr={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},mh={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},GPe=class extends Wo{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Rr},fillsFallback:Object.values({...Rr}),strokes:{...mh},sequentialColors:ja(Rr),divergingColors:[Rr.GREEN,Rr.BLUE,Rr.RED],up:{fill:Rr.GREEN,stroke:mh.GREEN},down:{fill:Rr.RED,stroke:mh.RED},neutral:{fill:Rr.BLUE,stroke:mh.BLUE},altUp:{fill:Rr.GREEN,stroke:mh.GREEN},altDown:{fill:Rr.RED,stroke:mh.RED},altNeutral:{fill:Rr.GRAY,stroke:mh.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),chartPadding:0,gridLineColor:{$foregroundBackgroundMix:.06}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gs,Rr.BLUE),e.set(ti,Rr.BLUE),e.set(ed,"overlay"),e.set(td,"left"),e.set(Ob,"bottom"),e.set(Oo,!0),e}},Oi={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},yh={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},WPe=class extends cm{getDefaultColors(){return{...super.getDefaultColors(),fills:Oi,fillsFallback:Object.values(Oi),strokes:yh,sequentialColors:ja(Oi),divergingColors:[Oi.ORANGE,Oi.YELLOW,Oi.GREEN],secondSequentialColors:["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"],secondDivergingColors:[Oi.GREEN,Oi.YELLOW,Oi.RED],up:{fill:Oi.GREEN,stroke:yh.GREEN},down:{fill:Oi.RED,stroke:yh.RED},neutral:{fill:Oi.GRAY,stroke:yh.GRAY},altUp:{fill:Oi.BLUE,stroke:yh.BLUE},altDown:{fill:Oi.RED,stroke:yh.RED},altNeutral:{fill:Oi.GRAY,stroke:yh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gs,Oi.BLUE),e.set(ti,Oi.BLUE),e}},Ri={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},xh={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},YPe=class extends Wo{getDefaultColors(){return{...super.getDefaultColors(),fills:Ri,fillsFallback:Object.values(Ri),strokes:xh,sequentialColors:ja(Ri),divergingColors:[Ri.ORANGE,Ri.YELLOW,Ri.GREEN],secondSequentialColors:["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"],secondDivergingColors:[Ri.GREEN,Ri.YELLOW,Ri.RED],up:{fill:Ri.GREEN,stroke:xh.GREEN},down:{fill:Ri.RED,stroke:xh.RED},neutral:{fill:Ri.GRAY,stroke:xh.GRAY},altUp:{fill:Ri.BLUE,stroke:xh.BLUE},altDown:{fill:Ri.RED,stroke:xh.RED},altNeutral:{fill:Ri.GRAY,stroke:xh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gs,Ri.BLUE),e.set(ti,Ri.BLUE),e}},hs={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},bh={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},KPe=class extends cm{getDefaultColors(){return{fills:hs,fillsFallback:Object.values(hs),strokes:bh,sequentialColors:ja(hs),divergingColors:[hs.BLUE,hs.RED],hierarchyColors:[],secondSequentialColors:[hs.BLUE,hs.PURPLE,hs.MAGENTA,hs.PINK,hs.RED,hs.ORANGE,hs.YELLOW,hs.GREEN],secondDivergingColors:[hs.BLUE,hs.RED],secondHierarchyColors:[],up:{fill:hs.GREEN,stroke:bh.GREEN},down:{fill:hs.RED,stroke:bh.RED},neutral:{fill:hs.GRAY,stroke:bh.GRAY},altUp:{fill:hs.BLUE,stroke:bh.BLUE},altDown:{fill:hs.RED,stroke:bh.RED},altNeutral:{fill:hs.GRAY,stroke:bh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gs,hs.BLUE),e.set(ti,hs.BLUE),e}},fs={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},vh={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},qPe=class extends Wo{getDefaultColors(){return{...super.getDefaultColors(),fills:fs,fillsFallback:Object.values(fs),strokes:vh,sequentialColors:ja(fs),divergingColors:[fs.BLUE,fs.RED],hierarchyColors:[],secondSequentialColors:[fs.BLUE,fs.PURPLE,fs.MAGENTA,fs.PINK,fs.RED,fs.ORANGE,fs.YELLOW,fs.GREEN],secondDivergingColors:[fs.BLUE,fs.RED],secondHierarchyColors:[],up:{fill:fs.GREEN,stroke:vh.GREEN},down:{fill:fs.RED,stroke:vh.RED},neutral:{fill:fs.GRAY,stroke:vh.GRAY},altUp:{fill:fs.BLUE,stroke:vh.BLUE},altDown:{fill:fs.RED,stroke:vh.RED},altNeutral:{fill:fs.GRAY,stroke:vh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gs,fs.BLUE),e.set(ti,fs.BLUE),e}},Zs={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},Bu={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},ZPe=class extends cm{getDefaultColors(){return{...super.getDefaultColors(),fills:{...Zs,RED:Zs.ORANGE},fillsFallback:Object.values({...Zs,RED:Zs.ORANGE}),strokes:{...Bu,RED:Bu.ORANGE},sequentialColors:ja({...Zs,RED:Zs.ORANGE}),divergingColors:[Zs.ORANGE,Zs.YELLOW,Zs.GREEN],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[Zs.GREEN,Zs.YELLOW,Zs.ORANGE],up:{fill:Zs.GREEN,stroke:Bu.GREEN},down:{fill:Zs.ORANGE,stroke:Bu.ORANGE},neutral:{fill:Zs.GRAY,stroke:Bu.GRAY},altUp:{fill:Zs.BLUE,stroke:Bu.BLUE},altDown:{fill:Zs.ORANGE,stroke:Bu.ORANGE},altNeutral:{fill:Zs.GRAY,stroke:Bu.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gs,Zs.BLUE),e.set(ti,Zs.BLUE),e}},li={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},bc={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},QPe=class extends Wo{getDefaultColors(){return{...super.getDefaultColors(),fills:{...li,RED:li.ORANGE},fillsFallback:Object.values({...li,RED:li.ORANGE}),strokes:{...bc,RED:bc.ORANGE},sequentialColors:ja({...li,RED:li.ORANGE}),divergingColors:[li.ORANGE,li.YELLOW,li.GREEN],secondSequentialColors:["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"],secondDivergingColors:[li.GREEN,li.YELLOW,li.ORANGE],secondHierarchyColors:[],up:{fill:li.GREEN,stroke:bc.GREEN},down:{fill:li.ORANGE,stroke:bc.ORANGE},neutral:{fill:bc.GRAY,stroke:bc.GRAY},altUp:{fill:li.BLUE,stroke:bc.BLUE},altDown:{fill:li.ORANGE,stroke:bc.ORANGE},altNeutral:{fill:li.GRAY,stroke:bc.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gs,li.BLUE),e.set(ti,li.BLUE),e}},sk=["top","top-right","top-left","bottom","bottom-right","bottom-left","right","right-top","right-bottom","left","left-top","left-bottom"],XPe={floating:X,placement:Se(...sk),xOffset:he,yOffset:he},x$=on((e,t)=>{let n;if(typeof e=="string")sk.includes(e)?n=!0:(n={valid:!1,invalid:[],cleared:null},n.invalid.push(new Bh(aO.Invalid,`a legend placement string: ["${sk.join('", "')}"]`,e,t.path)));else{const{cleared:s,invalid:i}=or(e,XPe);n={valid:i.length===0,cleared:s,invalid:i}}return n},"a legend position object or placement string"),$w=At(Se("circle","cross","diamond","heart","plus","pin","square","star","triangle"),Mn),gX=Se("never","always","hyphenate","on-space"),Bw=Se("top","right","bottom","left","top-right","bottom-right","bottom-left","top-left","center"),kC=At(J,Se("exact","nearest")),um=At(de,yi({text:Oe(de),...Dn},"text segments array")),b$=Se("pointer","start","middle","end"),IS={enabled:X,text:um,textAlign:Se("left","center","right"),wrapping:Se("never","always","hyphenate","on-space"),spacing:J,maxWidth:J,maxHeight:J,...Dn};IS.padding=vt(J);var H1={enabled:X,text:um,renderer:Xh(At(de,vq))},WT=["defaults","download","zoom-to-cursor","pan-to-cursor","reset-zoom","toggle-series-visibility","toggle-other-series","separator"],mX={type:Se("action","separator"),showOn:Se("always","series-area","series-node","legend-item"),label:Oe(de),enabled:X,action:Mn,items:(e,t)=>yX(e,t)};mX.iconUrl=vt(de);var JPe=ws(mX),e6e=on((e,t)=>{let n;return typeof e=="string"?WT.includes(e)?n=!0:(n={valid:!1,invalid:[],cleared:null},n.invalid.push(new Bh(aO.Invalid,`a context menu item string alias: ["${WT.join('", "')}"]`,e,t.path))):n=JPe(e,t),n},`a context menu item object or string alias: [${WT.join(", ")}]`),yX=ft(e6e,"a menu items array",!1),Ph={label:de,ariaLabel:de,tooltip:de,icon:Se("align-center","align-left","align-right","arrow-drawing","arrow-down-drawing","arrow-up-drawing","callout-annotation","candlestick-series","close","comment-annotation","date-range-drawing","date-price-range-drawing","delete","disjoint-channel-drawing","drag-handle","fill-color","line-style-solid","line-style-dashed","line-style-dotted","high-low-series","hlc-series","hollow-candlestick-series","horizontal-line-drawing","line-color","line-series","line-with-markers-series","locked","measurer-drawing","note-annotation","ohlc-series","pan-end","pan-left","pan-right","pan-start","parallel-channel-drawing","position-bottom","position-center","position-top","price-label-annotation","price-range-drawing","reset","settings","step-line-series","text-annotation","trend-line-drawing","fibonacci-retracement-drawing","fibonacci-retracement-trend-based-drawing","unlocked","vertical-line-drawing","zoom-in","zoom-out")},To=At(de,Xh(de)),xX=ws({x:To,y:To,angle:To,radius:To,size:To,color:To,label:To,secondaryLabel:To,sectorLabel:To,calloutLabel:To,legendItem:To}),nl=on(XOe,"a valid number format string"),bt={width:J,height:J,minWidth:J,minHeight:J,suppressFieldDotNotation:X,title:IS,subtitle:IS,footnote:IS,padding:{top:J,right:J,bottom:J,left:J},seriesArea:{border:wS,clip:X,cornerRadius:he,padding:SS},legend:{enabled:X,position:x$,orientation:Se("horizontal","vertical"),maxWidth:J,maxHeight:J,spacing:J,border:wS,cornerRadius:he,padding:SS,fill:lo,fillOpacity:qe,preventHidingAll:X,reverseOrder:X,toggleSeries:X,item:{marker:{size:J,shape:$w,padding:J,strokeWidth:J},line:{length:J,strokeWidth:J},label:{maxLength:J,formatter:Mn,...Dn},maxWidth:J,paddingX:J,paddingY:J,showSeriesStroke:X},pagination:{marker:{size:J,shape:$w,padding:J},activeStyle:{..._e,...Ce},inactiveStyle:{..._e,...Ce},highlightStyle:{..._e,...Ce},label:Dn},listeners:{legendItemClick:Mn,legendItemDoubleClick:Mn}},gradientLegend:{enabled:X,position:x$,spacing:J,reverseOrder:X,border:wS,cornerRadius:he,padding:SS,fill:lo,fillOpacity:qe,gradient:{preferredLength:J,thickness:J},scale:{label:{...Dn,minSpacing:J,format:nl,formatter:Mn},padding:J,interval:{step:he,values:Vl,minSpacing:Zn(J,Al("maxSpacing")),maxSpacing:Zn(J,Tl("minSpacing"))}}},listeners:{seriesNodeClick:Mn,seriesNodeDoubleClick:Mn,seriesVisibilityChange:Mn,click:Mn,doubleClick:Mn,annotations:Mn,zoom:Mn},loadGoogleFonts:X,highlight:{range:Se("tooltip","node")},overlays:{loading:H1,noData:H1,noVisibleSeries:H1,unsupportedBrowser:H1},tooltip:{enabled:X,showArrow:X,pagination:X,delay:J,range:kC,wrapping:gX,mode:Se("single","shared","compact"),position:{anchorTo:Se("pointer","node","chart"),placement:At(Bw,ft(Bw)),xOffset:he,yOffset:he}},animation:{enabled:X,duration:J},contextMenu:{enabled:X,items:yX},context:()=>!0,dataSource:{getData:Mn},keyboard:{enabled:X,tabIndex:he},touch:{dragAction:Se("none","drag","hover")},ranges:{enabled:X,buttons:yi({...Ph,value:At(he,Zn(ft(At(he,wd)),yf(2,2)),Mn)},"range button options array")},locale:{localeText:P2,getLocaleText:Xh(de)},background:{visible:X,fill:Ie,image:{url:Oe(de),top:he,right:he,bottom:he,left:he,width:J,height:J,opacity:qe}},styleNonce:de,sync:{enabled:X,groupId:de,axes:Se("x","y","xy"),nodeInteraction:X,zoom:X},zoom:{enabled:X,enableAxisDragging:X,enableAxisScrolling:X,enableDoubleClickToReset:X,enablePanning:X,enableScrolling:X,enableSelecting:X,enableTwoFingerZoom:X,keepAspectRatio:X,anchorPointX:b$,anchorPointY:b$,axisDraggingMode:Se("pan","zoom"),axes:Se("x","y","xy"),deceleration:At(Se("off","short","long"),qe),minVisibleItems:J,panKey:Se("alt","ctrl","meta","shift"),scrollingStep:qe,autoScaling:{enabled:X,padding:qe},buttons:{enabled:X,buttons:yi({...Ph,value:Se("reset","zoom-in","zoom-out","pan-left","pan-right","pan-start","pan-end"),section:de},"zoom button options array"),visible:Se("always","zoomed","hover")}},formatter:At(Xh(de),xX)};bt.dataSource.requestThrottle=vt(J);bt.dataSource.updateThrottle=vt(J);bt.dataSource.updateDuringInteraction=vt(X);bt.zoom.enableIndependentAxes=vt(X);bt.statusBar=vt(ot);bt.foreground=vt({visible:X,text:de,image:{url:de,top:he,right:he,bottom:he,left:he,width:J,height:J,opacity:qe},..._e});bt.overrideDevicePixelRatio=vt(he);bt.sync.domainMode=vt(Se("direction","position","key"));var Zt={cursor:de,context:()=>!0,showInLegend:X,nodeClickRange:kC,listeners:{seriesNodeClick:Mn,seriesNodeDoubleClick:Mn},highlightStyle:{item:{..._e,...Ce},series:{enabled:X,dimOpacity:qe,strokeWidth:J}},highlight:jq(is)},sl={...Zt,id:de,visible:X,context:()=>!0,data:Vl};sl.seriesGrouping=vt(ot);var IC={shape:$w,size:J,..._e,...Ce,...Fe},Yo={enabled:X,itemStyler:vn({..._e,...Ce,...Fe,shape:$w,size:J}),...IC},Ln={enabled:X,formatter:Mn,format:nl,itemStyler:vn({enabled:X,...Po,...Dn}),...Po,...Dn},jd={...Ln,lineHeight:J,minimumFontSize:J,wrapping:gX,overflowStrategy:Se("ellipsis","hide")},_b={visible:X,cap:{visible:X,length:J,lengthRatio:qe,...Ce,...Fe},...Ce,...Fe},LC={..._b,xLowerKey:de,xUpperKey:de,yLowerKey:de,yUpperKey:de,xLowerName:de,xUpperName:de,yLowerName:de,yUpperName:de,itemStyler:vn({visible:X,...Ce,...Fe,cap:{visible:X,length:J,lengthRatio:qe,...Ce,...Fe}})},un={enabled:X,showArrow:X,range:kC,renderer:Xh(At(de,ws({heading:de,title:de,data:yi({label:Oe(de),value:Oe(de)})},"tooltip renderer result object"))),position:{anchorTo:Se("node","pointer","chart"),placement:At(Bw,ft(Bw)),xOffset:he,yOffset:he},interaction:{enabled:X}},Wl={enabled:X,xOffset:he,yOffset:he,blur:J,color:Ie},OC=sb({linear:{},smooth:{tension:qe},step:{position:Se("start","middle","end")}},"interpolation line options"),f0={fills:Zn(yf(2),ft(ws({color:Ie,stop:he},"")),Mq),fillMode:Se("continuous","discrete")},RC={value:Oe(he),text:de,shape:At(Se("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),Mn),placement:Se("before","after","middle"),spacing:J,size:J,rotation:he,..._e,...Ce,...Fe},_C={value:Oe(he),text:de,shape:At(Se("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),Mn),placement:Se("inside","outside","middle"),spacing:J,size:J,rotation:he,label:{...Ln,spacing:J},..._e,...Ce,...Fe},Vw={direction:Se("horizontal","vertical"),cornerMode:Se("container","item"),cornerRadius:J,thickness:J,segmentation:{enabled:X,spacing:J,interval:{values:ft(he),step:he,count:he}},bar:{enabled:X,thickness:J,thicknessRatio:qe,...f0,..._e,...Ce,...Fe},label:{...jd,text:de,spacing:J,avoidCollisions:X,placement:Se("inside-start","outside-start","inside-end","outside-end","inside-center","bar-inside","bar-inside-end","bar-outside-end","bar-end")},tooltip:un,...ke(Zt,["listeners"])},Nd={...Vw,...ke(sl,["listeners"]),type:Oe(Qn("linear-gauge")),value:Oe(he),scale:{min:Zn(he,Al("max")),max:Zn(he,Tl("min")),label:{enabled:X,formatter:Mn,rotation:he,spacing:J,minSpacing:J,placement:Se("before","after"),avoidCollisions:X,format:nl,...Dn},interval:{values:ft(he),step:he},...f0,..._e,...Ce,...Fe},targets:yi(RC,"target options array")};Nd.margin=vt(he);Nd.defaultColorRange=vt(ft(Ie));Nd.defaultTarget=vt({...RC,value:he,label:{...Ln,spacing:he}});Nd.defaultScale=vt(Nd.scale);Nd.scale.defaultFill=vt(Ie);var Uw={outerRadius:J,innerRadius:J,outerRadiusRatio:qe,innerRadiusRatio:qe,startAngle:he,endAngle:he,spacing:J,cornerMode:Se("container","item"),cornerRadius:J,scale:{min:Zn(he,Al("max")),max:Zn(he,Tl("min")),label:{enabled:X,formatter:Mn,rotation:he,spacing:J,minSpacing:J,avoidCollisions:X,format:nl,...Dn},interval:{values:ft(he),step:he},...f0,..._e,...Ce,...Fe},segmentation:{enabled:X,spacing:J,interval:{values:ft(he),step:he,count:he}},bar:{enabled:X,...f0,..._e,...Ce,...Fe},needle:{enabled:X,spacing:J,radiusRatio:qe,..._e,...Ce,...Fe},label:{text:de,spacing:J,...jd},secondaryLabel:{text:de,...jd},tooltip:un,...Zt},Pb={...Uw,...sl,type:Oe(Qn("radial-gauge")),value:Oe(he),targets:yi(_C,"target options array")};Pb.defaultColorRange=vt(ft(Ie));Pb.defaultTarget=vt({..._C,value:he,label:{...Ln,spacing:he}});Pb.scale.defaultFill=vt(Ie);var zb=Se("millisecond","second","minute","hour","day","month","year"),bX={unit:Oe(zb),step:qx,epoch:wd,utc:X};bX.every=Mn;var PC=ws(bX,"a time interval object"),af={enabled:X,text:de,padding:he,...Dn},Sl=on({enabled:X,type:Oe(Se("line","range")),range:Zn(on((e,{options:t})=>t.type==="range","crossLine type to be 'range'"),ft(ot),yf(2,2)),value:Zn(on((e,{options:t})=>t.type==="line","crossLine type to be 'line'"),ot),label:af,fill:Ie,fillOpacity:qe,...Ce,...Fe},"cross-line options"),Nc={...Sl,label:{...af,position:Se("top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"),rotation:he}},ru={enabled:X,rotation:he,avoidCollisions:X,minSpacing:J,spacing:J,formatter:Mn,itemStyler:vn({...Dn,...Po,spacing:he}),...Dn,...Po},Fb={autoRotate:X,autoRotateAngle:he,wrapping:Se("never","always","hyphenate","on-space"),truncate:X,...ru},m4={format:nl,...Fb},$b={format:At(de,P2),...Fb},vX={enabled:X,width:J,size:J,stroke:Ie},zC={enabled:X,label:$b,tick:vX},y4={values:ft(ot),minSpacing:J},Mf={reverse:X,gridLine:{enabled:X,width:J,style:yi({fill:Ie,fillOpacity:J,stroke:At(Ie,Cw),strokeWidth:J,lineDash:ft(J)},"a grid-line style object array")},interval:y4,label:ru,line:{enabled:X,width:J,stroke:Ie},tick:vX,context:()=>!0};Mf.layoutConstraints=vt({stacked:Oe(X),align:Oe(Se("start","end")),unit:Oe(Se("percent","px")),width:Oe(J)});var au={...Mf,keys:ft(de),crossLines:yi(Nc,"a cross-line options array"),position:Se("top","right","bottom","left"),thickness:J,maxThicknessRatio:qe,title:{enabled:X,text:um,spacing:J,formatter:Mn,...Dn}};au.title._enabledFromTheme=vt(X);var Bb={enabled:X,..._e,...Ce,...Fe};function Pd(e,t){const n={enabled:X,xOffset:he,yOffset:he,formatter:Xh(de),renderer:Xh(At(de,ws({text:de,color:Ie,backgroundColor:Ie,opacity:qe},"crosshair label renderer result object")))};let s;return e&&(s={...n,format:t?At(de,ws({millisecond:de,second:de,hour:de,day:de,month:de,year:de})):de}),{enabled:X,snap:X,label:s??n,...Ce,...Fe}}function dm(e,t){return{min:Zn(e,Al("max")),max:Zn(e,Tl("min")),nice:X,interval:{step:t?At(qx,zb,PC):qx,values:ft(e),minSpacing:Zn(J,Al("maxSpacing")),maxSpacing:Zn(J,Tl("minSpacing"))}}}var x4={step:At(qx,zb,PC),values:ft(At(he,wd)),minSpacing:Zn(J,Al("maxSpacing")),maxSpacing:Zn(J,Tl("minSpacing")),placement:Se("on","between")},hm=class SX extends wb{constructor(t,n=new om,s=!0){super(t,n),this.groupPaddingInner=.1,this.includeInvisibleDomains=s,this.nice=!1}static is(t){return t instanceof SX}isCategoryLike(){return!0}hasDefinedDomain(){return!1}normaliseDataDomain(t){return{domain:t,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:t,paddingOuter:n}=this;if(!bn(t)||!bn(n)){const s=this.reduceBandScalePadding();t??(t=s.inner),n??(n=s.outer)}this.scale.paddingInner=t??0,this.scale.paddingOuter=n??0}calculateGridLines(t,n,s){const i=super.calculateGridLines(t,n,s);return this.interval.placement==="between"&&t.length>0&&i.push(super.calculateGridLine({index:t.at(-1).index+1,tickId:`after:${t.at(-1).tickId}`,translation:this.range[1]},t.length,n,s,t)),i}calculateGridLine({index:t,tickId:n,translation:s},i,r,a,o){const{gridLine:c,horizontal:u,interval:h,scale:f}=this;if(h.placement!=="between")return super.calculateGridLine({index:t,tickId:n,translation:s},i,r,a,o);const g=s<f.step?Math.floor(f.step/2):f.step/2,m=s-g,[y,b,S,C]=u?[m,Math.max(r,a),m,Math.min(r,a)]:[Math.min(r,a),m,Math.max(r,a),m],{style:M}=c,{stroke:N,strokeWidth:T=0,lineDash:E}=M[t%M.length]??{};return{tickId:n,offset:m,x1:y,y1:b,x2:S,y2:C,stroke:N,strokeWidth:T,lineDash:E}}calculateGridFills(t,n,s){const{horizontal:i,range:r,scale:a}=this;if(this.interval.placement!=="between")return super.calculateGridFills(t,n,s);const o=[];if(t.length==0)return o;const c=t[0],u=c.translation>r[0]+a.step/2,h=t[t.length-1],f=i&&h.translation<r[1]-a.step/2;if(u){const g={tickId:`before:${c.tickId}`,translation:c.translation-a.step};o.push(this.calculateGridFill(g,-1,c.index-1,n,s,t))}if(o.push(...t.map((g,m)=>this.calculateGridFill(g,m,g.index,n,s,t))),f){const g={tickId:`after:${h.tickId}`,translation:h.translation+a.step};o.push(this.calculateGridFill(g,t.length,h.index+1,n,s,t))}return o}calculateGridFill({tickId:t,translation:n},s,i,r,a,o){const{gridLine:c,horizontal:u,interval:h,scale:f}=this;if(h.placement!=="between")return super.calculateGridFill({tickId:t,translation:n},s,i,r,a,o);const g=n-f.step/2,m=n+f.step/2,[y,b,S,C]=u?[g,Math.max(r,a),m,Math.min(r,a)]:[Math.min(r,a),g,Math.max(r,a),m],{fill:M,fillOpacity:N}=c.style[i%c.style.length]??{};return{tickId:t,x1:y,y1:b,x2:S,y2:C,fill:M,fillOpacity:N}}calculateTickLines(t,n){const s=super.calculateTickLines(t,n);return this.interval.placement==="between"&&t.length>0&&s.push(super.calculateTickLine({isPrimary:!1,tickId:`after:${t.at(-1)?.tickId}`,translation:this.range[1]},t.length,n,t)),s}calculateTickLine({isPrimary:t,tickId:n,translation:s},i,r,a){const{horizontal:o,interval:c,primaryTick:u,scale:h,tick:f}=this;if(c.placement!=="between")return super.calculateTickLine({isPrimary:t,tickId:n,translation:s},i,r,a);const g=t&&u?.enabled?u:f,m=-r*this.getTickSize(g),y=s<h.step?Math.floor(h.step/2):h.step/2,b=s-y,[S,C,M,N]=o?[b,0,b,m]:[0,b,m,b],{stroke:T,width:E}=g;return{tickId:n,offset:b,x1:S,y1:C,x2:M,y2:N,stroke:T,strokeWidth:E,lineDash:void 0}}reduceBandScalePadding(){return this.boundSeries.reduce((t,n)=>{const s=n.getBandScalePadding?.();return s&&(t.inner>s.inner&&(t.inner=s.inner),t.outer<s.outer&&(t.outer=s.outer)),t},{inner:1/0,outer:-1/0})}tickFormatParams(t,n,s,i){return{type:"category"}}datumFormatParams(t,n,s,i,r){const{datum:a,seriesId:o,legendItemName:c,key:u,source:h,property:f,domain:g,boundSeries:m}=n;return Array.isArray(t)&&t.some(y=>typeof y!="string")?t=t.map(String):!Array.isArray(t)&&typeof t!="string"&&typeof t!="number"&&!(t instanceof Date)&&(t=String(t)),{type:"category",value:t,datum:a,seriesId:o,legendItemName:c,key:u,source:h,property:f,domain:g,boundSeries:m}}};hm.className="CategoryAxis";hm.type="category";D([O],hm.prototype,"groupPaddingInner",2);D([O],hm.prototype,"paddingInner",2);D([O],hm.prototype,"paddingOuter",2);var fm=hm,v$=class wX extends om{static is(t){return t instanceof wX}normalizeDomains(...t){const{domain:n}=super.normalizeDomains(...t);return{domain:n,animatable:!1}}findIndex(t){return super.findIndex(t)??this.getMatchIndex(t)}getMatchIndex(t){const n=JSON.stringify(t),s=this._domain.find(i=>JSON.stringify(i)===n);if(s!=null)return super.findIndex(s)}};function zd(e){if(e.length===0)return null;let t=1/0,n=-1/0;for(const i of e){const r=i instanceof Date?i.getTime():i;typeof r=="number"&&(r<t&&(t=r),r>n&&(n=r))}const s=[t,n];return s.every(isFinite)?s:null}function b4(e,t,n){let s=!1;const i=zd(e);if(i==null)return{extent:t!=null&&n!=null&&t<=n?[t,n]:[],clipped:!1};let[r,a]=i;return t!=null&&(s||(s=t>r),r=t),n!=null&&(s||(s=n<a),a=n),r>a?{extent:[],clipped:!1}:{extent:[r,a],clipped:s}}function FC(e,t=[0,0]){for(const n of e)typeof n=="number"&&(n<0&&(t[0]+=n),n>0&&(t[1]+=n));return t}function t6e(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:s=>FC(s)}}function CX(e,t){const n=t?.visible??!0;return{id:e,type:"aggregate",matchGroupIds:t?.matchGroupId?[t?.matchGroupId]:void 0,aggregateFunction:s=>FC(s),groupAggregateFunction:(s,i=[0,0])=>(n&&(i[0]+=s?.[0]??0,i[1]+=s?.[1]??0),i)}}function n6e(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:s=>Hu.extendDomain(s)}}function ik(e,t){const n=t?.visible??!0;return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(s,i=[0,0])=>(n&&(i[0]+=s?.[0]??0,i[1]+=s?.[1]??0),i)}}function MX(e,t){const n=t?.visible??!0;return{id:e,matchGroupIds:t?.matchGroupId?[t?.matchGroupId]:void 0,type:"aggregate",aggregateFunction:i=>FC(i),groupAggregateFunction:(i,r=[0,0,-1])=>(n&&(r[0]+=i?.[0]??0,r[2]++,r[1]+=i?.[1]??0),r),finalFunction:(i=[0,0,0])=>{const r=i[0]+i[1];return r>=0?[0,r/i[2]]:[r/i[2],0]}}}function rk(e,t,n){const s={id:e,matchGroupIds:n?[n]:void 0,type:"aggregate",aggregateFunction:(i,r=[])=>{const a=r[1]-r[0];return t.aggregateFunction(i).map(o=>o/a)}};return t.groupAggregateFunction&&(s.groupAggregateFunction=t.groupAggregateFunction),s}function jX(e){return()=>{let t=0;return n=>bn(n)?(t+=e?Math.max(0,n):n,t):n}}function NX(){return()=>{let e=0;return t=>{if(!bn(t))return t;const n=e;return e+=t,n}}}var s6e=1e3;function pm(e){return e.input.count<=s6e}function AX(e){return e!=null&&lC(e)}function i6e(e){return e!=null}function TX(e){switch(e){case"number":case"log":case"time":case"unit-time":case"ordinal-time":case"color":return AX;default:return i6e}}function EX(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function dd(e,t,n={}){return{property:e,type:"key",valueType:EX(t),validation:TX(t),...n}}function qn(e,t,n={}){return{property:e,type:"value",valueType:EX(t),validation:TX(t),...n}}function DX(e,t={}){return{property:e,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1,...t}}var r6e=function(e){return e};function kX(...e){const t=e.filter(n=>n!=null);return t.length===0?()=>r6e:t.length===1?t[0]:()=>{const n=t.map(s=>s());return(s,i)=>n.reduce((r,a)=>a(r,i),s)}}function IX(e,t={}){const{min:n=-1/0,max:s=1/0,processor:i,...r}=t;return{type:"value",property:e,valueType:"range",validation:AX,processor:kX(i,()=>a=>bn(a)?wt(n,a,s):a),...r}}function ak(e,t,n={}){const{onlyPositive:s,processor:i,...r}=n;return{...qn(e,t,r),processor:kX(i,jX(s))}}function a6e(e,t,n={}){return{...qn(e,t,n),processor:NX()}}function p0(e,t,n,s,i){return[qn(e,i,s),_X(s.groupId,t,n,s.separateNegative),...s.rangeId!=null?[n6e(s.rangeId,s.groupId)]:[]]}var LX={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,n)=>{const s=typeof n[0]=="number"?n[0]:Number(n[0]),i=Math.abs(s-e);return e=s,!isNaN(i)&&i>0&&i<t?i:t}}},OX={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return(t=-1/0,n)=>{const s=typeof n[0]=="number"?n[0]:Number(n[0]),i=Math.abs(s-e);return e=s,!isNaN(i)&&i>0&&i>t?i:t}}},RX={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>e?.slice().sort((t,n)=>{for(let s=0;s<t.length;s++){const i=t[s]-n[s];if(i!==0)return i}return 0})};function o6e({normaliseTo:e}){const t=(n,s)=>{if(s===0)return 0;const i=(n??0)*e/s;return i>=0?Math.min(e,i):Math.max(-e,i)};return()=>()=>(n,s,i)=>{const r=l6e(n,s,i);for(const a of s){const o=i.datumIndices[a];if(o!=null)for(const c of o){const u=n[a],h=u[c];if(h==null){u[c]=void 0;continue}u[c]=t(h,r)}}}}function l6e(e,t,n){const s=[0,0];for(const i of t){const r=e[i],a=n.datumIndices[i];if(a!=null)for(const o of a){const c=r[o];if(c==null)continue;const u=typeof c=="number"?c:Math.max(...c.map(f=>f??0)),h=u<0?0:1;h===0?s[h]=Math.min(s[h],u):s[h]=Math.max(s[h],u)}}return Math.max(Math.abs(s[0]),s[1])}function $C(e,t){return{type:"group-value-processor",matchGroupIds:e,adjust:t0({normaliseTo:t},o6e)}}function c6e({normaliseTo:e,zeroDomain:t,rangeMin:n,rangeMax:s}){const i=e[1]-e[0],r=(a,o,c)=>{const u=e[0]+(a-o)/c*i;return c===0?t:u>=e[1]?e[1]:u<e[0]?e[0]:u};return()=>(a,o)=>{let[c,u]=a.domain.values[o];n!=null&&(c=n),s!=null&&(u=s);const h=u-c;a.domain.values[o]=[e[0],e[1]];const f=a.columns[o];for(let g=0;g<f.length;g+=1)f[g]=r(f[g],c,h)}}function LS(e,t,n,s,i){return{type:"property-value-processor",property:e,adjust:t0({normaliseTo:t,rangeMin:s,rangeMax:i,zeroDomain:n},c6e)}}var fx=1,Hw=2;function S$(e,t,n,s){let i=fx|Hw;if(t.valueType==="category")return n.length<e&&(i&=~fx),i;let r=s[0]?.valueOf();for(let a=1;i!==0&&a<s.length;a++){const o=s[a]?.valueOf();(!Number.isFinite(o)||r>o)&&(i&=~Hw),Number.isFinite(o)&&r===o&&(i&=~fx),r=o}return i}function Vb(e){return{type:"processor",property:"animationValidation",calculate(t){if(!pm(t))return;const{keys:n,values:s}=t.defs,{input:i,domain:{keys:r,values:a},keys:o,columns:c,invalidKeyCount:u}=t;let h=fx|Hw;if(i.count!==0){for(let f=0;h!==0&&f<n.length;f++)for(const g of n[f].scopes){const m=o[f].get(g),y=u?.get(g)??0,b=m.length-y;h&=S$(b,n[f],r[f],m)}for(let f=0;h!==0&&f<s.length;f++){const g=s[f];e?.includes(g.id)&&(h&=S$(0,g,a[f],c[f]))}}return{uniqueKeys:(h&fx)!==0,orderedKeys:(h&Hw)!==0}}}}function u6e({mode:e,separateNegative:t}){return()=>()=>(n,s,i)=>{const r=[0,0];for(const a of s){const o=i.datumIndices[a];if(o==null)continue;const c=r[0],u=r[1],h=n[a];let f=!1;for(const g of o){const m=h[g];if(!bn(m))continue;const y=t&&eO(m),b=y?c:u;if(e==="normal"?h[g]=b+m:h[g]=b,!f){const S=y?0:1;r[S]=b+m,f=!0}}}}}function d6e({mode:e,sum:t}){return()=>{const n=[];let s=!0;return()=>(i,r,a)=>{let o=0;for(const c of r){const u=i[c],h=a.datumIndices[c];if(h!=null)for(const f of h){const g=u[f],m=s&&t==="current"?0:n[c];n[c]=g;const y=t==="current"?g:m;if(!bn(g)||!bn(m)){u[f]=o;continue}e==="normal"&&(o+=y),u[f]=o,e==="trailing"&&(o+=y)}}s=!1}}}function _X(e,t,n,s=!1){let i;if(t.startsWith("window")){const r=t.endsWith("-trailing")?"trailing":"normal";i=t0({mode:r,sum:n},d6e)}else i=t0({mode:t,separateNegative:s},u6e);return{type:"group-value-processor",matchGroupIds:[e],adjust:i}}function w$(e){return e.id??e.property}function h6e(e,t,n){const s=new Map,i=t.defs.values;for(let o=0;o<i.length;o+=1){const c=i[o];if(c.scopes?.includes(e)===!1)continue;const u=w$(c);if(s.has(u))return;s.set(u,o)}const r=[],a=n.defs.values;for(let o=0;o<a.length;o+=1){const c=a[o];if(c.scopes?.includes(e)===!1)continue;const u=w$(c),h=s.get(u);if(h==null)return;s.delete(u),r.push({previousIndex:h,nextIndex:o})}if(s.size===0)return r}function YT(e,t,n,s,i){for(const{previousIndex:r,nextIndex:a}of n){const o=e[r],c=t[a],u=o[s],h=c[i];if(u!==h)return!1}return!0}function BC(e,t,n=!0){return{type:"processor",property:"diff",calculate(s,i){if(!pm(s))return;const r=new Map,a=new Map,o=new Map,c=new Map,u=t.keys.map(C=>C.get(e)),h=s.keys.map(C=>C.get(e)),f=t.columns,g=s.columns,m=h6e(e,t,s);if(m==null)return i;const y=Math.max(t.input.count,s.input.count);for(let C=0;C<y;C++){const M=C<t.input.count,N=C<s.input.count,T=M?Ow(u,C):void 0,E=T!=null?ur(...T):"",k=N?Ow(h,C):void 0,L=k!=null?ur(...k):"";if(N&&M&&E===L){YT(f,g,m,C,C)||o.set(L,C);continue}const I=c.get(L);I!=null?((n||!YT(f,g,m,I,C))&&(o.set(L,C),r.set(L,C)),c.delete(L)):N&&a.set(L,C);const _=a.get(E);_!=null?((n||!YT(f,g,m,_,C))&&(o.set(E,C),r.set(E,C)),a.delete(E)):M&&(o.delete(E),c.set(E,C))}const S={changed:a.size>0||o.size>0||c.size>0,added:new Set(a.keys()),updated:new Set(o.keys()),removed:new Set(c.keys()),moved:new Set(r.keys())};return{...i,[e]:S}}}}function ur(...e){if(e.length===1){const t=GD(e[0]);if(typeof t=="boolean"||typeof t=="number"||typeof t=="string")return t}return e.map(t=>GD(t)).join("___")}var f6e=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){e>this.right&&(this.right=e),e<this.left&&(this.left=e),t>this.bottom&&(this.bottom=t),t<this.top&&(this.top=t)}},p6e=class PX{constructor(t="",n,s){this.label=t,this.parent=n,this.refId=s,this.position=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screen=0,this.depth=n?n.depth+1:0}insertTick(t,n){let s=this,i;for(let r=0;r<t.length;r++){const a=t[r],o=r!==t.length-1,{children:c}=s,u=c.find(h=>h.label===a);if(u&&o)s=u,i=u;else{const h=new PX(a,s,n);h.index=c.length,c.push(h),o&&(s=h),i=h}}return i}getLeftSibling(){return this.index>0?this.parent?.children[this.index-1]:void 0}getLeftmostSibling(){return this.index>0?this.parent?.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){return this.parent?.children.filter((t,n)=>n!==this.index)??[]}};function g6e(e){const t=e.reduce((i,r)=>i<r.length?r.length:i,0),n=new p6e,s=new Map;for(let i=0;i<e.length;i++){const r=e[i];for(;r.length<t;)r.push("");const a=n.insertTick(r,i);a!=null&&s.set(r,a)}return{root:n,tickNodes:s}}function m6e(e,t,n){const s=t.index-e.index,i=n/s;t.change-=i,t.shift+=n,e.change+=i,t.prelim+=n,t.mod+=n}function y6e(e,t,n){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:n}function x6e({children:e}){let t=0,n=0;for(let s=e.length-1;s>=0;s--){const i=e[s];i.prelim+=t,i.mod+=t,n+=i.change,t+=i.shift+n}}function b6e(e,t){const n=e.getLeftSibling();if(n){let s=e,i=e,r=n,a=i.getLeftmostSibling(),o=i.mod,c=s.mod,u=r.mod,h=a.mod;for(;r.nextRight()&&i.nextLeft();){r=r.nextRight(),i=i.nextLeft(),a=a.nextLeft(),s=s.nextRight(),s.ancestor=e;const f=r.prelim+u-(i.prelim+o)+1;f>0&&(m6e(y6e(r,e,t),e,f),o+=f,c+=f),u+=r.mod,o+=i.mod,h+=a.mod,c+=s.mod}r.nextRight()&&!s.nextRight()?s.mod+=u-c:(i.nextLeft()&&!a.nextLeft()&&(a.mod+=o-h),t=e)}return t}function zX(e){const{children:t}=e;if(t.length){let[n]=t;for(const r of t)zX(r),n=b6e(r,n);x6e(e);const s=(t[0].prelim+t.at(-1).prelim)/2,i=e.getLeftSibling();i?(e.prelim=i.prelim+1,e.mod=e.prelim-s):e.prelim=s}else{const n=e.getLeftSibling();e.prelim=n?n.prelim+1:0}}function FX(e,t,n){e.position=e.prelim+t,n.insertNode(e);for(const s of e.children)FX(s,t+e.mod,n)}function $X(e){const{children:t}=e;let n=0;for(const s of t)$X(s),s.children.length?n+=s.leafCount:n++;e.leafCount=n,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[t.length-1].subtreeRight,e.position=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.position,e.subtreeRight=e.position)}function v6e(e){const t=new S6e,{root:n,tickNodes:s}=g6e(e);return zX(n),FX(n,-n.prelim,t),$X(n),{layout:t,tickNodes:s}}var S6e=class{constructor(){this.dimensions=new f6e,this.nodes=[],this.depth=0}insertNode(e){this.depth<e.depth&&(this.depth=e.depth),this.dimensions.update(e.position,e.depth),this.nodes.push(e)}scaling(e,t){let n=1;if(e>0){const{left:s,right:i}=this.dimensions;i!==s&&(n=e/(i-s))}return t&&(n*=-1),n}},Gy=5,pr=class extends mt{constructor(){super(...arguments),this.enabled=!0,this.border=new bf}};D([O],pr.prototype,"enabled",2);D([O],pr.prototype,"avoidCollisions",2);D([O],pr.prototype,"border",2);D([O],pr.prototype,"color",2);D([O],pr.prototype,"cornerRadius",2);D([O],pr.prototype,"spacing",2);D([O],pr.prototype,"rotation",2);D([O],pr.prototype,"wrapping",2);D([O],pr.prototype,"truncate",2);D([O],pr.prototype,"fill",2);D([O],pr.prototype,"fontStyle",2);D([O],pr.prototype,"fontWeight",2);D([O],pr.prototype,"fontSize",2);D([O],pr.prototype,"fontFamily",2);D([O],pr.prototype,"padding",2);var VC=class extends mt{constructor(){super(...arguments),this.enabled=!0}};D([O],VC.prototype,"enabled",2);D([O],VC.prototype,"width",2);D([O],VC.prototype,"stroke",2);var v4=class extends mt{constructor(){super(...arguments),this.label=new pr,this.tick=new VC}};D([O],v4.prototype,"label",2);D([O],v4.prototype,"tick",2);var jf=class extends fm{constructor(e){super(e,new v$),this.tickScale=new v$,this.computedLayout=void 0,this.tickTreeLayout=void 0,this.tickNodes=void 0,this.depthOptions=new sm(v4),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;const{nodes:e}=this.tickTreeLayout,{range:t,step:n,inset:s,bandwidth:i}=this.scale,r=Math.abs(t[1]-t[0])-n,a=this.tickTreeLayout.scaling(r,t[0]>t[1]),o=s+i/2;let c=0;for(const u of e){const h=u.position*a;c>h&&(c=h),u.screen=h+o}for(const u of e)u.screen-=c}getDepthOptionsMap(e){const t=[],{depthOptions:n,label:s}=this,i=this.horizontal?0:-90;for(let r=0;r<e;r++)t.push(n[r]?.label.enabled??s.enabled?{enabled:!0,spacing:n[r]?.label.spacing??s.spacing,wrapping:n[r]?.label.wrapping??s.wrapping,truncate:n[r]?.label.truncate??s.truncate,rotation:n[r]?.label.rotation??(r?i:s.rotation),avoidCollisions:n[r]?.label.avoidCollisions??s.avoidCollisions}:{enabled:!1,spacing:0,rotation:0,avoidCollisions:!1});return t}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((e,t)=>{e.fill=t.color,e.text=t.text,e.textBaseline=t.textBaseline,e.textAlign=t.textAlign??"center",e.setFont(t),e.setBoxing(t)})}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){this.updateDirection(),this.updateScale();const{step:e}=this.scale,{title:t,label:n,range:s,depthOptions:i,horizontal:r,line:a}=this;if(this.lineNode.datum=r?{x1:s[0],x2:s[1],y1:0,y2:0}:{x1:0,x2:0,y1:s[0],y2:s[1]},this.lineNode.setProperties({stroke:a.stroke,strokeWidth:a.enabled?a.width:0}),this.resizeTickTree(),!this.tickTreeLayout?.depth)return{bbox:Pe.zero,spacing:0,depthLabelMaxSize:{},tickLabelLayout:[]};const{depth:o,nodes:c}=this.tickTreeLayout,u=r?-n.getSideFlag():n.getSideFlag(),h=[],f=new Map,g=new Ng,m=this.getDepthOptionsMap(o),y=u*m[0].spacing,b=this.tickFormatter(this.scale.domain,this.scale.domain,!1),S=(I,_)=>{const F=o-I.depth;if(!m[F]?.enabled||!BOe(I.screen,s))return!1;let G=(I.leafCount||1)*e;if(G<Gy)return!1;let U=b(I.label,_-1);const H=this.getLabelStyles({value:I.index,formattedValue:U,depth:F},i[F]?.label);if(n.avoidCollisions){const z=m[F].rotation;let $=this.thickness;if(z!=null){const B=A4e(z,G,$);G=B.width,$=B.height}const P={font:H,textWrap:m[F].wrapping,overflow:m[F].truncate?"ellipsis":"hide",maxWidth:G,maxHeight:$};U=Pt(U)?fO(U,P):hO(U,P)||U}return g.x=r?I.screen:y,g.y=r?y:I.screen,g.rotation=0,g.fill=H.color,g.text=U,g.textAlign="center",g.textBaseline=n.parallel?"top":"bottom",g.setFont(H),g.setBoxing(H),!0},C={};c.forEach((I,_)=>{const F=o-I.depth;if(C[F]??(C[F]=0),!I.children.length&&e<Gy||!S(I,_)||!g.getBBox())return;f.set(_,g.getBBox()),g.rotation=Wc(m[F]?.rotation);const{width:H,height:z}=g.getBBox(),$=r?z:H;C[F]<$&&(C[F]=$)});const M=a4(),N=I=>{if(I===0)return 0;let _=C[0];for(let F=1;F<=I;F++)_+=m[F].spacing,F!==I&&(_+=C[F]);return _};c.forEach((I,_)=>{if(_===0)return;const F=S(I,_),G=!I.children.length,U=o-I.depth;if(G&&e<Gy||!F)return;const H=Wc(m[U].rotation),z=f.get(_);if(!z)return;const{width:$,height:P}=z,B=N(U);if(g.textAlign="center",g.textBaseline="middle",g.rotation=H,r?(g.y+=(B+OD($/2,P/2,H))*u,g.rotationCenterX=I.screen,g.rotationCenterY=g.y):(g.x+=B*u+OD((m[U].spacing*u+$)/2,n.mirrored?$:0,H)-$/2,g.rotationCenterX=g.x,g.rotationCenterY=I.screen),m[U].avoidCollisions){const{width:te,height:se}=g.getBBox(),fe=r?te:se,oe=G?e:I.leafCount*e;if(fe>oe){f.delete(_);return}}const Y=g.getPlainText(),K=g.getBoxingProperties();h.push({text:Y,visible:!0,tickId:M(Y),range:this.scale.range,border:K.border,color:g.fill,cornerRadius:K.cornerRadius,fill:K.fill,fontFamily:g.fontFamily,fontSize:g.fontSize,fontStyle:g.fontStyle,fontWeight:g.fontWeight,padding:K.padding,rotation:g.rotation,rotationCenterX:g.rotationCenterX,rotationCenterY:g.rotationCenterY,textAlign:g.textAlign,textBaseline:g.textBaseline,x:g.x,y:g.y}),f.set(_,vs.toCanvas(g))});let T=C[0];for(let I=0;I<o;I++)T+=m[I].spacing,I!==0&&(T+=C[I]);const E=[this.lineNodeBBox(),Pe.merge(f.values()),new Pe(0,0,T*u,0)];let k=0;if(t.enabled){const I=Pe.merge(E);k=r?I.height:I.width,E.push(this.titleBBox(this.scale.domain,k))}const L=Pe.merge(E);return this.layoutCrossLines(),{bbox:L,spacing:k,depthLabelMaxSize:C,tickLabelLayout:h}}update(){if(!this.computedLayout)return;this.moduleCtx.animationManager.skipCurrentBatch();const{tickScale:e,tick:t,gridLine:n,gridLength:s,visibleRange:i,tickTreeLayout:r}=this;if(!r)return;const{depthLabelMaxSize:a,spacing:o}=this.computedLayout,{depth:c}=r,u=this.getDepthOptionsMap(c),{position:h,horizontal:f,gridPadding:g}=this,m=h==="bottom"||h==="right"?-1:1,y=g,b=m*s-g;let S;if(e.step>Gy){const M={nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0};S=e.ticks(M,void 0,i).ticks}else S=[];const C=S.map((M,N)=>({index:e.findIndex(M),tickId:ur(N,...M),translation:Math.round(e.convert(M))}));this.gridLineGroupSelection.update(n.enabled&&s?this.calculateGridLines(C,y,b):[]),this.gridFillGroupSelection.update(n.enabled&&s?this.calculateGridFills(C,y,b):[]),this.tickLineGroupSelection.update(t.enabled?S.map((M,N)=>{const{tickId:T,translation:E}=C[N],k=this.tickNodes?.get(M),L=k!=null?Math.min(w6e(k),c-1):c-1,I=this.depthOptions[L]?.tick;let _=a[0];for(let Y=0;Y<=L;Y++)_+=u[Y].spacing,Y!==0&&(_+=a[Y]);const F=I?.stroke??t.stroke,G=I?.enabled!==!1?I?.width??t.width:0,U=-m*_,[H,z,$,P]=f?[E,E,0,U]:[0,U,E,E];return{tickId:T,offset:E,x1:H,y1:$,x2:z,y2:P,stroke:F,strokeWidth:G,lineDash:void 0}}):[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateGridFills(),this.updateTickLines(),this.updateTitle(this.scale.domain,o),this.updateCrossLines(),this.resetSelectionNodes()}calculateLayout(){const{depthLabelMaxSize:e,tickLabelLayout:t,spacing:n,bbox:s}=this.computeLayout();return this.computedLayout={depthLabelMaxSize:e,tickLabelLayout:t,spacing:n},{bbox:s,niceDomain:this.scale.domain}}onGridVisibilityChange(){super.onGridVisibilityChange(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){const{direction:e}=this,t=this.boundSeries.filter(c=>c.visible).flatMap(c=>c.getDomain(e));this.dataDomain={domain:zd(t)??this.filterDuplicateArrays(t),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();const n=this.dataDomain.domain.map(C$),{layout:s,tickNodes:i}=v6e(n);this.tickTreeLayout=s,this.tickNodes=i;const r=[];for(const c of this.tickTreeLayout.nodes)c.leafCount||c.refId==null||r.push(this.dataDomain.domain[c.refId]);const a=E4e(this.dataDomain.domain,r);this.scale.domain=a;const o=a.map(C$);o.push([""]),this.tickScale.domain=o}filterDuplicateArrays(e){const t=new Set;return e.filter(n=>{const s=Pt(n)?JSON.stringify(n):n;return t.has(s)?!1:(t.add(s),!0)})}};jf.className="GroupedCategoryAxis";jf.type="grouped-category";D([O],jf.prototype,"depthOptions",2);function w6e(e){let t=0,n=e;for(;n?.index===0;)t+=1,n=n.parent;return t}function C$(e){return Mw(En(e)&&"value"in e?e.value:e)}var C6e={2:(e,t)=>Math.log2(t),[Math.E]:(e,t)=>Math.log(t),10:(e,t)=>Math.log10(t)},M6e=(e,t)=>Math.log(t)/Math.log(e);function KT(e,t,n){const s=Math.min(...t),i=C6e[e]??M6e;return s>=0?i(e,n):-i(e,-n)}var j6e={[Math.E]:(e,t)=>Math.exp(t),10:(e,t)=>t>=0?10**t:1/10**-t},N6e=(e,t)=>e**t;function qT(e,t,n){const s=Math.min(...t),i=j6e[e]??N6e;return s>=0?i(e,n):-i(e,-n)}var S4=class BX extends jn{constructor(t=[1,10],n=[0,1]){super(t,n),this.type="log",this.defaultClamp=!0,this.base=10,this.log=s=>KT(this.base,this.domain,s),this.pow=s=>qT(this.base,this.domain,s)}static is(t){return t instanceof BX}transform(t){const[n,s]=pi(this.domain);return n>=0!=s>=0?NaN:n>=0?Math.log(t):-Math.log(-t)}transformInvert(t){const[n,s]=pi(this.domain);return n>=0!=s>=0?NaN:n>=0?Math.exp(t):-Math.exp(-t)}toDomain(t){return t}niceDomain(t,n=this.domain){if(n.length<2)return[];const{base:s}=this,[i,r]=n,a=i>r?Math.ceil:Math.floor,o=i>r?Math.floor:Math.ceil,c=qT(s,n,a(KT(s,n,i))),u=qT(s,n,o(KT(s,n,r)));return[c,u]}ticks({interval:t,tickCount:n=jn.defaultTickCount},s=this.domain,i){if(!s||s.length<2||n<1)return;const r=this.base,[a,o]=s,c=Math.min(a,o),u=Math.max(a,o);let h=this.log(c),f=this.log(u);if(t){const S=k=>k>=c&&k<=u,C=Math.min(Math.abs(t),Math.abs(f-h)),{ticks:M,count:N,firstTickIndex:T}=fC(h,f,C,i),E=M.map(this.pow).filter(S);if(!Lg(E.length,this.getPixelRange()))return{ticks:E,count:N,firstTickIndex:T}}if(!VOe(r)||f-h>=n){const S=Math.min(f-h,n),{ticks:C,count:M,firstTickIndex:N}=Sb(h,f,S,void 0,void 0,i);return{ticks:C.map(this.pow),count:M,firstTickIndex:N}}const g=[],m=c>0;h=Math.floor(h)-1,f=Math.round(f)+1;const y=sf(this.range)/n;let b=1/0;for(let S=h;S<=f;S++){const C=this.convert(this.pow(S+1));for(let M=1;M<r;M++){const N=m?M:r-M+1,T=this.pow(S)*N,E=this.convert(T),k=Math.abs(b-E),L=Math.abs(E-C),I=k>=y&&L>=y;T>=c&&T<=u&&(M===1||I||g.length===0)&&(g.push(T),b=E)}}return MQ(g,m,i)}},Gh=class ok extends jn{constructor(){super([0,1],[0,1]),this.type="number"}static is(t){return t instanceof ok}static getTickStep(t,n,s){const{interval:i,tickCount:r=jn.defaultTickCount,minTickCount:a,maxTickCount:o}=s;return i??c0(t,n,r,a,o)}toDomain(t){return t}ticks({interval:t,tickCount:n=jn.defaultTickCount,minTickCount:s,maxTickCount:i},r=this.domain,a){if(!r||r.length<2||n<1||!r.every(isFinite))return{ticks:[],count:0,firstTickIndex:0};const[o,c]=r;if(t){const u=Math.abs(t);if(!Lg((c-o)/u,this.getPixelRange()))return fC(o,c,u,a)}return Sb(o,c,n,s,i,a)}niceDomain(t,n=this.domain){if(n.length<2)return[];const{tickCount:s=jn.defaultTickCount}=t;let[i,r]=n;if(s===1)[i,r]=EQ(i,r);else if(s>1){const a=i>r?Math.ceil:Math.floor,o=i>r?Math.floor:Math.ceil,c=4;for(let u=0;u<c;u++){const h=i,f=r,g=ok.getTickStep(i,r,t),[m,y]=n;if(i=a(m/g)*g,r=o(y/g)*g,i===h&&r===f)break}}return[i,r]}},Na=class extends wb{constructor(e,t=new Gh){super(e,t)}hasDefinedDomain(){const{min:e,max:t}=this;return e!=null&&t!=null&&e<t}normaliseDataDomain(e){const{min:t,max:n}=this,{extent:s,clipped:i}=b4(e,t,n);return{domain:s,clipped:i}}tickFormatParams(e,t,n){return{type:"number",fractionDigits:n}}datumFormatParams(e,t,n){const{datum:s,seriesId:i,legendItemName:r,key:a,source:o,property:c,domain:u,boundSeries:h}=t;return{type:"number",value:e,datum:s,seriesId:i,legendItemName:r,key:a,source:o,property:c,domain:u,boundSeries:h,fractionDigits:n}}};Na.className="NumberAxis";Na.type="number";D([O],Na.prototype,"min",2);D([O],Na.prototype,"max",2);var Nf=class extends Na{normaliseDataDomain(e){const{min:t,max:n}=this,{extent:s,clipped:i}=b4(e,t,n);return s[0]<0&&s[1]>0||e[0]<0&&e[1]>0?(Ne.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:i}):s[0]===0||s[1]===0||e[0]===0||e[1]===0?(Ne.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:i}):{domain:s,clipped:i}}set base(e){this.scale.base=e}get base(){return this.scale.base}constructor(e){super(e,new S4)}};Nf.className="LogAxis";Nf.type="log";var gm=class extends mt{constructor(){super(...arguments),this.enabled=!1,this.label=new ts,this.tick=new Sf}};D([O],gm.prototype,"enabled",2);D([O],gm.prototype,"label",2);D([O],gm.prototype,"tick",2);var ou=class extends wb{constructor(e){super(e,new Og),this.parentLevel=new gm,this.min=void 0,this.max=void 0}get _unit(){}set _unit(e){Ne.warnOnce("To use 'unit', use an axis with type 'unit-time' instead of 'time'.")}hasDefinedDomain(){const{min:e,max:t}=this;return e!=null&&t!=null&&e<t}isCategoryLike(){return!1}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}normaliseDataDomain(e){return w4(e,this.min,this.max)}processData(){super.processData();const{boundSeries:e,direction:t,min:n,max:s}=this;this.minimumTimeGranularity=VX(e,t,n,s)}tickFormatParams(e,t,n,s){s??(s=t4(t));const i=n4(e),r=Kc(s),a=Md(s),o=l0(s);return{type:"date",unit:r,step:a,epoch:o,truncateDate:i}}datumFormatParams(e,t,n,s,i){if(typeof e=="number"&&(e=new Date(e)),s==null){const{minimumTimeGranularity:S}=this,C=dC(e);S!=null&&Hr(S)<Hr(C)?s=S:s=C}const{datum:r,seriesId:a,legendItemName:o,key:c,source:u,property:h,domain:f,boundSeries:g}=t,m=Kc(s),y=Md(s),b=l0(s);return{type:"date",value:e,datum:r,seriesId:a,legendItemName:o,key:c,source:u,property:h,domain:f,boundSeries:g,unit:m,step:y,epoch:b,style:i}}};ou.className="TimeAxis";ou.type="time";D([O],ou.prototype,"parentLevel",2);D([O],ou.prototype,"min",2);D([O],ou.prototype,"max",2);D([O,Is("_unit")],ou.prototype,"unit",2);function VX(e,t,n,s){const i=e.reduce((r,a)=>Math.min(a.minTimeInterval()??1/0,r),1/0);return Number.isFinite(i)?vb(i):UX(e,t,n,s)?.unit}function UX(e,t,n,s){let i=1/0,r=-1/0,a,o=0;const c=[];for(const g of e){if(!g.visible)continue;const{domain:m}=w4(g.getDomain(t),void 0,void 0);if(m.length===0)continue;const y=m[0].valueOf(),b=m[m.length-1].valueOf();c.push(y,b),i=Math.min(i??1/0,y,b),r=Math.max(r??-1/0,y,b);const S=Math.abs(b-y);if(S===0)continue;const C=g.dataCount();if(o=Math.max(o,C),C<=1)continue;const M=S/(C-1);a=Math.min(a??1/0,M)}if(i=Math.min(i,n?.valueOf()??1/0,s?.valueOf()??1/0),r=Math.max(r,n?.valueOf()??-1/0,s?.valueOf()??-1/0),!Number.isFinite(i)||!Number.isFinite(r))return;a??(a=Math.abs(r-i)),a=Math.min(a,A6e(c));const u=vb(a);let h=a/Hr(u);o<=2?h=Math.floor(h):h=Math.round(h),h=Math.max(h,1);const f=h===1?void 0:Ja(u,i);return{unit:u,step:h,epoch:f}}function A6e(e){e.sort((n,s)=>n-s);let t=1/0;for(let n=1;n<e.length;n++){const s=e[n-1],i=e[n];i-s>0&&(t=Math.min(t,Math.abs(i-s)))}return t}function w4(e,t,n){let s=!1;typeof t=="number"&&(t=new Date(t)),typeof n=="number"&&(n=new Date(n));const i=zd(e)?.map(o=>new Date(o));if(i==null)return{domain:t!=null&&n!=null&&t.valueOf()<=n.valueOf()?[t,n]:[],clipped:!1};let[r,a]=i;return t instanceof Date&&(s||(s=t>r),r=t),n instanceof Date&&(s||(s=n<a),a=n),r>a?{domain:[],clipped:!1}:{domain:[r,a],clipped:s}}var HX=class extends fm{calculateGridLine({index:e,tickId:t,translation:n},s,i,r,a){const{gridLine:o,horizontal:c,interval:u,range:h}=this;if(u.placement!=="between")return super.calculateGridLine({index:e,tickId:t,translation:n},s,i,r,a);const f=a[s-1],g=f?n-(n-f.translation)/2:h[0],[m,y,b,S]=c?[g,Math.max(i,r),g,Math.min(i,r)]:[Math.min(i,r),g,Math.max(i,r),g],{style:C}=o,{stroke:M,strokeWidth:N=0,lineDash:T}=C[e%C.length]??{};return{tickId:t,offset:g,x1:m,y1:y,x2:b,y2:S,stroke:M,strokeWidth:N,lineDash:T}}calculateGridFills(e,t,n){return this.interval.placement!=="between"?super.calculateGridFills(e,t,n):e.map((s,i)=>this.calculateGridFill(s,i,s.index,t,n,e))}calculateGridFill({tickId:e,translation:t},n,s,i,r,a){const{gridLine:o,horizontal:c,interval:u,range:h}=this;if(u.placement!=="between")return super.calculateGridFill({tickId:e,translation:t},n,s,i,r,a);const f=a[n-1],g=a[n+1],m=f?t-(t-f.translation)/2:h[0],y=g?t+(g.translation-t)/2:h[1],[b,S,C,M]=c?[m,Math.max(i,r),y,Math.min(i,r)]:[Math.min(i,r),m,Math.max(i,r),y],{fill:N,fillOpacity:T}=o.style[s%o.style.length]??{};return{tickId:e,x1:b,y1:S,x2:C,y2:M,fill:N,fillOpacity:T}}calculateTickLine({isPrimary:e,tickId:t,translation:n},s,i,r){const{horizontal:a,interval:o,primaryTick:c,range:u,tick:h}=this;if(o.placement!=="between")return super.calculateTickLine({isPrimary:e,tickId:t,translation:n},s,i,r);const f=e&&c?.enabled?c:h,g=-i*this.getTickSize(f),m=r[s-1],y=m?n-(n-m.translation)/2:u[0],[b,S,C,M]=a?[y,0,y,g]:[0,y,g,y],{stroke:N,width:T}=f;return{tickId:t,offset:y,x1:b,y1:S,x2:C,y2:M,stroke:N,strokeWidth:T,lineDash:void 0}}},Fd=class extends HX{constructor(e){super(e,new Ju,!1),this.parentLevel=new gm,this.min=void 0,this.max=void 0,this.unit=void 0,this.defaultUnit=void 0}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}hasDefinedDomain(){const{min:e,max:t}=this;return e!=null&&t!=null&&e<t}isCategoryLike(){return!0}processData(){super.processData();let e;const{domain:t}=this.dataDomain;if(t.length===2&&t[0].valueOf()===t[1].valueOf())e=dC(t[0]);else{const{boundSeries:n,direction:s,min:i,max:r}=this;e=UX(n,s,i,r)}Cr(this.defaultUnit,e)||(this.defaultUnit=e)}updateScale(){super.updateScale(),this.scale.interval=this.unit??this.defaultUnit}normaliseDataDomain(e){return w4(e,this.min,this.max)}tickFormatParams(e,t,n,s){s??(s=t4(t));const i=n4(e),r=Kc(s),a=Md(s),o=l0(s);return{type:"date",unit:r,step:a,epoch:o,truncateDate:i}}datumFormatParams(e,t,n,s,i){const r=this.unit??this.defaultUnit??"millisecond";s??(s=r);const{datum:a,seriesId:o,legendItemName:c,key:u,source:h,property:f,domain:g,boundSeries:m}=t,y=Kc(s),b=Md(s),S=l0(s);return{type:"date",value:Ja(r,e),datum:a,seriesId:o,legendItemName:c,key:u,source:h,property:f,domain:g,boundSeries:m,unit:y,step:b,epoch:S,style:i}}};Fd.className="UnitTimeAxis";Fd.type="unit-time";D([O],Fd.prototype,"parentLevel",2);D([O],Fd.prototype,"min",2);D([O],Fd.prototype,"max",2);D([O],Fd.prototype,"unit",2);var _p={...au,...dm(he),type:Oe(Qn("number")),label:m4,crosshair:Pd(!0)},Pp={...au,...dm(he),type:Oe(Qn("log")),base:Zn(qx,on(e=>e!==1,"not equal to 1")),label:m4,crosshair:Pd(!0)},zp={...au,...dm(At(he,wd),!0),type:Oe(Qn("time")),label:$b,parentLevel:zC,crosshair:Pd(!0,!0)},Fp={...au,type:Oe(Qn("category")),label:Fb,paddingInner:qe,paddingOuter:qe,groupPaddingInner:qe,crosshair:Pd(),bandHighlight:Bb,interval:{...y4,placement:Se("on","between")}},$p={...au,type:Oe(Qn("grouped-category")),label:Fb,crosshair:Pd(),bandHighlight:Bb,paddingInner:qe,groupPaddingInner:qe,depthOptions:yi({label:{enabled:X,avoidCollisions:X,wrapping:Se("never","always","hyphenate","on-space"),truncate:X,rotation:he,spacing:he,...Dn,...Po},tick:{enabled:X,stroke:Ie,width:J}},"depth options objects array")},Bp={...au,type:Oe(Qn("unit-time")),unit:At(PC,zb),label:$b,parentLevel:zC,paddingInner:qe,paddingOuter:qe,groupPaddingInner:qe,crosshair:Pd(!0,!0),bandHighlight:Bb,min:Zn(At(he,wd),Al("max")),max:Zn(At(he,wd),Tl("min")),interval:x4},T6e={type:"axis",name:"number",chartType:"cartesian",options:_p,create:e=>new Na(e)},E6e={type:"axis",name:"log",chartType:"cartesian",options:Pp,create:e=>new Nf(e)},D6e={type:"axis",name:"time",chartType:"cartesian",options:zp,create:e=>new ou(e)},k6e={type:"axis",name:"category",chartType:"cartesian",options:Fp,create:e=>new fm(e)},I6e={type:"axis",name:"grouped-category",chartType:"cartesian",options:$p,create:e=>new jf(e)},L6e={type:"axis",name:"unit-time",chartType:"cartesian",options:Bp,create:e=>new Fd(e)},Vp={...au,type:Oe(Qn("ordinal-time")),paddingInner:qe,paddingOuter:qe,groupPaddingInner:qe,label:$b,parentLevel:zC,interval:x4,crosshair:Pd(!0,!0),bandHighlight:Bb},GX={...Mf,...dm(he),type:Oe(Qn("angle-number")),crossLines:yi(Sl),startAngle:he,endAngle:he,label:{...ru,orientation:Se("fixed","parallel","perpendicular"),format:nl}},C4={...Mf,type:Oe(Qn("angle-category")),shape:Se("polygon","circle"),crossLines:yi(Sl),startAngle:he,endAngle:he,paddingInner:qe,groupPaddingInner:qe,label:{...ru,orientation:Se("fixed","parallel","perpendicular")}};C4.innerRadiusRatio=qe;var WX={...Mf,...dm(he),type:Oe(Qn("radius-number")),shape:Se("polygon","circle"),positionAngle:he,innerRadiusRatio:qe,crossLines:yi({...Sl,label:{...af,positionAngle:he}},"cross-line options"),title:{enabled:X,text:um,spacing:J,formatter:Mn,...Dn},label:{...ru,format:nl}},YX={...Mf,type:Oe(Qn("radius-category")),positionAngle:he,innerRadiusRatio:qe,paddingInner:qe,paddingOuter:qe,groupPaddingInner:qe,label:ru,crossLines:yi({...Sl,label:{...af,positionAngle:he}},"cross-line options"),title:{enabled:X,text:um,spacing:J,formatter:Mn,...Dn}},KX=ks(is,is),O6e=vn({...Ce,..._e,...Fe,marker:IC}),qX={showInMiniChart:X,connectMissingData:X,interpolation:OC,label:Ln,styler:O6e,marker:Yo,tooltip:un,shadow:Wl,...Zt,..._e,...Ce,...Fe,highlight:KX,segmentation:ib},ZX={...qX,...sl,highlight:KX,type:Oe(Qn("area")),xKey:Oe(de),yKey:Oe(de),xName:de,yName:de,stacked:X,stackGroup:de,normalizedTo:he},QX=ks(Ol,Ol),M$=vn({..._e,...Ce,...Fe,cornerRadius:J}),M4={direction:Se("horizontal","vertical"),showInMiniChart:X,cornerRadius:J,styler:M$,itemStyler:M$,crisp:X,label:{...Ln,placement:Se("inside-center","inside-start","inside-end","outside-start","outside-end"),spacing:J},errorBar:_b,shadow:Wl,tooltip:un,...Zt,highlight:QX,..._e,...Ce,...Fe,segmentation:ib};M4.sparklineMode=vt(X);var UC={...M4,...sl,highlight:QX,type:Oe(Qn("bar")),xKey:Oe(de),yKey:Oe(de),xName:de,yName:de,direction:Se("horizontal","vertical"),grouped:X,stacked:X,stackGroup:de,normalizedTo:he,legendItemName:de,errorBar:LC};UC.pickOutsideVisibleMinorAxis=vt(X);UC.focusPriority=vt(he);var XX={title:de,domain:ft(he),maxSize:J,showInMiniChart:X,label:{placement:Se("top","right","bottom","left"),...Ln},tooltip:un,styler:vn({...Yo,maxSize:J}),maxRenderedItems:he,...Zt,...ke(Yo,["enabled"]),highlight:ks(is,is)},R6e={...XX,...sl,type:Oe(Qn("bubble")),xKey:Oe(de),yKey:Oe(de),sizeKey:Oe(de),labelKey:de,xName:de,yName:de,sizeName:de,labelName:de,highlight:ks(is,is)},JX={showInMiniChart:X,cornerRadius:J,label:Ln,tooltip:un,shadow:Wl,...Zt,..._e,...Ce,...Fe,highlight:ks(is,is)},_6e={...sl,...JX,type:Oe(Qn("histogram")),xKey:Oe(de),yKey:de,xName:de,yName:de,areaPlot:X,aggregation:Se("count","sum","mean"),bins:ft(ft(he)),binCount:J},eJ=ks(is,Jh),P6e=vn({...Ce,...Fe,marker:IC}),j4={title:de,showInMiniChart:X,connectMissingData:X,interpolation:OC,label:Ln,styler:P6e,marker:Yo,tooltip:un,errorBar:_b,...Zt,...Ce,...Fe,highlight:eJ,segmentation:j4e};j4.sparklineMode=vt(X);var HC={...j4,...sl,highlight:eJ,type:Oe(Qn("line")),xKey:Oe(de),yKey:Oe(de),xName:de,yName:de,stacked:X,stackGroup:de,normalizedTo:he,legendItemName:de,errorBar:LC};HC.pickOutsideVisibleMinorAxis=vt(X);HC.focusPriority=vt(he);var tJ={title:de,showInMiniChart:X,label:{placement:Se("top","right","bottom","left"),...Ln},tooltip:un,errorBar:_b,styler:vn(Yo),maxRenderedItems:he,...Zt,...ke(Yo,["enabled"]),highlight:ks(is,is)},z6e={...tJ,...sl,type:Oe(Qn("scatter")),xKey:Oe(de),yKey:Oe(de),labelKey:de,xName:de,yName:de,labelName:de,errorBar:LC,highlight:ks(is,is)},nJ=ks(is,is),N4={...Zt,radiusMin:J,radiusMax:J,rotation:he,outerRadiusOffset:he,outerRadiusRatio:qe,hideZeroValueSectorsInLegend:X,sectorSpacing:J,cornerRadius:J,itemStyler:vn({..._e,...Ce,...Fe,cornerRadius:J}),title:{enabled:X,text:de,showInLegend:X,spacing:J,...Dn},calloutLabel:{enabled:X,offset:he,minAngle:J,avoidCollisions:X,formatter:Mn,format:de,itemStyler:vn({enabled:X,...Po,...Dn}),...Po,...Dn},sectorLabel:{enabled:X,positionOffset:he,positionRatio:qe,formatter:Mn,format:de,itemStyler:vn({enabled:X,...Po,...Dn}),...Po,...Dn},calloutLine:{colors:ft(Ie),length:J,strokeWidth:J,itemStyler:vn({color:Ie,length:J,strokeWidth:J})},fills:ft(lo),strokes:ft(Ie),tooltip:un,shadow:Wl,highlight:nJ,...Fe,...ke(_e,["fill"]),...ke(Ce,["stroke"])},Af={...N4,...sl,type:Oe(Qn("pie")),angleKey:Oe(de),radiusKey:de,calloutLabelKey:de,sectorLabelKey:de,legendItemKey:de,angleName:de,radiusName:de,calloutLabelName:de,sectorLabelName:de,highlight:nJ};Af.defaultColorRange=vt(ft(ft(Ie)));Af.defaultPatternFills=vt(ft(Ie));Af.title._enabledFromTheme=vt(X);Af.calloutLabel._enabledFromTheme=vt(X);Af.sectorLabel._enabledFromTheme=vt(X);var sJ={...N4,innerRadiusOffset:he,innerRadiusRatio:qe,innerCircle:{fill:de,fillOpacity:qe},innerLabels:{spacing:J,...Dn,...Po}},F6e={...sJ,...Af,type:Oe(Qn("donut")),innerLabels:yi({text:Oe(de),spacing:J,...Dn,...Po},"inner label options array")},mm={lineStyle:Se("solid","dashed","dotted"),...Fe},Tf={..._e,...Ce,...Fe},Ub={visible:X,locked:X,readOnly:X,handle:Tf,...Dn},GC={position:Se("top","center","bottom"),alignment:Se("left","center","right"),...Dn},iJ={position:Se("top","inside","bottom"),alignment:Se("left","center","right"),...Dn},$6e={enabled:X,cornerRadius:J,formatter:Mn,...Dn,..._e,...Ce,...Fe},B6e={visible:X,...mm,...Ce},rJ={divider:Ce,..._e,...Ce,...Dn},j$={handle:Tf,statistics:rJ,...mm,..._e,...Ce},Gw={visible:X,locked:X,readOnly:X,extendStart:X,extendEnd:X,handle:Tf,text:GC,...mm,...Ce},lk={visible:X,locked:X,readOnly:X,axisLabel:$6e,handle:Tf,text:GC,...mm,...Ce},A4={visible:X,locked:X,readOnly:X,extendStart:X,extendEnd:X,handle:Tf,text:iJ,background:_e,...mm,...Ce},aJ={...A4},oJ={...A4,middle:B6e},ck={label:Dn,showFill:X,isMultiColor:X,strokes:ft(Ie),rangeStroke:Ie,bands:Se(4,6,10),...Gw},lJ={..._e,...Ce,...Ub},cJ={..._e,...Ce,...Ub},uJ={..._e,...Ce,...Ub,background:{..._e,...Ce}},uk={visible:X,locked:X,readOnly:X,handle:Tf,..._e},OS={visible:X,locked:X,readOnly:X,extendStart:X,extendEnd:X,handle:Tf,text:GC,background:_e,statistics:rJ,...mm,...Ce},dJ={visible:X,up:j$,down:j$},ym={enabled:X,axesButtons:{enabled:X,axes:Se("x","y","xy")},toolbar:{enabled:X,padding:J,buttons:yi({...Ph,value:Se("line-menu","fibonacci-menu","text-menu","shape-menu","measurer-menu","line","horizontal-line","vertical-line","parallel-channel","disjoint-channel","fibonacci-retracement","fibonacci-retracement-trend-based","text","comment","callout","note","clear")},"annotation toolbar buttons array")},optionsToolbar:{enabled:X,buttons:ft(At(ws({...Ph,value:Oe(Se("line-stroke-width","line-style-type","line-color","fill-color","text-color","text-size","delete","settings"))}),ws({...Ph,value:Oe(Se("lock")),checkedOverrides:Ph})))}};ym.data=vt(Vl);ym.xKey=vt(de);ym.volumeKey=vt(de);ym.snap=vt(X);var T4={..._e,...Ce,...Fe,cornerRadius:J,whisker:{...Ce,...Fe},cap:{lengthRatio:qe}},dk={...T4,opacity:qe},hJ={direction:Se("horizontal","vertical"),showInMiniChart:X,itemStyler:vn({..._e,...Ce,...Fe,cornerRadius:J,whisker:{...Ce,...Fe},cap:{lengthRatio:qe}}),tooltip:un,...Zt,...T4,highlight:ks(dk,dk),segmentation:ib},hk={cornerRadius:J,wick:{...Ce,...Fe},..._e,...Ce,...Fe},N$={...hk,opacity:qe},fJ={item:{up:hk,down:hk},itemStyler:vn({..._e,...Ce,...Fe,cornerRadius:J,wick:{...Ce,...Fe}}),showInMiniChart:X,tooltip:un,...Zt,highlight:ks(N$,N$)},pJ={fills:ft(lo),strokes:ft(Ie),label:{spacing:J,maxWidth:J,...Ln},link:{tension:qe,itemStyler:vn({..._e,...Ce,...Fe,tension:qe}),..._e,...Ce,...Fe},node:{width:J,spacing:J,itemStyler:vn({..._e,...Ce,...Fe}),..._e,...Ce,...Fe},tooltip:un,...Zt},gJ={direction:Se("horizontal","vertical"),fills:ft(lo),strokes:ft(Ie),label:{spacing:J,placement:Se("before","middle","after"),...Ln},stageLabel:{placement:Se("before","after"),format:nl,...ru},tooltip:un,...ke(Zt,["showInLegend"]),...ke(_e,["fill"]),...ke(Ce,["stroke"]),...Fe,highlight:jq(Jh)},mJ={direction:Se("horizontal","vertical"),fills:ft(lo),strokes:ft(Ie),itemStyler:vn({..._e,...Ce,...Fe}),spacingRatio:qe,crisp:X,dropOff:{enabled:X,..._e,...Ce,...Fe},stageLabel:{placement:Se("before","after"),format:nl,...ru},label:Ln,tooltip:un,shadow:Wl,...ke(Zt,["showInLegend"]),...ke(_e,["fill"]),...ke(Ce,["stroke"]),...Fe},yJ={title:de,textAlign:Se("left","center","right"),verticalAlign:Se("top","middle","bottom"),itemPadding:J,itemStyler:vn({..._e,...Ce}),showInMiniChart:X,label:jd,tooltip:un,...Zt,...Ce},xJ={showInMiniChart:X,itemStyler:vn({...Ce,...Fe}),item:{up:{...Ce,...Fe},down:{...Ce,...Fe}},tooltip:un,...Zt,highlight:ks(Jh,Jh)},bJ={maxStrokeWidth:J,itemStyler:vn({...Ce,...Fe}),sizeDomain:ft(J),label:Ln,tooltip:un,...Zt,...Ce,...Fe,highlightStyle:{...Zt.highlightStyle,...Ce},highlight:ks(Jh,Jh)},vJ={...Ce,...Fe},SJ={colorRange:ft(Ie),maxSize:J,sizeDomain:ft(J),label:{placement:Se("top","bottom","left","right"),...Ln},tooltip:un,...Zt,...ke(Yo,["enabled"]),highlightStyle:{...Zt.highlightStyle,..._e,...Ce},highlight:ks(is,is)},wJ={colorRange:ft(Ie),padding:J,itemStyler:vn({..._e,...Ce,...Fe}),label:jd,tooltip:un,...Zt,..._e,...Ce,...Fe,highlightStyle:{...Zt.highlightStyle,..._e,...Ce},highlight:ks(is,is)},CJ={...Zt,..._e,...Ce,...Fe},MJ={cornerRadius:J,itemStyler:vn({..._e,...Ce,...Fe,cornerRadius:J}),label:Ln,tooltip:un,...Zt,..._e,...Ce,...Fe,highlight:ks(Ol,Ol)},jJ={direction:Se("horizontal","vertical"),aspectRatio:J,spacing:J,reverse:X,itemStyler:vn({..._e,...Ce,...Fe}),fills:ft(lo),strokes:ft(Ie),label:Ln,stageLabel:{spacing:J,placement:Se("before","after"),...Ln},tooltip:un,shadow:Wl,...Zt,...ke(_e,["fill"]),...ke(Ce,["stroke"]),...Fe},NJ={connectMissingData:X,marker:Yo,label:Ln,tooltip:un,...Zt,..._e,...Ce,...Fe,highlight:ks(is,is)},AJ={connectMissingData:X,marker:Yo,label:Ln,tooltip:un,...Zt,...Ce,...Fe,highlight:ks(is,Jh)},TJ={cornerRadius:J,itemStyler:vn({..._e,...Ce,...Fe,cornerRadius:J}),label:Ln,tooltip:un,...Zt,..._e,...Ce,...Fe,highlight:ks(Ol,Ol)},EJ={cornerRadius:J,columnWidthRatio:qe,maxColumnWidthRatio:qe,itemStyler:vn({..._e,...Ce,...Fe,cornerRadius:J}),label:Ln,tooltip:un,...Zt,..._e,...Ce,...Fe,highlight:ks(Ol,Ol)},DJ={showInMiniChart:X,connectMissingData:X,interpolation:OC,label:{...Ln,placement:Se("inside","outside"),spacing:J},marker:Yo,tooltip:un,shadow:Wl,...Zt,..._e,...Ce,...Fe,highlight:ks(is,is),segmentation:ib},kJ={direction:Se("horizontal","vertical"),grouped:X,showInMiniChart:X,cornerRadius:J,itemStyler:vn({..._e,...Ce,...Fe,cornerRadius:J}),label:{...Ln,placement:Se("inside","outside"),spacing:J},tooltip:un,shadow:Wl,...Zt,..._e,...Ce,...Fe,highlight:ks(Ol,Ol),segmentation:ib},IJ={fills:ft(lo),strokes:ft(Ie),label:{...Ln,spacing:J},link:{itemStyler:vn({..._e,...Ce,...Fe}),..._e,...Ce,...Fe},node:{width:J,spacing:J,alignment:Se("left","center","right","justify"),itemStyler:vn({..._e,...Ce,...Fe}),..._e,...Ce,...Fe},tooltip:un,...Zt},LJ={fills:ft(lo),strokes:ft(Ie),colorRange:ft(Ie),sectorSpacing:J,cornerRadius:J,padding:J,itemStyler:vn({..._e,...Ce}),label:{spacing:J,...jd},secondaryLabel:jd,tooltip:un,...ke(Zt,["highlight","showInLegend"]),...ke(_e,["fill"]),...ke(Ce,["stroke"]),highlightStyle:{label:{color:Ie},secondaryLabel:{color:Ie},..._e,...Ce}},OJ={fills:ft(lo),strokes:ft(Ie),colorRange:ft(Ie),itemStyler:vn({..._e,...Ce}),group:{gap:J,padding:J,cornerRadius:J,textAlign:Se("left","center","right"),interactive:X,label:{...Ln,spacing:J},..._e,...Ce},tile:{gap:J,padding:J,cornerRadius:J,textAlign:Se("left","center","right"),verticalAlign:Se("top","middle","bottom"),label:{...Ln,spacing:J,lineHeight:J,minimumFontSize:J,wrapping:Se("never","always","hyphenate","on-space"),overflowStrategy:Se("ellipsis","hide")},secondaryLabel:{...Ln,lineHeight:J,minimumFontSize:J,wrapping:Se("never","always","hyphenate","on-space"),overflowStrategy:Se("ellipsis","hide")},..._e,...Ce},tooltip:un,...ke(Zt,["highlight","showInLegend"]),highlightStyle:{group:{label:{color:Ie},..._e,...Ce},tile:{label:{color:Ie},secondaryLabel:{color:Ie},..._e,...Ce}}},ZT={name:de,cornerRadius:J,itemStyler:vn({..._e,...Ce,...Fe,cornerRadius:J}),label:{...Ln,placement:Se("inside-start","inside-center","inside-end","outside-start","outside-end"),spacing:J},tooltip:un,shadow:Wl,..._e,...Ce,...Fe},RJ={direction:Se("horizontal","vertical"),showInMiniChart:X,item:{positive:ZT,negative:ZT,total:ZT},line:{enabled:X,...Ce,...Fe},tooltip:un,...Zt},G1=ws({__type:Oe(Qn("date")),value:At(de,he)},"a serializable date object"),A$={width:J,height:J,grip:X,fill:Ie,stroke:Ie,strokeWidth:J,cornerRadius:J},hn={enabled:X,height:J,spacing:J,cornerRadius:he,mask:{fill:Ie,fillOpacity:qe,stroke:Ie,strokeWidth:J},minHandle:A$,maxHandle:A$,miniChart:{enabled:X,padding:{top:J,bottom:J},label:{enabled:X,avoidCollisions:X,spacing:J,format:nl,formatter:Mn,interval:{minSpacing:J,maxSpacing:J,values:Vl,step:he},...Dn},series:ot}},nr={number:{...ke(_p,["type","crossLines"]),top:ke(_p,["type","crossLines","position"]),right:ke(_p,["type","crossLines","position"]),bottom:ke(_p,["type","crossLines","position"]),left:ke(_p,["type","crossLines","position"]),crossLines:ke(Nc,["type"])},log:{...ke(Pp,["type","crossLines"]),top:ke(Pp,["type","crossLines","position"]),right:ke(Pp,["type","crossLines","position"]),bottom:ke(Pp,["type","crossLines","position"]),left:ke(Pp,["type","crossLines","position"]),crossLines:ke(Nc,["type"])},category:{...ke(Fp,["type","crossLines"]),top:ke(Fp,["type","crossLines","position"]),right:ke(Fp,["type","crossLines","position"]),bottom:ke(Fp,["type","crossLines","position"]),left:ke(Fp,["type","crossLines","position"]),crossLines:ke(Nc,["type"])},time:{...ke(zp,["type","crossLines"]),top:ke(zp,["type","crossLines","position"]),right:ke(zp,["type","crossLines","position"]),bottom:ke(zp,["type","crossLines","position"]),left:ke(zp,["type","crossLines","position"]),crossLines:ke(Nc,["type"])},"unit-time":{...ke(Bp,["type","crossLines"]),top:ke(Bp,["type","crossLines","position"]),right:ke(Bp,["type","crossLines","position"]),bottom:ke(Bp,["type","crossLines","position"]),left:ke(Bp,["type","crossLines","position"]),crossLines:ke(Nc,["type"])},"grouped-category":{...ke($p,["type"]),top:ke($p,["type","position"]),right:ke($p,["type","position"]),bottom:ke($p,["type","position"]),left:ke($p,["type","position"]),crossLines:ke(Nc,["type"])},"ordinal-time":{...ke(Vp,["type","crossLines"]),top:ke(Vp,["type","crossLines","position"]),right:ke(Vp,["type","crossLines","position"]),bottom:ke(Vp,["type","crossLines","position"]),left:ke(Vp,["type","crossLines","position"]),crossLines:ke(Nc,["type"])}},jp={"angle-category":{...ke(C4,["type","crossLines"]),crossLines:ke(Sl,["type"])},"angle-number":{...ke(GX,["type","crossLines"]),crossLines:ke(Sl,["type"])},"radius-category":{...ke(YX,["type","crossLines"]),crossLines:{...ke(Sl,["type"]),label:{...af,positionAngle:he}}},"radius-number":{...ke(WX,["type","crossLines"]),crossLines:{...ke(Sl,["type"]),label:{...af,positionAngle:he}}}},xn={visible:X},V6e={common:{...bt,navigator:hn,axes:{...nr,...jp},annotations:{...ym,line:Gw,"horizontal-line":lk,"vertical-line":lk,"disjoint-channel":aJ,"parallel-channel":oJ,"fibonacci-retracement":ck,"fibonacci-retracement-trend-based":ck,callout:lJ,comment:cJ,note:uJ,text:Ub,arrow:Gw,"arrow-up":uk,"arrow-down":uk,"date-range":OS,"price-range":OS,"date-price-range":OS,"quick-date-price-range":dJ},chartToolbar:{enabled:X},initialState:{legend:yi({visible:X,seriesId:de,itemId:de,legendItemName:de},"legend state array"),zoom:{rangeX:{start:At(he,G1),end:At(he,G1)},rangeY:{start:At(he,G1),end:At(he,G1)},ratioX:{start:qe,end:qe},ratioY:{start:qe,end:qe},autoScaledAxes:ft(Qn("y"))}}},line:{...bt,axes:nr,series:j4,navigator:hn,...xn},scatter:{...bt,axes:nr,series:tJ,navigator:hn,...xn},bubble:{...bt,axes:nr,series:XX,navigator:hn,...xn},area:{...bt,axes:nr,series:qX,navigator:hn,...xn},bar:{...bt,axes:nr,series:M4,navigator:hn,...xn},"box-plot":{...bt,axes:nr,series:hJ,navigator:hn,...xn},candlestick:{...bt,axes:nr,series:fJ,navigator:hn,...xn},"cone-funnel":{...bt,axes:nr,series:gJ,navigator:hn,...xn},funnel:{...bt,axes:nr,series:mJ,navigator:hn,...xn},ohlc:{...bt,axes:nr,series:xJ,navigator:hn,...xn},histogram:{...bt,axes:ke(nr,["category","grouped-category","unit-time","ordinal-time"]),series:JX,navigator:hn,...xn},heatmap:{...bt,axes:nr,series:yJ,navigator:hn,...xn},waterfall:{...bt,axes:nr,series:RJ,navigator:hn,...xn},"range-bar":{...bt,axes:nr,series:kJ,navigator:hn,...xn},"range-area":{...bt,axes:nr,series:DJ,navigator:hn,...xn},donut:{...bt,series:sJ,navigator:hn,...xn},pie:{...bt,series:N4,navigator:hn,...xn},"radar-line":{...bt,axes:jp,series:AJ,navigator:hn,...xn},"radar-area":{...bt,axes:jp,series:NJ,navigator:hn,...xn},"radial-bar":{...bt,axes:jp,series:TJ,navigator:hn,...xn},"radial-column":{...bt,axes:jp,series:EJ,navigator:hn,...xn},nightingale:{...bt,axes:jp,series:MJ,navigator:hn,...xn},sunburst:{...bt,series:LJ,navigator:hn,...xn},treemap:{...bt,series:OJ,navigator:hn,...xn},"map-shape":{...bt,series:wJ,navigator:hn,...xn},"map-line":{...bt,series:bJ,navigator:hn,...xn},"map-marker":{...bt,series:SJ,navigator:hn,...xn},"map-shape-background":{...bt,series:CJ,navigator:hn,...xn},"map-line-background":{...bt,series:vJ,navigator:hn,...xn},sankey:{...bt,series:IJ,navigator:hn,...xn},chord:{...bt,series:pJ,navigator:hn,...xn},pyramid:{...bt,series:jJ,navigator:hn,...xn},"radial-gauge":{...bt,...Uw,targets:ke(_C,["value"]),tooltip:{...Uw.tooltip,...bt.tooltip}},"linear-gauge":{...bt,...Vw,targets:ke(RC,["value"]),tooltip:{...Vw.tooltip,...bt.tooltip}}};function W1(e,t){const n={};for(const s of Reflect.ownKeys(e))n[s]=t(e[s],s,e);return n}var U6e=W1(V6e,function e(t,n){if(vS(n))return t;if(Qc(t))return At(t,Cw,vS);if(En(t))return At(ws(Sw in t?W1(t,s=>En(s)?W1(s,e):s):W1(t,e)),Cw,vS);throw new Error(`Invalid theme override value: ${String(t)}`)}),_i={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},Sh={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},H6e=class extends cm{getDefaultColors(){return{fills:_i,fillsFallback:Object.values(_i),strokes:Sh,sequentialColors:ja(_i),divergingColors:[_i.ORANGE,_i.YELLOW,_i.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"],secondDivergingColors:[_i.GREEN,_i.YELLOW,_i.RED],secondHierarchyColors:[],up:{fill:_i.GREEN,stroke:Sh.GREEN},down:{fill:_i.RED,stroke:Sh.RED},neutral:{fill:_i.GRAY,stroke:Sh.GRAY},altUp:{fill:_i.BLUE,stroke:Sh.BLUE},altDown:{fill:_i.ORANGE,stroke:Sh.ORANGE},altNeutral:{fill:_i.GRAY,stroke:Sh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gs,_i.BLUE),e.set(ti,_i.BLUE),e}},Pi={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},wh={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},G6e=class extends Wo{getDefaultColors(){return{...super.getDefaultColors(),fills:Pi,fillsFallback:Object.values(Pi),strokes:wh,sequentialColors:ja(Pi),divergingColors:[Pi.ORANGE,Pi.YELLOW,Pi.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"],secondDivergingColors:[Pi.GREEN,Pi.YELLOW,Pi.RED],secondHierarchyColors:[],up:{fill:Pi.GREEN,stroke:wh.GREEN},down:{fill:Pi.RED,stroke:wh.RED},neutral:{fill:Pi.GRAY,stroke:wh.GRAY},altUp:{fill:Pi.BLUE,stroke:wh.BLUE},altDown:{fill:Pi.ORANGE,stroke:wh.ORANGE},altNeutral:{fill:Pi.GRAY,stroke:wh.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(gs,Pi.BLUE),e.set(ti,Pi.BLUE),e}},fk=Vi(()=>new Wo),W6e=Dt.create(!0,"perf"),Do=(e,t,n)=>{W6e("[CACHE] ChartTheme",e,t.name,n)},E4={"ag-default-dark":Vi(()=>new cm),"ag-sheets-dark":Vi(()=>new ZPe,Do),"ag-polychroma-dark":Vi(()=>new KPe,Do),"ag-vivid-dark":Vi(()=>new H6e,Do),"ag-material-dark":Vi(()=>new WPe,Do),"ag-financial-dark":Vi(()=>new HPe,Do),"ag-default":fk,"ag-sheets":Vi(()=>new QPe,Do),"ag-polychroma":Vi(()=>new qPe,Do),"ag-vivid":Vi(()=>new G6e,Do),"ag-material":Vi(()=>new YPe,Do),"ag-financial":Vi(()=>new GPe,Do)},Ww=Vi(Y6e,Do);function Y6e(e){if(e instanceof Wo)return e;if(!Q6e(e))return fk();if(e==null||typeof e=="string"){const i=E4[e??"ag-default"];if(i)return i();throw new Error(`Cannot find theme \`${e}\`.`)}const{cleared:t,invalid:n}=or(K6e(e),q6e,"theme");for(const i of n)Ne.warnOnce(String(i));const s=t?.baseTheme?Ww(t.baseTheme):fk();return t?new s.constructor(t):s}function K6e(e){if(!En(e)||!En(e.baseTheme))return e;let t=e,n,s;const i=[];for(;typeof t=="object";)n??(n=t.palette),s??(s=t.params),t.overrides&&i.push(t.overrides),t=t.baseTheme;return{baseTheme:t,overrides:pn(...i),params:s,palette:n}}var q6e={baseTheme:At(de,P2),overrides:U6e,params:{accentColor:Ie,axisColor:Ie,backgroundColor:Ie,borderColor:Ie,borderRadius:he,chartBackgroundColor:Ie,chartPadding:he,focusShadow:de,foregroundColor:Ie,fontFamily:ED,fontSize:he,fontWeight:At(de,he),gridLineColor:Ie,popupShadow:de,subtleTextColor:Ie,textColor:Ie,chromeBackgroundColor:Ie,chromeFontFamily:ED,chromeFontSize:he,chromeFontWeight:At(de,he),chromeSubtleTextColor:Ie,chromeTextColor:Ie,buttonBackgroundColor:Ie,buttonBorder:X,buttonFontWeight:he,buttonTextColor:Ie,inputBackgroundColor:Ie,inputBorder:X,inputTextColor:Ie,menuBackgroundColor:Ie,menuBorder:X,menuTextColor:Ie,panelBackgroundColor:Ie,panelSubtleTextColor:Ie,tooltipBackgroundColor:Ie,tooltipBorder:X,tooltipTextColor:Ie,tooltipSubtleTextColor:Ie,crosshairLabelBackgroundColor:Ie,crosshairLabelTextColor:Ie},palette:{fills:ft(lo),strokes:ft(Ie),up:{fill:At(Ie,MT),stroke:Ie},down:{fill:At(Ie,MT),stroke:Ie},neutral:{fill:At(Ie,MT),stroke:Ie}}},Z6e=Se("ag-default","ag-default-dark","ag-sheets","ag-sheets-dark","ag-polychroma","ag-polychroma-dark","ag-vivid","ag-vivid-dark","ag-material","ag-material-dark","ag-financial","ag-financial-dark");function Q6e(e){const{invalid:t}=or({theme:e},{theme:At(Z6e,P2)});for(const n of t)Ne.warnOnce(String(n));return t.length===0}var hd={isEnterprise:!1},Ts="path",Ua="pathArray",zs="default",Ya="override",Lo="user",Vu="userPartial",Np="operation",Ap="operationValue",D4="dependency",QT="autoEnable",T$="autoEnableValue",E$="prune",D$="childrenSource";function k4(e){return Gx(e)&&e>=0&&e<=1}function Oy(e,t){let n=e;for(const s of t){if(!(typeof s=="string"&&n!=null&&(typeof n=="object"||Array.isArray(n))&&s in n))return!1;n=n[s]}return!0}function sr(e,t){let n=e;for(const s of t){if(!(typeof s=="string"&&n!=null&&(typeof n=="object"||Array.isArray(n))&&s in n))return;n=n[s]}return n}function Tp(e,t,n){const s=t.length;if(s===0)return;let i=e;const r=s-1,a=t[r];for(let o=0;o<r;o++){const c=t[o],u=t[o+1];let h=i[c];(h==null||!bw(h))&&(h=isNaN(Number(u))?{}:[],i[c]=h),i=h}i[a]=n}var X6e=/^\d+$/;function _J(e){for(let t=e.length-1;t>=0;t--){const n=e[t];if(X6e.test(n))return t}return-1}function g0(e){const t=_J(e);return Number(e[t])}function Ef(e,t,n){const s=t.split("/");let i=[...e];t.startsWith("/")&&(i=[],s.shift());let r=!1;for(const a of s){if(a==="..")i.pop(),r||i.pop();else if(a===".")i.pop();else if(a==="$index"){const o=g0(e);if(isNaN(o))return Dl;i.push(`${o}`)}else if(a==="$prevIndex"){const o=g0(e);if(isNaN(o)||Number(o)<=0)return Dl;i.push(`${Number(o)-1}`)}else if(a.startsWith("$")){const o=n?.[a.slice(1)];if(o==null)return Dl;i.push(o)}else a.length!==0&&i.push(a);r=a===".."}return i}var Dl=Symbol("unresolvable-path"),xa=Symbol("resolved-to-branch");function px(e,t){if(e==null||typeof e!="object"||Array.isArray(e)||(t??(t=Object.keys(e)),t.length===0))return;const n=t[0];if(zJ.has(n))return{operation:n,values:Array.isArray(e[n])?e[n]:[e[n]]}}function J6e(e,t,n){const s=px(e.getVertexValue(n));switch(s?.operation){case"$path":{const[i]=s.values,r=e.getPathArray(t),a=Ef(r,i);return a===Dl?void 0:e.findVertexAtPath(a)}case"$value":return t}}var eze={$cacheMax:tze};function tze(e,t,n){const[s]=n,i=e.getPathArray(t),r=e.getCachedValue(i,"$cacheMax"),a=e.resolveVertexValue(t,s);if(typeof a!="number")return r;if(typeof r!="number")return e.setCachedValue(i,"$cacheMax",a),a;const o=Math.max(r,a);return e.setCachedValue(i,"$cacheMax",o),o}var nze={$hasSeriesType:{dependencies:XT,resolve:sze},$isChartType:{dependencies:XT,resolve:rze},$isSeriesType:{dependencies:XT,resolve:ize}};function XT(e,t,n){const s=e.findVertexAtPath(["series","0","type"]);s&&e.addEdge(t,s,D4)}function sze(e,t,n){const[s]=n,i=e.resolveVertexValue(t,s),r=e.getResolvedPath(["series"]);if(!Array.isArray(r))return!1;for(const a of r)if(a.type===i)return!0;return!1}function ize(e,t,n){const[s]=n,i=e.resolveVertexValue(t,s);return e.getResolvedPath(["series","0","type"])===i}function rze(e,t,n){const[s]=n,i=e.resolveVertexValue(t,s),r=e.getResolvedPath(["series","0","type"]);if(typeof r!="string")return!1;switch(i){case"cartesian":return fi.isCartesian(r);case"polar":return fi.isPolar(r);case"standalone":return fi.isStandalone(r)}return!1}var aze={$foregroundBackgroundMix:oze,$foregroundOpacity:lze,$interpolate:cze,$isGradient:uze,$isImage:dze,$isPattern:hze,$mix:fze};function oze(e,t,n){const[s]=n,i=e.resolveVertexValue(t,s),r=e.getParamValue("foregroundColor"),a=e.getParamValue("backgroundColor");if(typeof r=="string"&&typeof a=="string"&&k4(i))return Pn.mix(Pn.fromString(r),Pn.fromString(a),1-i).toString();Dt.inDevelopmentMode(()=>Ne.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(i)}}}] at [${e.getPathArray(t).join(".")}], expecting a number between 0 and 1.`))}function lze(e,t,n){const[s]=n,i=e.resolveVertexValue(t,s),r=e.getParamValue("foregroundColor");if(typeof r=="string"&&k4(i)){const a=Pn.fromString(r);return new Pn(a.r,a.g,a.b,i).toString()}Dt.inDevelopmentMode(()=>Ne.warnOnce(`\`$foregroundOpacity\` json operation failed on [${String(i)}}}] at [${e.getPathArray(t).join(".")}], expecting a number between 0 and 1.`))}function cze(e,t,n){const[s,i]=n,r=e.resolveVertexValue(t,s),a=e.resolveVertexValue(t,i);if(!(!Pt(r)||!Gx(a)))return Pn.interpolate(r.map(o=>Pn.fromString(o)),a).map(o=>o.toString())}function uze(e,t,n){const[s]=n,i=e.resolveVertexValue(t,s);return Ho(i)}function dze(e,t,n){const[s]=n,i=e.resolveVertexValue(t,s);return tf(i)}function hze(e,t,n){const[s]=n,i=e.resolveVertexValue(t,s);return Cd(i)}function fze(e,t,n){const[s,i,r]=n,a=e.resolveVertexValue(t,s),o=e.resolveVertexValue(t,i),c=e.resolveVertexValue(t,r),u=e.getPathArray(t),h=`\`$mix\` json operation failed on [${String(a)}, ${String(o)}, ${String(c)}] at [${u.join(".")}], expecting`,f=`${h} two colors and a number between 0 and 1.`;if(typeof o!="string"||!k4(c)){Dt.inDevelopmentMode(()=>Ne.warnOnce(f));return}if(typeof a=="string")try{return Pn.mix(Pn.fromString(a),Pn.fromString(o),c).toString()}catch{Dt.inDevelopmentMode(()=>Ne.warnOnce(f));return}if(!Ho(a)){Dt.inDevelopmentMode(()=>Ne.warnOnce(f));return}let g=a.colorStops;try{g=g?.map(m=>{let y;return typeof m.color=="string"&&(y=Pn.mix(Pn.fromString(m.color),Pn.fromString(o),c).toString()),{...m,color:y}})}catch{Dt.inDevelopmentMode(()=>Ne.warnOnce(`${h} a gradient, a color and a number between 0 and 1.`));return}return{...a,colorStops:g}}var pze={$rem:gze};function gze(e,t,n){const[s]=n,i=e.getVertexValue(s),r=e.getParamValue("fontSize");if(typeof r=="number"&&typeof i=="number")return Math.round(i*r);Dt.inDevelopmentMode(()=>Ne.warnOnce(`\`$rem\` json operation failed on [${String(i)}] at [${e.getPathArray(t).join(".")}], expecting a number.`))}var mze={$and:yze,$eq:xze,$greaterThan:bze,$if:vze,$lessThan:Sze,$not:wze,$or:Cze,$switch:Mze};function yze(e,t,n){for(const s of n)if(!e.resolveVertexValue(t,s))return!1;return!0}function xze(e,t,n){let s,i=!0;for(const r of n){const a=e.resolveVertexValue(t,r);if(i)s=a,i=!1;else if(a!==s)return!1}return!0}function bze(e,t,n){const[s,i]=n;return e.resolveVertexValue(t,s)>e.resolveVertexValue(t,i)}function vze(e,t,n){const[s,i,r]=n,o=e.resolveVertexValue(t,s)?i:r,c=e.neighboursWithEdgeValue(o,Ts);if(c)for(const u of c)e.addEdge(t,u,Ts);return e.resolveVertexValue(t,o)}function Sze(e,t,n){const[s,i]=n;return e.resolveVertexValue(t,s)<e.resolveVertexValue(t,i)}function wze(e,t,n){const[s]=n;if(s)return!e.resolveVertexValue(t,s)}function Cze(e,t,n){for(const s of n)if(e.resolveVertexValue(t,s))return!0;return!1}function Mze(e,t,n){const[s,i,...r]=n,a=e.resolveVertexValue(t,s);for(const o of r){const c=e.getVertexValue(o);if(!Array.isArray(c))continue;const[u,h]=c;if(a===u||Array.isArray(u)&&u.includes(a))return h}return e.resolveVertexValue(t,i)}var jze={$isUserOption:Nze,$isThemeOverride:Aze,$palette:Tze,$mapPalette:Eze,$path:{dependencies:I$,resolve:Dze},$pathString:{dependencies:I$,resolve:kze},$ref:Ize};function Nze(e,t,n){const[s,i,r]=n,a=e.neighboursWithEdgeValue(s,Ts);if(a)for(const o of a){const c=e.findNeighbour(o,zs);if(c&&k$(e,t,c))return e.resolveVertexValue(t,i)}else if(k$(e,t,s))return e.resolveVertexValue(t,i);return e.resolveVertexValue(t,r)}function k$(e,t,n){const s=e.resolveVertexValue(t,n);if(!mi(s))throw new Error(`\`$isUserOption\` json operation failed on [${String(s)}], expecting a string.`);const i=e.getPathArray(t),r=Ef(i,s);return r===Dl?!1:e.hasUserOption(r)}function Aze(e,t,n){const[s,i,r]=n,a=e.resolveVertexValue(t,s);if(!mi(a))throw new Error(`\`$isThemeOverride\` json operation failed on [${String(a)}], expecting a string.`);const o=e.getPathArray(t),c=Ef(o,a);if(c!==Dl)return e.hasThemeOverride(c)?e.resolveVertexValue(t,i):e.resolveVertexValue(t,r)}var PJ=new Set(["fill","fillFallback","stroke","gradient","range2"]);function Tze(e,t,n){const[s]=n,i=e.resolveVertexValue(t,s);if(!mi(i))return;if(PJ.has(i)){const a=e.getPathArray(t),o=g0(a);if(isNaN(o))return;switch(i){case"fill":return ml(e.palette.fills,1,o)[0];case"fillFallback":return ml(e.palette.fillsFallback,1,o)[0];case"stroke":return ml(e.palette.strokes,1,o)[0];case"gradient":return ml(e.palette.sequentialColors,1,o)[0];case"range2":return ml(e.palette.fills,2,o)}return}if(i==="gradients")return e.palette.sequentialColors;if(i==="type")return e.paletteType;const r=sr(e.palette,i.split("."));return Array.isArray(r)?[...r]:typeof r=="object"?{...r}:r}function Eze(e,t,n){const[s]=n,i=e.resolveVertexValue(t,s);if(!mi(i))return;if(PJ.has(i)){const a=e.getPathArray(t);let o=g0(a),c=0;const u=["series","0","type"];for(let h=0;h<o;h++){u[1]=`${h}`;const f=e.getResolvedPath(u);(f==="map-shape-background"||f==="map-line-background")&&c++}if(o-=c,isNaN(o))return;switch(i){case"fill":return ml(e.palette.fills,1,o)[0];case"fillFallback":return ml(e.palette.fillsFallback,1,o)[0];case"stroke":return ml(e.palette.strokes,1,o)[0];case"gradient":return ml(e.palette.sequentialColors,1,o)[0];case"range2":return ml(e.palette.fills,2,o)}return}if(i==="gradients")return e.palette.sequentialColors;if(i==="type")return e.paletteType;const r=sr(e.palette,i.split("."));return Array.isArray(r)?[...r]:typeof r=="object"?{...r}:r}function I$(e,t,n){const[s]=n,i=e.getVertexValue(s);if(mi(i)){const r=e.getPathArray(t),a=Ef(r,i);if(a===Dl)return;const o=e.findVertexAtPath(a);o&&e.addEdge(t,o,D4)}}function Dze(e,t,n){const s=n.length>1,i=n.length>2,[r,a,o]=n,c=e.resolveVertexValue(t,r),u=i?e.resolveVertexValue(t,o):null;if(!mi(c))throw new Error(`\`$path\` json operation failed on [${String(c)}], expecting a string.`);const h=e.getPathArray(t),f=Ef(h,c);if(f===Dl)return;const g=u?sr(u,f):e.getResolvedPath(f);if(g!=null)return g;if(s)return e.resolveVertexValue(t,a)}function kze(e,t,n){const[s,i]=n,r=e.resolveVertexValue(t,s);if(!mi(r))throw new Error(`\`$path\` json operation failed on [${String(r)}], expecting a string.`);let a;i&&(a=e.graftAndResolveOrphan(t,i));const o=e.getPathArray(t),c=Ef(o,r,a);if(c===Dl)throw new Error(`Unresolvable path [${r}] at [${o.join(".")}]`);return c}function Ize(e,t,n){const[s]=n,i=e.getVertexValue(s);return e.getParamValue(i)}var Lze={$apply:Oze,$applyCycle:Rze,$applySwitch:_ze,$applyTheme:Pze,$findFirstSiblingNotOperation:zze,$map:Fze,$merge:$ze,$omit:Bze,$size:Vze,$shallow:Hze,$shallowSimple:Uze,$value:Gze};function Oze(e,t,n){const[s,i,r,a]=n,o=e.getVertexValue(s);if(!In(o))return;const c=i?e.getVertexValue(i):void 0,u=e.neighboursWithEdgeValue(t,Ts),h=u&&u.length>0;if(!h&&c==null)return xa;const f=r?e.resolveVertexValue(t,r):void 0,g=a?e.resolveVertexValue(t,a):void 0;if(!h&&c!=null)if(px(c)){const m=e.resolveVertexValue(t,i);In(m)&&e.graftObject(t,m,[f,g])}else e.graftObject(t,c,[f,g]);if(!h)return xa;for(const m of u){const y=e.neighboursWithEdgeValue(m,Ts);if(!y||y.length===0){const b=e.addVertex({});e.addEdge(m,b,zs)}else e.graftObject(m,o,[f,g])}return xa}function Rze(e,t,n){const[s,i,r]=n,a=e.resolveVertexValue(t,s);if(typeof a!="number")return;const o=e.getPathArray(t),c=e.dangerouslyGetUserOption(o),u=e.hasThemeOverride(o),h=c==null?void 0:Lo,f=c??e.resolveVertexValue(t,i);if(!Array.isArray(f))return;const g=r?e.getVertexValue(r):void 0;for(let m=0;m<a;m++){const y=f[m%f.length];y!=null&&((c||!u)&&e.graftValue(t,`${m}`,y,void 0,h),g&&e.graftValue(t,`${m}`,g,y,h))}return xa}function _ze(e,t,n){const[s,i,...r]=n,a=e.resolveVertexValue(t,s);for(const o of r){const c=e.getVertexValue(o);if(!Array.isArray(c))continue;const[u,h]=c;if(a===u||Array.isArray(u)&&u.includes(a))return e.graftObject(t,h,[],zs),xa}return e.resolveVertexValue(t,i)}function Pze(e,t,n){const[s,i,r]=n;let a=e.getVertexValue(s);if(typeof a=="string"&&(a=[a]),!Array.isArray(a))return;const o=e.neighboursWithEdgeValue(t,Ts),c=r?e.getVertexValue(r):[],u=Array.isArray(c)?new Set(c):new Set;if(!o)return xa;for(const h of o){const f=e.graftAndResolveOrphan(h,i);for(const g of a){const m=Ef([],g,f);m!==Dl&&e.graftConfig(h,m,u)}}return xa}function zze(e,t,n){const[s]=n,i=e.getPathArray(t),r=_J(i);if(r<0)return e.resolveVertexValue(t,s);const a=i.slice(0,r),o=e.findVertexAtPath(a);if(!o)return e.resolveVertexValue(t,s);const c=e.neighboursWithEdgeValue(o,Ts);if(c)for(let u=0;u<c.length;u++){if(`${u}`===i[r])continue;const h=a.concat([`${u}`,...i.slice(r+1)]),f=e.findVertexAtPath(h);if(!f)continue;const g=e.findNeighbourValue(f,Lo);if(g!=null)return g;const m=e.findNeighbourValue(f,Ya);if(m!=null)return m}return e.resolveVertexValue(t,s)}function Fze(e,t,n){const[s,i]=n,r=e.getVertexValue(s),a=e.resolveVertexValue(t,i);if(!Array.isArray(a))return;const o=e.neighboursWithEdgeValue(t,Ts);if(o&&o.length>0)return;let c=0;for(const u of a)e.graftValue(t,`${c}`,r,u),c++;return xa}function $ze(e,t,n){for(const s of n){const i=e.resolveVertexValue(t,s);In(i)&&e.graftObject(t,i)}return xa}function Bze(e,t,n){const[s,i]=n;let r=e.getVertexValue(s);if(!Array.isArray(r)){const o=J6e(e,t,i);if(!o)return;r=e.resolveVertexValue(o,s)}const a=e.resolveVertexValue(t,i);if(!(!Array.isArray(r)||!In(a)))return ke(a,r)}function Vze(e,t,n){const[s]=n,i=e.resolveVertexValue(t,s);return bw(i)?"length"in i?i.length:Object.keys(i).length:0}function Uze(e,t,n){const s=[];for(const i of n)s.push(e.getVertexValue(i));return s}function Hze(e,t,n){const s=e.getPathArray(t),i=e.hasUserOption(s);if(!i&&n.length===1)return e.resolveVertexValue(t,n[0]);const r=[];for(const a of n)r.push(e.getVertexValue(a));return i?(e.prune(t,[Ya,zs]),xa):(e.graftObject(t,r),xa)}function Gze(e,t,n){const[s]=n,i=e.getVertexValue(s),r=e.getPathArray(t);if(i==="$index")return g0(r);if(i==="$1")return e.resolveValue$1(r)}var Wze={$isEven:Yze,$mul:Kze,$round:qze};function Yze(e,t,n){const[s]=n,i=e.resolveVertexValue(t,s);return isNaN(Number(i))?!1:Number(i)%2===0}function Kze(e,t,n){let s;for(const i of n){const r=e.resolveVertexValue(t,i);s==null?s=Number(r):s*=Number(r)}return s}function qze(e,t,n){const[s]=n;if(s)return Math.round(Number(e.resolveVertexValue(t,s)))}var Wy={...eze,...nze,...aze,...pze,...jze,...mze,...Wze,...Lze},zJ=new Set(Object.keys(Wy));function Ry(e){return zJ.has(e)}var Hn=Dt.create("opts","options-graph"),Zze=Vi(Qze);function Qze(e,t){return Hn.group("OptionsGraph.constructor()",()=>new FJ(e.config,t,e.params,e.palette,e.overrides,e.getTemplateParameters()))}var $d=class zi extends G4e{constructor(t={},n={},s=void 0,i={},r=void 0,a=new Map){super(Ts,Np,new Set([Vu,Lo])),this.config=t,this.userOptions=n,this.palette=i,this.overrides=r,this.internalParams=a,this.edgePriority=[...zi.EDGE_PRIORITY],this.graftEdge=zi.GRAFT_EDGE,this.resolvedParams={},this.resolvedAnnotations={},this.value$1=new Map,this.cachedPathVertices=new Map,this.hasUnsafeClearKeys=!1,this.rollbackVertices=[],this.rollbackEdgesFrom=[],this.rollbackEdgesTo=[],this.rollbackEdgesValue=[],this.isRollingBack=!1,this.EMPTY_PATH_ARRAY_VERTEX=this.addVertex([]),this.root=this.addVertex("root"),this.params=this.addVertex("params"),this.annotations=this.addVertex("annotations"),this.paletteType=En(n?.theme)?cX(n.theme?.palette):"inbuilt";const o=n.series?.[0]?.type??"line";n.axes??(n.axes=Xa.predictAxes(o,n.series?.[0],n.data)??Xa.cloneDefaultAxes(o)??[]),Hn("build user"),this.buildGraphFromObject(this.root,Lo,ke(n,["theme"])),Hn("build defaults"),this.buildGraphFromObject(this.root,zs,ke(t[o],zi.COMPLEX_KEYS));const c=r?ke(r[o],zi.COMPLEX_KEYS):{};Object.keys(c).length>0&&(Hn("build series overrides"),this.buildGraphFromObject(this.root,Ya,c));const u=r?ke(r.common,zi.COMPLEX_KEYS):{};Object.keys(u).length>0&&(Hn("build common overrides"),this.buildGraphFromObject(this.root,Ya,fi.isCartesian(o)?u:ke(u,["zoom","navigator"]))),s&&(Hn("build params"),this.buildGraphFromObject(this.params,zs,s));const h=this.findNeighbourWithValue(this.root,"axes",Ts),f=this.findNeighbourWithValue(this.root,"series",Ts);h&&(Hn("build axes"),this.buildGraphFromObject(h,zs,{$applyTheme:[["/$seriesType/axes/$axisType/$position","/$seriesType/axes/$axisType"],{seriesType:{$path:["/series/0/type","line"]},axisType:{$path:["./type","category"]},position:{$path:["./position"]}},["top","right","bottom","left"]]})),f&&(Hn("build series"),this.buildGraphFromObject(f,zs,{$applyTheme:["/$seriesType/series",{seriesType:{$path:["./type","line"]}}]}));const g=ke(t[o]?.annotations??{},zi.ANNOTATIONS_OPTIONS_KEYS);Object.keys(g).length>0&&(Hn("build annotations type config"),this.buildGraphFromObject(this.annotations,zs,g));const m=ke(r?.common?.annotations??{},zi.ANNOTATIONS_OPTIONS_KEYS);Object.keys(m).length>0&&(Hn("build annotations type overrides"),this.buildGraphFromObject(this.annotations,Ya,m));const y=jS(t[o]?.annotations??{},zi.ANNOTATIONS_OPTIONS_KEYS);Object.keys(y).length>0&&(Hn("build annotations config"),this.buildGraphFromObject(this.root,zs,{annotations:y}));const b=jS(r?.common?.annotations??{},zi.ANNOTATIONS_OPTIONS_KEYS);Object.keys(b).length>0&&(Hn("build annotations overrides"),this.buildGraphFromObject(this.root,Ya,{annotations:b})),this.buildDependencyGraph()}clear(){Hn.group("OptionsGraph.clear()",()=>{super.clear(),this.cachedPathVertices.clear(),this.root=void 0,this.params=void 0,this.annotations=void 0,Hn("cleared")})}clearSafe(){this.hasUnsafeClearKeys||this.clear()}resolve(){return Hn.group("OptionsGraph.resolve()",()=>(this.resolved={},this.resolvedParams={},this.resolvedAnnotations={},Hn("resolve params"),this.resolveVertex(this.params,this.resolvedParams),Hn("resolve annotations"),this.resolveVertex(this.annotations,this.resolvedAnnotations),Hn("resolve root"),this.resolveVertex(this.root),Hn("resolved root",this.resolved),Hn("vertex count",this.getVertexCount()),Hn("edge count",this.getEdgeCount()),this.resolved))}resolveParams(){return this.resolvedParams}resolveAnnotationThemes(){return this.resolvedAnnotations}addVertex(t){const n=super.addVertex(t);return this.isRollingBack&&this.rollbackVertices.push(n),n}addEdge(t,n,s){const i=(this.neighboursWithEdgeValue(t,s)?.indexOf(n)??-1)!==-1;this.isRollingBack&&!i&&(this.rollbackEdgesFrom.push(t),this.rollbackEdgesTo.push(n),this.rollbackEdgesValue.push(s)),super.addEdge(t,n,s)}resolvePartial(t,n,s){if(!n||!this.root)return;const{permissivePath:i,proxyPaths:r}=s??{},a=Object.keys(n);if(Hn.check()&&console.groupCollapsed(`OptionsGraph.resolvePartial() - ${t.join(".")} [${a}]`),a.length===0)return{};const o=this.findVertexAtPath(t);if(!o){if(i)return;throw new Error(`Could not find vertex in OptionsGraph at path [${t.join(".")}].`)}const c=this.findNeighbour(o,Ua);if(this.userPartialOptions={},Tp(this.userPartialOptions,t,n),r)for(const m of Object.keys(r)){const y=r[m],b=sr(n,[m]);b!=null&&(Tp(n,y,b),Tp(this.userPartialOptions,[...t,...y],b),delete n[m],delete this.userPartialOptions[m])}this.graftEdge=Vu,this.edgePriority=[Vu,...zi.EDGE_PRIORITY],this.snapshot(),this.buildGraphFromObject(o,Vu,n,c);for(const m of a){const y=r?.[m]?this.findVertexAtPath([...t,...r[m]]):this.findNeighbourWithValue(o,m,Ts);y&&this.refreshPendingProcessingEdges(y)}this.buildDependencyGraph();const u={};if(this.resolveVertex(o,u),this.rollback(),this.graftEdge=zi.GRAFT_EDGE,this.edgePriority=zi.EDGE_PRIORITY,this.userPartialOptions=void 0,r)for(const m of Object.keys(r)){const y=r[m],b=sr(u,[...t,...y]);Tp(u,[...t,m],b)}const h=sr(u,t),g=s?.pick??!0?jS(sr(u,t),a):h;return Hn("vertex count",this.getVertexCount()),Hn("edge count",this.getEdgeCount()),Hn("resolved partial",g),Hn.check()&&console.groupEnd(),g}findVertexAtPath(t){const n=t.join(".");if(this.cachedPathVertices.has(n))return this.cachedPathVertices.get(n);const s=this.findVertexAlongEdge(this.root,t,Ts);if(s)return this.cachedPathVertices.set(n,s),s}hasUserOption(t){if(Oy(this.userOptions,t))return!0;const s=this.findVertexAtPath(t);if(s){if(this.findNeighbour(s,Lo)!=null||this.findNeighbour(s,Vu)!=null)return!0;const i=this.findNeighbourValue(s,D$);return i===Lo||i===Vu}return!1}dangerouslyGetUserOption(t){if(this.userPartialOptions){const n=sr(this.userPartialOptions,t);if(n!=null)return n}return sr(this.userOptions,t)}hasThemeOverride(t){if(this.overrides==null)return!1;if(t[0]==="axes"&&t.length>1){const n=this.getResolvedPath(["axes",t[1],"type"]);if(Oy(this.overrides,["common","axes",n,...t.slice(2)]))return!0;const s=this.getResolvedPath(["series","0","type"]);return Oy(this.overrides,[s,"axes",n,...t.slice(2)])}if(t[0]==="series"&&t.length>1){const n=this.getResolvedPath(["series",t[1],"type"]);return Oy(this.overrides,[n,"series",...t.slice(2)])}return Oy(this.overrides,t)}getParamValue(t){if(this.resolvedParams[t]!=null)return this.resolvedParams[t];const n=this.findVertexAlongEdge(this.params,[t],Ts);if(!n)return;const s=this.findNeighbour(n,zs);if(!s)return;const i=this.resolveVertexValue(n,s);return this.resolvedParams[t]=i,i}getPathArray(t){return this.findNeighbourValue(t,Ua)??[]}getResolvedPath(t){return sr(this.resolved,t)}getCachedValue(t,n){const s=[...t,n].join(".");return zi.valueCache.get(s)}setCachedValue(t,n,s){const i=[...t,n].join(".");zi.valueCache.set(i,s)}prune(t,n){this.addEdge(t,this.addVertex(n),E$)}resolveVertexValue(t,n){this.resolveVertexDependencies(n);const s=this.findNeighbourValue(n,Np);if(s&&Ry(s)){const r=this.neighboursWithEdgeValue(n,Ap),a=Wy[s],c=(typeof a=="function"?a:a.resolve)?.(this,t,r??[]);return c===xa?void 0:c}let i=this.getVertexValue(n);if(Array.isArray(i)){const r={};this.resolveVertexChildren(n,r),i=sr(r,this.getPathArray(t))}return this.resolveValueOrSymbol(i)}resolveValue$1(t){for(let n=t.length;n>=0;n--){const s=t.slice(0,n).join("."),i=this.value$1.get(s);if(i!=null)return i}}graftConfig(t,n,s){const i=sr(this.config,n),r=this.findNeighbour(t,Ua);if(En(i)&&this.buildGraphFromObject(t,zs,i,r,void 0,s),this.overrides){const a=sr(this.overrides,n);En(a)&&this.buildGraphFromObject(t,Ya,a,r,void 0,s);const o=sr(this.overrides,["common",...n.slice(1)]);En(o)&&this.buildGraphFromObject(t,Ya,o,r,void 0,s)}this.buildDependencyGraph()}graftObject(t,n,s,i=this.graftEdge){const r=this.findNeighbour(t,Ua);if(this.buildGraphFromObject(t,i,n,r),this.overrides&&s)for(const a of s){if(a==null)continue;const o=sr(this.overrides,a);o&&this.buildGraphFromObject(t,Ya,o,r)}this.buildDependencyGraph()}graftValue(t,n,s,i,r=this.graftEdge){const a=[...this.getPathArray(t),n];this.value$1.set(a.join("."),i);const o=this.findVertexAtPath(a)??this.addVertex(n);this.buildGraphFromValue(t,o,r,a,s),this.buildDependencyGraph()}graftAndResolveOrphan(t,n){const s={},i=this.addVertex(s),r=this.getPathArray(t);return this.graftAndResolveChildren(n,i,r,[]),this.resolveVertex(i,s),sr(s,r)}buildGraphFromObject(t,n,s,i,r=zi.SHALLOW_KEYS,a){const o=Object.keys(s),c=px(s,o);if(c){const y=this.addVertex(s);this.addEdge(t,y,n),this.buildGraphFromOperation(y,n,c,i);return}if(o.length===0){this.addEdge(t,this.addVertex(Array.isArray(s)?[]:{}),n),this.buildGraphAutoEnable(t,n,s,void 0);return}const u=this.getVertexChildrenByKey(t),h=i?this.getVertexValue(i):[];let f;Array.isArray(s)&&this.addEdge(t,this.addVertex(n),D$);const g=[...h],m=h.length;for(const y of o){if(a?.has(y))continue;const b=u?.get(y)??this.addVertex(y);g[m]=y,r?.has(y)?this.buildShallowGraphFromValue(t,b,n,g,s[y]):this.buildGraphFromValue(t,b,n,g,s[y],r),y==="enabled"&&(f=b)}this.buildGraphAutoEnable(t,n,s,f)}buildGraphAutoEnable(t,n,s,i){if(n===zs&&!i||n===Lo&&i||n!==zs&&n!==Lo&&n!==Vu&&n!==Ya)return;let r=this.findNeighbour(t,QT);r||(r=this.addVertex(QT),this.addEdge(t,r,QT)),i&&this.addEdge(i,r,T$);const{enabled:a,_enabledFromTheme:o}=s;this.addEdge(r,this.addVertex({enabled:a,_enabledFromTheme:o,keys:Object.keys(s).length}),n)}getVertexChildrenByKey(t){const n=this.neighboursWithEdgeValue(t,Ts);if(!n)return;const s=new Map;for(const i of n)s.set(this.getVertexValue(i),i);return s}buildGraphFromValue(t,n,s,i,r,a){this.addEdge(t,n,Ts);let o=this.findNeighbour(n,Ua);o||(o=this.addVertex([...i]),this.addEdge(n,o,Ua));const c=px(r);if(c){const u=this.addVertex(r);this.addEdge(n,u,s),this.addEdge(u,o,Ua),this.buildGraphFromOperation(u,s,c,o)}else if(bw(r))this.buildGraphFromObject(n,s,r,o,a);else{const u=this.findNeighbour(n,s);if(u&&this.getVertexValue(u)===r)return;const h=this.addVertex(r);this.addEdge(n,h,s)}}buildShallowGraphFromValue(t,n,s,i,r){this.addEdge(t,n,Ts);let a=this.findNeighbour(n,Ua);a||(a=this.addVertex([...i]),this.addEdge(n,a,Ua));const o=this.addVertex(r);this.addEdge(n,o,s)}buildGraphFromOperation(t,n,s,i){const r=this.addVertex(s.operation);this.addEdge(t,r,Np);for(const a of s.values)this.buildGraphFromOperationValue(t,a,n,i)}buildGraphFromOperationValue(t,n,s,i=this.EMPTY_PATH_ARRAY_VERTEX){const r=this.addVertex(n);this.addEdge(t,i,Ua),this.addEdge(t,r,Ap);const a=px(n);a?this.buildGraphFromOperation(r,s,a,i):bw(n)&&this.buildGraphFromObject(r,s,n,i)}buildDependencyGraph(){for(let t=0;t<this.pendingProcessingEdgesFrom.length;t++){const n=this.pendingProcessingEdgesFrom[t],s=this.pendingProcessingEdgesTo[t],i=this.getVertexValue(s);if(!Ry(i))continue;const r=this.neighboursWithEdgeValue(n,Ap),a=Wy[i];(typeof a=="function"?void 0:a.dependencies)?.(this,n,r??[])}this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[]}refreshPendingProcessingEdges(t){const s=this.findNeighbour(t,zs)??t,i=this.findNeighbour(s,Np);if(i){this.pendingProcessingEdgesFrom.push(s),this.pendingProcessingEdgesTo.push(i);const a=this.neighboursWithEdgeValue(s,Ap);if(a)for(const o of a)this.refreshPendingProcessingEdges(o)}const r=this.neighboursWithEdgeValue(t,Ts);if(r)for(const a of r)this.refreshPendingProcessingEdges(a)}resolveVertex(t,n=this.resolved,s){const i=this.getPathArray(t);this.resolveVertexInEdgePriority(t,n,i,s),this.resolveVertexAutoEnable(t,n,i),this.resolveVertexChildren(t,n,s)}resolveVertexInEdgePriority(t,n,s,i){const r=this.neighboursWithEdgeValue(t,Ts),[a]=this.edgePriority;for(const o of this.edgePriority){const c=this.findNeighbour(t,o);if(c==null)continue;const u=this.resolveVertexValueInternal(t,c);if(!(u==null&&o!==a)&&!(r&&r.length>0&&o!==a)&&!(Array.isArray(i)&&i.indexOf(o)>=0)){if(this.hasUnsafeClearKeys||(this.hasUnsafeClearKeys=u!=null&&zi.UNSAFE_CLEAR_KEYS.has(s[s.length-1])),s.length===0){if(u==null)continue;this.resolved=u}else Tp(n,s,u);break}}}resolveVertexValueInternal(t,n){this.resolveVertexDependencies(n);const s=this.findNeighbourValue(n,Np);if(s&&Ry(s)){const i=this.neighboursWithEdgeValue(n,Ap),r=Wy[s],o=(typeof r=="function"?r:r.resolve)?.(this,t,i??[]);return o===xa?void 0:o}return this.resolveValueOrSymbol(this.getVertexValue(n))}resolveVertexAutoEnable(t,n,s){const i=this.neighboursWithEdgeValue(t,T$)?.[0];if(!i)return;const r=this.findVertexAtPath(s),a=this.findNeighbourValue(i,zs),o=this.findNeighbourValue(i,Ya),c=this.findNeighbourValue(i,Lo),h=r&&this.findNeighbour(r,Lo)!=null?void 0:this.findNeighbourValue(i,Vu);(c!=null&&c.enabled==null||h!=null&&h.enabled==null)&&!a?._enabledFromTheme&&!o?._enabledFromTheme&&Tp(n,s,!0)}resolveVertexChildren(t,n,s){const i=this.neighboursWithEdgeValue(t,Ts);if(i){s??(s=this.findNeighbourValue(t,E$));for(const r of i){const a=this.getVertexValue(r);i.length>1&&Ry(a)||a!=="_enabledFromTheme"&&this.resolveVertex(r,n,s)}}}resolveVertexDependencies(t){const n=this.neighboursWithEdgeValue(t,D4);if(n)for(const s of n)this.resolveVertex(s)}graftAndResolveChildren(t,n,s,i){const r=this.neighboursWithEdgeValue(t,Ts);if(r)for(const a of r){const o=this.getVertexValue(a),c=[...s,o],u=[...i,o],h=this.addVertex(o),f=this.findNeighbourValue(a,zs);this.addEdge(n,h,Ts);const g=this.addVertex(c);if(this.addEdge(h,g,Ua),En(f)){this.buildGraphFromObject(h,zs,f,g);const m=this.findNeighbour(h,zs);this.addEdge(m,this.addVertex(c),Ua);const y=this.findNeighbourValue(m,Np);if(Ry(y)){const b=this.neighboursWithEdgeValue(m,Ap),S=Wy[y];(typeof S=="function"?void 0:S.dependencies)?.(this,m,b??[])}}this.graftAndResolveChildren(a,h,c,u)}}resolveValueOrSymbol(t){return typeof t=="symbol"&&this.internalParams?.has(t)?this.internalParams.get(t):t}snapshot(){Hn("snapshot"),this.isRollingBack=!0}rollback(){Hn(`rollback ${this.rollbackEdgesFrom.length} edges and ${this.rollbackVertices.length} vertices`);for(let t=0;t<this.rollbackEdgesFrom.length;t++){const n=this.rollbackEdgesFrom[t],s=this.rollbackEdgesTo[t],i=this.rollbackEdgesValue[t];this.removeEdge(n,s,i)}for(const t of this.rollbackVertices)this.removeVertex(t);this.cachedPathVertices.clear(),this.rollbackVertices=[],this.rollbackEdgesFrom=[],this.rollbackEdgesTo=[],this.rollbackEdgesValue=[],this.isRollingBack=!1}};$d.EDGE_PRIORITY=[Lo,Ya,zs];$d.GRAFT_EDGE=zs;$d.SHALLOW_KEYS=new Set(["context","data","topology"]);$d.COMPLEX_KEYS=["annotations","axes","series"];$d.ANNOTATIONS_OPTIONS_KEYS=["axesButtons","data","enabled","optionsToolbar","snap","toolbar","xKey","volumeKey"];$d.UNSAFE_CLEAR_KEYS=new Set(["itemStyler","styler"]);$d.valueCache=new Map;var FJ=$d,L$=e=>`'${e}'`,Df=class ci{constructor(t,n,s,i,r,a,o=!1,c){this.themeParameters={},this.optionMetadata=r??{},this.processedOverrides=s??{};let u=null;t instanceof ci?(u=t,this.specialOverrides=u.specialOverrides,a===void 0&&(a=Yc(u.userOptions,n,ci.JSON_DIFF_OPTS)),this.userOptions=xs(Xx(a,u.userOptions),{...ci.OPTIONS_CLONE_OPTS_SLOW,seen:[]})):(this.userOptions=xs(t??n,{...ci.OPTIONS_CLONE_OPTS_SLOW,seen:[]}),this.specialOverrides=this.specialOverridesDefaults({...i})),o&&this.removeLeftoverSymbols(this.userOptions);const h=t instanceof ci&&a?.data!==void 0&&a?.data?.length!==t.userOptions.data?.length;let f,g,m,y,b,S,C;if(!o&&a!==void 0&&ci.isFastPathDelta(a)&&u!=null&&!h?({activeTheme:f,processedOptions:g,fastDelta:m}=this.fastSetup(a,u),y=u.themeParameters,b=u.annotationThemes):(ci.perfDebug("ChartOptions.slowSetup()"),{activeTheme:f,processedOptions:g,themeParameters:y,annotationThemes:b,googleFonts:S,optionsGraph:C}=this.slowSetup(s,a,o)),this.activeTheme=f,this.processedOptions=g,this.fastDelta=m??void 0,this.themeParameters=y,this.annotationThemes=b,this.googleFonts=S,this.optionsGraph=C,c!==void 0&&typeof c=="number"&&!isNaN(c)){const M=performance.now();this.optionsProcessingTime=M-c}Dt.inDevelopmentMode(()=>kc(this))}static isFastPathDelta(t){for(const n of Object.keys(t??{}))if(!this.FAST_PATH_OPTIONS.has(n))return ci.perfDebug("ChartOptions.isFastPathDelta() - slow path required due to presence of: ",n),!1;return ci.perfDebug("ChartOptions.isFastPathDelta() - fast path possible."),!0}fastSetup(t,n){const{activeTheme:s,processedOptions:i}=n,{presetType:r}=this.optionMetadata;if(r!=null&&t?.data!=null){const o=br.getPresetModule(r);if(o?.processData){const{series:c,data:u}=o.processData(t.data);t=pn({series:c,data:u},t)}}this.fastSeriesSetup(t,i);const a=pn(t,i);return ci.debug("ChartOptions.fastSetup() - processed options",a),{activeTheme:s,processedOptions:a,fastDelta:t}}fastSeriesSetup(t,n){t?.series&&(t.series?.every((s,i)=>oZ(s,n.series?.[i]??{}))?delete t.series:t.series=t.series.map((s,i)=>Xx(s,n.series?.[i]??{})))}slowSetup(t,n,s=!1){let i=xs(this.userOptions,ci.OPTIONS_CLONE_OPTS_FAST);n&&(i=pn(n,i),s&&this.removeLeftoverSymbols(i));const{presetType:r}=this.optionMetadata;if(r!=null){const m=br.getPresetModule(r);if(m){const{validate:y=or}=m,b=i,S=i.type,C=S!=null?Ww(i.theme).presets[S]:void 0,{cleared:M,invalid:N}=y(b,m.options,"");N.forEach(T=>Ne.warn(T)),rg(N,"")?i={}:(ci.debug(">>> AgCharts.createOrUpdate() - applying preset",M),i=m.create(M,C,()=>this.activeTheme))}}this.soloSeriesIntegrity(i),hd.isEnterprise||y$(i);const a=Ww(i.theme);if(r!=null&&a.templateTheme(i,!1),this.validateSeriesOptions(i),this.chartDef=br.detectChartDefinition(i),!this.chartDef.placeholder){const{validate:m=or}=this.chartDef,{cleared:y,invalid:b}=m(i,this.chartDef.options,"");b.forEach(S=>Ne.warn(S)),i=y}this.validateAxesOptions(i),this.removeDisabledOptions(i);let o=this.processFonts(a.params);o=this.processFonts(i,o),this.processSeriesOptions(i);const c=Zze(a,i),u=c.resolve(),h=c.resolveParams(),f=c.resolveAnnotationThemes();c.clearSafe();const g=pn(t,u);return APe(g),hd.isEnterprise||y$(g,!0),this.validateSeriesOptions(g),this.validateAxesOptions(g),this.validatePluginOptions(g),this.processMiniChartSeriesOptions(g),g.loadGoogleFonts||o.clear(),ci.debug(()=>["ChartOptions.slowSetup() - processed options",xs(g)]),{activeTheme:a,processedOptions:g,themeParameters:h,annotationThemes:f,googleFonts:o,optionsGraph:c}}validatePluginOptions(t){for(const n of br.listModulesByType(xS.Plugin)){const s=n.name;if(s in t&&(!n.chartType||n.chartType===this.chartDef?.name)){const{cleared:i,invalid:r}=or(t[s],n.options,n.name);r.forEach(a=>Ne.warn(a)),t[s]=i}}}validateSeriesOptions(t){const n=this.chartDef?.name,s=[],i=t.series?.length??0;let r;for(let a=0;a<i;a++){const o=`series[${a}]`,c=t.series[a],u=br.getSeriesModule(c.type);if(u==null){r??(r=Yx(Array.from(br.listModulesByType(xS.Series)).filter(m=>!n||m.chartType===n).map(m=>m.name),"or",L$)),Ne.warn(c.type==null?`Option \`${o}.type\` is required and has not been provided; expecting ${r}, ignoring.`:`Unknown type \`${c.type}\` at \`${o}.type\`; expecting ${r}, ignoring.`);continue}else if(n&&u.chartType!==n){Ne.warn(`Series type \`${u.name}\` at \`${o}.type\` is not supported by chart type \`${n}\`, ignoring.`);continue}const{validate:h=or}=u,{cleared:f,invalid:g}=h(c,u.options,o);g.forEach(m=>Ne.warn(m)),rg(g,o)||s.push(f)}t.series=s}validateAxesOptions(t){if(!("axes"in t)||!t.axes)return;const n=this.chartDef?.name,s=[],i=t.axes.length??0;let r;for(let a=0;a<i;a++){const o=`axes[${a}]`,c=t.axes[a],u=br.getAxisModule(c.type);if(u==null){r??(r=Yx(Array.from(br.listModulesByType(xS.Axis)).filter(m=>m.chartType===n).map(m=>m.name),"or",L$)),Ne.warn(`Unknown type \`${c.type}\` at  \`${o}.type\`; expecting one of ${r}, ignoring all axes options.`),delete t.axes;break}else if(u.chartType!==n){Ne.warn(`Axis type \`${u.name}\` at  \`${o}.type\` is not supported by chart type \`${n}\`, ignoring.`);break}const{validate:h=or}=u,{cleared:f,invalid:g}=h(c,u.options,o);g.forEach(m=>Ne.warn(m)),rg(g,o)||s.push(f)}t.axes=s}diffOptions(t){return this===t?{}:t==null?this.processedOptions:this.fastDelta??Yc(t.processedOptions,this.processedOptions,ci.JSON_DIFF_OPTS)}optionsType(t){return t.series?.[0]?.type??"line"}processSeriesOptions(t){const n=t.series?.map(s=>{s.type??(s.type="line");const r=!!br.getSeriesModule(s.type)?.options.visible;return pn(this.getSeriesGroupingOptions(s),s,r&&{visible:!0})});t.series=this.setSeriesGroupingOptions(n??[])}processMiniChartSeriesOptions(t){const n=t.navigator?.miniChart?.series;n!=null&&(t.navigator.miniChart.series=this.setSeriesGroupingOptions(n))}getSeriesGroupingOptions(t){const n=Xa.isGroupable(t.type),s=Xa.isStackable(t.type),i=Xa.isStackedByDefault(t.type);t.grouped&&!n&&Ne.warnOnce(`unsupported grouping of series type "${t.type}".`),(t.stacked||t.stackGroup)&&!s&&Ne.warnOnce(`unsupported stacking of series type "${t.type}".`);let{grouped:r,stacked:a}=t;return a??(a=(i||t.stackGroup!=null)&&!(n&&r)),r??(r=!0),{stacked:s&&a,grouped:n&&r&&!(s&&a)}}setSeriesGroupingOptions(t){const n=this.getSeriesGrouping(t);ci.debug("ChartOptions.setSeriesGroupingOptions() - series grouping: ",n);const s={},i=n.reduce((r,a)=>{var o;return a.groupType==="default"||(r[o=a.seriesType]??(r[o]=0),r[a.seriesType]+=a.groupType==="stack"?1:a.series.length),r},{});return n.flatMap(r=>{var a;switch(s[a=r.seriesType]??(s[a]=0),r.groupType){case"stack":{const o=s[r.seriesType]++;return r.series.map((c,u)=>Object.assign(c,{seriesGrouping:{groupId:r.groupId,groupIndex:o,groupCount:i[r.seriesType],stackIndex:u,stackCount:r.series.length}}))}case"group":return r.series.map(o=>Object.assign(o,{seriesGrouping:{groupId:r.groupId,groupIndex:s[r.seriesType]++,groupCount:i[r.seriesType],stackIndex:0,stackCount:0}}))}return r.series}).map(({stacked:r,grouped:a,...o})=>o)}getSeriesGroupId(t){return[t.type,t.xKey,t.stacked?t.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(t){const n=new Map;return t.reduce((s,i)=>{const r=i.type;if(!i.stacked&&!i.grouped)s.push({groupType:"default",seriesType:r,series:[i],groupId:"__default__"});else{const a=this.getSeriesGroupId(i);if(!n.has(a)){const c={groupType:i.stacked?"stack":"group",seriesType:r,series:[],groupId:a};n.set(a,c),s.push(c)}n.get(a).series.push(i)}return s},[])}soloSeriesIntegrity(t){if(!Pt(t.series))return;const n=t.series;if(n&&n.length>1&&n.some(s=>Xa.isSolo(s.type))){const s=this.optionsType(t);if(Xa.isSolo(s))Ne.warn(`series[0] of type '${s}' is incompatible with other series types. Only processing series[0]`),t.series=n.slice(0,1);else{const{solo:i,nonSolo:r}=uO(n,o=>Xa.isSolo(o.type)?"solo":"nonSolo"),a=T4e(i.map(o=>o.type)).join(", ");Ne.warn(`Unable to mix these series types with the lead series type: ${a}`),t.series=r}}}static processFontOptions(t,n,s,i=new Set){if(typeof t=="object"&&"fontFamily"in t)if(Array.isArray(t.fontFamily)){const r=[];for(const a of t.fontFamily)typeof a=="object"&&"googleFont"in a?(r.push(a.googleFont),i?.add(a.googleFont)):r.push(a);t.fontFamily=r.join(", ")}else typeof t.fontFamily=="object"&&"googleFont"in t.fontFamily&&(t.fontFamily=t.fontFamily.googleFont,i?.add(t.fontFamily));return i}processFonts(t,n=new Set){return ud(t,ci.processFontOptions,new Set(["data","theme"]),void 0,void 0,n)}static removeDisabledOptionJson(t){"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(n=>{n!=="enabled"&&delete t[n]})}removeDisabledOptions(t){ud(t,ci.removeDisabledOptionJson,new Set(["data","theme","contextMenu"]))}static removeLeftoverSymbolsJson(t){if(!(!t||!En(t)))for(const n of Object.keys(t)){const s=t[n];vS(s)&&delete t[n]}}removeLeftoverSymbols(t){ud(t,ci.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(t){if(t.window==null?t.window=Nn():GOe(t.window),t.document==null?t.document=Ll():HOe(t.document),t.window==null)throw new Error("AG Charts - unable to resolve global window");if(t.document==null)throw new Error("AG Charts - unable to resolve global document");return t}};Df.OPTIONS_CLONE_OPTS_SLOW={shallow:new Set(["data","container"]),assign:new Set(["context","theme"])};Df.OPTIONS_CLONE_OPTS_FAST={shallow:new Set(["container"]),assign:new Set(["data","context","theme"])};Df.JSON_DIFF_OPTS=new Set(["data"]);Df.perfDebug=Dt.create(!0,"perf");Df.FAST_PATH_OPTIONS=new Set(["data","width","height","container"]);Df.debug=Dt.create(!0,"opts");var gx=Df,O$=Dt.create(!0,"opts"),Ch="AG Charts - Chart was destroyed, cannot perform request.",mx=class{constructor(t,n,s){this.factoryApi=n,this.licenseManager=s,this.chart=t}async update(t){if(!this.chart)throw new Error(Ch);return O$.group("AgChartInstance.update()",async()=>{const n=Dt.check("scene:stats","scene:stats:verbose")?performance.now():void 0;this.factoryApi.update(t,this,void 0,n),await this.chart?.waitForUpdate()})}async updateDelta(t){if(!this.chart)throw new Error(Ch);return O$.group("AgChartInstance.updateDelta()",async()=>{const n=Dt.check("scene:stats","scene:stats:verbose")?performance.now():void 0;this.factoryApi.updateUserDelta(this,t,n),await this.chart?.waitForUpdate()})}getOptions(){if(!this.chart)throw new Error(Ch);const t=xs(this.chart.getOptions(),gx.OPTIONS_CLONE_OPTS_FAST);for(const n of Object.keys(t))n.startsWith("_")&&delete t[n];return t}waitForUpdate(){if(!this.chart)throw new Error(Ch);return this.chart.waitForUpdate()}async download(t){if(!this.chart)throw new Error(Ch);const n=await this.prepareResizedChart(this,this.chart,t);try{n.chart?.download(t?.fileName,t?.fileFormat)}finally{n.destroy()}}async __toSVG(t){if(!this.chart)throw new Error(Ch);const n=await this.prepareResizedChart(this,this.chart,{width:600,height:300,...t});try{return n?.chart?.toSVG()}finally{n?.destroy()}}async getImageDataURL(t){if(!this.chart)throw new Error(Ch);const n=await this.prepareResizedChart(this,this.chart,t);try{return n.chart.getCanvasDataURL(t?.fileFormat)}finally{n.destroy()}}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}async setState(t){const{chart:n}=this;if(!n)return;const s=this.getEnabledOriginators();if(!s.includes(n.ctx.legendManager)){await this.setStateOriginators(t,s);return}await this.setStateOriginators(t,s.filter(i=>i!==n.ctx.zoomManager)),await this.setStateOriginators(t,[n.ctx.zoomManager])}resetAnimations(){this.chart?.resetAnimations()}skipAnimations(){this.chart?.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=void 0}async prepareResizedChart(t,n,s={}){const i=s.width??n.width??n.ctx.scene.canvas.width,r=s.height??n.height??n.ctx.scene.canvas.height,a=t.getState(),o=El.hasEnterpriseModules(),c={...n.chartOptions.processedOverrides,container:document.createElement("div"),width:i,height:r};s.width!=null&&s.height!=null&&(c.overrideDevicePixelRatio=1);const u=n.getOptions();o&&(c.animation={enabled:!1},this.licenseManager?.isDisplayWatermark()&&(c.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const h={...n.chartOptions.specialOverrides},f={...n.chartOptions.optionMetadata},g=await this.chart?.ctx.dataService.getData(),m=this.factoryApi.create(u,c,h,f,g);await m.setState(a),m.chart?.ctx.zoomManager.updateZoom("chartProxy",n.ctx.zoomManager.getZoom()),m.chart?.ctx.legendManager.clearData(),m.chart?.ctx.legendManager.update(n.ctx.legendManager.getData()),n.series.forEach((b,S)=>{m.chart.series[S].visible=b.visible});const y=[];for(const b of n.modulesManager.legends())y.push(b.legend.pagination?.currentPage??0);for(const b of m.chart.modulesManager.legends()){const S=y.shift()??0;b.legend.pagination&&b.legend.pagination.setPage(S)}return m.chart?.update(0,{forceNodeDataRefresh:!0}),await m.waitForUpdate(),m}getEnabledOriginators(){if(!this.chart)return[];const{chartOptions:{processedOptions:t,optionMetadata:n},ctx:{annotationManager:s,chartTypeOriginator:i,zoomManager:r,legendManager:a}}=this.chart,o=[];return"annotations"in t&&t.annotations?.enabled&&o.push(s),n.presetType==="price-volume"&&o.push(i),(t.navigator?.enabled||t.zoom?.enabled)&&o.push(r),"legend"in this.chart&&o.push(a),o}async setStateOriginators(t,n){this.factoryApi.caretaker.restore(t,...n),this.chart?.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),await this.chart?.waitForUpdate()}};mx.chartInstances=new WeakMap;D([fr({oldValue(e){e.destroyed||(e.publicApi=void 0),mx.chartInstances.delete(e)},newValue(e){e&&(e.publicApi=this,mx.chartInstances.set(e,this))}})],mx.prototype,"chart",2);var R$=mx,I4=class extends B2{constructor(e){super(),this.ctx=e,this.localeText=void 0}};D([Ld(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),O],I4.prototype,"localeText",2);D([Ld(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),O],I4.prototype,"getLocaleText",2);var Xze={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new I4(e)},xm=class extends B2{constructor(e){super(),this.ctx=e,this.rectNode=new si,this.textNode=new ha,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.cleanup.register(e.scene.attachNode(this.node),e.eventsHub.on("layout:complete",t=>this.onLayoutComplete(t)))}createNode(){return new Et({name:"background",zIndex:0})}onLayoutComplete(e){const{width:t,height:n}=e.chart;this.rectNode.width=t,this.rectNode.height=n}};D([O,Is("node","visible")],xm.prototype,"visible",2);D([O,Is("rectNode","fill")],xm.prototype,"fill",2);D([O],xm.prototype,"image",2);D([O,Is("textNode")],xm.prototype,"text",2);var $J={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new xm(e)},kf=class extends mt{constructor(e){super(),this.node=e,this.enabled=!1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=1}};D([fr({changeValue(e){e?this.node.strokeWidth=this.strokeWidth:this.node.strokeWidth=0}}),O],kf.prototype,"enabled",2);D([Is("node","stroke"),O],kf.prototype,"stroke",2);D([Is("node","strokeOpacity"),O],kf.prototype,"strokeOpacity",2);D([fr({changeValue(e){this.enabled?this.node.strokeWidth=e:this.node.strokeWidth=0}}),O],kf.prototype,"strokeWidth",2);function Jze({orientation:e,bboxes:t,maxHeight:n,maxWidth:s,itemPaddingY:i=0,itemPaddingX:r=0,forceResult:a=!1}){const o=e==="horizontal",c={max:o?s:n,fn:o?g=>g.width:g=>g.height,padding:o?r:i},u={max:o?n:s,fn:o?g=>g.height:g=>g.width,padding:o?i:r};let h=0;const f=[];for(;h<t.length;){const g=t.slice(h),m=eFe(g,h,c,u,a);if(!m)return;h+=m.processedBBoxCount,f.push(m.pageIndices)}return nFe(f,e,t,i,r)}function eFe(e,t,n,s,i){let a=iFe(e,n);if(a<1){if(!i)return;a=1}let o=a;for(;o>=1;){const c=tFe(e,t,o,n,s,i);if(c==null&&o<=1)return;if(c==null){o--;continue}if(typeof c=="number"){if(c<=1)return;o=c<o&&c>1?c:o,o--;continue}return{processedBBoxCount:c.length*c[0].length,pageIndices:c}}}function tFe(e,t,n,s,i,r){const a=[];let o=0,c=0,u=[];const h=[];for(let f=0;f<e.length;f++){const g=(f+n)%n;g===0&&(o+=c,c=0,u.length>0&&a.push(u),u=[]);const m=s.fn(e[f])+s.padding;h[g]=Math.max(h[g]??0,m),c=Math.max(c,i.fn(e[f])+i.padding);const y=o+c,b=!r||a.length>0;if(y>i.max&&b){u=[];break}if(h.reduce((C,M)=>C+M,0)>s.max&&!r)return h.length<n?h.length:void 0;u.push(f+t)}return u.length>0&&a.push(u),a.length>0?a:void 0}function nFe(e,t,n,s,i){let r=0,a=0;return{pages:e.map(c=>{t==="horizontal"&&(c=sFe(c));let u=0;const h=c.map(m=>{const y=m.map(C=>(u=Math.max(C,u),n[C]));let b=0,S=0;return y.forEach(C=>{b+=C.height+s,S=Math.max(S,C.width+i)}),{indices:m,bboxes:y,columnHeight:Math.ceil(b),columnWidth:Math.ceil(S)}});let f=0,g=0;return h.forEach(m=>{f+=m.columnWidth,g=Math.max(g,m.columnHeight)}),r=Math.max(f,r),a=Math.max(g,a),{columns:h,startIndex:c[0][0],endIndex:u,pageWidth:f,pageHeight:g}}),maxPageWidth:r,maxPageHeight:a}}function sFe(e){const t=[];for(const n of e[0])t.push([]);return e.forEach((n,s)=>{n.forEach((i,r)=>{t[r][s]=i})}),t}function iFe(e,t){const n=e.length;let s=0;for(let i=0;i<n;i++)if(s+=t.fn(e[i])+t.padding,s>t.max)return n/i<2?Math.ceil(n/2):i;return n}var bm=class extends mt{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};D([O],bm.prototype,"color",2);D([O],bm.prototype,"fontStyle",2);D([O],bm.prototype,"fontWeight",2);D([O],bm.prototype,"fontSize",2);D([O],bm.prototype,"fontFamily",2);var _c=class extends mt{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};D([O],_c.prototype,"size",2);D([O],_c.prototype,"fill",2);D([O],_c.prototype,"fillOpacity",2);D([O],_c.prototype,"stroke",2);D([O],_c.prototype,"strokeWidth",2);D([O],_c.prototype,"strokeOpacity",2);var WC=class extends mt{constructor(e){super(),this.parent=e,this.shape="triangle",this.size=15,this.padding=8}};D([fr({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],WC.prototype,"shape",2);D([O],WC.prototype,"size",2);D([O],WC.prototype,"padding",2);var If=class extends mt{constructor(e,t){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.id=Xo(this),this.marker=new WC(this),this.activeStyle=new _c,this.inactiveStyle=new _c,this.highlightStyle=new _c,this.label=new bm,this.group=new Yi({name:"pagination"}),this.labelNode=new ha,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new ni,this.previousButton=new ni,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){switch(this._orientation=e,e){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.getBBox();this.nextButton.translationX=e.width+(this.marker.size/2+this.marker.padding)*2}updateLabel(){const{currentPage:e,totalPages:t,labelNode:n,label:{color:s,fontStyle:i,fontWeight:r,fontSize:a,fontFamily:o}}=this;n.text=`${e+1} / ${t}`,n.fill=s,n.fontStyle=i,n.fontWeight=r,n.fontSize=a,n.fontFamily=o}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:n,previousButtonDisabled:s,activeStyle:i,inactiveStyle:r,highlightStyle:a,highlightActive:o}=this,c=(u,h)=>h?r:u===o?a:i;this.updateMarker(e,c("next",n)),this.updateMarker(t,c("previous",s))}updateMarker(e,t){const{shape:n,size:s}=this.marker;e.shape=n,e.size=s,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,n=t===0,s=e===t-1,i=e===0;this.nextButtonDisabled=s||n,this.previousButtonDisabled=i||n}setPage(e){e=wt(0,e,Math.max(0,this.totalPages-1)),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}getCursor(e){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[e]?void 0:"pointer"}onClick(e,t){e.preventDefault(),t==="next"&&!this.nextButtonDisabled?(this.incrementPage(),this.onPaginationChanged()):t==="previous"&&!this.previousButtonDisabled&&(this.decrementPage(),this.onPaginationChanged())}onMouseHover(e){this.highlightActive=e,this.updateMarkers(),this.chartUpdateCallback(7)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(7)}attachPagination(e){e.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){const e=vs.toCanvas(this.previousButton),t=vs.toCanvas(this.nextButton);return{prev:e,next:t}}};If.className="Pagination";D([O],If.prototype,"marker",2);D([O],If.prototype,"activeStyle",2);D([O],If.prototype,"inactiveStyle",2);D([O],If.prototype,"highlightStyle",2);D([O],If.prototype,"label",2);var rFe=class{constructor(e,t){this.dirty=!0,this.itemList=e.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${t}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=e.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${t}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"}}),this.itemDescription=Ot("p"),this.itemDescription.style.display="none",this.itemDescription.id=jw(),this.itemDescription.textContent=this.getItemAriaDescription(e.localeManager),this.itemList.getElement().append(this.itemDescription)}initLegendList(e){if(!this.dirty)return;const{ctx:t,itemSelection:n,datumReader:s,itemListener:i}=e,r=t.localeManager,a=n.length;n.each((o,c,u)=>{o.proxyButton?.destroy(),o.proxyButton=t.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(r,s.getItemLabel(c),u,a),ariaChecked:!!o.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});const h=o.proxyButton;h.addListener("click",f=>i.onClick(f.sourceEvent,o.datum,h)),h.addListener("dblclick",f=>i.onDoubleClick(f.sourceEvent,o.datum)),h.addListener("mouseenter",f=>i.onHover(f.sourceEvent,o)),h.addListener("mouseleave",()=>i.onLeave()),h.addListener("contextmenu",f=>i.onContextClick(f,o)),h.addListener("blur",()=>i.onLeave()),h.addListener("focus",f=>i.onHover(f.sourceEvent,o)),h.addListener("drag-start",()=>{})}),this.dirty=!1}update(e){e.visible&&(this.initLegendList(e),this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!0)),this.updateVisibility(e.visible)}updateVisibility(e){this.itemList.setHidden(!e),this.paginationGroup.setHidden(!e)}updateItemProxyButtons({itemSelection:e,group:t,pagination:n,interactive:s}){const i=vs.toCanvas(t);this.itemList.setBounds(i);const r=Math.max(...e.nodes().map(a=>a.getBBox().height));e.each((a,o)=>{if(a.proxyButton){const c=a.pageIndex===n.currentPage,{x:u,y:h,height:f,width:g}=vs.toCanvas(a),m=(r-f)/2,y={x:u-i.x,y:h-m-i.y,height:r,width:g},b=s&&c;a.proxyButton.setCursor("pointer"),a.proxyButton.setEnabled(b),a.proxyButton.setPointerEvents(b?void 0:"none"),a.proxyButton.setBounds(y)}})}updatePaginationProxyButtons(e,t){const{pagination:n}=e;if(this.paginationGroup.setHidden(!n.visible),t&&"ctx"in e){const{ctx:s,oldPages:i,newPages:r}=e,a=(i?.length??r.length)>1,o=r.length>1;a!==o&&(o?(this.prevButton=s.proxyInteractionService.createProxyElement({type:"button",textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",c=>this.onPageButton(e,c,"previous")),this.prevButton.addListener("mouseenter",()=>n.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>n.onMouseHover(void 0)),this.nextButton??(this.nextButton=s.proxyInteractionService.createProxyElement({type:"button",textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",c=>this.onPageButton(e,c,"next")),this.nextButton.addListener("mouseenter",()=>n.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>n.onMouseHover(void 0))):(this.nextButton?.destroy(),this.prevButton?.destroy(),this.nextButton=void 0,this.prevButton=void 0)),this.paginationGroup.setAriaHidden(o?void 0:!0)}if(this.prevButton&&this.nextButton){const{prev:s,next:i}=n.computeCSSBounds(),r=Pe.merge([s,i]);s.x-=r.x,s.y-=r.y,i.x-=r.x,i.y-=r.y,this.paginationGroup.setBounds(r),this.prevButton.setBounds(s),this.nextButton.setBounds(i),this.prevButton.setEnabled(n.currentPage!==0),this.nextButton.setEnabled(n.currentPage!==n.totalPages-1),this.nextButton.setCursor(n.getCursor("next")),this.prevButton.setCursor(n.getCursor("previous"))}}onPageButton(e,t,n){e.pagination.onClick(t.sourceEvent,n),this.updatePaginationProxyButtons(e,!1)}onDataUpdate(e,t){this.dirty=e.length!==t.length||e.some((n,s,i)=>{const[r,a]=[t[s],e[s]];return r.id!==a.id})}onLocaleChanged(e,t,n){const s=t.length;t.each(({proxyButton:i},r,a)=>{const o=i?.getElement();if(o!=null){const c=n.getItemLabel(r);o.textContent=this.getItemAriaText(e,c,a,s)}}),this.itemDescription.textContent=this.getItemAriaDescription(e)}onPageChange(e){this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!1)}getItemAriaText(e,t,n,s){return n>=0&&t?(n++,e.t("ariaLabelLegendItem",{label:t,index:n,count:s})):e.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(e){return e.t("ariaDescriptionLegendItem")}};function _$(e,{itemId:t,seriesId:n,label:{text:s}},i){const r={defaultPrevented:!1,apiEvent:{type:e,itemId:t,seriesId:n,text:s,event:i,preventDefault:()=>r.defaultPrevented=!0}};return r}var So=class extends Yi{constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new Et({name:"legend-markerLabel-symbols",renderToOffscreenCanvas:!0,optimizeForInfrequentRedraws:!0})),this.label=this.appendChild(new ha),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new ni({zIndex:1})),this.line=this.symbolsGroup.appendChild(new ya({zIndex:0})),this.line.visible=!1,this.label.textBaseline="middle",this.label.y=1}destroy(){super.destroy(),this.proxyButton?.destroy()}setEnabled(e){this.enabled=e,this.refreshVisibilities()}getTextMeasureBBox(){return this.layout(),Pe.merge([this.symbolsGroup.getBBox(),this.label.getTextMeasureBBox()])}refreshVisibilities(){const e=this.enabled?1:.5;this.label.opacity=e,this.opacity=e}layout(){const{marker:e,line:t,length:n,isCustomMarker:s}=this;let i=0,r=0;if(e.visible){const{size:a}=e,o=ni.anchor(e.shape);i=(o.x-.5)*a+n/2,r=(o.y-.5)*a,s?(e.x=0,e.y=0,e.translationX=i,e.translationY=r):(e.x=i,e.y=r,e.translationX=0,e.translationY=0)}t.visible&&(t.x1=0,t.x2=n,t.y1=0,t.y2=0)}preRender(e){const t=super.preRender(e);return this.layout(),t}layoutLabel(){const{length:e,spacing:t}=this;this.label.x=e+t}computeBBox(){return this.layout(),super.computeBBox()}};So.className="MarkerLabel";D([Is("label")],So.prototype,"text",2);D([Is("label")],So.prototype,"fontStyle",2);D([Is("label")],So.prototype,"fontWeight",2);D([Is("label")],So.prototype,"fontSize",2);D([Is("label")],So.prototype,"fontFamily",2);D([Is("label","fill")],So.prototype,"color",2);D([Ld(e=>e.layoutLabel())],So.prototype,"spacing",2);D([Ld(e=>e.layoutLabel())],So.prototype,"length",2);D([Me()],So.prototype,"isCustomMarker",2);function RS(e){const{placement:t="bottom",floating:n=!1,xOffset:s=0,yOffset:i=0}=typeof e=="string"?{placement:e,floating:!1}:e;return{placement:t,floating:n,xOffset:s,yOffset:i}}var Bd=class extends mt{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};D([O],Bd.prototype,"maxLength",2);D([O],Bd.prototype,"color",2);D([O],Bd.prototype,"fontStyle",2);D([O],Bd.prototype,"fontWeight",2);D([O],Bd.prototype,"fontSize",2);D([O],Bd.prototype,"fontFamily",2);D([O],Bd.prototype,"formatter",2);var vm=class extends mt{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};D([O],vm.prototype,"shape",2);D([O],vm.prototype,"size",2);D([O],vm.prototype,"padding",2);D([O],vm.prototype,"strokeWidth",2);D([O],vm.prototype,"enabled",2);var L4=class extends mt{};D([O],L4.prototype,"strokeWidth",2);D([O],L4.prototype,"length",2);var Vd=class extends mt{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new vm,this.label=new Bd,this.line=new L4}};D([O],Vd.prototype,"maxWidth",2);D([O],Vd.prototype,"paddingX",2);D([O],Vd.prototype,"paddingY",2);D([O],Vd.prototype,"showSeriesStroke",2);D([O],Vd.prototype,"marker",2);D([O],Vd.prototype,"label",2);D([O],Vd.prototype,"line",2);var O4=class extends mt{};D([O],O4.prototype,"legendItemClick",2);D([O],O4.prototype,"legendItemDoubleClick",2);var P$={bounds:"item",gradient:"linear",colorStops:[{color:"black"}],rotation:0,reverse:!1,colorSpace:"rgb"},z$={pattern:"forward-slanted-lines",width:8,height:8,padding:1,fill:"black",fillOpacity:1,backgroundFill:"white",backgroundFillOpacity:1,stroke:"black",strokeOpacity:1,strokeWidth:1,rotation:0,scale:1},F$={backgroundFill:"black",backgroundFillOpacity:1,rotation:0,repeat:"no-repeat",fit:"contain"},Bs=class extends mt{constructor(e){super(),this.ctx=e,this.id=Xo(this),this.group=new Yi({name:"legend",zIndex:16}),this.itemSelection=cr.select(this.group,So),this.containerNode=this.group.appendChild(new si({name:"legend-container"})),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new Vd,this.listeners=new O4,this.enabled=!0,this.position="bottom",this.border=new kf(this.containerNode),this.cornerRadius=0,this.fillOpacity=1,this.padding=4,this.spacing=0,this.cleanup=new Cs,this.size=[0,0],this._visible=!0,this.pagination=new If(n=>e.updateService.update(n),n=>this.updatePageNumber(n)),this.pagination.attachPagination(this.group);const{items:t}=e.contextMenuRegistry.builtins;t["toggle-series-visibility"].action=n=>this.contextToggleVisibility(n),t["toggle-other-series"].action=n=>this.contextToggleOtherSeries(n),this.cleanup.register(e.eventsHub.on("legend:change",this.onLegendDataChange.bind(this)),e.layoutManager.registerElement(1,n=>this.positionLegend(n)),e.eventsHub.on("locale:change",()=>this.onLocaleChanged()),()=>delete t["toggle-series-visibility"].action,()=>delete t["toggle-other-series"].action,()=>this.group.remove()),this.domProxy=new rFe(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(e.legendManager)}set data(e){Cr(e,this._data)||(this.domProxy.onDataUpdate(this._data,e),this._data=e,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange({legendData:e=[]}){this.enabled&&(this.data=e.filter(t=>!t.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.cleanup.flush(),this.itemSelection.clear()}getOrientation(){return this.orientation??"horizontal"}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}getItemLabel(e){const{formatter:t}=this.item.label;if(t){const n=e.datum;return this.cachedCallWithContext(t,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId,...n&&{datum:n}})}return e.label.text}calcLayout(e,t){const{paddingX:n,paddingY:s,label:i,maxWidth:r,label:{maxLength:a=1/0,fontStyle:o,fontWeight:c,fontSize:u,fontFamily:h}}=this.item,f=[...this.data];this.reverseOrder&&f.reverse(),this.itemSelection.update(f);const g=[],m=wa(i),b=r??e*.8,{markerWidth:S,anyLineEnabled:C}=this.calculateMarkerWidth();if(this.itemSelection.each((F,G)=>{F.fontStyle=o,F.fontWeight=c,F.fontSize=u,F.fontFamily=h;const U=this.updateMarkerLabel(F,G,S,C),H=G.itemId??G.id,$=(this.getItemLabel(G)??"<unknown>").replace(/\r?\n/g," ");F.text=this.truncate($,a,b,U,m,H),g.push(F.getTextMeasureBBox())}),e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};[e,t]=this.updateContainer(e,t);const M=this.size,N=this.oldSize;M[0]=e,M[1]=t,(M[0]!==N[0]||M[1]!==N[1])&&(N[0]=M[0],N[1]=M[1]);const{pages:T,maxPageHeight:E,maxPageWidth:k}=this.updatePagination(g,e,t),L=this.pages;this.pages=T,this.maxPageSize=[k-n,E-s];const I=this.pagination.currentPage,_=this.pages[I];return this.pages.length<1||!_?(this.visible=!1,{oldPages:L}):(this.visible=!0,this.updatePositions(I),this.update(),{oldPages:L})}isCustomMarker(e,t){return e&&t!==void 0&&typeof t!="string"}calcSymbolsEnabled(e){const{showSeriesStroke:t,marker:n}=this.item,s=!!n.enabled||!t||(e.marker.enabled??!0),i=!!(e.line&&t),r=this.isCustomMarker(s,e.marker.shape);return{markerEnabled:s,lineEnabled:i,isCustomMarker:r}}calcSymbolsLengths(e,t,n){const{marker:s,line:i}=this.item;let r;const{shape:a}=e.marker;if(this.isCustomMarker(t,a)){const u=new ni;u.shape=a,u.updatePath();const h=u.getBBox();r=Math.max(h.width,h.height)}const o=t?s.size:0,c=n?i.length??25:0;return{markerLength:o,lineLength:c,customMarkerSize:r}}calculateMarkerWidth(){let e=0,t=!1;return this.itemSelection.each((n,s)=>{const{symbol:i}=s,{lineEnabled:r,markerEnabled:a}=this.calcSymbolsEnabled(i),{markerLength:o,lineLength:c,customMarkerSize:u=-1/0}=this.calcSymbolsLengths(i,a,r);e=Math.max(e,c,u,o),t||(t=r)}),{markerWidth:e,anyLineEnabled:t}}updateMarkerLabel(e,t,n,s){const{marker:i,paddingX:r}=this.item,{symbol:a}=t;let o=r;const{markerEnabled:c,isCustomMarker:u}=this.calcSymbolsEnabled(a),h=i.padding;(c||s)&&(o+=h+n);const{marker:f,line:g}=e;return f.visible=c,f.visible&&(f.shape=i.shape??a.marker.shape??"square",f.size=i.size,Rc(f,this.getMarkerStyles(xs(a)))),g.visible=s,g.visible&&Rc(g,this.getLineStyles(a)),e.length=n,e.spacing=h,e.isCustomMarker=u,o}updateContainer(e,t){const n=this.getContainerStyles();return this.containerNode.width=0,this.containerNode.height=0,Rc(this.containerNode,n),this.containerNode.cornerRadius=n.cornerRadius,e-=n.strokeWidth*2+n.padding.left+n.padding.right,t-=n.strokeWidth*2+n.padding.top+n.padding.bottom,[e,t]}truncate(e,t,n,s,i,r){let a=!1;e.length>t&&(e=e.substring(0,t),a=!0);const o=og(e,i,n-s,a);return rb(o)?this.truncatedItems.add(r):this.truncatedItems.delete(r),o}updatePagination(e,t,n){const s=this.getOrientation(),i=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=s,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:r,maxPageHeight:a,maxPageWidth:o,paginationBBox:c,paginationVertical:u}=this.calculatePagination(e,t,n),h=r.findIndex(N=>N.endIndex>=i);this.pagination.currentPage=wt(0,h,r.length-1);const{paddingX:f,paddingY:g}=this.item,m=8,y=o-f,b=a-g;let S=0,C=-c.y-this.item.marker.size/2;u?C+=b+m:(S+=-c.x+y+m,C+=(b-c.height)/2),this.pagination.translationX=S,this.pagination.translationY=C,this.pagination.update(),this.pagination.updateMarkers();let M=0;return this.itemSelection.each((N,T,E)=>{E>(r[M]?.endIndex??1/0)&&M++,N.pageIndex=M}),{maxPageHeight:a,maxPageWidth:o,pages:r}}calculatePagination(e,t,n){const{paddingX:s,paddingY:i}=this.item,r=["left","left-top","left-bottom","right","right-top","right-bottom"],{placement:a}=RS(this.position),o=this.getOrientation(),c=r.includes(a);let u=this.pagination.getBBox(),h=new Pe(0,0,0,0),f=[],g=0,m=0,y=0;const b=C=>C.width===u.width&&C.height===u.height,S=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(y++>10){Ne.warn("unable to find stable legend layout.");break}u=h;const C=t-(c?0:u.width),M=n-(c?u.height:0),N=Jze({orientation:o,bboxes:e,maxHeight:M,maxWidth:C,itemPaddingY:i,itemPaddingX:s,forceResult:S});f=N?.pages??[],g=N?.maxPageWidth??0,m=N?.maxPageHeight??0;const T=f.length;if(this.pagination.visible=T>1,this.pagination.totalPages=T,this.pagination.update(),this.pagination.updateMarkers(),h=this.pagination.getBBox(),!this.pagination.visible)break}while(!b(h));return{maxPageWidth:g,maxPageHeight:m,pages:f,paginationBBox:h,paginationVertical:c}}updatePositions(e=0){const{item:{paddingY:t},itemSelection:n,pages:s}=this;if(s.length<1||!s[e])return;const{columns:i,startIndex:r,endIndex:a}=s[e];let o=0,c=0;const u=i.length,h=i[0].indices.length,f=this.getOrientation()==="horizontal",g=i[0].bboxes[0].height+t,m=[];n.each((y,b,S)=>{if(S<r||S>a){y.visible=!1;return}const C=S-r;let M,N;f?(M=C%u,N=Math.floor(C/u)):(M=Math.floor(C/h),N=C%h),y.visible=!0;const T=i[M];T&&(c=Math.floor(g*N),o=Math.floor(m[N]??0),m[N]=(m[N]??0)+T.columnWidth,y.translationX=o,y.translationY=c)})}updatePageNumber(e){const{itemSelection:t,group:n,pagination:s,pages:i,toggleSeries:r}=this,{startIndex:a,endIndex:o}=i[e];a===0?this.paginationTrackingIndex=0:e===i.length-1?this.paginationTrackingIndex=o:this.paginationTrackingIndex=Math.floor((a+o)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),this.domProxy.onPageChange({itemSelection:t,group:n,pagination:s,interactive:r}),this.ctx.updateService.update(7)}update(){const{label:{color:e}}=this.item;this.itemSelection.each((t,n)=>{t.setEnabled(n.enabled),t.color=e}),this.updateContextMenu()}updateContextMenu(){this.ctx.contextMenuRegistry.setVisible("toggle-series-visibility",this.toggleSeries),this.ctx.contextMenuRegistry.setVisible("toggle-other-series",this.toggleSeries)}getLineStyles(e){const{stroke:t,strokeOpacity:n=1,strokeWidth:s,lineDash:i}=e.line??{},r=Math.min(2,s??1);return{stroke:t,strokeOpacity:n,strokeWidth:this.item.line.strokeWidth??r,lineDash:i}}getMarkerStyles({marker:e}){const{fill:t,stroke:n,strokeOpacity:s=1,fillOpacity:i=1,strokeWidth:r,lineDash:a,lineDashOffset:o}=e,c=Math.min(2,r??1);return Cd(t)&&(t.width=8,t.height=8,t.padding=1,t.strokeWidth=Math.min(2,t.strokeWidth??2)),tf(t)&&(t.fit="contain",t.width=void 0,t.height=void 0,t.repeat="no-repeat"),ek({fill:t,stroke:n,strokeOpacity:s,fillOpacity:i,strokeWidth:this.item.marker.strokeWidth??c,lineDash:a,lineDashOffset:o},P$,z$,F$)}getContainerStyles(){const{stroke:e,strokeOpacity:t,strokeWidth:n}=this.border,{cornerRadius:s,fill:i,fillOpacity:r,padding:a}=this,o=typeof a=="number";return ek({cornerRadius:s,fill:i,fillOpacity:r,padding:{top:o?a:a.top??0,right:o?a:a.right??0,bottom:o?a:a.bottom??0,left:o?a:a.left??0},stroke:e,strokeOpacity:t,strokeWidth:this.border.enabled?n:0},P$,z$,F$)}computePagedBBox(){const e=Et.computeChildrenBBox(this.group.excludeChildren({name:"legend-container"}));if(this.pages.length>1){const[s,i]=this.maxPageSize;e.height=Math.max(i,e.height),e.width=Math.max(s,e.width)}const{strokeWidth:t,padding:n}=this.getContainerStyles();return e.grow(n).grow(t),e}findNode(e){const{datum:t,proxyButton:n}=this.itemSelection.select(s=>s.datum?.itemId===e.itemId)[0]??{};if(t===void 0||n===void 0)throw new Error(`AG Charts - Missing required properties { datum: ${t}, proxyButton: ${JSON.stringify(n)} }`);return{datum:t,proxyButton:n}}contextToggleVisibility(e){const{datum:t,proxyButton:n}=this.findNode(e);this.doClick(e.event,t,n)}contextToggleOtherSeries(e){this.doDoubleClick(e.event,this.findNode(e).datum)}onContextClick(e,t){const{sourceEvent:n}=e,s=t.datum;this.preventHidingAll&&this.contextMenuDatum?.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.builtins.items["toggle-series-visibility"].enabled=!1:this.ctx.contextMenuRegistry.builtins.items["toggle-series-visibility"].enabled=!0;const i=this.ctx.chartService.series.length>1&&this.ctx.chartService.series[0]?.getLegendData("category")[0]?.hideToggleOtherSeries!==!0;this.ctx.contextMenuRegistry.setVisible("toggle-other-series",i);const{offsetX:r,offsetY:a}=n,{x:o,y:c}=vs.toCanvasPoint(t,r,a);this.ctx.contextMenuRegistry.dispatchContext("legend-item",{widgetEvent:e,canvasX:o,canvasY:c},{legendItem:s})}onClick(e,t,n){this.doClick(e,t,n)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(e=>e.getLegendData("category")).filter(e=>e.enabled).length}doClick(e,t,n){const{listeners:{legendItemClick:s},ctx:{chartService:i,highlightManager:r},preventHidingAll:a,toggleSeries:o}=this;if(!t)return!1;const{legendType:c,seriesId:u,itemId:h,enabled:f,legendItemName:g}=t,m=i.series.find(S=>S.id===u);if(!m)return!1;let y=f;const b=_$("click",t,e);return s&&Go([m.properties,this.ctx.chartService],s,b.apiEvent),b.defaultPrevented||(o&&(y=!f,a&&!y&&this.getVisibleItemCount()<2&&(y=!0),n.setChecked(y),this.ctx.eventsHub.emit("legend:item-click",{legendType:c,series:m,itemId:h,enabled:y,legendItemName:g})),y?r.updateHighlight(this.id,{series:m,itemId:h,datum:void 0,datumIndex:void 0,legendItemName:g}):r.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:t.skipAnimations??!1})),!0}onDoubleClick(e,t){this.doDoubleClick(e,t)&&e.preventDefault()}doDoubleClick(e,t){const{listeners:{legendItemDoubleClick:n},ctx:{chartService:s},toggleSeries:i}=this;if(!t)return!1;const{legendType:r,id:a,itemId:o,seriesId:c}=t,u=s.series.find(f=>f.id===a);if(!u)return!1;const h=_$("dblclick",t,e);if(n&&Go([u.properties,this.ctx.chartService],n,h.apiEvent),h.defaultPrevented)return!0;if(i){const f=s.series.flatMap(b=>b.getLegendData("category"));let g=0;const m=new Set;for(const b of f)b.enabled&&(g+=1,b.legendItemName!=null&&m.add(b.legendItemName));m.size>0&&(g=m.size);const y=f.find(b=>b.itemId===o&&b.seriesId===c);this.ctx.eventsHub.emit("legend:item-double-click",{legendType:r,series:u,itemId:o,numVisibleItems:g,enabled:y?.enabled??!1,legendItemName:y?.legendItemName})}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(e,t){let n;return e instanceof FocusEvent?n=vs.toCanvas(t).computeCenter():(e.preventDefault(),n=vs.toCanvasPoint(t,e.offsetX,e.offsetY)),{canvasX:n.x,canvasY:n.y,showArrow:!1}}onHover(e,t){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(t.pageIndex);const n=t.datum,s=n?this.ctx.chartService.series.find(i=>i.id===n?.id):void 0;if(n&&this.truncatedItems.has(n.itemId??n.id)){const i=this.toTooltipMeta(e,t);this.ctx.tooltipManager.updateTooltip(this.id,i,[{type:"structured",title:this.getItemLabel(n)}])}else this.ctx.tooltipManager.removeTooltip(this.id);n?.enabled&&s?this.updateHighlight({series:s,itemId:n?.itemId,datum:void 0,datumIndex:void 0,legendItemName:n?.legendItemName}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(e){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,e):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=e,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(e){const t=this.positionLegendScene(e);this.positionLegendDOM(t)}positionLegendScene(e){if(!this.enabled||!this.data.length)return;const{placement:t,floating:n,xOffset:s,yOffset:i}=RS(this.position),r=n?new Pe(0,0,e.width,e.height):e.layoutBox,{x:a,y:o,width:c,height:u}=r,[h,f]=this.calculateLegendDimensions(r),{oldPages:g}=this.calcLayout(h,f),m=this.computePagedBBox();if(this.visible){const y=this.spacing;let b,S;switch(t){case"top":b=(c-m.width)/2,S=0;break;case"bottom":b=(c-m.width)/2,S=u-m.height;break;case"right":b=c-m.width,S=(u-m.height)/2;break;case"left":b=0,S=(u-m.height)/2;break;case"top-right":case"right-top":b=c-m.width,S=0;break;case"top-left":case"left-top":b=0,S=0;break;case"bottom-right":case"right-bottom":b=c-m.width,S=u-m.height;break;case"bottom-left":case"left-bottom":b=0,S=u-m.height;break}if(!n){let C,M;switch(t){case"top":case"top-right":case"top-left":C=m.height+y,M="top";break;case"bottom":case"bottom-right":case"bottom-left":C=m.height+y,M="bottom";break;case"left":case"left-top":case"left-bottom":C=m.width+y,M="left";break;case"right":case"right-top":case"right-bottom":C=m.width+y,M="right";break}r.shrink(C,M)}b+=s,S+=i,this.group.translationX=Math.floor(a+b-m.x),this.group.translationY=Math.floor(o+S-m.y),this.containerNode.x=m.x,this.containerNode.y=m.y,this.containerNode.width=m.width,this.containerNode.height=m.height}return g}positionLegendDOM(e){const{ctx:t,itemSelection:n,pagination:s,pages:i,toggleSeries:r,group:a,listeners:{legendItemClick:o,legendItemDoubleClick:c}}=this,u=this.visible&&this.enabled,h=r||c!=null||o!=null;this.domProxy.update({visible:u,interactive:h,ctx:t,itemSelection:n,group:a,pagination:s,oldPages:e,newPages:i,datumReader:this,itemListener:this})}calculateLegendDimensions(e){const{width:t,height:n}=e,{placement:s}=RS(this.position),i=t/n,r=.5,a=.2,o=.25;let c,u;switch(s){case"top":case"top-left":case"top-right":case"bottom":case"bottom-left":case"bottom-right":{const h=i<1?Math.min(r,a*(1/i)):a;c=this.maxWidth?Math.min(this.maxWidth,t):t,u=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*h);break}case"left":case"left-top":case"left-bottom":case"right":case"right-top":case"right-bottom":{const h=i>1?Math.min(r,o*i):o;c=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*h),u=this.maxHeight?Math.min(this.maxHeight,n):n;break}}return[c,u]}cachedCallWithContext(e,...t){const{callbackCache:n,chartService:s}=this.ctx;return n.call([this,s],e,...t)}};Bs.className="Legend";D([O],Bs.prototype,"toggleSeries",2);D([O],Bs.prototype,"pagination",2);D([O],Bs.prototype,"item",2);D([O],Bs.prototype,"listeners",2);D([Ld((e,t,n)=>{if(e.updateGroupVisibility(),t===n)return;const{ctx:{legendManager:s,stateManager:i}}=e;n===!1&&t===!0&&i.restoreState(s)}),O],Bs.prototype,"enabled",2);D([O],Bs.prototype,"position",2);D([O],Bs.prototype,"maxWidth",2);D([O],Bs.prototype,"maxHeight",2);D([O],Bs.prototype,"reverseOrder",2);D([O],Bs.prototype,"orientation",2);D([O],Bs.prototype,"preventHidingAll",2);D([O],Bs.prototype,"border",2);D([O],Bs.prototype,"cornerRadius",2);D([O],Bs.prototype,"fill",2);D([O],Bs.prototype,"fillOpacity",2);D([O],Bs.prototype,"padding",2);D([O],Bs.prototype,"spacing",2);D([O],Bs.prototype,"xOffset",2);D([O],Bs.prototype,"yOffset",2);var aFe={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new Bs(e),packageType:"community",removable:"standalone-only"},Hb=class extends mt{constructor(e){super(),this.ctx=e,this.rectNode=new si,this.border=new kf(this.rectNode),this.cornerRadius=0,this.padding=0,this.cleanup=new Cs,this.node=this.createNode(),this.node.append([this.rectNode]),this.rectNode.fill=void 0,this.cleanup.register(e.scene.attachNode(this.node),e.eventsHub.on("layout:complete",t=>this.onLayoutComplete(t)))}destroy(){this.cleanup.flush()}getPadding(){const{border:e,padding:t}=this,n=e.enabled?e.strokeWidth:0;if(typeof t=="number"){const s=t+n;return{top:s,right:s,bottom:s,left:s}}return{top:(t.top??0)+n,right:(t.right??0)+n,bottom:(t.bottom??0)+n,left:(t.left??0)+n}}createNode(){return new Et({name:"series-area-container",zIndex:4})}onLayoutComplete(e){const{x:t,y:n,width:s,height:i}=e.series.paddedRect;this.rectNode.x=t,this.rectNode.y=n,this.rectNode.width=s,this.rectNode.height=i}};D([O],Hb.prototype,"border",2);D([O],Hb.prototype,"clip",2);D([Is("rectNode","cornerRadius"),O],Hb.prototype,"cornerRadius",2);D([O],Hb.prototype,"padding",2);var oFe={type:"root",optionsKey:"seriesArea",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new Hb(e)};function Yw(e,t,n,s,i){const r=(f,g,m,y)=>{n.animate({id:`${e}_${t}_${g.id}_${f}`,groupId:e,from:m?1:0,to:1,ease:n0,collapsable:m,onUpdate(b,S){S&&f!=="removed"||(g.path.clear(!0),y(b,g),g.checkPathDirty())},onStop(){f==="added"&&(g.path.clear(!0),y(1,g),g.checkPathDirty())},phase:zo[f]})},a=new xi,o=f=>(a.resetPathDirty(),f(0,a),a.resetPathDirty(),f(1,a),a.checkPathDirty(),a.isPathDirty()),{addPhaseFn:c,updatePhaseFn:u,removePhaseFn:h}=i;for(const f of s)n.isSkipped()||(r("removed",f,!o(h),h),r("updated",f,!o(u),u)),r("added",f,!o(c),c)}function Lf(e,t,n,s,i,r){if(e.visible&&s.itemStyler){const a=i||e.isSeriesHighlighted(r),o=e.getHighlightStateString(r,i||t!=null&&r?.series===t.series&&r?.datumIndex===t.datumIndex,t?.datumIndex),c={border:s.border,color:s.color,cornerRadius:s.cornerRadius,datum:t?.datum,enabled:s.enabled,fill:s.fill,fillOpacity:s.fillOpacity,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight,itemId:t?.itemId,seriesId:e.id,padding:s.padding,highlighted:a,highlightState:o},u=e.ctx.optionsGraphService.resolvePartial(["series",`${e.declarationOrder}`,"label"],e.cachedCallWithContext(s.itemStyler,{...n,...c}),{pick:!1})??{};return pn(u,c)}return s}function BJ(e,t,n,s,i,r,a){if(e.visible&&s.enabled&&i){const o=Lf(e,t.datum,n,s,r,a);t.visible=!0,t.x=i.x,t.y=i.y,t.text=i.text,t.fill=o.color,t.setAlign(i),t.setFont(o),t.setBoxing(o)}else t.visible=!1}var lFe={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function VJ({isUpward:e,isVertical:t,placement:n,spacing:s=0,rect:i}){let r=i.x+i.width/2,a=i.y+i.height/2,o="center",c="middle";if(n!=="inside-center"){const u=(e?1:-1)*(t?-1:1),{direction:h,textAlignment:f}=lFe[n],g=(h+1)*.5;if(t){const m=e?i.y+i.height:i.y,y=i.height*u;a=m+y*g+s*f*u,c=f===u?"top":"bottom"}else{const m=e?i.x:i.x+i.width,y=i.width*u;r=m+y*g+s*f*u,o=f===u?"left":"right"}}return{x:r,y:a,textAlign:o,textBaseline:c}}function ms({id:e},t,n,...s){for(const i of s)i.cleanup();nu(e,t,n,s,{opacity:0},{opacity:1},{phase:"trailing"})}function _S({id:e},t,n,...s){nu(e,t,n,s,{opacity:1},{opacity:0},{phase:"remove"})}function Of(e){return{opacity:1}}var rr=0,$r=1,Br=2,Vr=3,wl=4,cFe=3,uFe=20,JT=100;function pk(e,t,n,s,i,r,a){let o=0;for(;o<JT&&e[s]==null&&s<i;)s+=1,o+=1;for(;o<JT&&e[i]==null&&i>s;)i-=1,o+=1;if(o>=JT||s>=i)return r;const c=Number.isFinite(t)?ho(e[i],t,n)-ho(e[s],t,n):_g(i,e.length)-_g(s,e.length);if(c===0||!Number.isFinite(c))return r;const u=Math.abs(c)/(i-s);let h;if(a<cFe?h=!0:a>uFe?h=!1:h=u<=r,r=Math.min(r,u),!h)return r;const f=Math.floor((s+i)/2),g=pk(e,t,n,s,f,r,a+1),m=pk(e,t,n,f+1,i,r,a+1);return Math.min(g,m,r)}function dFe(e,t,n){return pk(e,t,n,0,e.length-1,1/(e.length-1),0)}function YC(e,t,n,s){if(Number.isFinite(t)){const i=s?.smallestKeyInterval,r=i!=null?i/(n-t):dFe(e,t,n);return WZ(Math.trunc(1/r))>>3}else{let i=Math.ceil(Math.log2(e.length))-1;return i=Math.min(Math.max(i,0),24),2**i|0}}function Rg(e,t){switch(e){case"category":return[NaN,NaN];case"number":case"time":case"ordinal-time":case"unit-time":{let n=1/0,s=-1/0;for(const i of t){const r=Number(i);n=Math.min(n,r),s=Math.max(s,r)}return[n,s]}case"color":case"log":case"mercator":return[0,0]}}function _g(e,t){return e/t}function ho(e,t,n){return(e.valueOf()-t)/(n-t)}function KC(e,t){return Math.min(Math.floor(e*t),t-1)*wl|0}function m0(e,t,n,s,i,r,{positive:a}={}){const o=new Int32Array(r*wl).fill(-1),c=new Float64Array(r*wl).fill(NaN),u=Number.isFinite(s)&&Number.isFinite(i),h=e.length;for(let f=0;f<e.length;f+=1){const g=e[f];if(g==null)continue;const m=t[f],y=m!=null?m.valueOf():NaN;if(a!=null&&y>=0!==a)continue;const b=u?ho(g,s,i):_g(f,h),S=KC(b,r),C=n[f],M=C!=null?C.valueOf():NaN,N=o[S+rr]===-1;(N||b<c[S+rr])&&(o[S+rr]=f,c[S+rr]=b),(N||b>c[S+$r])&&(o[S+$r]=f,c[S+$r]=b),!Number.isNaN(M)&&(N||M<c[S+Br])&&(o[S+Br]=f,c[S+Br]=M),!Number.isNaN(y)&&(N||y>c[S+Vr])&&(o[S+Vr]=f,c[S+Vr]=y)}return{indexData:o,valueData:c}}function y0(e,t,n,{inPlace:s=!1}={}){const i=n/2|0,r=s?e:new Int32Array(i*wl),a=s?t:new Float64Array(i*wl);for(let o=0;o<i;o+=1){const c=o*wl|0,u=c*2|0,h=u+wl|0,f=e[h+rr]===-1,g=f||t[u+rr]<t[h+rr]?u:h;r[c+rr]=e[g+rr],a[c+rr]=t[g+rr];const m=f||t[u+$r]>t[h+$r]?u:h;r[c+$r]=e[m+$r],a[c+$r]=t[m+$r];const y=f||t[u+Br]<t[h+Br]?u:h;r[c+Br]=e[y+Br],a[c+Br]=t[y+Br];const b=f||t[u+Vr]>t[h+Vr]?u:h;r[c+Vr]=e[b+Vr],a[c+Vr]=t[b+Vr]}return{maxRange:i,indexData:r,valueData:a}}var hFe=1e3,fFe=10;function $$(e,t,n,s,i,r){const a=e[r];if(a==null)return-1;const o=Number.isFinite(t)?ho(a,t,n):_g(r,e.length),c=KC(o,i);return r===s[c+rr]||r===s[c+$r]||r===s[c+Br]||r===s[c+Vr]?c:-1}function pFe(e,t,n,s){if(t.length<hFe)return;const[i,r]=Rg(e,s);let a=YC(t,i,r);const{indexData:o,valueData:c}=m0(t,n,n,i,r,a);let u=[],h=[],f=-1;for(let m=0;m<t.length;m+=1){const y=$$(t,i,r,o,a,m);if(y===-1)continue;const b=h.push(m)-1;y!==f&&(u.push(b),f=y)}u.push(h.length-1);const g=[{maxRange:a,metaIndices:u,indices:h}];for(;h.length>fFe&&a>64;){({maxRange:a}=y0(o,c,a,{inPlace:!0}));const m=h;u=[],h=[],f=-1;for(const y of m){const b=$$(t,i,r,o,a,y);if(b===-1)continue;const S=h.push(y)-1;b!==f&&(u.push(S),f=b)}u.push(h.length-1),g.push({maxRange:a,metaIndices:u,indices:h})}return g.reverse(),g}var R4=class extends mt{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(e){this._dirty=!1}isDirty(){return this._dirty}onChangeDetection(e){this.markDirty()}},Yl=class extends R4{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};D([O,Me()],Yl.prototype,"enabled",2);D([O,Me()],Yl.prototype,"color",2);D([O,Me()],Yl.prototype,"xOffset",2);D([O,Me()],Yl.prototype,"yOffset",2);D([O,Me()],Yl.prototype,"blur",2);var jr=class extends R4{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){const{size:e,shape:t,fill:n,fillOpacity:s,stroke:i,strokeWidth:r,strokeOpacity:a,lineDash:o,lineDashOffset:c}=this;return{size:e,shape:t,fill:n,fillOpacity:s,stroke:i,strokeWidth:r,strokeOpacity:a,lineDash:o,lineDashOffset:c}}getDiameter(){return this.size+this.strokeWidth}};D([O,Me()],jr.prototype,"enabled",2);D([O,Ma({})],jr.prototype,"shape",2);D([O,Me()],jr.prototype,"size",2);D([O,Ma({})],jr.prototype,"fill",2);D([O,Me()],jr.prototype,"fillOpacity",2);D([O,Me()],jr.prototype,"stroke",2);D([O,Me()],jr.prototype,"strokeWidth",2);D([O,Me()],jr.prototype,"strokeOpacity",2);D([O],jr.prototype,"lineDash",2);D([O],jr.prototype,"lineDashOffset",2);D([O,Ma({})],jr.prototype,"itemStyler",2);var UJ=class extends mt{constructor(){super(...arguments),this.enabled=!1}};D([O],UJ.prototype,"enabled",2);var lu=class extends mt{constructor(){super(...arguments),this.interaction=new UJ,this.position=new wf,this.range=void 0,this.class=void 0}formatTooltip(e,t,n){const s=this.renderer==null?void 0:Go(e,this.renderer,n);return typeof s=="string"?{type:"raw",rawHtmlString:s}:s!=null?{type:"structured",...t,...s}:{type:"structured",...t}}};D([O],lu.prototype,"enabled",2);D([O],lu.prototype,"showArrow",2);D([O],lu.prototype,"renderer",2);D([O],lu.prototype,"interaction",2);D([O],lu.prototype,"position",2);D([O],lu.prototype,"range",2);D([O],lu.prototype,"class",2);function Rf(){return new lu}var _4=class extends xi{constructor(){super(...arguments),this.segmentPath=new xi}drawPath(e){if(!this.segments||this.segments.length===0){super.drawPath(e);return}e.save();const t=new Path2D;dg(t,{x0:0,y0:0,x1:e.canvas.width,y1:e.canvas.height},!1);for(const s of this.segments)dg(t,s.clipRect);e.clip(t),super.drawPath(e),e.restore();const{segmentPath:n}=this;n.setProperties({opacity:this.opacity,visible:this.visible,lineCap:this.lineCap,lineJoin:this.lineJoin,pointerEvents:this.pointerEvents});for(const{clipRect:s,fill:i,stroke:r,...a}of this.segments){e.save(),n.path=this.path,n.setProperties(a),n.fill=this.fill!=null?i:"none",n.stroke=this.stroke!=null?r:"none";const o=new Path2D;dg(o,s),e.clip(o),n.drawPath(e),e.restore()}}};D([G2()],_4.prototype,"segments",2);function dg(e,{x0:t,y0:n,x1:s,y1:i},r=!0){const a=Math.min(t,s),o=Math.min(n,i),c=Math.max(t,s),u=Math.max(n,i);e.moveTo(a,o),r?(e.lineTo(c,o),e.lineTo(c,u),e.lineTo(a,u)):(e.lineTo(a,u),e.lineTo(c,u),e.lineTo(c,o)),e.closePath()}var HJ=class extends Yi{constructor(){super(...arguments),this.segments=[],this.scalablePath=new(q2(xi))}renderInContext(e){if(!this.visible)return;const{ctx:t}=e;if(!this.segments||this.segments?.length===0)return super.renderInContext(e);t.save();const n=new Path2D;dg(n,{x0:0,y0:0,x1:t.canvas.width,y1:t.canvas.height},!1);for(const i of this.segments)dg(n,i.clipRect);t.clip(n);for(const i of this.children())i.visible&&i.render(e);t.restore();const{scalablePath:s}=this;for(const{clipRect:i,...r}of this.segments){t.save();const a=new Path2D;dg(a,i),t.clip(a),s.setProperties(r);for(const o of this.children())!o.visible||!(o instanceof xi)||(s.path=o.path,s.setProperties({opacity:o.opacity,lineCap:o.lineCap,lineJoin:o.lineJoin,...P3e(o)&&{scalingX:o.scalingX,scalingY:o.scalingY,scalingCenterX:o.scalingCenterX,scalingCenterY:o.scalingCenterY}}),s.render(e));t.restore()}}};D([G2()],HJ.prototype,"segments",2);var GJ=class{constructor(e,t,n){this.root=new yFe(e,t,n)}clear(e){this.root.clear(e)}addValue(e,t){const n={hitTester:e,value:t,distanceSquared:(s,i)=>e.distanceSquared(s,i)};this.root.addElem(n)}find(e,t){const n={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,n),n.best}},gFe=class{constructor(e,t,n,s){this.nw=e,this.ne=t,this.sw=n,this.se=s}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,n){this.nw.find(e,t,n),this.ne.find(e,t,n),this.sw.find(e,t,n),this.se.find(e,t,n)}},mFe=class{constructor(e,t,n){this.capacity=e,this.maxdepth=t,this.boundary=n??Pe.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,n){this.findCondition(e,t,n)&&(this.subdivisions===void 0?this.findAction(e,t,n):this.subdivisions.find(e,t,n))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(const t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){const{x:e,y:t,width:n,height:s}=this.boundary,{capacity:i}=this,r=this.maxdepth-1,a=n/2,o=s/2,c=new Pe(e,t,a,o),u=new Pe(e+a,t,a,o),h=new Pe(e,t+o,a,o),f=new Pe(e+a,t+o,a,o);return new gFe(this.child(i,r,c),this.child(i,r,u),this.child(i,r,h),this.child(i,r,f))}},yFe=class WJ extends mFe{addCondition(t){const{x:n,y:s}=t.hitTester.midPoint;return this.boundary.containsPoint(n,s)}findCondition(t,n,s){const{best:i}=s;return i.distanceSquared!==0&&this.boundary.distanceSquared(t,n)<i.distanceSquared}findAction(t,n,s){const i=U2(t,n,this.elems,s.best.distanceSquared);i.nearest!==void 0&&i.distanceSquared<s.best.distanceSquared&&(s.best=i)}child(t,n,s){return new WJ(t,n,s)}},P4=class extends xC{constructor({clipFocusBox:e,categoryKey:t,...n}){super(n),this.categoryKey=t,this.clipFocusBox=e??!0}dataCount(){return this.processedData?.dataSources?.get(this.id)?.length??0}getScaleInformation({xScale:e,yScale:t}){const n=jn.is(e),s=jn.is(t);return{isContinuousX:n,isContinuousY:s,xScaleType:e?.type,yScaleType:t?.type}}getModulePropertyDefinitions(){const e=this.axes.x?.scale,t=this.axes.y?.scale;return this.moduleMap.mapModules(n=>n.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t}))).flat()}async requestDataModel(e,t,n){n.props.push(...this.getModulePropertyDefinitions());const{dataModel:s,processedData:i}=await e.request(this.id,t??[],n);return this.dataModel=s,this.processedData=i,this.events.emit("data-processed",{dataModel:s,processedData:i}),{dataModel:s,processedData:i}}isProcessedDataAnimatable(){const{processedData:e,ctx:t}=this;if(!e)return!1;const n=this.getNodeData();if(n!=null&&n.length>t.animationManager.maxAnimatableItems)return!1;const s=e.reduced?.animationValidation;if(!s)return!0;const{orderedKeys:i,uniqueKeys:r}=s;return i&&r}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){const t=this.getNodeData();if(t===void 0||t.length===0)return;const n=this.computeFocusDatumIndex(e,t);if(n===void 0)return;const{clipFocusBox:s}=this,i=t[n],r={...e,datumIndex:n},a=this.computeFocusBounds(r);if(a!==void 0)return{bounds:a,clipFocusBox:s,datum:i,datumIndex:n}}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);return t.sort((n,s)=>n.datumIndex-s.datumIndex),t}isDatumEnabled(e,t){const{missing:n=!1,enabled:s=!0,focusable:i=!0}=e[t];return!n&&s&&i}computeFocusDatumIndex(e,t){const n=(a,o)=>{for(;a>=0&&!this.isDatumEnabled(t,a);)a+=o;return a===-1?void 0:a},s=(a,o)=>{for(;a<t.length&&!this.isDatumEnabled(t,a);)a+=o;return a===t.length?void 0:a};let i;const r=wt(0,e.datumIndex,t.length-1);return e.datumIndexDelta<0?i=n(r,e.datumIndexDelta):e.datumIndexDelta>0?i=s(r,e.datumIndexDelta):i=s(r,1)??n(r,-1),i===void 0?e.datumIndexDelta===0?void 0:e.datumIndex-e.datumIndexDelta:i}dataModelPropertyIsKey(e){const{processedData:t}=this;return t?t.defs.keys.some(n=>n.id===e&&n.idsMap?.get(this.id)?.has(e)===!0):!1}keysOrValues(e){const{dataModel:t,processedData:n}=this;return!t||!n?[]:this.dataModelPropertyIsKey(e)?t.resolveKeysById(this,e,n):t.resolveColumnById(this,e,n)}sortOrder(e){const{dataModel:t,processedData:n}=this;if(!(!t||!n))return this.dataModelPropertyIsKey(e)?t.getKeySortOrder(this,e,n):t.getColumnSortOrder(this,e,n)}getCategoryKey(){return this.categoryKey}getCategoryValue(e){const{processedData:t,dataModel:n}=this,s=this.getCategoryKey();return!t||!n||!s||(t.invalidData?.get(this.id)?.[e]??!1)?void 0:this.keysOrValues(s)[e]}datumIndexForCategoryValue(e){const{processedData:t,dataModel:n}=this,s=this.getCategoryKey();if(!t||!n||!s)return;e=e.valueOf();const i=t.invalidData?.get(this.id),r=this.keysOrValues(s);for(let a=0;a<r.length;a+=1){if(i?.[a]===!0)continue;const o=r[a]?.valueOf();if(Cr(e,o))return a}}},Sm={x:["xKey"],y:["yKey"]},wm={x:["xName"],y:["yName"]},z4=class extends yC{constructor(e,t,n,s){super(e,t,n,s),this.xKey=s.properties.xKey,this.yKey=s.properties.yKey}},cu=class extends xo{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1,this.segmentation=new db}};D([O],cu.prototype,"legendItemName",2);D([O],cu.prototype,"pickOutsideVisibleMinorAxis",2);D([O],cu.prototype,"segmentation",2);var Kw=100,Ud=class extends P4{constructor({pathsPerSeries:e=["path"],pathsZIndexSubOrderOffset:t=[],datumSelectionGarbageCollection:n=!0,animationAlwaysUpdateSelections:s=!1,segmentedDataNodes:i=!0,animationResetFns:r,propertyKeys:a,propertyNames:o,...c}){if(super({propertyKeys:a,propertyNames:o,canHaveAxes:!0,...c}),this.NodeEvent=z4,this.dataNodeGroup=this.contentGroup.appendChild(new HJ({name:`${this.id}-series-dataNodes`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new Yi({name:`${this.id}-series-labels`})),this.labelSelection=cr.select(this.labelGroup,ha),this.highlightSelection=cr.select(this.highlightGroup,()=>this.nodeFactory()),this.annotationSelections=new Set,this.seriesBelowStackContext=void 0,this.debug=Dt.create(),!a||!o)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,pathsZIndexSubOrderOffset:t,propertyKeys:a,propertyNames:o,animationResetFns:r,animationAlwaysUpdateSelections:s,datumSelectionGarbageCollection:n,segmentedDataNodes:i},this.paths=e.map(u=>new _4({name:`${this.id}-${u}`})),this.datumSelection=cr.select(this.dataNodeGroup,()=>this.nodeFactory(),n),this.animationState=new pb("empty",{empty:{update:{target:"ready",action:u=>this.animateEmptyUpdateReady(u)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:u=>this.animateReadyHighlight(u),resize:u=>this.animateReadyResize(u),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:u=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(u):this.animateWaitingUpdateReady(u)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:u=>this.resetAllAnimation(u),reset:"empty"},clearing:{update:{target:"empty",action:u=>this.animateClearingUpdateEmpty(u)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){return this.contextNodeData?.nodeData}attachSeries(e,t,n){super.attachSeries(e,t,n),this.attachPaths(this.paths)}detachSeries(e,t,n){super.detachSeries(e,t,n),this.detachPaths(this.paths)}updatedDomains(){this.animationState.transition("updateData")}attachPaths(e){for(const t of e)this.contentGroup.appendChild(t)}detachPaths(e){for(const t of e)this.contentGroup.removeChild(t)}renderToOffscreenCanvas(){const e=this.getNodeData();return e!=null&&e.length>Kw}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"?this.animationState.transition("skip"):e==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",e=>this.onLegendItemClick(e)),this.ctx.eventsHub.on("legend:item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}isSeriesHighlighted(e){const{series:t,legendItemName:n}=e??{},{legendItemName:s}=this.properties;return t===this||s!=null&&s===n}strokewidthChange(){const e=("strokeWidth"in this.properties&&this.properties.strokeWidth)??0,t=this.properties.highlight.highlightedSeries.strokeWidth??e,n=this.properties.highlight.highlightedItem?.strokeWidth??e;return e>n||t>n}update({seriesRect:e}){const{_contextNodeData:t}=this,n=this.checkResize(e),s=this.updateHighlightSelection();this.contentGroup.batchedUpdate(()=>{const r=this.updateSelections(),a=this.contextNodeData?.segments;this.opts.segmentedDataNodes?this.dataNodeGroup.segments=a??this.dataNodeGroup.segments:this.dataNodeGroup.segments=void 0,this.updateNodes(s,n||r)});const i=this.getAnimationData(e,t);i&&(n&&this.animationState.transition("resize",i),this.animationState.transition("update",i))}createStackContext(){}updateSelections(){var e;const t=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!this.visible&&t)return!1;const{nodeDataRefresh:n}=this;if(!n&&!this.isPathOrSelectionDirty())return!1;if(n){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();const s=this.isProcessedDataAnimatable();this._contextNodeData&&((e=this._contextNodeData).animationValid??(e.animationValid=s));const{dataModel:i,processedData:r}=this;i!==void 0&&r!==void 0&&this.events.emit("data-update",{dataModel:i,processedData:r}),this.updateSeriesSelections()}return n}updateSeriesSelections(){const{datumSelection:e,labelSelection:t,paths:n}=this,s=this._contextNodeData;if(!s)return;const{nodeData:i,labelData:r,itemId:a}=s;this.updatePaths({itemId:a,contextData:s,paths:n}),this.datumSelection=this.updateDatumSelection({nodeData:i,datumSelection:e}),this.labelGroup.batchedUpdate(()=>{this.labelSelection=this.updateLabelSelection({labelData:r,labelSelection:t})??t})}getShapeFillBBox(){const{axes:e}=this,t=e.x,n=e.y,[s,i]=pi(t?.range??[0,1]),[r,a]=pi(n?.range??[0,1]),o=this.getSeriesDomain("x"),c=[t?.scale.convert(o.at(0)),t?.scale.convert(o.at(-1))],u=this.getSeriesDomain("y"),h=[n?.scale.convert(u.at(0)),n?.scale.convert(u.at(-1))],[f,g]=pi(c),[m,y]=pi(h);return{axis:new Pe(s,r,i-s,a-r),series:new Pe(f,m,g-f,y-m)}}updateNodes(e,t){const{highlightSelection:n,datumSelection:s}=this,i=!this.ctx.animationManager.isSkipped(),r=this.visible&&this._contextNodeData!=null;this.contentGroup.visible=i||r,this.highlightGroup.visible=(i||r)&&e,this.updateDatumStyles({datumSelection:n,isHighlight:!0}),this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n);const{dataNodeGroup:a,labelSelection:o,paths:c,labelGroup:u}=this,{itemId:h}=this.contextNodeData??{};if(this.updatePathNodes({itemId:h,paths:c,visible:r,animationEnabled:i}),a.visible=i||r,u.visible=r,!a.visible)return;this.hasItemStylers()&&this.updateDatumStyles({datumSelection:s,isHighlight:!1});const f=this.strokewidthChange()||this.hasChangesOnHighlight;(t||f)&&(this.updateDatumNodes({datumSelection:s,isHighlight:!1}),this.usesPlacedLabels||this.labelGroup.batchedUpdate(()=>{this.updateLabelNodes({labelSelection:o,isHighlight:!1})}))}getHighlightData(e,t){return t?[{...t}]:void 0}updateHighlightSelection(){const{highlightSelection:e,_contextNodeData:t}=this;if(!t)return!1;const n=this.ctx.highlightManager?.getActiveHighlight(),i=this.isSeriesHighlighted(n)&&n?.datum?n:void 0;if(i==null)return!1;const{nodeData:r}=t,a=this.getHighlightData(r,i);return this.highlightSelection=this.updateHighlightSelectionItem({items:a,highlightSelection:e}),!0}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:e}of this.datumSelection)e.datum.missing!==!0&&(yield e)}getQuadTree(){if(this.quadtree===void 0){const{width:e,height:t}=this.ctx.scene.canvas,n=new Pe(0,0,e,t);this.quadtree=new GJ(100,10,n),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodeDataExactShape(e){const{x:t,y:n}=e,{dataNodeGroup:s}=this,i=s.pickNodes(t,n).filter(r=>r.datum.missing!==!0);if(i.length!==0)return i.map(a=>a.datum)}pickModulesExactShape(e){for(const t of this.moduleMap.modules()){const{datum:n}=t.pickNodeExact(e)??{};if(n!=null&&n?.missing!==!0)return[n]}}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);return t.length!==0?t:this.pickNodeDataExactShape(e)??this.pickModulesExactShape(e)??[]}pickNodeDataClosestDatum(e){const{x:t,y:n}=e,{axes:s,_contextNodeData:i}=this;if(!i)return;const r=s.x,a=s.y,o={x:t,y:n};let c=1/0,u;for(const h of i.nodeData){const{point:{x:f=NaN,y:g=NaN}={}}=h;if(isNaN(f)||isNaN(g)||!(r?.inRange(f)&&a?.inRange(g)))continue;const y=Math.max((o.x-f)**2+(o.y-g)**2,0);y<c&&(c=y,u=h)}if(c!=null)return{datum:u,distance:Math.sqrt(c)}}pickModulesClosestDatum(e){let t=1/0,n;for(const s of this.moduleMap.modules()){const i=s.pickNodeNearest(e);i!==void 0&&i.distanceSquared<t&&(t=i.distanceSquared,n=i.datum)}if(t!=null)return{datum:n,distance:Math.sqrt(t)}}pickNodeClosestDatum(e){let t=1/0,n;const s=this.pickNodeDataClosestDatum(e);s!=null&&s.distance<t&&(t=s.distance,n=s.datum);const i=this.pickModulesClosestDatum(e);if(i!=null&&i.distance<t&&(t=i.distance,n=i.datum),n){const r=Math.max(t-(n.point?.size??0)/2,0);return{datum:n,distance:r}}}pickNodeMainAxisFirst(e,t){const{x:n,y:s}=e,{axes:i,_contextNodeData:r}=this,{pickOutsideVisibleMinorAxis:a}=this.properties;if(!r)return;const o=i.x,c=i.y;if(o==null||c==null)return;const u=[o,c].filter(y=>y.isCategoryLike()).map(y=>y.direction);if(t&&u.length===0)return;const[h="x"]=u,f=[n,s];h!=="x"&&f.reverse();const g=[1/0,1/0];let m;for(const y of r.nodeData){const{x:b=NaN,y:S=NaN}=y.point??y.midPoint??{};if(isNaN(b)||isNaN(S)||y.missing===!0)continue;const C=[o?.inRange(b,1),c?.inRange(S,1)];if(h!=="x"&&C.reverse(),!C[0]||!a&&!C[1])continue;const M=[b,S];h!=="x"&&M.reverse();let N=!0;for(let T=0;T<M.length;T++){const E=Math.abs(M[T]-f[T]);if(E>g[T]){N=!1;break}else E<g[T]&&(g[T]=E,g.fill(1/0,T+1,g.length))}N&&(m=y)}if(m){let y=Math.max(g[0]**2+g[1]**2-(m.point?.size??0),0);for(const b of this.moduleMap.modules()){const S=b.pickNodeMainAxisFirst(e,h);if(S!==void 0&&S.distanceSquared<y){m=S.datum,y=S.distanceSquared;break}}return{datum:m,distance:Math.sqrt(y)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}visibleRangeIndices(e,t,n,s){let i;if(s==null){const{processedData:u,dataModel:h}=this;i=h.getColumnSortOrder(this,e,u)??1}else i=s.sortOrder;const r=this.keysOrValues(e),a=0,[o,c]=i0(i,n?.length??r.length,t,u=>{const h=n?.[u]??u;return this.xCoordinateRange(r[h],a,h)});return o<c?[o,c]:[c,o]}domainForVisibleRange(e,t,n,s,i){const{processedData:r,dataModel:a}=this,[o,c]=s,u=this.keysOrValues(n),h=this.sortOrder(n);if(h!=null){const y=this.visibleRangeIndices(n,s,i,{sortOrder:h});return a.getDomainBetweenRange(this,t,y,r)}const f=t.map(y=>this.keysOrValues(y));let g=1/0,m=-1/0;return u.forEach((y,b)=>{const[S,C]=this.xCoordinateRange(y,0,b);if(!(C<o||S>c))for(let M=0;M<t.length;M++){const N=f[M][b];g=Math.min(g,N),m=Math.max(m,N)}}),g>m?[NaN,NaN]:[g,m]}domainForClippedRange(e,t,n){const{processedData:s,dataModel:i,axes:r}=this,o=xFe(r[e==="x"?"y":"x"]);if(!o)return t.flatMap(y=>i.getDomain(this,y,"value",s));const c=this.keysOrValues(n),u=i.getColumnSortOrder(this,n,s);if(u!=null){const y=bFe(u,c.length,o,b=>c[b]);return i.getDomainBetweenRange(this,t,y,s)}const h=t.map(y=>this.keysOrValues(y)),f=o[0].valueOf(),g=o[1].valueOf(),m=[];return c.forEach((y,b)=>{const S=y.valueOf();if(S<f||S>g)return;const C=h.map(M=>M[b]);S>=f&&m.push(...C),S<=g&&m.push(...C)}),m}zoomFittingVisibleItems(e,t,n,s,i){const{dataModel:r,processedData:a}=this;if(!r||!a)return;const o=this.axes.x;if(s!=null)return;const c=this.sortOrder(e);if(c==null)return;const u=this.keysOrValues(e);if(i>u.length)return{x:[0,1],y:void 0};const h=o.scale,f=h.range;h.range=[0,1];let[g,m]=this.visibleRangeIndices(e,n,void 0,{sortOrder:c});m-=1;const y=0;this.xCoordinateRange(u[g],y,g)[0]<n[0]&&(g+=1),this.xCoordinateRange(u[m],y,m)[1]>n[1]&&(m-=1);let b;if(Math.abs(m-g)>=i-1)b=n;else{const S=(n[0]+n[1])/2;for(;Math.abs(m-g)<i-1&&(g>0||m<u.length-1);)if(g===0)m+=1;else if(m===u.length-1)g-=1;else{const N=this.xCoordinateRange(u[g-1],y,g-1)[0],T=this.xCoordinateRange(u[m+1],y,m+1)[1];Math.abs(N-S)<Math.abs(T-S)?g-=1:m+=1}const C=this.xCoordinateRange(u[g],y,g)[0],M=this.xCoordinateRange(u[m],y,m)[1];b=[Math.min(n[0],C),Math.max(n[1],M)]}return h.range=f,{x:b,y:void 0}}countVisibleItems(e,t,n,s,i){const{dataModel:r,processedData:a}=this;if(!r||!a)return 1/0;const o=this.keysOrValues(e),c=t.map(L=>r.resolveColumnById(this,L,a)),u=this.shouldFlipXY(),h=u?this.axes.y:this.axes.x,f=u?this.axes.x:this.axes.y,g=u?s??[0,1]:n,m=u?n:s??[0,1];if(s==null){const L=this.sortOrder(e);if(L!=null){const I=h.scale,_=I.range;I.range=[0,1];const F=this.keysOrValues(e);let[G,U]=this.visibleRangeIndices(e,g,void 0,{sortOrder:L});U-=1;const H=0;this.xCoordinateRange(F[G],H,G)[0]<g[0]&&(G+=1),this.xCoordinateRange(F[U],H,U)[1]>g[1]&&(U-=1);const z=Math.abs(U-G)+1;return I.range=_,z}}const y=(L,I,_)=>L[0]+(_-I[0])/(I[1]-I[0])*(L[1]-L[0]),b=h.range.toSorted(),S=f.range.toSorted(),C=y(b,h.visibleRange,g[0]),M=y(b,h.visibleRange,g[1]),N=y(S,f.visibleRange,Math.min(...m)),T=y(S,f.visibleRange,Math.max(...m)),E=Math.round((g[0]+(g[1]-g[0])/2)*o.length),k=0;return HZ(0,o.length-1,E,i,L=>{const[I,_]=this.xCoordinateRange(o[L],k,L),[F,G]=this.yCoordinateRange(c.map(U=>U[L]),k,L);return!bn(I)||!bn(_)||!bn(F)||!bn(G)?!1:I>=C&&_<=M&&F>=N&&G<=T})}minTimeInterval(){let e;try{e=this.keysOrValues("xValue")}catch{}if(e==null||e.length>1e3)return;let t=1/0,n=e[0],s;for(let i=1;i<e.length;i++){const r=e[i];if(r!=null&&n!=null){const a=r.valueOf()-n.valueOf(),o=Math.sign(a);if(o===0)continue;if(s!==void 0&&o!==s)return;t=Math.min(t,Math.abs(a)),s=o}n=r}if(Number.isFinite(t))return t}updateHighlightSelectionItem(e){const{items:t,highlightSelection:n}=e,s=t??[];return this.updateDatumSelection({nodeData:s,datumSelection:n})}updateDatumSelection(e){return e.datumSelection}updateDatumNodes(e){}updateDatumStyles(e){}updatePaths(e){e.paths.forEach(t=>t.visible=!1)}updatePathNodes(e){const{paths:t,visible:n}=e;for(const s of t)s.visible=n}resetPathAnimation(e){const{path:t}=this.opts?.animationResetFns??{};t&&e.paths.forEach(n=>{Ui([n],t)})}resetDatumAnimation(e){const{datum:t}=this.opts?.animationResetFns??{};t&&Ui([e.datumSelection],t)}resetLabelAnimation(e){const{label:t}=this.opts?.animationResetFns??{};t&&Ui([e.labelSelection],t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),e.contextData?.animationValid===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){const{datum:t}=this.opts?.animationResetFns??{};t&&Ui([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(e,t){const{_contextNodeData:n}=this;return n?{datumSelection:this.datumSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:n,previousContextData:t,paths:this.paths,seriesRect:e}:void 0}updateLabelSelection(e){return e.labelSelection}getScaling(e){if(e instanceof S4){const{range:t,domain:n}=e;return{type:"log",convert:s=>e.convert(s),domain:[n[0],n[1]],range:[t[0],t[1]]}}else if(e instanceof jn){const{range:t,domain:n}=e;return{type:"continuous",domain:[n[0],n[1]],range:[t[0],t[1]]}}else if(e instanceof tu)return{type:"category",domain:e instanceof Ju?e.bands:e.domain,inset:e.inset,step:e.step}}calculateScaling(){const e={};for(const t of Object.values(Q2)){const n=this.axes[t];if(!n)continue;const s=this.getScaling(n.scale);s!=null&&(e[t]=s)}return e}};function xFe(e){let t,n;if((e instanceof Na||e instanceof ou)&&({min:t,max:n}=e),!(t==null&&n==null))return t??(t=-1/0),n??(n=1/0),[t,n]}function bFe(e,t,n,s){const i=n[0].valueOf(),r=n[1].valueOf();let a=Zx(0,t-1,c=>{const u=e===1?c:t-c,h=s(u)?.valueOf();return!Number.isFinite(h)||h>=i}),o=Oh(0,t-1,c=>{const u=e===1?c:t-c,h=s(u)?.valueOf();return!Number.isFinite(h)||h<=r});return a==null||o==null?[0,0]:(e===-1&&([a,o]=[t-o,t-a]),a=Math.max(a,0),o=Math.min(o+1,t),[a,o])}var Cm=class extends mt{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};D([O],Cm.prototype,"type",2);D([O],Cm.prototype,"tension",2);D([O],Cm.prototype,"position",2);var Vs=class extends cu{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Cm,this.shadow=new Yl,this.marker=new jr,this.label=new Ms,this.tooltip=Rf(),this.connectMissingData=!1}};D([O],Vs.prototype,"xKey",2);D([O],Vs.prototype,"xName",2);D([O],Vs.prototype,"yKey",2);D([O],Vs.prototype,"yName",2);D([O],Vs.prototype,"yFilterKey",2);D([O],Vs.prototype,"normalizedTo",2);D([O],Vs.prototype,"fill",2);D([O],Vs.prototype,"fillOpacity",2);D([O],Vs.prototype,"stroke",2);D([O],Vs.prototype,"strokeWidth",2);D([O],Vs.prototype,"strokeOpacity",2);D([O],Vs.prototype,"lineDash",2);D([O],Vs.prototype,"lineDashOffset",2);D([O],Vs.prototype,"interpolation",2);D([O],Vs.prototype,"styler",2);D([O],Vs.prototype,"shadow",2);D([O],Vs.prototype,"marker",2);D([O],Vs.prototype,"label",2);D([O],Vs.prototype,"tooltip",2);D([O],Vs.prototype,"connectMissingData",2);function fo(e){switch(e.type){case"linear":case"step":case"multi-line":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function vFe(e){const t=fo(e);return t[0].x>t[1].x&&t.reverse(),t}function SFe(e,t){const{x:n,y:s}=t;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:n,y0:s,x1:n,y1:s};case"step":return{type:"step",moveTo:e.moveTo,x0:n,y0:s,x1:n,y1:s,stepX:n};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:n,cp0y:s,cp1x:n,cp1y:s,cp2x:n,cp2y:s,cp3x:n,cp3y:s};case"multi-line":return{type:"multi-line",moveTo:e.moveTo,x0:n,y0:s,x1:n,y1:s,midPoints:e.midPoints.map(()=>({x:n,y:s}))}}}function x0(e,t,n){const[s,i]=fo(e),r=i.x!==s.x?(n.x-t.x)/(i.x-s.x):0,a=i.y!==s.y?(n.y-t.y)/(i.y-s.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:n.x,y1:n.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:n.x-(e.cp2x-s.x)*r,cp1y:n.y-(e.cp2y-s.y)*a,cp2x:n.x-(e.cp1x-s.x)*r,cp2y:n.y-(e.cp1y-s.y)*a,cp3x:n.x,cp3y:n.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:n.x,y1:n.y,stepX:n.x-(e.stepX-s.x)*r};case"multi-line":return{type:"multi-line",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:n.x,y1:n.y,midPoints:e.midPoints.map(o=>({x:t.x+(o.x-s.x)*r,y:t.y+(o.y-s.y)*a}))}}}function YJ(e,t,n){const{moveTo:s}=e,[i,r]=vFe(e),{x:a,y:o}=i,{x:c,y:u}=r;if(n<a)return x0(e,i,i);if(t>c)return x0(e,r,r);switch(e.type){case"linear":{const h=o===u?void 0:(u-o)/(c-a),f=h==null?o:h*(t-a)+o,g=h==null?o:h*(n-a)+o;return{type:"linear",moveTo:s,x0:t,y0:f,x1:n,y1:g}}case"step":if(n<=e.stepX){const h=e.y0;return{type:"step",moveTo:s,x0:t,y0:h,x1:n,y1:h,stepX:n}}else if(t>=e.stepX){const h=e.y1;return{type:"step",moveTo:s,x0:t,y0:h,x1:n,y1:h,stepX:t}}else{const{y0:h,y1:f,stepX:g}=e;return{type:"step",moveTo:s,x0:t,y0:h,x1:n,y1:f,stepX:g}}case"cubic":{const h=Dw(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t);let[f,g]=Jx(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,h);const m=Dw(g[0].x,g[1].x,g[2].x,g[3].x,n);return[g,f]=Jx(g[0].x,g[0].y,g[1].x,g[1].y,g[2].x,g[2].y,g[3].x,g[3].y,m),{type:"cubic",moveTo:s,cp0x:g[0].x,cp0y:g[0].y,cp1x:g[1].x,cp1y:g[1].y,cp2x:g[2].x,cp2y:g[2].y,cp3x:g[3].x,cp3y:g[3].y}}case"multi-line":{const{midPoints:h}=e,f=h.findLastIndex(k=>k.x<=t);let g=h.findIndex(k=>k.x>=n);g===-1&&(g=h.length);const m=f>=0?h[f]:void 0,y=m?.x??a,b=m?.y??o,S=g<h.length?h[g]:void 0,C=S?.x??c,M=S?.y??u,N=b===M?void 0:(M-b)/(C-y),T=N==null?b:N*(y-a)+b,E=N==null?b:N*(C-a)+b;return{type:"multi-line",moveTo:s,x0:t,y0:T,x1:n,y1:E,midPoints:h.slice(Math.max(f,0),g)}}}}function wFe(e){const t=[];let n=0,s=NaN,i=NaN;for(const{x:r,y:a}of e){if(n>0){const o=n===1;t.push({type:"linear",moveTo:o,x0:s,y0:i,x1:r,y1:a})}n+=1,s=r,i=a}return t}var CFe={start:0,middle:.5,end:1};function MFe(e,t){const n=[];let s=0,i=NaN,r=NaN;const a=typeof t=="number"?t:CFe[t];for(const{x:o,y:c}of e){if(s>0){const u=s===1,h=i+(o-i)*a;n.push({type:"step",moveTo:u,x0:i,y0:r,x1:o,y1:c,stepX:h})}s+=1,i=o,r=c}return n}var Y1=.05;function jFe(e,t){const n=Array.isArray(e)?e:Array.from(e);if(n.length<=1)return[];const s=n.map((r,a)=>{const o=a===0?r:n[a-1],c=a===n.length-1?r:n[a+1],u=a===0||a===n.length-1;if(Math.sign(o.y-r.y)===Math.sign(c.y-r.y))return 0;if(!u){const h=Math.abs(o.y-c.y),f=Math.abs(r.y-o.y)/h,g=Math.abs(r.y-c.y)/h;if(f<=Y1||1-f<=Y1||g<=Y1||1-g<=Y1)return 0}return(c.y-o.y)/(c.x-o.x)});s[1]===0&&(s[0]*=2),s[s.length-2]===0&&(s[s.length-1]*=2);const i=[];for(let r=1;r<n.length;r+=1){const a=n[r-1],o=s[r-1],c=n[r],u=s[r],h=c.x-a.x,f=c.y-a.y;let g=h*t/3,m=h*o*t/3,y=h*t/3,b=h*u*t/3;u===0&&Math.abs(m)>Math.abs(f)&&(g*=Math.abs(f/m),m=Math.sign(m)*Math.abs(f)),o===0&&Math.abs(b)>Math.abs(f)&&(y*=Math.abs(f/b),b=Math.sign(b)*Math.abs(f)),i.push({type:"cubic",moveTo:r===1,cp0x:a.x,cp0y:a.y,cp1x:a.x+g,cp1y:a.y+m,cp2x:c.x-y,cp2y:c.y-b,cp3x:c.x,cp3y:c.y})}return i}function Qs(e,t,n){return(t-e)*n+e}function B$(e,t){const{x0:n,y0:s,x1:i,y1:r}=e,o=(r-s)/(i-n)*(t-n)+s;return{leftCp1x:n,leftCp1y:s,leftCp2x:t,leftCp2y:o,stepX:t,stepY0:o,stepY1:o,rightCp1x:t,rightCp1y:o,rightCp2x:i,rightCp2y:r}}function NFe(e,t){const{cp0x:n,cp0y:s,cp1x:i,cp1y:r,cp2x:a,cp2y:o,cp3x:c,cp3y:u}=e,h=Dw(n,i,a,c,t),[f,g]=Jx(n,s,i,r,a,o,c,u,h),m=f[3].y;return{leftCp1x:f[1].x,leftCp1y:f[1].y,leftCp2x:f[2].x,leftCp2y:f[2].y,stepX:t,stepY0:m,stepY1:m,rightCp1x:g[1].x,rightCp1y:g[1].y,rightCp2x:g[2].x,rightCp2y:g[2].y}}function AFe(e){const{x0:t,y0:n,x1:s,y1:i,stepX:r}=e;return{leftCp1x:(t+r)/2,leftCp1y:n,leftCp2x:(t+r)/2,leftCp2y:n,stepX:r,stepY0:n,stepY1:i,rightCp1x:(r+s)/2,rightCp1y:i,rightCp2x:(r+s)/2,rightCp2y:i}}function V$(e,t){return e.type==="linear"?B$(e,t):e.type==="cubic"?NFe(e,t):e.type==="step"?AFe(e):B$(e,t)}function KJ(e,t,n,s,i,r,a){switch(t){case 0:a?e.moveTo(i,r):e.moveTo(n,s);break;case 1:a?e.lineTo(i,r):e.lineTo(n,s);break}}function qJ(e,t,n,s,i,r){r?e.lineTo(t,n):e.lineTo(s,i)}function ZJ(e,t,n,s,i,r,a,o,c,u){u?e.cubicCurveTo(r,a,s,i,t,n):e.cubicCurveTo(s,i,r,a,o,c)}function QJ(e,t,n,s,i,r,a){a?(e.lineTo(r,i),e.lineTo(r,n),e.lineTo(t,n)):(e.lineTo(r,n),e.lineTo(r,i),e.lineTo(s,i))}function TFe(e,t,n,s,i,r,a){if(a){for(let o=r.length-1;o>=0;o--){const{x:c,y:u}=r[o];e.lineTo(c,u)}e.lineTo(t,n)}else{for(const{x:o,y:c}of r)e.lineTo(o,c);e.lineTo(s,i)}}function Yy(e,t,n,s){const[i,r]=fo(t);switch(KJ(e,n,i.x,i.y,r.x,r.y,s),t.type){case"linear":qJ(e,t.x0,t.y0,t.x1,t.y1,s);break;case"cubic":ZJ(e,t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,s);break;case"step":QJ(e,t.x0,t.y0,t.x1,t.y1,t.stepX,s);break;case"multi-line":TFe(e,t.x0,t.y0,t.x1,t.y1,t.midPoints,s);break}}function XJ(e,t,n){const[s,i]=fo(e),[r,a]=fo(t),o=Qs(s.x,r.x,n),c=Qs(s.y,r.y,n),u=Qs(i.x,a.x,n),h=Qs(i.y,a.y,n);return[{x:o,y:c},{x:u,y:h}]}function gk(e,t,n,s,i,r){const[{x:a,y:o},{x:c,y:u}]=XJ(t,n,s);if(KJ(e,i,a,o,c,u,r),t.type==="cubic"&&n.type==="cubic"){const h=Qs(t.cp1x,n.cp1x,s),f=Qs(t.cp1y,n.cp1y,s),g=Qs(t.cp2x,n.cp2x,s),m=Qs(t.cp2y,n.cp2y,s);ZJ(e,a,o,h,f,g,m,c,u,r)}else if(t.type==="step"&&n.type==="step"){const h=Qs(t.stepX,n.stepX,s);QJ(e,a,o,c,u,h,r)}else if(t.type==="linear"&&n.type==="linear")qJ(e,a,o,c,u,r);else{let h;t.type==="step"?h=t.stepX:n.type==="step"?h=n.stepX:h=(a+c)/2;const f=V$(t,h),g=V$(n,h),m=Qs(f.leftCp1x,g.leftCp1x,s),y=Qs(f.leftCp1y,g.leftCp1y,s),b=Qs(f.leftCp2x,g.leftCp2x,s),S=Qs(f.leftCp2y,g.leftCp2y,s),C=Qs(f.stepX,g.stepX,s),M=Qs(f.stepY0,g.stepY0,s),N=Qs(f.stepY1,g.stepY1,s),T=Qs(f.rightCp1x,g.rightCp1x,s),E=Qs(f.rightCp1y,g.rightCp1y,s),k=Qs(f.rightCp2x,g.rightCp2x,s),L=Qs(f.rightCp2y,g.rightCp2y,s);r?(e.cubicCurveTo(k,L,T,E,C,N),e.lineTo(C,M),e.cubicCurveTo(b,S,m,y,a,o)):(e.cubicCurveTo(m,y,b,S,C,M),e.lineTo(C,N),e.cubicCurveTo(T,E,k,L,c,u))}}var EFe=1e3,JJ=(e=>(e[e.Zero=0]="Zero",e[e.Split=1]="Split",e))(JJ||{});function DFe(e,t){return e==null||t==null||typeof e!="object"||typeof t!="object"?!1:"id"in e&&"id"in t?e.id===t.id:e.toString()===t.toString()}function dr(e){return GD(e).valueOf()}function wi(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);if(t.type!=="category")return NaN;const n=dr(e);let s=t.domain.findIndex(i=>dr(i)===n);return s===-1&&(s=t.domain.findIndex(i=>DFe(e,i))),s>=0?t.inset+t.step*s:NaN}function U$({data:e},t){return e.map((n,s)=>({xValue0Index:t.indexOf(dr(n.xValue0)),xValue1Index:t.indexOf(dr(n.xValue1)),datumIndex:s}))}function H$(e){return Object.values(e.scales).every(t=>t.type==="category"?t.domain.length<EFe:!0)}function kFe(e,t){const n=t.scales.x,s=e.scales.x;if(n?.type!=="category"||s?.type!=="category")return!0;let i=-1/0;for(const r of n.domain){const a=wi(r,s);if(Number.isFinite(a)){if(a<i)return!1;i=a}}return!0}function IFe(e,t){let n=-1/0;for(const s of e){const i=wi(s.value,t.scales.x);if(Number.isFinite(i)){if(i<n)return!1;n=i}}return!0}function LFe(e,t){const n=new Map;for(const{xValue0:h,xValue1:f}of e.data){const g=dr(h),m=dr(f);n.set(g,h).set(m,f)}const s=Array.from(n,([h,f])=>({axisValue:h,value:f}));s.sort((h,f)=>wi(h.value,e.scales.x)-wi(f.value,e.scales.x));const i=[];for(const{xValue0:h,xValue1:f}of t.data){const g=dr(h),m=dr(f);n.has(g)||(n.set(g,h),i.push({axisValue:g,value:h})),n.has(m)||(n.set(m,f),i.push({axisValue:m,value:f}))}i.sort((h,f)=>wi(h.value,t.scales.x)-wi(f.value,t.scales.x));const r=s;let a=0;for(const h of i){for(let f=r.length-1;f>=a;f-=1){const g=wi(h.value,t.scales.x),m=wi(r[f].value,t.scales.x);if(g>m){a=f+1;break}}r.splice(a,0,h),a+=1}if(!IFe(r,t))return;const o=r.map(h=>h.axisValue),c=U$(t,o),u=U$(e,o);return{axisValues:o,oldDataAxisIndices:c,newDataAxisIndices:u}}function G$(e,t,n,s,i){if(i.xValue1Index===i.xValue0Index+1)return e;const r=fo(e);let a,o;if(t.scales.x?.type==="category"){const c=(r[1].x-r[0].x)/(i.xValue1Index-i.xValue0Index);a=r[0].x+(s-i.xValue0Index)*c,o=a+c}else{const c=n[s],u=n[s+1];a=wi(c,t.scales.x),o=wi(u,t.scales.x)}return YJ(e,a,o)}function eee(e,t){const[n,s]=fo(e),i=wi(0,t.scales.y);return x0(e,{x:n.x,y:i},{x:s.x,y:i})}function tee(e){const[t,n]=fo(e);return SFe(e,{x:(t.x+n.x)/2,y:(t.y+n.y)/2})}function nee(e,t,n,s,i,r){let a,o;if(i.xValue0Index>=r.xValue1Index){const f=s.findLast(m=>m.xValue1Index<=r.xValue1Index)?.datumIndex,g=f!=null?n.data[f]:void 0;a=g?.xValue1,o=g?.yValue1}else if(i.xValue0Index<=r.xValue0Index){const f=s.find(m=>m.xValue0Index>=r.xValue0Index)?.datumIndex,g=f!=null?n.data[f]:void 0;a=g?.xValue0,o=g?.yValue0}if(a==null||o==null)switch(t){case 0:return eee(e,n);case 1:return tee(e)}const c=wi(a,n.scales.x),u=wi(o,n.scales.y),h={x:c,y:u};return x0(e,h,h)}function F4(e,t){if(t==null)return;const n=dr(e.xValue0),s=dr(e.xValue1);return t.find(i=>dr(i.xValue0)===n&&dr(i.xValue1)===s)?.span}function W$(e,t,n,s,i,r,a){const o=e.data[s.datumIndex],c=o.span,u=F4(o,i);if(u!=null)a.removed.push({from:u,to:u}),a.moved.push({from:u,to:c}),a.added.push({from:c,to:c});else{const h=nee(c,t,e,n,s,r);a.added.push({from:h,to:c})}}function Y$(e,t,n,s,i,r,a){const o=e.data[s.datumIndex],c=o.span,u=F4(o,i);if(u!=null)a.removed.push({from:c,to:c}),a.moved.push({from:c,to:u}),a.added.push({from:u,to:u});else{const h=nee(c,t,e,n,s,r);a.removed.push({from:c,to:h})}}function K$(e,t,n,s,i){const r=s.scales.x,a=t[i.xValue0Index],o=t[i.xValue1Index];let c,u;if(r?.type==="continuous"||r?.type==="log"?(c=n.data.findLast(C=>dr(C.xValue0)<=a),u=n.data.find(C=>dr(C.xValue1)>=o)):(c=n.data.find(C=>dr(C.xValue0)===a),u=n.data.find(C=>dr(C.xValue1)===o)),c==null||u==null)return;const[{x:h},{x:f}]=fo(e),g=wi(c.xValue0,n.scales.x),m=wi(c.yValue0,n.scales.y),y=wi(u.xValue1,n.scales.x),b=wi(u.yValue1,n.scales.y);let S=s.data[i.datumIndex].span;return S=x0(S,{x:g,y:m},{x:y,y:b}),S=YJ(S,h,f),S}function OFe(e,t,n,s,i,r,a,o,c){const u=i+1,h=a.find(N=>N.xValue0Index<=i&&N.xValue1Index>=u),f=r.find(N=>N.xValue0Index<=i&&N.xValue1Index>=u),g=t.zeroData,m=e.zeroData;if(h==null&&f!=null){W$(e,n,r,f,g,o,c);return}else if(h!=null&&f==null){Y$(t,n,a,h,m,o,c);return}else if(h==null||f==null)return;let y;h.xValue0Index===f.xValue0Index&&h.xValue1Index===f.xValue1Index?y=0:h.xValue0Index<=f.xValue0Index&&h.xValue1Index>=f.xValue1Index?y=-1:h.xValue0Index>=f.xValue0Index&&h.xValue1Index<=f.xValue1Index?y=1:y=0;const b=t.data[h.datumIndex],S=G$(b.span,t,s,i,h),C=e.data[f.datumIndex],M=G$(C.span,e,s,i,f);if(y===1){const N=K$(S,s,t,e,f);N!=null?(c.removed.push({from:S,to:N}),c.moved.push({from:N,to:M}),c.added.push({from:M,to:M})):Y$(t,n,a,h,m,o,c)}else if(y===-1){const N=K$(M,s,e,t,h);N!=null?(c.removed.push({from:S,to:S}),c.moved.push({from:S,to:N}),c.added.push({from:N,to:M})):W$(e,n,r,f,g,o,c)}else c.removed.push({from:S,to:S}),c.moved.push({from:S,to:M}),c.added.push({from:M,to:M})}function RFe(e,t,n,s){const i={removed:[],moved:[],added:[]},{axisValues:r,oldDataAxisIndices:a,newDataAxisIndices:o}=e,c={xValue0Index:Math.max(a.at(0)?.xValue0Index??-1/0,o.at(0)?.xValue0Index??-1/0),xValue1Index:Math.min(a.at(-1)?.xValue1Index??1/0,o.at(-1)?.xValue1Index??1/0)};for(let u=0;u<r.length-1;u+=1)OFe(t,n,s,r,u,o,a,c,i);return i}function _Fe(e,t){const n=[],s=[],i=[];for(let r=0;r<t.data.length;r+=1){const a=t.data[r].span,o=e.data[r].span;n.push({from:a,to:a}),s.push({from:a,to:o}),i.push({from:o,to:o})}return{removed:n,moved:s,added:i}}function q$(e,t,n){const{span:s}=t;switch(n){case 0:return F4(t,e.zeroData)??eee(s,e);case 1:return tee(s)}}function PFe(e,t,n){const s=[],i=[];for(const r of t.data){const a=r.span,o=q$(t,r,n);i.push({from:a,to:o})}for(const r of e.data){const a=r.span,o=q$(e,r,n);s.push({from:o,to:a})}return{removed:i,moved:[],added:s}}function yx(e,t,n){if(!H$(e)||!H$(t)||!kFe(e,t))return;const s=LFe(e,t);return s==null?PFe(e,t,n):s.axisValues.length===s.oldDataAxisIndices.length+s.newDataAxisIndices.length+2?_Fe(e,t):RFe(s,e,t,n)}function Z$(e){return e.type==="continuous"||e.type==="log"}function Q$(e){return e.type==="category"}function Wh(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:Z$(e)&&Z$(t)?e.type===t.type&&Lc(e.domain,t.domain)&&Lc(e.range,t.range):Q$(e)&&Q$(t)?e.inset===t.inset&&e.step===t.step&&Lc(e.domain,t.domain):!1}function b0(e){return e==null?!1:e.type==="category"?e.domain.every(t=>t!=null):e.domain.every(t=>Number.isFinite(t)||t instanceof Date)&&e.range.every(t=>Number.isFinite(t))}function xx(e,t){let n;const s=e.map(i=>i.point);switch(t.type){case"linear":n=wFe(s);break;case"smooth":n=jFe(s,t.tension);break;case"step":n=MFe(s,t.position);break}return n.map((i,r)=>({span:i,xValue0:e[r].xDatum,yValue0:e[r].yDatum,xValue1:e[r+1].xDatum,yValue1:e[r+1].yDatum}))}function v0(e,t,n=.001){return Math.abs(e.x-t.x)<n&&Math.abs(e.y-t.y)<n}function $4({path:e},t){let n;for(const{span:s}of t){const[i,r]=fo(s),a=n!=null&&v0(n,i)?2:0;Yy(e,s,a,!1),n=r}}function PS(e,t,n){let s;for(const i of n){const[r,a]=XJ(i.from,i.to,e),o=s!=null&&v0(s,r)?2:0;gk(t.path,i.from,i.to,e,o,!1),s=a}}function B4(e,t,n){const s=(o,c)=>PS(o,c,t.removed),i=(o,c)=>PS(o,c,t.moved),r=(o,c)=>PS(o,c,t.added),a=V4(e,n);return{status:e,path:{addPhaseFn:r,updatePhaseFn:i,removePhaseFn:s},pathProperties:a}}function V4(e,t){const n=t==="none"?"updated":e,s={fromFn(i,r){const a={phase:zo[n]},o=i.previousDatum??r;return o!=null&&(a.segments=o),e==="removed"?a.finish={visible:!1}:e==="added"&&(a.start={visible:!0}),a},toFn(i,r){const a={phase:zo[n]},o=r;return o!=null&&(a.segments=o),a}};return t==="fade"?{fromFn(i,r){const a=e==="added"?0:i.opacity,o=e==="removed"?i.previousDatum??r:r;return{...s.fromFn(i,r),opacity:a,segments:o}},toFn(i,r){const a=e==="removed"?0:1,o=e==="removed"?i.previousDatum??r:r;return{...s.toFn(i,r),opacity:a,segments:o}}}:s}function see(e,t,n){const s=e.scales.x?.type==="category",i=t.scales.x?.type==="category";if(s!==i||!b0(e.scales.x)||!b0(t.scales.x)||e.strokeData==null||t.strokeData==null)return;let r="updated";t.visible&&!e.visible?r="removed":!t.visible&&e.visible&&(r="added");const a=yx({scales:e.scales,data:e.strokeData.spans},{scales:t.scales,data:t.strokeData.spans},1);if(a==null)return;const o=B4(r,a,"fade"),c=(n?.changed??!0)||!Wh(e.scales.x,t.scales.x)||!Wh(e.scales.y,t.scales.y)||r!=="updated";return{status:r,stroke:o,hasMotion:c}}function iee({path:e},{spans:t,phantomSpans:n}){let s=0,i={x:NaN,y:NaN},r={x:NaN,y:NaN};for(let a=0;a<t.length;a+=1){const{span:o}=t[a],{span:c}=n[a],{0:u,1:h}=fo(o),{0:f,1:g}=fo(c);if(v0(i,u)&&v0(r,f))Yy(e,o,2,!1);else{for(let m=a-1;m>=s;m-=1)Yy(e,n[m].span,1,!0);e.closePath(),Yy(e,o,0,!1),s=a}i=h,r=g}for(let a=t.length-1;a>=s;a-=1)Yy(e,n[a].span,1,!0);e.closePath()}function zS(e,{path:t},n,s){for(let i=0;i<n.length;i+=1){const r=n[i],a=s[i];gk(t,r.from,r.to,e,0,!1),gk(t,a.from,a.to,e,1,!0),t.closePath()}}function ree(e,t,n,s){const i=(c,u)=>zS(c,u,t.removed,n.removed),r=(c,u)=>zS(c,u,t.moved,n.moved),a=(c,u)=>zS(c,u,t.added,n.added),o=V4(e,s);return{status:e,path:{addPhaseFn:a,updatePhaseFn:r,removePhaseFn:i},pathProperties:o}}function aee(e,t){const n=e.scales.x?.type==="category",s=t.scales.x?.type==="category";if(n!==s||!b0(e.scales.x)||!b0(t.scales.x))return;let i="updated";t.visible&&!e.visible?i="removed":!t.visible&&e.visible&&(i="added");const r=yx({scales:e.scales,data:e.fillData.spans},{scales:t.scales,data:t.fillData.spans},0);if(r==null)return;const a=yx({scales:e.scales,data:e.fillData.phantomSpans},{scales:t.scales,data:t.fillData.phantomSpans},0);if(a==null)return;const o=yx({scales:e.scales,data:e.strokeData.spans,zeroData:e.fillData.phantomSpans},{scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},0);if(o==null)return;const c="none",u=ree(i,r,a,c),h=B4(i,o,c);return{status:i,fill:u,stroke:h}}function S0({id:e},t,n,...s){const i={phase:n?zo[n]:"trailing"};nu(e,"markers",t,s,{opacity:0},{opacity:1},i),s.forEach(r=>r.cleanup())}function oee({id:e},t,...n){nu(e,"markers",t,n,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),n.forEach(s=>s.cleanup())}function U4({id:e,nodeDataDependencies:t},n,...s){const i=t.seriesRectWidth;Fs(e,"markers",n,s,{fromFn:(o,c)=>{const u=c.midPoint?.x??i;let h=wt(0,LZ(u/i),1);return isNaN(h)&&(h=0),{scalingX:0,scalingY:0,delay:h,duration:Iw,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function qC(e){return{opacity:1,scalingX:1,scalingY:1}}function w0(e,t){return{x:t.point?.x??NaN,y:t.point?.y??NaN,scalingCenterX:t.point?.x??NaN,scalingCenterY:t.point?.y??NaN}}function ZC(e,{datumIndex:t}){const n=e.getNodeData();if(n===void 0)return;const s=n[t],{point:i}=s??{};if(s==null||i==null)return;const r=e.getFormattedMarkerStyle(s),a=ni.anchor(r.shape),o=i.focusSize??r.size,c=4+o,u=c/2,h=(a.x-.5)*o,f=(a.y-.5)*o,g=s.point.x-u-h,m=s.point.y-u-f;return vs.toCanvas(e.contentGroup,new Pe(g,m,c,c))}function H4(e,t,n,s=n){return s.enabled??n.enabled?(t.step??sf(t.range)/Math.max(1,e))>1:!1}function QC(e,t,n){return n??(n={stroke:e.properties.stroke,strokeOpacity:e.properties.strokeOpacity,strokeWidth:e.properties.strokeWidth}),iC.reduce((s,i)=>(s[i]=e.getMarkerStyle(t,{},void 0,{highlightState:i},void 0,n),s),{})}function G4({id:e,visible:t,nodeDataDependencies:n},s,...i){const{seriesRectWidth:r,seriesRectHeight:a}=n;nu(e,"path_properties",s,i,{clipX:0},{clipX:r},{phase:"initial",start:{clip:!0,clipY:a,visible:t},finish:{clip:!1,visible:t}})}function qw({id:e},t,n,s="add",...i){nu(e,t,n,i,{opacity:0},{opacity:1},{phase:s})}function W4(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clip:!1})}function Zw({nodeDataDependencies:e},t){const n=s=>isFinite(s)?s:0;t.clipX=n(e.seriesRectWidth),t.clipY=n(e.seriesRectHeight)}function X$(e){return e.isReversed()!==e.range[1]<e.range[0]}function XC(e,t,n,s,i,r=!0){if(t.scale.domain.length===0||n.scale.domain.length===0)return;const a=e.key==="x"?t:n,{scale:o,direction:c}=a,u=c==="x",h=o.bandwidth??0,f=r?((o.step??0)-h)/2:0,g=Math.max(s.x,i.width-(s.x+s.width)),m=Math.max(s.y,i.height-(s.y+s.height)),y=()=>X$(u?t:n)?u?s.width+g:s.height+m:u?-g:-m,b=()=>X$(u?t:n)?u?-g:-m:u?s.width+g:s.height+m;return(C=>{const M=[];let N=-1;for(let T=0;T<C.length;T++){const E=C[T];if(bS(E))continue;const{start:k,stop:L,...I}=C[T],_=C[N]?.stop,F=C.slice(T+1).find($=>$.start!=null)?.start;let G=o.convert(k??_)-f,U=o.convert(L??F)+2*f;const H=k!=null&&isNaN(G),z=L!=null&&isNaN(U);H||z||(isNaN(G)&&(G=y()),isNaN(U)&&(U=b()),L!=null&&(N=T),M.push({start:G,stop:U,...I}))}return M})(e.segments).map(({stop:C,start:M,...N})=>{const T=u?M:-g,E=u?-m:M,k=u?C+h:s.width+g,L=u?s.height+m:C+h;return{clipRect:{x0:T,y0:E,x1:k,y1:L},...N}})}var lee=new Set(["time","timestamp","date","datetime"]);function Y4(e,t,n){if(e!=="x"&&e!=="y"||!En(t))return;const s=cee(e,n);if(s==null||!(s in t))return;const i=t[s],r=uee(e,n),a=K4(s,i);return a?{type:a,position:r}:typeof i=="number"?{type:"number",position:r}:{type:"category",position:r}}function Gb(e,t,n){if(e!=="x"&&e!=="y"||!En(t))return;const s=cee(e,n);if(s==null||!(s in t))return;const i=uee(e,n),r=K4(s,t[s]);if(r)return{type:r,position:i}}function K4(e,t){if(mf(t)||lee.has(e)&&Gx(t))return"time"}function cee(e,t){let n;return e==="x"?"xKey"in t&&(n=t.xKey):e==="y"&&"yKey"in t&&(n=t.yKey),n}function uee(e,t){return"direction"in t&&t.direction==="horizontal"?e==="x"?"left":"bottom":e==="x"?"bottom":"left"}var zFe=.125,FFe=.25,$Fe=ub(pFe),JC=class extends Ud{constructor(e){super({moduleCtx:e,propertyKeys:Sm,propertyNames:wm,categoryKey:"xValue",pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],datumSelectionGarbageCollection:!1,segmentedDataNodes:!1,pickModes:[2,0],animationResetFns:{path:W4({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Of,datum:(t,n)=>({...qC(),...w0(t,n)})},clipFocusBox:!1}),this.properties=new Vs,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0,this.backgroundGroup=new Et({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0,this.fillSpans=[],this.phantomSpans=[],this.strokeSpans=[]}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||this.contextNodeData!=null&&(this.contextNodeData.fillData.spans.length>Kw||this.contextNodeData.strokeData.spans.length>Kw)}attachSeries(e,t,n){super.attachSeries(e,t,n),e.appendChild(this.backgroundGroup)}detachSeries(e,t,n){super.detachSeries(e,t,n),e?.removeChild(this.backgroundGroup)}attachPaths([e,t]){this.backgroundGroup.appendChild(e),this.contentGroup.appendChild(t),t.zIndex=-1}detachPaths([e,t]){this.backgroundGroup.removeChild(e),this.contentGroup.removeChild(t)}isStacked(){return(this.seriesGrouping?.stackCount??1)>1}isNormalized(){return this.properties.normalizedTo!=null}setSeriesIndex(e){const n=this.isStacked()===this._isStacked;return this._isStacked=n,super.setSeriesIndex(e,n)}setZIndex(e){super.setZIndex(e),this.isStacked()?(this.backgroundGroup.zIndex=[0,e],this.contentGroup.zIndex=[1,e,0]):(this.backgroundGroup.zIndex=[1,e,0,0],this.contentGroup.zIndex=[1,e,0,1])}async processData(e){if(this.data==null)return;const{data:t,visible:n,seriesGrouping:{groupIndex:s=this.id,stackCount:i=1}={}}=this,{xKey:r,yKey:a,yFilterKey:o,connectMissingData:c,normalizedTo:u}=this.properties,h=!this.ctx.animationManager.isSkipped(),f=this.axes.x?.scale,g=this.axes.y?.scale,{xScaleType:m,yScaleType:y}=this.getScaleInformation({xScale:f,yScale:g}),b=i>1||u!=null,S={value:`area-stack-${s}-yValue`,marker:`area-stack-${s}-yValues-marker`},C={invalidValue:null};(ax(u)||c)&&i>1&&(C.invalidValue=0),n||(C.forceValue=0);const M=[dd(r,m,{id:"xValue"}),qn(a,y,{id:"yValueRaw",...C}),...o!=null?[qn(o,y,{id:"yFilterRaw"})]:[]];b&&M.push(...p0(a,"normal","current",{id:"yValueCumulative",...C,groupId:S.marker},y)),ax(u)&&M.push(qn(a,y,{id:"yValue",...C,groupId:S.value}),$C(Object.values(S),u)),h&&M.push(Vb());const{dataModel:N,processedData:T}=await this.requestDataModel(e,t,{props:M,groupByKeys:b,groupByData:!b});this.dataAggregationFilters=this.aggregateData(N,T),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:n}=this.properties,s=this.axes.x.scale.convert(e),i=n.enabled?.5*n.size*t:0;return[s-i,s+i]}yCoordinateRange(e,t){const{marker:n}=this.properties,s=this.axes.y.scale.convert(e[0]),i=n.enabled?.5*n.size*t:0;return[s-i,s+i]}yValueKey(){return this.isNormalized()?"yValue":"yValueRaw"}yCumulativeKey(e){return e.type==="grouped"?"yValueCumulative":this.yValueKey()}getSeriesDomain(e){const{dataModel:t,processedData:n,axes:s}=this;if(!t||!n)return[];const i=s.y;if(e==="x"){const a=t.resolveProcessedDataDefById(this,"xValue"),o=t.getDomain(this,"xValue","key",n);return a?.def.type==="key"&&a.def.valueType==="category"?o:Gr(zd(o))}const r=this.domainForClippedRange("y",[this.yCumulativeKey(n)],"xValue");if(i instanceof Na&&!(i instanceof Nf)){const a=Number.isFinite(r[1]-r[0])?[r[0]>0?0:r[0],r[1]<0?0:r[1]]:[];return Gr(a)}else return Gr(r)}getSeriesRange(e,t){const[n,s]=this.domainForVisibleRange("y",[this.yCumulativeKey(this.processedData)],"xValue",t);return[Math.min(n,0),Math.max(s,0)]}getZoomRangeFittingItems(e,t,n){return this.zoomFittingVisibleItems("xValue",[this.yCumulativeKey(this.processedData)],e,t,n)}getVisibleItems(e,t,n){return this.countVisibleItems("xValue",[this.yCumulativeKey(this.processedData)],e,t,n)}aggregateData(e,t){if(pm(t))return;const n=this.axes.x;if(n==null)return;const{scale:s}=n,i=e.resolveKeysById(this,"xValue",t),r=e.resolveColumnById(this,this.yCumulativeKey(t),t),a=e.getDomain(this,"xValue","key",t);return $Fe(s.type,i,r,a)}stackAggregatedData(e){const{indices:t,metaIndices:n}=e,{visible:s,axes:i,dataModel:r,processedData:a,seriesBelowStackContext:o}=this,c=i.x,u=i.y;if(!s)return this.phantomSpans=[],this.fillSpans=[],this.strokeSpans=[],o;if(c==null||u==null||r==null||a==null)return;const{scale:h}=c,{scale:f}=u,g=(h.bandwidth??0)/2,m=r.resolveKeysById(this,"xValue",a),y=r.resolveColumnById(this,this.yCumulativeKey(a),a);let[b,S]=i0(1,n.length-1,c.range,T=>{const E=n[T],k=n[T+1],L=t[E],I=t[k],_=m[L],F=m[I],{0:G}=this.xCoordinateRange(_,0),{1:U}=this.xCoordinateRange(F,0);return[G,U]});b=Math.max(b-1,0),S=Math.min(S+1,n.length-1);let C=[];if(o?.fillSpans)C=o?.fillSpans;else for(let T=b;T<S;T+=1){const E=n[T],k=n[T+1],L=t[E],I=t[k],_=m[L],F=m[I],G={type:"linear",moveTo:!1,x0:h.convert(_)+g,y0:f.convert(0),x1:h.convert(F)+g,y1:f.convert(0)};C.push({span:G,xValue0:_,xValue1:F,yValue0:0,yValue1:0})}this.phantomSpans=C;const M=[],N=[];for(let T=b;T<S;T+=1){const E=n[T],k=n[T+1],L=t[E],I=t[k],_=m[L],F=m[I],G=y[L],U=y[I],H=[];for(let P=E+1;P<k;P++){const B=t[P];H.push({x:h.convert(m[B])+g,y:f.convert(y[B])})}const $={span:{type:"multi-line",moveTo:!1,x0:h.convert(_)+g,y0:f.convert(G),x1:h.convert(F)+g,y1:f.convert(U),midPoints:H},xValue0:_,xValue1:F,yValue0:G,yValue1:U};M.push($),N.push($)}return this.fillSpans=M,this.strokeSpans=N,{stack:[],fillSpans:M,strokeSpans:N}}stackYValueData(){const{visible:e,axes:t,dataModel:n,processedData:s,seriesBelowStackContext:i,properties:r}=this,a=t.x,o=t.y;if(a==null||o==null||n==null||s==null)return;const{interpolation:c}=r,{scale:u}=a,{scale:h}=o,f=(u.bandwidth??0)/2;let g=n.resolveKeysById(this,"xValue",s),m=n.resolveColumnById(this,this.yValueKey(),s);const y=!this.isStacked()&&this.properties.connectMissingData,b=s.invalidKeys?.get(this.id),C=(y?s.invalidData?.get(this.id):void 0)??b;C!=null&&(g=g.filter((G,U)=>C[U]===!1),m=m.filter((G,U)=>C[U]===!1));let[M,N]=i0(1,g.length,a.range,G=>this.xCoordinateRange(g[G],0));M=Math.max(M-2,0),N=Math.min(N+2,g.length);let T;if(i?.fillSpans)T=i?.fillSpans;else{const G=[];for(let U=M;U<N;U+=1){const H=g[U];G.push({point:{x:u.convert(H)+f,y:h.convert(0)},xDatum:H,yDatum:0})}T=xx(G,{type:"linear"})}if(this.phantomSpans=T,!e)return this.fillSpans=T,this.strokeSpans=[],i;let E=i?.stack;if(E==null){E=[];for(let G=M;G<N-1;G+=1)E.push({leading:0,trailing:0,dataValid:!0,breakBefore:!1})}const k=E.slice();let L=!1;for(let G=0;G<k.length;G+=1){const U=M+G,H=M+G+1;let{leading:z,trailing:$,breakBefore:P}=E[G];const B=m[U],Y=m[H],K=!Number.isFinite(B),te=!Number.isFinite(Y),se=!K&&!te;se&&(z+=B,$+=Y),G!==0&&se!==L&&(P=!0),L=se,k[G]={leading:z,trailing:$,dataValid:se,breakBefore:P}}const I=[],_=[],F=[];for(let G=0;G<k.length;G+=1){const{leading:U,dataValid:H,breakBefore:z}=k[G],$=M+G;if(z){if(F.length!==0){const P=k[G-1],B={point:{x:u.convert(g[$])+f,y:h.convert(P.trailing)},xDatum:g[$],yDatum:P.trailing};F.push(B);const Y=xx(F,c);I.push(...Y),_.push(...Y)}F.length=0}if(H){const P={point:{x:u.convert(g[$])+f,y:h.convert(U)},xDatum:g[$],yDatum:U};F.push(P)}else I.push(T[G])}if(F.length!==0){const G=k[k.length-1],U=M+k.length,H={point:{x:u.convert(g[U])+f,y:h.convert(G.trailing)},xDatum:g[U],yDatum:G.trailing};F.push(H);const z=xx(F,c);I.push(...z),_.push(...z),F.length=0}return this.fillSpans=I,this.strokeSpans=_,{stack:k,fillSpans:I,strokeSpans:_}}createStackContext(){const e=this.axes.x;if(e==null)return;const{scale:t}=e,[n,s]=t.range,i=Math.abs(s-n),r=this.dataAggregationFilters?.find(a=>a.maxRange>i);return r?this.stackAggregatedData(r):this.stackYValueData()}createNodeData(){const{axes:e,data:t,processedData:n,dataModel:s,dataAggregationFilters:i}=this,r=e.x,a=e.y;if(!r||!a||!t||!s||!n)return;const{xKey:o,xName:c,yFilterKey:u,yKey:h,yName:f,marker:g,label:m,fill:y,stroke:b}=this.properties,S=r.scale,C=a.scale,{isContinuousY:M}=this.getScaleInformation({xScale:S,yScale:C}),N=(S.bandwidth??0)/2,T=n.type==="grouped",E=s.resolveKeysById(this,"xValue",n),k=s.resolveColumnById(this,"yValueRaw",n),L=T?s.resolveColumnById(this,"yValueCumulative",n):k,I=u!=null?s.resolveColumnById(this,"yFilterRaw",n):void 0,_=this.getSeriesDomain("y"),F=[],G=[],{visibleSameStackCount:U}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let H=!1;const z=n.dataSources.get(this.id)??[],$=n.invalidData?.get(this.id),[P,B]=S.range,Y=Math.abs(B-P),K=i?.find(me=>me.maxRange>Y);let te=0,se=0;const fe=K?.indices;[te,se]=this.visibleRangeIndices("xValue",r.range,fe),te=Math.max(te-2,0),se=Math.min(se+2,fe?.length??E.length),n.input.count<1e3&&(te=0,se=n.input.count);const oe=(me,be,Ae)=>{let Te;return(ax(this.properties.normalizedTo)?M&&lC(Ae):!isNaN(Ae))&&(Te=be),{x:S.convert(me)+N,y:C.convert(Te),size:g.size}},Ee=me=>{const be=E[me];if(be==null)return;const Ae=z[me],Te=k[me],Be=L[me],Ge=Number.isFinite(Te)&&$?.[me]!==!0,Je=oe(be,+Be,Te),et=I!=null?I[me]===Te:void 0;if(et===!1&&(H=!0),Ge&&g&&G.push({series:this,itemId:h,datum:Ae,datumIndex:me,midPoint:{x:Je.x,y:Je.y},cumulativeValue:+Be,yValue:Te,xValue:be,yKey:h,xKey:o,point:Je,fill:g.fill??y,stroke:g.stroke??b,strokeWidth:g.strokeWidth??this.properties.strokeWidth,selected:et}),m.enabled&&Ge){const lt=this.getLabelText(Te,Ae,h,"y",_,m,{value:Te,datum:Ae,xKey:o,yKey:h,xName:c,yName:f});F.push({series:this,itemId:h,datum:Ae,datumIndex:me,x:Je.x,y:Je.y,labelText:lt})}};for(let me=te;me<se;me+=1){const be=fe?.[me]??me;E[be]!=null&&Ee(be)}const ye=XC(this.properties.segmentation,r,a,this.chart.seriesRect,this.ctx.scene,!1);return{itemId:h,fillData:{itemId:h,spans:this.fillSpans,phantomSpans:this.phantomSpans},strokeData:{itemId:h,spans:this.strokeSpans},labelData:F,nodeData:G,scales:this.calculateScaling(),visible:this.visible,stackVisible:U>0,crossFiltering:H,styles:QC(this,g),segments:ye}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){const{paths:[t,n],visible:s,animationEnabled:i}=e,r=this.contextNodeData?.crossFiltering===!0,a=this.contextNodeData?.segments,o=pn(this.getHighlightStyle(),this.getStyle(!1)),{strokeWidth:c,stroke:u,strokeOpacity:h,lineDash:f,lineDashOffset:g,fill:m,fillOpacity:y,opacity:b}=o;n.setProperties({segments:a,fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:u,strokeWidth:c,strokeOpacity:h*(r?FFe:1),lineDash:f,lineDashOffset:g,opacity:b,visible:s||i}),n.datum=a,Rc(t,{fill:m,stroke:void 0,fillOpacity:y*(r?zFe:1)},this.getShapeFillBBox()),t.setProperties({segments:a,lineJoin:"round",pointerEvents:1,fillShadow:this.properties.shadow,opacity:b,visible:s||i}),t.datum=a,Zw(this,n),Zw(this,t)}updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(const n of e)n.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const n of e)n.path.clear(),n.markDirty("AreaSeries")}updateFillPath(e,t){const[n]=e;n.path.clear(),iee(n,t.fillData),n.markDirty("AreaSeries")}updateStrokePath(e,t){const{spans:n}=t.strokeData,[,s]=e;s.path.clear(),$4(s,n),s.markDirty("AreaSeries")}updateDatumSelection(e){const{nodeData:t,datumSelection:n}=e,{contextNodeData:s,processedData:i,axes:r,properties:a}=this,{marker:o,styler:c}=a,u=c?this.getStyle(!1).marker:void 0,h=s?.crossFiltering===!0||H4(i.input.count,r.x.scale,o,u);return o.isDirty()&&(n.clear(),n.cleanup()),n.update(h?t:[])}updateDatumStyles(e){const{datumSelection:t,isHighlight:n}=e,{marker:s}=this.properties,i=this.ctx.highlightManager.getActiveHighlight();t.each((r,a)=>{if(!t.isGarbage(r)){const o=this.getHighlightState(i,e.isHighlight,a.datumIndex),c=this.getStyle(n,o),{stroke:u,strokeWidth:h,strokeOpacity:f}=c,g=this.makeItemStylerParams(this.dataModel,this.processedData,a.datumIndex,c.marker);a.style=this.getMarkerStyle(s,a,g,{isHighlight:n,highlightState:o},c.marker,{stroke:u,strokeWidth:h,strokeOpacity:f})}})}updateDatumNodes(e){const{contextNodeData:t}=this;if(!t)return;const{datumSelection:n,isHighlight:s}=e,i=this.getShapeFillBBox(),r=this.ctx.highlightManager.getActiveHighlight();n.each((a,o)=>{const c=o.style??t.styles[this.getHighlightState(r,s,o.datumIndex)];this.applyMarkerStyle(c,a,o.point,i,{selected:o.selected})}),s||this.properties.marker.markClean()}updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}updateLabelNodes(e){const{isHighlight:t=!1}=e,n=this.ctx.highlightManager?.getActiveHighlight(),s=this.makeLabelFormatterParams();e.labelSelection.each((i,r)=>{const a=Lf(this,r,s,this.properties.label,t,n),{enabled:o,fontStyle:c,fontWeight:u,fontSize:h,fontFamily:f,color:g}=a;o&&r?.labelText?(i.fontStyle=c,i.fontWeight=u,i.fontSize=h,i.fontFamily=f,i.textAlign="center",i.textBaseline="bottom",i.text=r.labelText,i.x=r.x,i.y=r.y-10,i.fill=g,i.visible=!0,i.fillOpacity=this.getHighlightStyle(t,r.datumIndex).opacity??1,i.setBoxing(a)):i.visible=!1})}makeStylerParams(e,t){const{id:n}=this,{marker:s,fill:i,fillOpacity:r,lineDash:a,lineDashOffset:o,stroke:c,strokeOpacity:u,strokeWidth:h,xKey:f,yKey:g}=this.properties,m=am(t??0);return{marker:{fill:s.fill,fillOpacity:s.fillOpacity,size:s.size,shape:s.shape,stroke:s.stroke,strokeOpacity:s.strokeOpacity,strokeWidth:s.strokeWidth,lineDash:s.lineDash,lineDashOffset:s.lineDashOffset},highlightState:m,highlighted:e,fill:i,fillOpacity:r,lineDash:a,lineDashOffset:o,seriesId:n,stroke:c,strokeOpacity:u,strokeWidth:h,xKey:f,yKey:g}}makeItemStylerParams(e,t,n,s){const{xKey:i,yKey:r}=this.properties,a=e.resolveKeysById(this,"xValue",t)[n],o=e.resolveColumnById(this,"yValueRaw",t)[n],c=e.getDomain(this,"xValue","key",t),u=e.getDomain(this,this.yCumulativeKey(t),"value",t);return{...aC(a,o,i,r,c,u),xValue:a,yValue:o,...s}}makeLabelFormatterParams(){const{xKey:e,xName:t,yKey:n,yName:s}=this.properties;return{xKey:e,xName:t,yKey:n,yName:s}}getTooltipContent(e){const{id:t,dataModel:n,processedData:s,axes:i,properties:r}=this,{xKey:a,xName:o,yKey:c,yName:u,tooltip:h,legendItemName:f}=r,g=i.x,m=i.y;if(!n||!s||!g||!m)return;const y=s.dataSources.get(this.id)?.[e],b=n.resolveKeysById(this,"xValue",s)[e],S=n.resolveColumnById(this,"yValueRaw",s)[e];if(b==null)return;const C=this.getStyle(!1),M=this.makeItemStylerParams(n,s,e,C.marker),N=this.getMarkerStyle(this.properties.marker,{datumIndex:e,datum:y},M,{isHighlight:!1},C.marker);return this.formatTooltipWithContext(h,{heading:this.getAxisValueText(g,"tooltip",b,y,a,f),symbol:this.legendItemSymbol(),data:[{label:u,fallbackLabel:c,value:this.getAxisValueText(m,"tooltip",S,y,c,f)}]},{seriesId:t,datum:y,title:u,xKey:a,xName:o,yKey:c,yName:u,...N,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:n,strokeOpacity:s,strokeWidth:i,lineDash:r,marker:a}=this.getStyle(!1),o=!a.enabled||a.fill==null,c=o?e:a.fill;return{marker:{...this.getMarkerStyle(this.properties.marker,{},void 0,{isHighlight:!1,checkForHighlight:!1},{size:a.size,shape:a.shape,fill:c,fillOpacity:o?n:a.fillOpacity,stroke:a.stroke}),enabled:a.enabled||i<=0},line:{stroke:t,strokeOpacity:s,strokeWidth:i,lineDash:r}}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:n},visible:s}=this,{yKey:i,yName:r,legendItemName:a,showInLegend:o}=this.properties;return[{legendType:e,id:t,itemId:i,legendItemName:a,seriesId:t,enabled:s&&n.getItemEnabled({seriesId:t,itemId:i}),label:{text:a??r??i},symbol:this.legendItemSymbol(),hideInLegend:!o}]}animateEmptyUpdateReady(e){const{datumSelection:t,labelSelection:n,contextData:s,paths:i}=e,{animationManager:r}=this.ctx;this.updateAreaPaths(i,s),G4(this,r,...i),Ui([t],w0),U4(this,r,t),ms(this,"labels",r,n)}animateReadyResize(e){const{contextData:t,paths:n}=e;this.updateAreaPaths(n,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{datumSelection:n,labelSelection:s,contextData:i,paths:r,previousContextData:a}=e,[o,c]=r;if(i.visible===!1&&a?.visible===!1||o==null&&c==null)return;this.resetDatumAnimation(e),this.resetLabelAnimation(e);const u=()=>{this.resetPathAnimation(e),this.updateAreaPaths(r,i)},h=()=>{t.skipCurrentBatch(),u()};if(i==null||a==null){u(),S0(this,t,"added",n),qw(this,"fill_path_properties",t,"add",o),qw(this,"stroke_path_properties",t,"add",c),ms(this,"labels",t,s);return}if(i.crossFiltering!==a.crossFiltering){h();return}const f=aee(i,a);if(f===void 0){h();return}else if(f.status==="no-op")return;S0(this,t,void 0,n),Fs(this.id,"fill_path_properties",t,[o],f.fill.pathProperties),Yw(this.id,"fill_path_update",t,[o],f.fill.path),Fs(this.id,"stroke_path_properties",t,[c],f.stroke.pathProperties),Yw(this.id,"stroke_path_update",t,[c],f.stroke.path),ms(this,"labels",t,s),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(r,i)})}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ni}getStyle(e,t){const{styler:n,marker:s,fill:i,fillOpacity:r,lineDash:a,lineDashOffset:o,stroke:c,strokeOpacity:u,strokeWidth:h}=this.properties,{size:f,shape:g,fill:m="transparent",fillOpacity:y}=s;let b={};if(n){const S=this.makeStylerParams(e,t),C=this.cachedCallWithContext(n,S)??{};b=this.ctx.optionsGraphService.resolvePartial(["series",`${this.declarationOrder}`],C,{pick:!1})??{}}return b.marker??(b.marker={}),{fill:b.fill??i,fillOpacity:b.fillOpacity??r,lineDash:b.lineDash??a,lineDashOffset:b.lineDashOffset??o,stroke:b.stroke??c,strokeOpacity:b.strokeOpacity??u,strokeWidth:b.strokeWidth??h,marker:{enabled:b.marker.enabled??s.enabled,fill:b.marker.fill??m,fillOpacity:b.marker.fillOpacity??y,shape:b.marker.shape??g,size:b.marker.size??f,lineDash:b.marker.lineDash??s.lineDash??a,lineDashOffset:b.marker.lineDashOffset??s.lineDashOffset??o,stroke:b.marker.stroke??s.stroke??c,strokeOpacity:b.marker.strokeOpacity??s.strokeOpacity??u,strokeWidth:b.marker.strokeWidth??s.strokeWidth??h}}}getFormattedMarkerStyle(e){const t=this.getStyle(!1),n=this.makeItemStylerParams(this.dataModel,this.processedData,e.datumIndex,t.marker);return this.getMarkerStyle(this.properties.marker,e,n,{isHighlight:!0},void 0,t)}computeFocusBounds(e){return ZC(this,e)}hasItemStylers(){return this.properties.styler!=null||this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}};JC.className="AreaSeries";JC.type="area";var BFe={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new JC(e),stackable:!0,predictAxis:Gb,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",Rd],["image",iu],["pattern",uo]]},stroke:{$palette:"stroke"},fillOpacity:.8,strokeOpacity:1,strokeWidth:{$isUserOption:["./stroke",2,0]},lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:Cf,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:{$isUserOption:["./stroke",1,0]},fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",Rb],["pattern",uo]]},stroke:{$palette:"stroke"}},label:{...Rl,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:_d(),segmentation:DC}}},dee={type:"series",name:"area",chartType:"cartesian",options:ZX,create:e=>new JC(e)},q4=class extends si{constructor(){super(...arguments),this.direction="x",this.featherRatio=0}get feathered(){return Math.abs(this.featherRatio)>1e-6}isPointInPath(e,t){return this.feathered?this.getBBox().containsPoint(e,t):super.isPointInPath(e,t)}updatePath(){if(!this.feathered){super.updatePath();return}const{path:e,borderPath:t,x:n,y:s,width:i,height:r,direction:a,featherRatio:o}=this;if(e.clear(),t.clear(),a==="x"){const c=Math.abs(o)*i;o>0?(e.moveTo(n,s),e.lineTo(n+i-c,s),e.lineTo(n+i,s+r/2),e.lineTo(n+i-c,s+r),e.lineTo(n,s+r),e.closePath()):(e.moveTo(n+c,s),e.lineTo(n+i,s),e.lineTo(n+i,s+r),e.lineTo(n+c,s+r),e.lineTo(n,s+r/2),e.closePath())}else{const c=Math.abs(o)*r;o>0?(e.moveTo(n,s+c),e.lineTo(n+i/2,s),e.lineTo(n+i,s+c),e.lineTo(n+i,s+r),e.lineTo(n,s+r),e.closePath()):(e.moveTo(n,s),e.lineTo(n+i,s),e.lineTo(n+i,s+r-c),e.lineTo(n+i/2,s+r),e.lineTo(n,s+r-c),e.closePath())}}renderStroke(e){if(!this.feathered){super.renderStroke(e);return}const{stroke:t,strokeWidth:n}=this;if(t&&n){const{globalAlpha:s}=e,{lineDash:i,lineDashOffset:r,lineCap:a,lineJoin:o,path:c}=this;this.applyStrokeAndAlpha(e),e.lineWidth=n,i&&e.setLineDash(i),r&&(e.lineDashOffset=r),a&&(e.lineCap=a),o&&(e.lineJoin=o),e.stroke(c.getPath2D()),e.globalAlpha=s}}};D([Me()],q4.prototype,"direction",2);D([Me()],q4.prototype,"featherRatio",2);function eM(e,t){for(const n of t){const s=n.datum;s===void 0?Ne.error("undefined datum"):e.addValue(n,s)}}function tM(e,t){const{x:n,y:s}=t,{nearest:i,distanceSquared:r}=e.getQuadTree().find(n,s);if(i!==void 0)return{datum:i.value,distance:Math.sqrt(r)}}var Z4=class extends cu{constructor(){super(...arguments),this.direction="vertical"}};D([O],Z4.prototype,"direction",2);var hee=class extends Ud{constructor(){super(...arguments),this.groupScale=new om,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(e,t){const n=typeof t=="boolean"?1:.5,s=bn(this.smallestDataInterval)?this.smallestDataInterval*n:0,i=zd(e)??[NaN,NaN];return typeof t=="boolean"?i[t?0:1]-=(t?1:-1)*s:(i[0]-=s,i[1]+=s),Gr(i)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}getBandwidth(e,t){return jn.is(e.scale)?e.scale.calcBandwidth(this.smallestDataInterval,t):e.scale.bandwidth}xCoordinateRange(e){const t=this.axes[this.getCategoryDirection()],n=t.scale,s=this.getBandwidth(t,0)??0,i=jn.is(n)?s*-.5:0,r=n.convert(e)+i;return[r,r+s]}yCoordinateRange(e){const n=this.axes[this.getBarDirection()].scale,s=e.map(i=>n.convert(i));if(s.length===1){const i=n.convert(0);return[Math.min(s[0],i),Math.max(s[0],i)]}return[Math.min(...s),Math.max(...s)]}updateGroupScale(e){const t=[],{groupScale:n}=this,s=this.getBandwidth(e),{index:i,visibleGroupCount:r}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let o=0;o<r;o++)t.push(String(o));return n.domain=t,n.range=[0,s??0],e instanceof jf?n.paddingInner=e.groupPaddingInner:e instanceof fm?(n.paddingInner=e.groupPaddingInner,n.round=n.padding!==0):n.padding=0,{barWidth:n.bandwidth>=1?n.bandwidth:n.rawBandwidth,groupIndex:i}}resolveKeyDirection(e){return this.getBarDirection()==="x"?e==="x"?"y":"x":e}initQuadTree(e){eM(e,this.datumNodesIter())}pickNodeClosestDatum(e){return tM(this,e)}},VFe=1e3;function K1(e,t){return Array.from({length:e},(n,s)=>{const i=s*wl,r=t[i+rr],a=t[i+$r];return(r+a)/2|0})}function UFe(e,t,n,s,i,r){if(t.length<VFe)return;const[a,o]=Rg(e,i);let c=YC(t,a,o,{smallestKeyInterval:r}),{indexData:u,valueData:h}=m0(t,s,n??s,a,o,c,{positive:!0}),{indexData:f,valueData:g}=m0(t,s,n??s,a,o,c,{positive:!1}),m=K1(c,u),y=K1(c,f);const b=[{maxRange:c,positiveIndices:m,positiveIndexData:u,negativeIndices:y,negativeIndexData:f}];for(;c>64;)({indexData:u,valueData:h}=y0(u,h,c)),{indexData:f,valueData:g,maxRange:c}=y0(f,g,c),m=K1(c,u),y=K1(c,f),b.push({maxRange:c,positiveIndices:m,positiveIndexData:u,negativeIndices:y,negativeIndexData:f});return b.reverse(),b}var Q4=class extends Ms{constructor(){super(...arguments),this.placement="inside-center",this.spacing=0}};D([O],Q4.prototype,"placement",2);D([O],Q4.prototype,"spacing",2);var js=class extends Z4{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Yl,this.label=new Q4,this.tooltip=Rf(),this.sparklineMode=!1}};D([O],js.prototype,"xKey",2);D([O],js.prototype,"xName",2);D([O],js.prototype,"yKey",2);D([O],js.prototype,"yName",2);D([O],js.prototype,"yFilterKey",2);D([O],js.prototype,"stackGroup",2);D([O],js.prototype,"normalizedTo",2);D([O],js.prototype,"fill",2);D([O],js.prototype,"fillOpacity",2);D([O],js.prototype,"stroke",2);D([O],js.prototype,"strokeWidth",2);D([O],js.prototype,"strokeOpacity",2);D([O],js.prototype,"lineDash",2);D([O],js.prototype,"lineDashOffset",2);D([O],js.prototype,"cornerRadius",2);D([O],js.prototype,"crisp",2);D([O],js.prototype,"styler",2);D([O],js.prototype,"itemStyler",2);D([O],js.prototype,"shadow",2);D([O],js.prototype,"label",2);D([O],js.prototype,"tooltip",2);D([O],js.prototype,"sparklineMode",2);function fee(e,t,n,s){if(t!=null){const[i,r]=t;if(i!==0||r!==1)return!1}if(jn.is(e)){const i=e.calcBandwidth(s)-e.calcBandwidth(n);if(i>0&&i<1)return!1}if(tu.is(e)){const{bandwidth:i,step:r}=e;if(i>0&&i<1)return!1;const a=r-i;if(a>0&&a<1)return!1}return!0}var eE=e=>eO(e.yValue??0);function C0(e,t,n){const{startingX:s,startingY:i}=GFe(e,t);return{isVertical:e,calculate:(a,o)=>{let c=e?a.x:s,u=e?i:a.y,h=e?a.width:0,f=e?0:a.height;const{opacity:g=1}=a;o&&(isNaN(c)||isNaN(u))&&({x:c,y:u}=o,h=e?o.width:0,f=e?0:o.height,e&&!eE(o)?u+=o.height:!e&&eE(o)&&(c+=o.width));let m;return a.clipBBox==null?m=void 0:eE(a)?m=e?new Pe(c,u-f,h,f):new Pe(c-h,u,h,f):m=new Pe(c,u,h,f),{x:c,y:u,width:h,height:f,clipBBox:m,opacity:g}},mode:n}}function HFe(e,t){return{isVertical:e,calculate:n=>({x:e?n.x:n.x+n.width/2,y:e?n.y+n.height/2:n.y,width:e?n.width:0,height:e?0:n.height,clipBBox:n.clipBBox,opacity:n.opacity??1}),mode:t}}function M0(e,t){const n=a=>a==null||isNaN(a.x)||isNaN(a.y);return{toFn:(a,o,c)=>c==="removed"&&a.datum==null&&e.mode==="fade"?{...j0(a,o),opacity:0}:c==="removed"||n(o)?e.calculate(o,a.previousDatum):{x:o.x,y:o.y,width:o.width,height:o.height,clipBBox:o.clipBBox,opacity:o.opacity??1},fromFn:(a,o,c)=>{c==="updated"&&n(o)?c="removed":c==="updated"&&n(a.previousDatum)&&(c="added");let u;c==="unknown"||c==="added"?(a.previousDatum==null&&e.mode==="fade"?u={...j0(a,o),opacity:0}:u=e.calculate(o,a.previousDatum),c==="unknown"&&(c=t)):u={x:a.x,y:a.y,width:a.width,height:a.height,clipBBox:a.clipBBox,opacity:a.opacity??1};const h=zo[c];return{...u,phase:h}},applyFn:(a,o,c)=>{a.setProperties(o),a.crisp=c==="end"&&(a.datum?.crisp??!1)}}}function GFe(e,t){const n=t[e?"y":"x"];let s=1/0,i=0;return n?(e?i=n.scale.convert(jn.is(n.scale)?0:Math.max(...n.range)):s=n.scale.convert(jn.is(n.scale)?0:Math.min(...n.range)),{startingX:s,startingY:i}):{startingX:s,startingY:i}}function j0(e,{x:t,y:n,width:s,height:i,clipBBox:r,opacity:a=1}){return{x:t,y:n,width:s,height:i,clipBBox:r,opacity:a,crisp:e.datum?.crisp??!1}}function X4(e,t){if(t===void 0)return;const{x:n,y:s,width:i,height:r}=t;return vs.toCanvas(e.contentGroup,new Pe(n,s,i,r))}function pee(e,t,n,s,i,r){let a=r?.reduced?.diff?.[e];if(a?.changed)return a;const o=WFe(s,i);return a==null&&r?.reduced?.diff!=null?(a={changed:!0,added:new Set,updated:new Set,removed:new Set,moved:new Set},o?a.updated=new Set(Array.from(t,({datum:c})=>n(c))):a.added=new Set(Array.from(t,({datum:c})=>n(c)))):o&&(a={changed:!0,added:new Set,updated:new Set(Array.from(t,({datum:c})=>n(c))),removed:new Set,moved:new Set}),a}function J$(e){return typeof e=="object"&&e!==null&&"groupScale"in e}function WFe(e,t){if(!t)return!1;const n=e.scales,s=t.scales;if(!Wh(n.x,s.x)||!Wh(n.y,s.y))return!0;if(!J$(e)||!J$(t))return!1;const i=e.groupScale,r=t.groupScale;return!Wh(i,r)}var YFe=ub(UFe),Wb=class extends hee{constructor(e){super({moduleCtx:e,propertyKeys:Sm,propertyNames:wm,categoryKey:"xValue",pickModes:[2,1,0],pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:j0,label:Of}}),this.properties=new js,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return this.properties.yFilterKey!=null&&(this.seriesGrouping==null||this.seriesGrouping.stackIndex===0)}async processData(e){if(!this.data)return;const{xKey:t,yKey:n,yFilterKey:s,normalizedTo:i}=this.properties,{seriesGrouping:{groupIndex:r=this.id}={},data:a}=this,c=(this.seriesGrouping?.stackCount??0)>1||i!=null,u=c,h=!this.ctx.animationManager.isSkipped(),f=this.getCategoryAxis()?.scale,g=this.getValueAxis()?.scale,{isContinuousX:m,xScaleType:y,yScaleType:b}=this.getScaleInformation({xScale:f,yScale:g}),S=`bar-stack-${r}-yValues`,C=`${S}-trailing`,M=this.visible?{}:{forceValue:0},N=[dd(t,y,{id:"xValue"}),qn(n,b,{id:"yValue-raw",invalidValue:null,...M})];this.crossFilteringEnabled()&&N.push(qn(s,b,{id:"yFilterValue",invalidValue:null,...M})),c&&N.push(...p0(n,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:S,separateNegative:!0,...M},b),...p0(n,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:C,separateNegative:!0,...M},b)),m&&N.push(LX,OX),bn(i)&&N.push($C([S,C],Math.abs(i))),h&&this.processedData&&N.push(BC(this.id,this.processedData)),(h||!u)&&N.push(Vb());const{dataModel:T,processedData:E}=await this.requestDataModel(e,a,{props:N,groupByKeys:u,groupByData:!u});this.dataAggregationFilters=this.aggregateData(T,E),this.smallestDataInterval=E.reduced?.smallestKeyInterval,this.largestDataInterval=E.reduced?.largestKeyInterval,this.animationState.transition("updateData")}yCumulativeKey(e){return e.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw"}getSeriesDomain(e){const{processedData:t,dataModel:n}=this;if(n==null||t==null)return[];if(e===this.getCategoryDirection()){const o=n.resolveProcessedDataDefById(this,"xValue"),c=n.getDomain(this,"xValue","key",t);return o?.def.type==="key"&&o.def.valueType==="category"?c:this.padBandExtent(c)}const s=this.yCumulativeKey(n);let i=this.domainForClippedRange(e,[s],"xValue");const r=this.crossFilteringEnabled()?n.getDomain(this,"yFilterValue","value",t):void 0;r!=null&&(i=[Math.min(i[0],r[0]),Math.max(i[1],r[1])]);const a=this.getValueAxis();if(a instanceof Na&&!(a instanceof Nf)){const o=Number.isFinite(i[1]-i[0])?[Math.min(0,i[0]),Math.max(0,i[1])]:[];return Gr(o)}else return Gr(i)}getSeriesRange(e,t){if((this.properties.direction==="horizontal"?"x":"y")!==e)return[];const s=this.yCumulativeKey(this.dataModel),[i,r]=this.domainForVisibleRange("y",[s],"xValue",t);return[Math.min(i,0),Math.max(r,0)]}getZoomRangeFittingItems(e,t,n){const s=this.yCumulativeKey(this.dataModel);return this.zoomFittingVisibleItems("xValue",[s],e,t,n)}getVisibleItems(e,t,n){const s=this.yCumulativeKey(this.dataModel);return this.countVisibleItems("xValue",[s],e,t,n)}aggregateData(e,t){if(pm(t))return;const n=this.axes.x;if(n==null)return;const s=e.resolveKeysById(this,"xValue",t),i=e.hasColumnById(this,"yValue-start"),r=i?e.resolveColumnById(this,"yValue-start",t):void 0,a=i?e.resolveColumnById(this,"yValue-end",t):e.resolveColumnById(this,"yValue-raw",t),{index:o}=e.resolveProcessedDataDefById(this,"xValue"),c=t.domain.keys[o];return YFe(n.scale.type,s,r,a,c,t.reduced?.smallestKeyInterval)}createNodeData(){const{dataModel:e,processedData:t,groupScale:n,dataAggregationFilters:s}=this,i=this.getCategoryAxis(),r=this.getValueAxis();if(!e||!t||!i||!r)return;const a=t.dataSources?.get(this.id);if(a==null)return;const o=i.scale,c=r.scale,{xKey:u,yKey:h,xName:f,yName:g,legendItemName:m,label:y}=this.properties,b=this.getSeriesDomain("y"),S=r.isReversed(),{barWidth:C,groupIndex:M}=this.updateGroupScale(i),N=n.convert(String(M)),T=jn.is(o)?C*-.5:0,E=e.hasColumnById(this,"yValue-start"),k=e.resolveKeysById(this,"xValue",t),L=e.resolveColumnById(this,"yValue-raw",t),I=E?e.resolveColumnById(this,"yValue-start",t):void 0,_=E?e.resolveColumnById(this,"yValue-end",t):void 0,F=this.crossFilteringEnabled()?e.resolveColumnById(this,"yFilterValue",t):void 0,G=!this.ctx.animationManager.isSkipped(),U=ye=>o.convert(k[ye])+N+T,[H,z]=o.range,$=Math.abs(z-H),P=s?.find(ye=>ye.maxRange>$),B=P==null&&(this.properties.crisp??fee(i?.scale,i?.visibleRange,this.smallestDataInterval,this.largestDataInterval)),Y=c.convert(0),K=({datum:ye,datumIndex:je,xValue:me,yValue:be,cumulativeValue:Ae,phantom:Te,currY:Be,prevY:Ge,x:Je,width:et,isPositive:lt,yRange:pt,labelText:it,opacity:dn,featherRatio:kt,crossScale:Lt=1})=>{const Ye=lt!==S,Yt=c.convert(Be),An=c.convert(Ge),Xt=c.convert(pt),Jt=this.getBarDirection()==="x",le=et*.5*(1-Lt),ge={x:Jt?Math.min(Yt,An):Je+le,y:Jt?Je+le:Math.min(Yt,An),width:Jt?Math.abs(An-Yt):et*Lt,height:Jt?et*Lt:Math.abs(An-Yt)},Qe=new Pe(ge.x,ge.y,ge.width,ge.height),De={x:Jt?Math.min(Y,Xt):Je+le,y:Jt?Je+le:Math.min(Y,Xt),width:Jt?Math.abs(Y-Xt):et*Lt,height:Jt?et*Lt:Math.abs(Y-Xt)},Ze=this.shouldFlipXY()?ge.height:ge.width,gn=y.spacing+(typeof y.padding=="number"?y.padding:0);return{series:this,itemId:Te?ur(h,Te):h,datum:ye,datumIndex:je,cumulativeValue:Ae,phantom:Te,xValue:me,yValue:be,yKey:h,xKey:u,capDefaults:{lengthRatioMultiplier:Ze,lengthMax:Ze},x:De.x,y:De.y,width:De.width,height:De.height,midPoint:{x:ge.x+ge.width/2,y:ge.y+ge.height/2},opacity:dn,featherRatio:kt,topLeftCornerRadius:Jt!==Ye,topRightCornerRadius:Ye,bottomRightCornerRadius:Jt===Ye,bottomLeftCornerRadius:!Ye,clipBBox:Qe,crisp:B,label:it!=null?{text:it,...VJ({isUpward:Ye,isVertical:!Jt,placement:y.placement,spacing:gn,rect:ge})}:void 0,missing:be==null,focusable:!Te}},te=[],se=[],fe=[],oe=(ye,je,me,be,Ae,Te,Be=0,Ge=1)=>{const Je=k[ye];if(Je==null)return;const et=a[ye],lt=L[ye],pt=F!=null?Number(F[ye]):void 0,it=lt>=0&&!Object.is(lt,-0);if(!Number.isFinite(Ae)||pt!=null&&!Number.isFinite(pt))return;const dn=y.enabled&&lt!=null?this.getLabelText(pt??lt,et,h,"y",b,y,{datum:et,value:pt??lt,xKey:u,yKey:h,xName:f,yName:g,legendItemName:m}):void 0,kt=pt!=null&&pt>lt,Lt=K({datum:et,datumIndex:ye,xValue:Je,yValue:pt??lt,cumulativeValue:pt??Ae,phantom:!1,currY:pt!=null?be+pt:Ae,prevY:be,x:je,width:me,isPositive:it,yRange:Math.max(be+(pt??-1/0),Te),labelText:dn,opacity:Ge,featherRatio:Be,crossScale:kt?.6:void 0});if(se.push(Lt),fe.push(Lt),pt!=null){const Ye=K({datum:a[ye],datumIndex:ye,xValue:Je,yValue:pt,cumulativeValue:pt,phantom:!0,currY:Ae,prevY:be,x:je,width:me,isPositive:it,yRange:Te,labelText:void 0,opacity:Ge,featherRatio:Be,crossScale:void 0});te.push(Ye)}};if(P!=null){const{positiveIndices:ye,positiveIndexData:je,negativeIndices:me,negativeIndexData:be}=P,Ae=S?-1:1;for(let Te=0;Te<2;Te+=1){const Be=Te===0,Ge=Be?ye:me,Je=Be?je:be,et=Be?Br:Vr,lt=Be?Vr:Br,[pt,it]=this.visibleRangeIndices("xValue",i.range,Ge);for(let dn=pt;dn<it;dn+=1){const kt=dn*wl,Lt=Je[kt+rr],Ye=Je[kt+$r],Yt=Je[kt+et],An=Je[kt+lt];if(Lt===-1||k[An]==null||k[Yt]==null)continue;const Xt=U((Lt+Ye)/2|0),Jt=Math.abs(U(Ye)-U(Lt))+C;if(Xt-Jt<0||Xt>$)continue;const le=Math.abs(Ye-Lt)+1,ge=tu.is(o)?Math.min(o.bandwidth*Math.max(le-1,1)/(o.step*le),1):1;let Qe,De,Ze=0;if(E)Qe=Number(I[Yt]),De=Number(_[An]);else{const gn=Number(L[An]),$t=Number(L[Yt]);Qe=0,De=gn,Ze=(Be?1:-1)*Ae*(1-$t/gn)}oe(An,Xt,Jt,Qe,De,De,Ze,ge)}}}else if(t.type==="grouped"){const ye=C,je=E?e.resolveProcessedDataIndexById(this,"yValue-range"):-1,me=t.columnScopes.findIndex(Be=>Be.has(this.id)),{groups:be}=t,[Ae,Te]=i0(1,be.length,i.range,Be=>{const Je=be[Be].keys[0];return this.xCoordinateRange(Je)});for(let Be=Ae;Be<Te;Be+=1){const Ge=be[Be],{aggregation:Je}=Ge,et=Ge.datumIndices[me];if(et!=null)for(const lt of et){const pt=U(lt),it=L[lt],dn=it>=0&&!Object.is(it,-0),kt=E?Number(I?.[lt]):0,Lt=E?Number(_?.[lt]):it;let Ye=Lt;E&&(Ye=Je[je][dn?1:0]),oe(lt,pt,ye,kt,Lt,Ye)}}}else{const ye=t.invalidData?.get(this.id),je=C;let[me,be]=this.visibleRangeIndices("xValue",i.range);t.input.count<1e3&&(me=0,be=t.input.count);for(let Ae=me;Ae<be;Ae+=1){if(ye?.[Ae]===!0)continue;const Te=U(Ae),Be=Number(L[Ae]);oe(Ae,Te,je,0,Be,Be)}}const Ee=XC(this.properties.segmentation,i,r,this.chart.seriesRect,this.ctx.scene);return{itemId:h,nodeData:te.length>0?[...te,...se]:se,labelData:fe,scales:this.calculateScaling(),visible:this.visible||G,groupScale:this.getScaling(this.groupScale),styles:zO(this.getItemStyle.bind(this)),segments:Ee}}nodeFactory(){return new q4}getHighlightData(e,t){const n=e.find(s=>s.datum===t.datum&&!s.phantom);return n!=null?[{...n}]:void 0}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>this.getDatumId(t))}makeStylerParams(e,t){const{id:n}=this,{cornerRadius:s,fill:i,fillOpacity:r,lineDash:a,lineDashOffset:o,stackGroup:c,stroke:u,strokeOpacity:h,strokeWidth:f,xKey:g,yKey:m}=this.properties,y=am(t??0);return{cornerRadius:s,fill:i,fillOpacity:r,highlightState:y,highlighted:e,lineDash:a,lineDashOffset:o,seriesId:n,stackGroup:c,stroke:u,strokeOpacity:h,strokeWidth:f,xKey:g,yKey:m}}makeItemStylerParams(e,t,n,s,i,r){const{id:a}=this,{xKey:o,yKey:c,stackGroup:u}=this.properties,h=t.dataSources.get(a)?.[n],f=e.resolveColumnById(this,"yValue-raw",t)[n],g=e.getDomain(this,"xValue","key",t),m=e.getDomain(this,this.yCumulativeKey(e),"value",t),y=this.ctx.highlightManager?.getActiveHighlight(),b=this.getHighlightStateString(y,i,n);return{seriesId:a,...aC(s,f,o,c,g,m),datum:h,xValue:s,yValue:f,stackGroup:u,highlighted:i,highlightState:b,...r}}getStyle(e,t,n){const{cornerRadius:s,fill:i,fillOpacity:r,lineDash:a,lineDashOffset:o,stroke:c,strokeOpacity:u,strokeWidth:h,styler:f}=this.properties;let g={};if(!e&&f){const m=this.makeStylerParams(t,n);g=this.ctx.optionsGraphService.resolvePartial(["series",`${this.declarationOrder}`],this.cachedCallWithContext(f,m)??{},{pick:!1})??{}}return{cornerRadius:g.cornerRadius??s,fill:g.fill??i,fillOpacity:g.fillOpacity??r,lineDash:g.lineDash??a,lineDashOffset:g.lineDashOffset??o,opacity:1,stroke:g.stroke??c,strokeOpacity:g.strokeOpacity??u,strokeWidth:g.strokeWidth??h}}getItemStyle(e,t,n){const{properties:s,dataModel:i,processedData:r}=this,{itemStyler:a}=s,o=this.getHighlightStyle(t,e,n);let c=pn(o,this.getStyle(e===void 0,t,n));if(a&&i!=null&&r!=null&&e!=null){const u=i.resolveKeysById(this,"xValue",r)[e],h=this.cachedDatumCallback(ur(this.getDatumId({xValue:u,phantom:!1}),t?"highlight":"node"),()=>{const f=this.makeItemStylerParams(i,r,e,u,t,c);return this.ctx.optionsGraphService.resolvePartial(["series",`${this.declarationOrder}`],this.callWithContext(a,f))});h&&(c=pn(h,c))}return c}updateDatumStyles(e){const t=this.ctx.highlightManager.getActiveHighlight();e.datumSelection.each((n,s)=>{if(!e.datumSelection.isGarbage(n)){const i=this.getHighlightState(t,e.isHighlight,s.datumIndex);s.style=this.getItemStyle(s.datumIndex,e.isHighlight,i)}})}updateDatumNodes(e){const{contextNodeData:t}=this;if(!t)return;const n=this.ctx.highlightManager.getActiveHighlight(),{shadow:s}=this.properties,i=this.getCategoryDirection()==="x",r=this.getShapeFillBBox(),a=this.getBarDirection();e.datumSelection.each((o,c)=>{const u=c.style??t.styles[this.getHighlightState(n,e.isHighlight,c.datumIndex)];Rc(o,u,r);const h=u.cornerRadius??0;o.topLeftCornerRadius=c.topLeftCornerRadius?h:0,o.topRightCornerRadius=c.topRightCornerRadius?h:0,o.bottomRightCornerRadius=c.bottomRightCornerRadius?h:0,o.bottomLeftCornerRadius=c.bottomLeftCornerRadius?h:0,o.visible=i?(c.clipBBox?.width??c.width)>0:(c.clipBBox?.height??c.height)>0,o.direction=a,o.featherRatio=c.featherRatio,o.crisp=c.crisp,o.fillShadow=s})}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,n=>{n.pointerEvents=1})}updateLabelNodes(e){const{isHighlight:t=!1}=e,n={xKey:this.properties.xKey,xName:this.properties.xName??this.properties.xKey,yKey:this.properties.yKey,yName:this.properties.yName??this.properties.yKey,legendItemName:this.properties.legendItemName??this.properties.xName??this.properties.xKey},s=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((i,r)=>{i.fillOpacity=this.getHighlightStyle(t,r?.datumIndex).opacity??1,BJ(this,i,n,this.properties.label,r.label,t,s)})}getTooltipContent(e){const{id:t,dataModel:n,processedData:s,properties:i}=this,{xKey:r,xName:a,yKey:o,yName:c,legendItemName:u,stackGroup:h,tooltip:f}=i,g=this.getCategoryAxis(),m=this.getValueAxis();if(!n||!s||!g||!m)return;const y=s.dataSources.get(this.id)?.[e],b=n.resolveKeysById(this,"xValue",s)[e],S=n.resolveColumnById(this,"yValue-raw",s)[e];if(b==null)return;const C=this.getItemStyle(e,!1);return this.formatTooltipWithContext(f,{heading:this.getAxisValueText(g,"tooltip",b,y,r,u),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:o,value:this.getAxisValueText(m,"tooltip",S,y,o,u)}]},{seriesId:t,datum:y,title:c,xKey:r,xName:a,yKey:o,yName:c,legendItemName:u,stackGroup:h,...C,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:n,fillOpacity:s,strokeOpacity:i,lineDash:r,lineDashOffset:a}=this.getStyle(!1,!1,0);return{marker:{fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:s,strokeOpacity:i,strokeWidth:n,lineDash:r,lineDashOffset:a}}}getLegendData(e){const{showInLegend:t}=this.properties;if(e!=="category")return[];const{id:n,ctx:{legendManager:s},visible:i}=this,{yKey:r,yName:a,legendItemName:o}=this.properties;return[{legendType:"category",id:n,itemId:r,seriesId:n,enabled:i&&s.getItemEnabled({seriesId:n,itemId:r}),label:{text:o??a??r},symbol:this.legendItemSymbol(),legendItemName:o,hideInLegend:!t}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t,annotationSelections:n}){const s=M0(C0(this.isVertical(),this.axes,"normal"),"unknown");Fs(this.id,"nodes",this.ctx.animationManager,[e],s),ms(this,"labels",this.ctx.animationManager,t),ms(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(e){const{datumSelection:t,labelSelection:n,annotationSelections:s,contextData:i,previousContextData:r}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const a=pee(this.id,t,this.getDatumId.bind(this),e.contextData,r,this.processedData),o=r==null?"fade":"normal",c=M0(C0(this.isVertical(),this.axes,o),"added");Fs(this.id,"nodes",this.ctx.animationManager,[t],c,(u,h)=>this.getDatumId(h),a),(!a||a?.changed||!Wh(i.groupScale,r?.groupScale))&&(ms(this,"labels",this.ctx.animationManager,n),ms(this,"annotations",this.ctx.animationManager,...s))}getDatumId(e){return ur(e.xValue,e.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){const t=this.contextNodeData?.nodeData[e].clipBBox;return X4(this,t)}hasItemStylers(){return this.properties.styler!=null||this.properties.itemStyler!=null||this.properties.label.itemStyler!=null}};Wb.className="BarSeries";Wb.type="bar";var gee={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new Wb(e),stackable:!0,groupable:!0,predictAxis:Gb,defaultAxes:uX,themeTemplate:{zoom:{autoScaling:{enabled:{$and:[{$eq:[{$path:"../axes"},"x"]},{$not:{$eq:[{$path:"/series/0/direction"},"horizontal"]}}]}}},series:{direction:"vertical",fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",Rd],["image",iu],["pattern",uo]]},stroke:{$palette:"stroke"},fillOpacity:1,strokeWidth:{$isUserOption:["./stroke",2,0]},lineDash:[0],lineDashOffset:0,label:{...Rl,padding:{$isUserOption:["./spacing",0,8]},enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"chartBackgroundColor"}]},placement:"inside-center"},shadow:{enabled:!1,color:Cf,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}},highlight:_d(),segmentation:DC}}},mee={type:"series",name:"bar",chartType:"cartesian",options:UC,create:e=>new Wb(e)},q1=3,KFe=5,eB=.05;function qFe(e,t,n,s,i,r,a,o,c,u,h){let f=0,g=1/0;const m=(o+u)/2,y=(c+h)/2;for(const b of a){const S=e[b],C=t[b];if(S==null||C==null)continue;const M=ho(S,n,i),N=ho(C,s,r),T=(M-m)**2+(N-y)**2;T<g&&(g=T,f=b)}return f}function ZFe(e,t,n,s,i,r,a,o,c,u,h){let f=0;for(const g of a){const m=e[g],y=t[g];if(m==null||y==null)continue;const b=ho(m,n,i),S=ho(y,s,r);b>=o&&b<=u&&S>=c&&S<=h&&(f+=1)}return f}function QFe(e,t,n,s,i,r,a,o,c,u,h){const f=[{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]}],g=(o+u)/2,m=(c+h)/2;for(const b of a){const S=e[b],C=t[b];if(S==null||C==null)continue;const M=ho(S,n,i),N=ho(C,s,r),T=(M>g?1:0)+(N>m?2:0),E=f[T];E.indices.push(b),E.x0=Math.min(E.x0,M),E.y0=Math.min(E.y0,N),E.x1=Math.max(E.x1,M),E.y1=Math.max(E.y1,N)}const y=[];for(const b of f){const{indices:S,x0:C,x1:M,y0:N,y1:T}=b;if(S.length===0)continue;const E=mk(e,t,n,s,i,r,S,C,N,M,T);y.push(E)}return y}function mk(e,t,n,s,i,r,a,o,c,u,h){let g=a.length<KFe&&u-o<eB&&h-c<eB||o===u&&c===h?null:QFe(e,t,n,s,i,r,a,o,c,u,h);if(g?.length===1)return g[0];g?.length===0&&(g=null);const m=Math.hypot(u-o,h-c),y=qFe(e,t,n,s,i,r,a,o,c,u,h);return{scale:m,x0:o,y0:c,x1:u,y1:h,indices:a,primaryDatumIndex:y,children:g}}function XFe(e,t,n,s,i,r,a,o){const[c,u]=Rg(e,r),[h,f]=Rg(t,a),[g,m]=o,y=[];if(i!=null&&m>g){const b=Array.from({length:q1},()=>[]);for(let S=0;S<i.length;S+=1){const N=(i[S]-g)/(m-g)*q1|0;N>=0&&N<q1&&b[N].push(S)}for(let S=0;S<b.length;S+=1){const C=b[S],M=mk(n,s,c,h,u,f,C,0,0,1,1);if(M!=null){const N=S/q1;y.push({sizeRatio:N,node:M})}}}else{const b=n.map((C,M)=>M),S=mk(n,s,c,h,u,f,b,0,0,1,1);S!=null&&y.push({sizeRatio:0,node:S})}return y.length>0?{xValues:n,yValues:s,xd0:c,xd1:u,yd0:h,yd1:f,filters:y}:void 0}function yee(e,t,n,s,i,r){const{xRange:a,yRange:o,xVisibleRange:[c,u],yVisibleRange:[h,f],minSize:g,maxSize:m}=n,{xValues:y,yValues:b,xd0:S,xd1:C,yd0:M,yd1:N}=t,T=1/Math.min(a/(u-c),o/(f-h));for(const{sizeRatio:E,node:k}of t.filters){const L=.5*(g+E*(m-g)),I=L*T,_=e*I,F=c-L/a,G=u+L/a,U=h-L/o,H=f+L/o,z=[k];for(;z.length>0;){const $=z.pop();if(!($.x1<F||$.x0>G||$.y1<U||$.y0>H))if(e!==1&&$.scale<=_)s!=null&&(s.count+=1),i?.push({datumIndex:$.primaryDatumIndex,count:$.indices.length,area:($.x1-$.x0)*($.y1-$.y0),dilation:wt(1,$.scale/I,e)});else if($.children==null){const{indices:P}=$;if(s!=null){const Y=$.x0>=c&&$.x1<=u&&$.y0>=h&&$.y1<=f?P.length:ZFe(y,b,S,M,C,N,P,c,h,u,f);s.count+=Y}r?.push(...P)}else z.push(...$.children)}}}function FS(e,t,n){const s={count:0};return yee(e,t,n,s,void 0,void 0),s.count}var JFe=100,e8e=12;function t8e(e,t,n){if(FS(1,e,t)<=n)return 1;let s=1,i=2;for(;FS(i,e,t)>n&&i<JFe;)s*=2,i*=2;for(let r=0;r<e8e;r+=1){const a=(i+s)/2;FS(a,e,t)>n?s=a:i=a}return(s+i)/2}function n8e(e,t,n){const s=[],i=[];return yee(e,t,n,void 0,s,i),{groupedAggregation:s,singleDatumIndices:i}}var J4=class extends jr{constructor(){super(...arguments),this.maxSize=30}};D([O,Me()],J4.prototype,"maxSize",2);D([O,vO()],J4.prototype,"domain",2);var xee=class extends Ms{constructor(){super(...arguments),this.placement="top"}};D([O],xee.prototype,"placement",2);var Fn=class extends cu{constructor(){super(...arguments),this.label=new xee,this.tooltip=Rf(),this.maxRenderedItems=1/0,this.marker=new J4}};D([O],Fn.prototype,"xKey",2);D([O],Fn.prototype,"yKey",2);D([O],Fn.prototype,"sizeKey",2);D([O],Fn.prototype,"labelKey",2);D([O],Fn.prototype,"xFilterKey",2);D([O],Fn.prototype,"yFilterKey",2);D([O],Fn.prototype,"sizeFilterKey",2);D([O],Fn.prototype,"xName",2);D([O],Fn.prototype,"yName",2);D([O],Fn.prototype,"sizeName",2);D([O],Fn.prototype,"labelName",2);D([O],Fn.prototype,"title",2);D([hr("marker.shape")],Fn.prototype,"shape",2);D([hr("marker.size")],Fn.prototype,"size",2);D([hr("marker.maxSize")],Fn.prototype,"maxSize",2);D([hr("marker.domain")],Fn.prototype,"domain",2);D([hr("marker.fill")],Fn.prototype,"fill",2);D([hr("marker.fillOpacity")],Fn.prototype,"fillOpacity",2);D([hr("marker.stroke")],Fn.prototype,"stroke",2);D([hr("marker.strokeWidth")],Fn.prototype,"strokeWidth",2);D([hr("marker.strokeOpacity")],Fn.prototype,"strokeOpacity",2);D([hr("marker.lineDash")],Fn.prototype,"lineDash",2);D([hr("marker.lineDashOffset")],Fn.prototype,"lineDashOffset",2);D([hr("marker.itemStyler")],Fn.prototype,"itemStyler",2);D([O],Fn.prototype,"styler",2);D([O],Fn.prototype,"label",2);D([O],Fn.prototype,"tooltip",2);D([O],Fn.prototype,"maxRenderedItems",2);var s8e=class extends z4{constructor(e,t,n,s){super(e,t,n,s),this.sizeKey=s.properties.sizeKey}},Yb=class extends Ud{constructor(e){super({moduleCtx:e,propertyKeys:{...Sm,label:["labelKey"],size:["sizeKey"]},propertyNames:{...wm,label:["labelName"],size:["sizeName"]},categoryKey:void 0,pickModes:[2,1,0],pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationResetFns:{label:Of,datum:qC},usesPlacedLabels:!0,clipFocusBox:!1}),this.NodeEvent=s8e,this.properties=new Fn,this.dataAggregation=void 0,this.sizeScale=new Gh}get pickModeAxis(){return"main-category"}get type(){return super.type}async processData(e){if(this.data==null||!this.visible)return;const t=this.axes.x?.scale,n=this.axes.y?.scale,{xScaleType:s,yScaleType:i}=this.getScaleInformation({xScale:t,yScale:n}),r=this.sizeScale.type,{xKey:a,yKey:o,sizeKey:c,xFilterKey:u,yFilterKey:h,sizeFilterKey:f,labelKey:g,marker:m}=this.properties,{dataModel:y,processedData:b}=await this.requestDataModel(e,this.data,{props:[qn(a,s,{id:"xValue"}),qn(o,i,{id:"yValue"}),...u!=null?[qn(u,s,{id:"xFilterValue"})]:[],...h!=null?[qn(h,i,{id:"yFilterValue"})]:[],...f!=null?[qn(f,r,{id:"sizeFilterValue"})]:[],...c?[qn(c,r,{id:"sizeValue"})]:[],...g?[qn(g,"category",{id:"labelValue"})]:[]]}),S=c?y.resolveProcessedDataIndexById(this,"sizeValue"):void 0,C=m.domain?[m.domain[0],m.domain[1]]:void 0;this.sizeScale.domain=C??(S==null?void 0:b.domain.values[S])??[],this.dataAggregation=this.aggregateData(y,b),this.animationState.transition("updateData")}xCoordinateRange(e,t,n){const{properties:s,sizeScale:i}=this,{size:r,sizeKey:a}=s,o=this.axes.x.scale.convert(e),c=a!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,h=.5*(c!=null?i.convert(c[n]):r)*t;return[o-h,o+h]}yCoordinateRange(e,t,n){const{properties:s,sizeScale:i}=this,{size:r,sizeKey:a}=s,o=this.axes.y.scale.convert(e[0]),c=a!=null?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,h=.5*(c!=null?i.convert(c[n]):r)*t;return[o-h,o+h]}getSeriesDomain(e){const{dataModel:t,processedData:n}=this;if(!n||!t)return[];const s={x:"xValue",y:"yValue"},i=s[e],r=t.resolveProcessedDataDefById(this,i),a=t.getDomain(this,i,"value",n);if(r?.def.type==="value"&&r?.def.valueType==="category")return a;const c=s[e==="x"?"y":"x"],u=this.domainForClippedRange(e,[i],c);return Gr(zd(u))}getSeriesRange(e,t){return this.domainForVisibleRange("y",["yValue"],"xValue",t)}getVisibleItems(e,t,n){const{dataAggregation:s,axes:i}=this,r=i.x,a=i.y;if(s==null||r==null||a==null)return this.countVisibleItems("xValue",["yValue"],e,t,n);const o=this.aggregationOptions(r,a,e,t??[0,1]);return FS(0,s,o)}aggregateData(e,t){if(t.type==="grouped"||t.input.count<=this.properties.maxRenderedItems)return;const n=this.axes.x,s=this.axes.y;if(n==null||s==null)return;const i=n.scale,r=s.scale;if(!jn.is(i)||!jn.is(r))return;const{sizeScale:a,properties:o}=this,{sizeKey:c}=o,u=e.resolveColumnById(this,"xValue",t),h=e.resolveColumnById(this,"yValue",t),f=c?e.resolveColumnById(this,"sizeValue",t):void 0,g=e.getDomain(this,"xValue","value",t),m=e.getDomain(this,"yValue","value",t),y=c?a.domain:[0,0];return XFe(i.type,r.type,u,h,f,g,m,y)}aggregationOptions(e,t,n=e.visibleRange,s=t.visibleRange){const{processedData:i,dataModel:r}=this,{sizeKey:a}=this.properties,[o,c]=this.getSizeRange(),u=Math.abs(e.range[1]-e.range[0]),h=Math.abs(t.range[1]-t.range[0]),f=Math.max(o,1),g=a?Math.max(c,1):f,m=e.scale,y=t.scale;return i!=null&&r!=null&&(jn.is(m)&&(n=qD(n,m.domain.map(Hi),r.getDomain(this,"xValue","value",i).map(Hi))),jn.is(y)&&(s=qD(s,y.domain.map(Hi),r.getDomain(this,"yValue","value",i).map(Hi)))),{xRange:u,yRange:h,minSize:f,maxSize:g,xVisibleRange:n,yVisibleRange:s}}createNodeData(){const{axes:e,dataModel:t,processedData:n,sizeScale:s,visible:i}=this,{xKey:r,yKey:a,sizeKey:o,xFilterKey:c,yFilterKey:u,sizeFilterKey:h,labelKey:f,xName:g,yName:m,sizeName:y,labelName:b,label:S,marker:C,maxRenderedItems:M}=this.properties,{enabled:N,placement:T}=S,E=ni.anchor(C.shape),k=e.x,L=e.y;if(!(t&&n&&k&&L))return;const I=!this.ctx.animationManager.isSkipped(),_=t.resolveColumnById(this,"xValue",n),F=t.resolveColumnById(this,"yValue",n),G=o!=null?t.resolveColumnById(this,"sizeValue",n):void 0,U=f!=null?t.resolveColumnById(this,"labelValue",n):void 0,H=c!=null?t.resolveColumnById(this,"xFilterValue",n):void 0,z=u!=null?t.resolveColumnById(this,"yFilterValue",n):void 0,$=h!=null?t.resolveColumnById(this,"sizeFilterValue",n):void 0;let P;f?P=[]:o?P=t.getDomain(this,"sizeValue","value",n):P=[];const B=k.scale,Y=L.scale,K=(B.bandwidth??0)/2,te=(Y.bandwidth??0)/2,se=[];s.range=this.getSizeRange();const fe=wa(S),oe=n.dataSources.get(this.id);if(oe==null)return;const Ee=kg(S),ye=(me,be,Ae,Te)=>{const Be=oe[me],Ge=_[me],Je=F[me],et=G?.[me],lt=B.convert(Ge)+K,pt=Y.convert(Je)+te;let it;H!=null&&z!=null&&(it=H[me]===Ge&&z[me]===Je,$!=null&&it&&(it=$[me]===et));let dn;if(N){let Ye,Yt,An;f&&U?(Ye=U[me],Yt=f,An="label"):o?(Ye=et,Yt=o,An="size"):(Ye=Je,Yt=a,An="y");const Xt=this.getLabelText(Ye,Be,Yt,An,P,S,{value:Ye,datum:Be,xKey:r,yKey:a,sizeKey:o,labelKey:f,xName:g,yName:m,sizeName:y,labelName:b}),Jt=fe.measureText(String(Xt));Jt.width+=Ee.left+Ee.right,Jt.height+=Ee.bottom+Ee.top,dn={text:Xt,...Jt}}else dn={text:"",width:0,height:0};const kt=et!=null?s.convert(et):s.range[0],Lt={x:lt,y:pt,size:Math.sqrt(Ae)*kt};se.push({series:this,itemId:a,yKey:a,xKey:r,datum:Be,datumIndex:me,xValue:Ge,yValue:Je,sizeValue:et,capDefaults:{lengthRatioMultiplier:C.getDiameter(),lengthMax:1/0},point:Lt,midPoint:{x:lt,y:pt},label:dn,anchor:E,placement:T,count:be,dilation:Ae,area:Te,selected:it})},{dataAggregation:je}=this;if(i)if(je==null)for(let me=0;me<oe.length;me++)ye(me,1,1,0);else{const me=this.aggregationOptions(k,L),be=t8e(je,me,M),{groupedAggregation:Ae,singleDatumIndices:Te}=n8e(be,je,me);for(const{datumIndex:Be,count:Ge,dilation:Je,area:et}of Ae)ye(Be,Ge,Je,et);for(const Be of Te)ye(Be,1,1,0)}return{itemId:a,nodeData:se,labelData:N?se:[],scales:this.calculateScaling(),visible:this.visible||I,styles:QC(this,C)}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}updateDatumSelection(e){const{nodeData:t,datumSelection:n}=e,{sizeKey:s}=this.properties;this.properties.marker.isDirty()&&(n.clear(),n.cleanup());let i;return s&&(i=r=>ur(r.xValue,r.yValue,r.sizeValue,r.label.text)),n.update(t,void 0,i)}updateDatumStyles(e){const{datumSelection:t,isHighlight:n}=e,{xKey:s,yKey:i,sizeKey:r,labelKey:a,marker:o}=this.properties,c={xKey:s,yKey:i,sizeKey:r,labelKey:a},u=this.ctx.highlightManager.getActiveHighlight();t.each((h,f)=>{if(!t.isGarbage(h)){const g=this.getHighlightState(u,e.isHighlight,f.datumIndex),m=this.getStyle(e.isHighlight,g);f.style=this.getMarkerStyle(o,f,c,{isHighlight:n,highlightState:g,resolveItemStylerMarkerPath:!1},m)}})}updateDatumNodes(e){const{contextNodeData:t}=this;if(!t)return;const{datumSelection:n,isHighlight:s}=e;this.sizeScale.range=this.getSizeRange();const i=this.getShapeFillBBox(),r=this.dataAggregation!=null,a=this.ctx.highlightManager.getActiveHighlight();n.each((o,c,u)=>{const{point:{size:h},count:f,area:g,dilation:m}=c;let y=c.style??t.styles[this.getHighlightState(a,s,c.datumIndex)];if(y={...y},y.size=h,m>1){const b=y.fillOpacity??0,S=.269669+683e-6*f+-37.534348*g+.004449*f*g+-0*f**2+44.428603*g**2;y.fillOpacity=wt(b/m,b/.1*S,1)}this.applyMarkerStyle(y,o,c.point,i,{selected:c.selected}),o.zIndex=r?[-f,u]:0}),s||this.properties.marker.markClean()}updatePlacedLabelData(e){this.labelSelection.update(e.map(t=>({...t.datum,point:{x:t.x,y:t.y,size:t.datum.point.size}})),t=>{t.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{isHighlight:t=!1}=e,n=this.ctx.highlightManager?.getActiveHighlight(),s=this.makeLabelFormatterParams();e.labelSelection.each((i,r)=>{const a=Lf(this,r,s,this.properties.label,t,n);i.text=r.label.text,i.fill=a.color,i.x=r.point?.x??0,i.y=r.point?.y??0,i.fontStyle=a.fontStyle,i.fontWeight=a.fontWeight,i.fontSize=a.fontSize,i.fontFamily=a.fontFamily,i.textBaseline="top",i.fillOpacity=this.getHighlightStyle(t,r.datumIndex).opacity??1,i.setBoxing(a)})}makeStylerParams(e,t){const{id:n,properties:{size:s,maxSize:i,shape:r,fill:a,fillOpacity:o,lineDash:c,lineDashOffset:u,stroke:h,strokeOpacity:f,strokeWidth:g,xKey:m,yKey:y,sizeKey:b,labelKey:S}}=this,C=am(t??0);return this.type==="bubble"?{highlightState:C,highlighted:e,size:s,maxSize:i,shape:r,fill:a,fillOpacity:o,lineDash:c,lineDashOffset:u,seriesId:n,sizeKey:b,stroke:h,strokeOpacity:f,strokeWidth:g,xKey:m,yKey:y,labelKey:S}:this.type==="scatter"?{highlightState:C,highlighted:e,size:s,shape:r,fill:a,fillOpacity:o,lineDash:c,lineDashOffset:u,seriesId:n,stroke:h,strokeOpacity:f,strokeWidth:g,xKey:m,yKey:y,labelKey:S}:this.type}makeLabelFormatterParams(){const{xKey:e,xName:t,yKey:n,yName:s,sizeKey:i,sizeName:r,labelKey:a,labelName:o}=this.properties;return{xKey:e,xName:t,yKey:n,yName:s,sizeKey:i,sizeName:r,labelKey:a,labelName:o}}getTooltipContent(e){const{id:t,dataModel:n,processedData:s,axes:i,properties:r,ctx:a}=this,{formatManager:o}=a,{xKey:c,xName:u,yKey:h,yName:f,sizeKey:g,sizeName:m,labelKey:y,labelName:b,title:S,tooltip:C,marker:M,legendItemName:N}=r,T=i.x,E=i.y;if(!n||!s||!T||!E)return;const k=s.dataSources.get(this.id)?.[e],L=n.resolveColumnById(this,"xValue",s)[e],I=n.resolveColumnById(this,"yValue",s)[e];if(L==null)return;const _=[];if(this.isLabelEnabled()&&y!=null){const G=n.resolveColumnById(this,"labelValue",s)[e],U=o.format(this.callWithContext.bind(this),{type:"category",value:G,datum:k,seriesId:t,legendItemName:N,key:y,source:"tooltip",property:"label",domain:[],boundSeries:this.getFormatterContext("label")});_.push({label:b,fallbackLabel:y,value:U??Eg(G)})}if(_.push({label:u,fallbackLabel:c,value:this.getAxisValueText(T,"tooltip",L,k,c,N)},{label:f,fallbackLabel:h,value:this.getAxisValueText(E,"tooltip",I,k,h,N)}),g!=null){const G=n.resolveColumnById(this,"sizeValue",s)[e],U=n.getDomain(this,"sizeValue","value",s),H=o.format(this.callWithContext.bind(this),{type:"number",value:G,datum:k,seriesId:t,legendItemName:N,key:g,source:"tooltip",property:"size",boundSeries:this.getFormatterContext("size"),domain:U,fractionDigits:void 0});_.push({label:m,fallbackLabel:g,value:H??Eg(G)})}const F=this.getMarkerStyle(M,{datum:k,datumIndex:e},{xKey:c,yKey:h,sizeKey:g,labelKey:y,highlighted:!0},{resolveItemStylerMarkerPath:!1});return this.formatTooltipWithContext(C,{title:S,symbol:this.legendItemSymbol(),data:_},{seriesId:t,datum:k,title:h,xKey:c,xName:u,yKey:h,yName:f,sizeKey:g,sizeName:m,labelKey:y,labelName:b,...F,...this.getModuleTooltipParams()})}legendItemSymbol(){const e=this.getStyle(!1);return{marker:this.getMarkerStyle(this.properties.marker,{},void 0,{isHighlight:!1,checkForHighlight:!1,resolveItemStylerMarkerPath:!1},e)}}getLegendData(){const{id:e,ctx:{legendManager:t},visible:n}=this,{yKey:s,yName:i,title:r}=this.properties;return[{legendType:"category",id:e,itemId:s,seriesId:e,enabled:n&&t.getItemEnabled({seriesId:e,itemId:s}),label:{text:r??i??s},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){oee(this,this.ctx.animationManager,e),ms(this,"labels",this.ctx.animationManager,t)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new ni}getStyle(e,t){const{properties:n}=this;let s={};if(n.styler){const i=this.makeStylerParams(e,t),r=this.cachedCallWithContext(n.styler,i)??{};s=this.ctx.optionsGraphService.resolvePartial(["series",`${this.declarationOrder}`],r,{pick:!1})??{}}return{fill:s.fill??n.fill,fillOpacity:s.fillOpacity??n.fillOpacity,lineDash:s.lineDash??n.lineDash,lineDashOffset:s.lineDashOffset??n.lineDashOffset,shape:s.shape??n.shape,size:s.size??n.size,maxSize:s.maxSize??n.maxSize,stroke:s.stroke??n.stroke,strokeOpacity:s.strokeOpacity??n.strokeOpacity,strokeWidth:s.strokeWidth??n.strokeWidth}}getSizeRange(){const{size:e,maxSize:t}=this.getStyle(!1);return[e,t]}getFormattedMarkerStyle(e){const{xKey:t,yKey:n,sizeKey:s,labelKey:i,marker:r}=this.properties;return this.getMarkerStyle(r,e,{xKey:t,yKey:n,sizeKey:s,labelKey:i},{resolveItemStylerMarkerPath:!1})}computeFocusBounds(e){return ZC(this,e)}hasItemStylers(){const{styler:e,itemStyler:t,marker:n,label:s}=this.properties;return!!(e??t??n.itemStyler??s.itemStyler)}initQuadTree(e){eM(e,this.datumNodesIter())}pickNodeDataClosestDatum(e){return tM(this,e)}};Yb.className="BubbleSeries";Yb.type="bubble";var i8e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new Yb(e),predictAxis:Y4,defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",Rb],["image",iu],["pattern",uo]]},stroke:{$palette:"stroke"},fillOpacity:.8,maxRenderedItems:1e4,label:{...Rl,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:_d()}}},bee={type:"series",name:"bubble",chartType:"cartesian",options:R6e,create:e=>new Yb(e)},ri=class extends cu{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Yl,this.label=new Ms,this.tooltip=Rf()}getStyle(){const{fill:e,fillOpacity:t,stroke:n,strokeWidth:s,strokeOpacity:i,lineDash:r,lineDashOffset:a,cornerRadius:o}=this;return{fill:e,fillOpacity:t,stroke:n,strokeWidth:s,strokeOpacity:i,lineDash:r,lineDashOffset:a,cornerRadius:o,opacity:1}}};D([O],ri.prototype,"xKey",2);D([O],ri.prototype,"yKey",2);D([O],ri.prototype,"xName",2);D([O],ri.prototype,"yName",2);D([O],ri.prototype,"fill",2);D([O],ri.prototype,"fillOpacity",2);D([O],ri.prototype,"stroke",2);D([O],ri.prototype,"strokeWidth",2);D([O],ri.prototype,"strokeOpacity",2);D([O],ri.prototype,"lineDash",2);D([O],ri.prototype,"lineDashOffset",2);D([O],ri.prototype,"cornerRadius",2);D([O],ri.prototype,"areaPlot",2);D([O],ri.prototype,"bins",2);D([O],ri.prototype,"aggregation",2);D([O],ri.prototype,"binCount",2);D([O],ri.prototype,"shadow",2);D([O],ri.prototype,"label",2);D([O],ri.prototype,"tooltip",2);var tB=10,nM=class extends Ud{constructor(e){super({moduleCtx:e,propertyKeys:Sm,propertyNames:wm,categoryKey:void 0,pickModes:[1,0],datumSelectionGarbageCollection:!0,animationResetFns:{datum:j0,label:Of}}),this.properties=new ri,this.calculatedBins=[]}deriveBins(e){const t=Sb(e[0],e[1],tB).ticks,n=c0(e[0],e[1],tB),[s]=t,i=r=>[r,r+n];return[[s-n,s],...t.map(i)]}calculateNiceBins(e,t){const n=Math.floor(e[0]),s=e[1],i=t||1,{start:r,binSize:a}=this.calculateNiceStart(n,s,i);return this.getBins(r,s,a,i)}getBins(e,t,n,s){const i=[],r=this.calculatePrecision(n);for(let a=0;a<s;a++){const o=Math.round((e+a*n)*r)/r;let c=Math.round((e+(a+1)*n)*r)/r;a===s-1&&(c=Math.max(c,t)),i[a]=[o,c]}return i}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,n){const s=Math.abs(t-e)/n,i=Math.floor(Math.log10(s)),r=Math.pow(10,i);return{start:Math.floor(e/r)*r,binSize:s}}async processData(e){const{visible:t}=this,{xKey:n,yKey:s,areaPlot:i,aggregation:r}=this.properties,a=this.axes.x?.scale,o=this.axes.y?.scale,{xScaleType:c,yScaleType:u}=this.getScaleInformation({yScale:o,xScale:a}),h=t?{}:{forceValue:0},f=[dd(n,c),RX];if(s){let M=ik("groupAgg",{visible:t});r==="count"||(r==="sum"?M=CX("groupAgg",{visible:t}):r==="mean"&&(M=MX("groupAgg",{visible:t}))),i&&(M=rk("groupAgg",M)),f.push(qn(s,u,{invalidValue:void 0,...h}),M)}else{f.push(DX("count"));let M=ik("groupAgg",{visible:t});i&&(M=rk("groupAgg",M)),f.push(M)}let g=[];const m=M=>{const N=Gr(M.domain.keys[0]);if(N.length===0)return M.domain.groups=[],()=>[];const T=Gx(this.properties.binCount)?this.calculateNiceBins(N,this.properties.binCount):this.properties.bins??this.deriveBins(N),E=T.length;return g=[...T],k=>{let L=k[0];if(mf(L)&&(L=L.getTime()),!Gx(L))return[];for(let I=0;I<E;I++){const _=T[I];if(L>=_[0]&&L<_[1]||I===E-1&&L<=_[1])return _}return[]}},{dataModel:y,processedData:b}=await this.requestDataModel(e,this.data,{props:f,groupByFn:m}),S=b,C=new Map;S.groups.forEach((M,N)=>{const T=M.keys;C.set(ur(...T),{group:M,groupIndex:N})}),this.calculatedBins=g.map(M=>{const N=C.get(ur(...M));if(N){const{group:T,groupIndex:E}=N,[[k,L]=[0,0]]=T.aggregation,I=[...y.forEachDatum(this,S,T)],_=this.frequency(T),F=k+L;return{domain:M,datum:I,groupIndex:E,frequency:_,total:F}}else return{domain:M,datum:[],groupIndex:-1,frequency:0,total:0}}),this.animationState.transition("updateData")}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(e){const{processedData:t,dataModel:n}=this;if(!t||!n||!this.calculatedBins.length)return[];const s=n.getDomain(this,"groupAgg","aggregate",t),i=this.calculatedBins[0].domain[0],r=this.calculatedBins[(this.calculatedBins?.length??0)-1].domain[1];return Gr(e==="x"?[i,r]:s)}getSeriesRange(e,[t,n]){const{dataModel:s,processedData:i}=this;if(!s||i?.type!=="grouped")return[NaN,NaN];const r=this.axes.x.scale,a=0;let o=-1/0;return i.groups.forEach(({keys:c,aggregation:u})=>{const[[h,f]=[0,0]]=u,[g,m]=c,[y,b]=pi([r.convert(g),r.convert(m)]);if(b>=t&&y<=n){const S=h+f;o=Math.max(o,S)}}),a>o?[NaN,NaN]:[a,o]}frequency(e){return e.datumIndices.reduce((t,n)=>t+n.length,0)}createNodeData(){const{axes:e,processedData:t,dataModel:n}=this,s=e.x,i=e.y;if(!s||!i||!n)return;const{scale:r}=s,{scale:a}=i,{xKey:o,yKey:c,xName:u,yName:h,label:f}=this.properties,g=!this.ctx.animationManager.isSkipped(),m=[],y={itemId:this.properties.yKey??this.id,nodeData:m,labelData:m,scales:this.calculateScaling(),animationValid:!0,visible:this.visible||g,styles:zO(this.getItemStyle.bind(this))};return t==null||t.type!=="grouped"||(this.calculatedBins.forEach(({domain:b,datum:S,groupIndex:C,frequency:M,total:N})=>{const[T,E]=b,k=r.convert(T),L=r.convert(E),I=a.convert(0),_=a.convert(N),F=Math.abs(L-k),G=Math.abs(_-I),U=Math.min(k,L),H=Math.min(I,_);let z;f.enabled&&N!==0&&(z={x:U+F/2,y:H+G/2,text:this.getLabelText(N,S,c,"y",[],f,{value:N,datum:S,xKey:o,yKey:c,xName:u,yName:h})});const $={x:U+F/2,y:H+G/2},P=i.isReversed();m.push({series:this,datumIndex:C,datum:S,aggregatedValue:N,frequency:M,domain:b,yKey:c,xKey:o,x:U,y:H,xValue:k,yValue:_,width:F,height:G,midPoint:$,topLeftCornerRadius:!P,topRightCornerRadius:!P,bottomRightCornerRadius:P,bottomLeftCornerRadius:P,label:z,crisp:!0})}),m.sort((b,S)=>b.x-S.x)),y}nodeFactory(){return new si}updateDatumSelection(e){const{nodeData:t,datumSelection:n}=e;return n.update(t,void 0,s=>ur(...s.domain))}getItemStyle(e,t,n){const{properties:s}=this,i=this.getHighlightStyle(t,e,n);return pn(i,s.getStyle())}updateDatumStyles(e){const{datumSelection:t,isHighlight:n}=e;t.each((s,i)=>{t.isGarbage(s)||(i.style=this.getItemStyle(i.datumIndex,n))})}updateDatumNodes(e){const{contextNodeData:t}=this;if(!t)return;const n=this.ctx.highlightManager.getActiveHighlight(),{shadow:s}=this.properties,i=this.getShapeFillBBox();e.datumSelection.each((r,a)=>{const o=a.style??t.styles[this.getHighlightState(n,e.isHighlight,a.datumIndex)],{cornerRadius:c=0}=o,{topLeftCornerRadius:u,topRightCornerRadius:h,bottomRightCornerRadius:f,bottomLeftCornerRadius:g}=a;Rc(r,o,i),r.topLeftCornerRadius=u?c:0,r.topRightCornerRadius=h?c:0,r.bottomRightCornerRadius=f?c:0,r.bottomLeftCornerRadius=g?c:0,r.crisp=a.crisp,r.fillShadow=s})}updateLabelSelection(e){const{labelData:t,labelSelection:n}=e;return n.update(t,s=>{s.pointerEvents=1,s.textAlign="center",s.textBaseline="middle"})}updateLabelNodes(e){const t=this.isLabelEnabled(),n=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((s,i)=>{const r=Lf(this,i,this.properties,this.properties.label,!1,n),{enabled:a,fontStyle:o,fontWeight:c,fontSize:u,fontFamily:h,color:f}=r;a&&t&&i?.label?(s.text=i.label.text,s.x=i.label.x,s.y=i.label.y,s.fontStyle=o,s.fontWeight=c,s.fontFamily=h,s.fontSize=u,s.fill=f,s.visible=!0,s.fillOpacity=this.getHighlightStyle(!1,i.datumIndex).opacity??1,s.setBoxing(r)):s.visible=!1})}initQuadTree(e){const{value:t}=this.contentGroup.children().next();t instanceof Et&&eM(e,t.children())}pickNodeClosestDatum(e){return tM(this,e)}getTooltipContent(e){const{id:t,dataModel:n,processedData:s,axes:i,properties:r,ctx:{localeManager:a}}=this,{xKey:o,xName:c,yKey:u,yName:h,tooltip:f,legendItemName:g}=r,m=i.x,y=i.y;if(!n||s?.type!=="grouped"||!m||!y)return;const b=s.groups[e],{aggregation:S,keys:C}=b,[[M,N]=[0,0]]=S,T=this.frequency(b),E=C,[k,L]=E,I=M+N,_={data:[...n.forEachDatum(this,s,b)],aggregatedValue:I,frequency:T,domain:E},F=[{label:c,fallbackLabel:o,value:`${this.getAxisValueText(m,"tooltip",k,_,o,g)} - ${this.getAxisValueText(m,"tooltip",L,_,o,g)}`},{label:a.t("seriesHistogramTooltipFrequency"),value:this.getAxisValueText(y,"tooltip",T,_,u,g)}];if(u!=null){let G;switch(r.aggregation){case"sum":G=a.t("seriesHistogramTooltipSum",{yName:h??u});break;case"mean":G=a.t("seriesHistogramTooltipMean",{yName:h??u});break;case"count":G=a.t("seriesHistogramTooltipCount",{yName:h??u});break}F.push({label:G,value:this.getAxisValueText(y,"tooltip",I,_,u,g)})}return this.formatTooltipWithContext(f,{symbol:this.legendItemSymbol(),data:F},{seriesId:t,datum:_,title:h,xKey:o,xName:c,yKey:u,yName:h,xRange:[k,L],frequency:T,...this.getItemStyle(e,!1)})}legendItemSymbol(){const{fill:e,fillOpacity:t,stroke:n,strokeWidth:s,strokeOpacity:i,lineDash:r,lineDashOffset:a}=this.properties;return{marker:{fill:xs(e)??"rgba(0, 0, 0, 0)",stroke:n??"rgba(0, 0, 0, 0)",fillOpacity:t,strokeOpacity:i,strokeWidth:s,lineDash:r,lineDashOffset:a}}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:n},visible:s}=this,{xKey:i,yName:r,showInLegend:a}=this.properties;return[{legendType:"category",id:t,itemId:i,seriesId:t,enabled:s&&n.getItemEnabled({seriesId:t,itemId:i}),label:{text:r??i??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!a}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const n=M0(C0(!0,this.axes,"normal"),"unknown");Fs(this.id,"datums",this.ctx.animationManager,[e],n),ms(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){const t=M0(C0(!0,this.axes,"normal"),"added"),n={changed:!0,added:new Set,removed:new Set};Fs(this.id,"datums",this.ctx.animationManager,[e.datumSelection],t,(s,i)=>ur(...i.domain),n),n?.changed&&ms(this,"labels",this.ctx.animationManager,e.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){return X4(this,this.contextNodeData?.nodeData[e])}hasItemStylers(){return this.properties.label.itemStyler!=null}};nM.className="HistogramSeries";nM.type="histogram";var r8e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new nM(e),predictAxis:Gb,defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",Rd],["image",iu],["pattern",uo]]},stroke:{$palette:"stroke"},strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{...Rl,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"}},shadow:{enabled:!1,color:Cf,xOffset:3,yOffset:3,blur:5},highlight:_d()}}},vee={type:"series",name:"histogram",chartType:"cartesian",enterprise:!0,options:_6e,create:e=>new nM(e)},a8e=1e3,o8e=10;function nB(e,t,n,s,i,r){const a=e[r];if(a==null)return!1;const o=Number.isFinite(t)?ho(a,t,n):_g(r,e.length),c=KC(o,i);return r===s[c+rr]||r===s[c+$r]||r===s[c+Br]||r===s[c+Vr]}function l8e(e,t,n,s){if(t.length<a8e)return;const[i,r]=Rg(e,s);let a=YC(t,i,r);const{indexData:o,valueData:c}=m0(t,n,n,i,r,a);let u=[];for(let f=0;f<t.length;f+=1)nB(t,i,r,o,a,f)&&u.push(f);const h=[{maxRange:a,indices:u}];for(;u.length>o8e&&a>64;)({maxRange:a}=y0(o,c,a,{inPlace:!0})),u=u.filter(nB.bind(null,t,i,r,o,a)),h.push({maxRange:a,indices:u});return h.reverse(),h}var Us=class extends cu{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new Cm,this.marker=new jr,this.label=new Ms,this.tooltip=Rf(),this.connectMissingData=!1,this.sparklineMode=!1}};D([O],Us.prototype,"xKey",2);D([O],Us.prototype,"yKey",2);D([O],Us.prototype,"xName",2);D([O],Us.prototype,"yName",2);D([O],Us.prototype,"yFilterKey",2);D([O],Us.prototype,"stackGroup",2);D([O],Us.prototype,"normalizedTo",2);D([O],Us.prototype,"title",2);D([O],Us.prototype,"stroke",2);D([O],Us.prototype,"strokeWidth",2);D([O],Us.prototype,"strokeOpacity",2);D([O],Us.prototype,"lineDash",2);D([O],Us.prototype,"lineDashOffset",2);D([O],Us.prototype,"interpolation",2);D([O],Us.prototype,"styler",2);D([O],Us.prototype,"marker",2);D([O],Us.prototype,"label",2);D([O],Us.prototype,"tooltip",2);D([O],Us.prototype,"connectMissingData",2);D([O],Us.prototype,"sparklineMode",2);var c8e=.25,u8e=ub(l8e),Kb=class extends Ud{constructor(e){super({moduleCtx:e,propertyKeys:Sm,propertyNames:wm,categoryKey:"xValue",pickModes:[2,1,0],datumSelectionGarbageCollection:!1,segmentedDataNodes:!1,animationResetFns:{path:W4({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:Of,datum:(t,n)=>({...qC(),...w0(t,n)})},clipFocusBox:!1}),this.properties=new Us,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}isNormalized(){return this.properties.normalizedTo!=null}async processData(e){if(this.data==null)return;const{data:t,visible:n,seriesGrouping:{groupIndex:s=this.id,stackCount:i=0}={}}=this,{xKey:r,yKey:a,yFilterKey:o,connectMissingData:c,normalizedTo:u}=this.properties,h=!this.ctx.animationManager.isSkipped(),f=this.axes.x?.scale,g=this.axes.y?.scale,{isContinuousX:m,xScaleType:y,yScaleType:b}=this.getScaleInformation({xScale:f,yScale:g}),S=i>1||u!=null,C={invalidValue:null};c&&S&&(C.invalidValue=0),S&&!n&&(C.forceValue=0);const M={value:`area-stack-${s}-yValue`,marker:`area-stack-${s}-yValues-marker`},N=[];(!m||S)&&N.push(dd(r,y,{id:"xKey"})),N.push(qn(r,y,{id:"xValue"}),qn(a,b,{id:"yValueRaw",...C,invalidValue:void 0})),o!=null&&N.push(qn(o,b,{id:"yFilterRaw"})),S&&N.push(...p0(a,"normal","current",{id:"yValueCumulative",...C,groupId:M.marker},b)),ax(u)&&N.push(qn(a,b,{id:"yValue",...C,groupId:M.value}),$C(Object.values(M),u)),h&&(N.push(Vb(m?["xValue"]:void 0)),this.processedData&&N.push(BC(this.id,this.processedData)));const{dataModel:T,processedData:E}=await this.requestDataModel(e,t,{props:N,groupByKeys:S,groupByData:!S});this.dataAggregationFilters=this.aggregateData(T,E),this.animationState.transition("updateData")}yValueKey(){return this.isNormalized()?"yValue":"yValueRaw"}yCumulativeKey(e){return e.type==="grouped"?"yValueCumulative":this.yValueKey()}xCoordinateRange(e,t){const{marker:n}=this.properties,s=this.axes.x.scale.convert(e),i=n.enabled?.5*n.size*t:0;return[s-i,s+i]}yCoordinateRange(e,t){const{marker:n}=this.properties,s=this.axes.y.scale.convert(e[0]),i=n.enabled?.5*n.size*t:0;return[s-i,s+i]}getSeriesDomain(e){const{dataModel:t,processedData:n,axes:s}=this;if(!t||!n)return[];const i=s.y;if(e==="x"){const a=t.resolveProcessedDataDefById(this,"xValue"),o=t.getDomain(this,"xValue","value",n);return a?.def.type==="value"&&a.def.valueType==="category"?o:Gr(zd(o))}const r=this.domainForClippedRange("y",[this.yCumulativeKey(n)],"xValue");if(this.isNormalized()&&i instanceof Na&&!(i instanceof Nf)){const a=Number.isFinite(r[1]-r[0])?[r[0]>0?0:r[0],r[1]<0?0:r[1]]:[];return Gr(a)}else return Gr(r)}getSeriesRange(e,t){return this.domainForVisibleRange("y",[this.yCumulativeKey(this.processedData)],"xValue",t)}getZoomRangeFittingItems(e,t,n){return this.zoomFittingVisibleItems("xValue",[this.yCumulativeKey(this.processedData)],e,t,n)}getVisibleItems(e,t,n){return this.countVisibleItems("xValue",[this.yCumulativeKey(this.processedData)],e,t,n)}aggregateData(e,t){if(t.type!=="ungrouped"||pm(t))return;const n=this.axes.x;if(n==null)return;const{scale:s}=n,i=e.resolveColumnById(this,"xValue",t),r=e.resolveColumnById(this,this.yCumulativeKey(t),t),a=e.getDomain(this,"xValue","value",t);return u8e(s.type,i,r,a)}createNodeData(){const{dataModel:e,processedData:t,axes:n,dataAggregationFilters:s}=this,i=n.x,r=n.y;if(!e||!t||!i||!r)return;const{xKey:a,xName:o,yFilterKey:c,yKey:u,yName:h,marker:f,label:g,connectMissingData:m,interpolation:y,legendItemName:b}=this.properties,S=i.scale,C=r.scale,M=(S.bandwidth??0)/2,N=(C.bandwidth??0)/2,T=f.enabled?f.size:0,E=t.dataSources.get(this.id)??[],k=e.resolveColumnById(this,"xValue",t),L=e.resolveColumnById(this,"yValueRaw",t),I=e.resolveColumnById(this,this.yCumulativeKey(t),t),_=c!=null?e.resolveColumnById(this,"yFilterRaw",t):void 0,F=this.getSeriesDomain("y"),G={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},U=[],H=[],z=je=>{const me=E[je],be=k[je],Ae=L[je],Te=I[je],Be=_?.[je],Ge=S.convert(be)+M,Je=C.convert(Te)+N;if(!Number.isFinite(Ge))return;if(Ae!=null){const lt=g.enabled?this.getLabelText(Ae,me,u,"y",F,g,{value:Ae,datum:me,xKey:a,yKey:u,xName:o,yName:h,legendItemName:b}):void 0;U.push({series:this,datum:me,datumIndex:je,yKey:u,xKey:a,point:{x:Ge,y:Je,size:T},midPoint:{x:Ge,y:Je},cumulativeValue:Te,yValue:Ae,xValue:be,capDefaults:G,labelText:lt,selected:Be})}const et=H[H.length-1];if(Ae!=null){const lt={point:{x:Ge,y:Je},xDatum:be,yDatum:Ae};Array.isArray(et)?et.push(lt):et!=null?(et.skip+=1,H.push([lt])):H.push([lt])}else m||(Array.isArray(et)||et==null?H.push({skip:0}):et.skip+=1)},[$,P]=S.range,B=Math.abs(P-$),K=s?.find(je=>je.maxRange>B)?.indices;let[te,se]=this.visibleRangeIndices("xValue",i.range,K);te=Math.max(te-1,0),se=Math.min(se+1,K?.length??k.length),t.input.count<1e3&&(te=0,se=t.input.count);for(let je=te;je<se;je+=1)z(K?.[je]??je);const fe=H.flatMap(je=>Array.isArray(je)?xx(je,y):[]),oe={itemId:u,spans:fe},Ee=_?.some((je,me)=>je===L[me])??!1,ye=XC(this.properties.segmentation,i,r,this.chart.seriesRect,this.ctx.scene,!1);return{itemId:u,nodeData:U,labelData:U,strokeData:oe,scales:this.calculateScaling(),visible:this.visible,crossFiltering:Ee,styles:QC(this,f),segments:ye}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){const{paths:[t],visible:n,animationEnabled:s}=e,i=this.contextNodeData?.crossFiltering===!0,r=pn(this.getHighlightStyle(),this.getStyle(!1)),{strokeWidth:a,stroke:o,strokeOpacity:c,lineDash:u,lineDashOffset:h,opacity:f}=r,g=this.contextNodeData?.segments;t.setProperties({segments:g,fill:void 0,lineJoin:"round",pointerEvents:1,opacity:f,stroke:o,strokeWidth:a,strokeOpacity:c*(i?c8e:1),lineDash:u,lineDashOffset:h}),t.datum=g,s||(t.visible=n),Zw(this,t)}updateDatumSelection(e){let{nodeData:t}=e;const{datumSelection:n}=e,{contextNodeData:s,processedData:i,axes:r,properties:a}=this,{marker:o}=a;return t=s?.crossFiltering===!0||H4(i.input.count,r.x.scale,o)?t:[],o.isDirty()&&(n.clear(),n.cleanup()),n.update(t,void 0,u=>ur(u.xValue))}updateDatumStyles(e){const{datumSelection:t,isHighlight:n}=e,{marker:s}=this.properties,i=this.ctx.highlightManager.getActiveHighlight();t.each((r,a)=>{if(!t.isGarbage(r)){const o=this.getHighlightState(i,e.isHighlight,a.datumIndex),c=this.getStyle(n,o),{stroke:u,strokeWidth:h,strokeOpacity:f}=c,g=this.makeItemStylerParams(this.dataModel,this.processedData,a.datumIndex,c.marker);a.style=this.getMarkerStyle(s,a,g,{isHighlight:n,highlightState:o},c.marker,{stroke:u,strokeWidth:h,strokeOpacity:f})}})}updateDatumNodes(e){const{contextNodeData:t}=this;if(!t)return;const{datumSelection:n,isHighlight:s}=e,i=this.ctx.animationManager.isSkipped(),r=this.getShapeFillBBox(),a=this.ctx.highlightManager.getActiveHighlight();n.each((o,c)=>{const u=this.getHighlightState(a,s,c.datumIndex),h=c.style??t.styles[u];this.applyMarkerStyle(h,o,c.point,r,{applyTranslation:i,selected:c.selected})}),s||this.properties.marker.markClean()}updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}updateLabelNodes(e){const{isHighlight:t=!1}=e,n=this.ctx.highlightManager?.getActiveHighlight(),s=this.makeLabelFormatterParams();e.labelSelection.each((i,r)=>{const a=Lf(this,r,s,this.properties.label,t,n),{enabled:o,fontStyle:c,fontWeight:u,fontSize:h,fontFamily:f,color:g}=a;o&&r?.labelText?(i.fontStyle=c,i.fontWeight=u,i.fontSize=h,i.fontFamily=f,i.textAlign="center",i.textBaseline="bottom",i.text=r.labelText,i.x=r.point.x,i.y=r.point.y-10,i.fill=g,i.visible=!0,i.fillOpacity=this.getHighlightStyle(t,r.datumIndex).opacity??1,i.setBoxing(a)):i.visible=!1})}makeStylerParams(e,t){const{id:n}=this,{marker:s,lineDash:i,lineDashOffset:r,stroke:a,strokeOpacity:o,strokeWidth:c,xKey:u,yKey:h}=this.properties,f=am(t??0);return{marker:{fill:s.fill,fillOpacity:s.fillOpacity,size:s.size,shape:s.shape,stroke:s.stroke,strokeOpacity:s.strokeOpacity,strokeWidth:s.strokeWidth,lineDash:s.lineDash,lineDashOffset:s.lineDashOffset},highlightState:f,highlighted:e,lineDash:i,lineDashOffset:r,seriesId:n,stroke:a,strokeOpacity:o,strokeWidth:c,xKey:u,yKey:h}}makeItemStylerParams(e,t,n,s){const{xKey:i,yKey:r}=this.properties,a=e.resolveColumnById(this,"xValue",t)[n],o=e.resolveColumnById(this,"yValueRaw",t)[n],c=e.getDomain(this,"xValue","key",t),u=e.getDomain(this,this.yCumulativeKey(t),"value",t);return{...aC(a,o,i,r,c,u),xValue:a,yValue:o,...s}}makeLabelFormatterParams(){const{xKey:e,xName:t,yKey:n,yName:s,legendItemName:i}=this.properties;return{xKey:e,xName:t,yKey:n,yName:s,legendItemName:i}}getTooltipContent(e){const{id:t,dataModel:n,processedData:s,axes:i,properties:r}=this,{xKey:a,xName:o,yKey:c,yName:u,tooltip:h,legendItemName:f}=r,g=i.x,m=i.y;if(!n||!s||!g||!m)return;const y=s.dataSources.get(this.id)?.[e],b=n.resolveColumnById(this,"xValue",s)[e],S=n.resolveColumnById(this,"yValueRaw",s)[e];if(b==null)return;const C=this.getStyle(!1),M=this.makeItemStylerParams(n,s,e,C.marker),N=this.getMarkerStyle(this.properties.marker,{datumIndex:e,datum:y},M,{isHighlight:!1},C.marker);return this.formatTooltipWithContext(h,{heading:this.getAxisValueText(g,"tooltip",b,y,a,f),symbol:this.legendItemSymbol(),data:[{label:u,fallbackLabel:c,value:this.getAxisValueText(m,"tooltip",S,y,c,f)}]},{seriesId:t,datum:y,title:u,xKey:a,xName:o,yKey:c,yName:u,...N,...this.getModuleTooltipParams()})}legendItemSymbol(){const{stroke:e,strokeOpacity:t,strokeWidth:n,lineDash:s,marker:i}=this.getStyle(!1);return{marker:{...this.getMarkerStyle(this.properties.marker,{},void 0,{isHighlight:!1,checkForHighlight:!1,resolveStylerMarkerPath:"marker"},{size:i.size,shape:i.shape,fill:i.fill,fillOpacity:i.fillOpacity,stroke:i.stroke,strokeOpacity:i.strokeOpacity,strokeWidth:i.strokeWidth,lineDash:i.lineDash,lineDashOffset:i.lineDashOffset}),enabled:this.properties.marker.enabled},line:{stroke:e,strokeOpacity:t,strokeWidth:n,lineDash:s}}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:n},visible:s}=this,{yKey:i,yName:r,title:a,legendItemName:o,showInLegend:c}=this.properties;return[{legendType:e,id:t,itemId:i,legendItemName:o,seriesId:t,enabled:s&&n.getItemEnabled({seriesId:t,itemId:i}),label:{text:o??a??r??i},symbol:this.legendItemSymbol(),hideInLegend:!c}]}updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}updateLinePaths(e,t){const n=t.strokeData.spans,[s]=e;s.path.clear(),$4(s,n),s.markDirty("LineSeries")}animateEmptyUpdateReady(e){const{datumSelection:t,labelSelection:n,annotationSelections:s,contextData:i,paths:r}=e,{animationManager:a}=this.ctx;this.updateLinePaths(r,i),G4(this,a,...r),Ui([t],w0),U4(this,a,t),ms(this,"labels",a,n),ms(this,"annotations",a,...s)}animateReadyResize(e){const{contextData:t,paths:n}=e;this.updateLinePaths(n,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{datumSelection:n,labelSelection:s,annotationSelections:i,contextData:r,paths:a,previousContextData:o}=e,[c]=a;if(r.visible===!1&&o?.visible===!1)return;this.resetDatumAnimation(e),this.resetLabelAnimation(e);const u=()=>{this.resetPathAnimation(e),this.updateLinePaths(a,r)},h=()=>{t.skipCurrentBatch(),u()};if(r==null||o==null){u(),S0(this,t,"added",n),qw(this,"path_properties",t,"add",c),ms(this,"labels",t,s),ms(this,"annotations",t,...i);return}if(r.crossFiltering!==o.crossFiltering){h();return}const f=see(r,o,this.processedData?.reduced?.diff?.[this.id]);if(f===void 0){h();return}else if(f.status==="no-op")return;Fs(this.id,"path_properties",t,[c],f.stroke.pathProperties),f.status==="added"?this.updateLinePaths(a,r):f.status==="removed"?this.updateLinePaths(a,o):Yw(this.id,"path_update",t,[c],f.stroke.path),f.hasMotion&&(S0(this,t,void 0,n),ms(this,"labels",t,s),ms(this,"annotations",t,...i)),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateLinePaths(a,r)})}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new ni}getStyle(e,t){const{styler:n,marker:s,lineDash:i,lineDashOffset:r,stroke:a,strokeOpacity:o,strokeWidth:c}=this.properties,{size:u,shape:h,fill:f="transparent",fillOpacity:g}=s;let m={};if(n){const y=this.makeStylerParams(e,t),b=this.cachedCallWithContext(n,y)??{};m=this.ctx.optionsGraphService.resolvePartial(["series",`${this.declarationOrder}`],b,{pick:!1})??{}}return m.marker??(m.marker={}),{lineDash:m.lineDash??i,lineDashOffset:m.lineDashOffset??r,stroke:m.stroke??a,strokeOpacity:m.strokeOpacity??o,strokeWidth:m.strokeWidth??c,marker:{fill:m.marker.fill??f,fillOpacity:m.marker.fillOpacity??g,shape:m.marker.shape??h,size:m.marker.size??u,lineDash:m.marker.lineDash??s.lineDash??i,lineDashOffset:m.marker.lineDashOffset??s.lineDashOffset??r,stroke:m.marker.stroke??s.stroke??a,strokeOpacity:m.marker.strokeOpacity??s.strokeOpacity??o,strokeWidth:m.marker.strokeWidth??s.strokeWidth??c}}}getFormattedMarkerStyle(e){const t=this.getStyle(!1),n=this.makeItemStylerParams(this.dataModel,this.processedData,e.datumIndex,t.marker);return this.getMarkerStyle(this.properties.marker,e,n,{isHighlight:!0},void 0,t)}computeFocusBounds(e){return ZC(this,e)}hasItemStylers(){return this.properties.styler!=null||this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}};Kb.className="LineSeries";Kb.type="line";var See={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new Kb(e),stackable:!0,predictAxis:Gb,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{stroke:TC,strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear"},marker:{shape:"circle",size:7,strokeWidth:{$isUserOption:["./stroke",1,0]},fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",Rb],["image",iu],["pattern",uo]]},stroke:{$palette:"stroke"}},label:{...Rl,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:_d(),segmentation:DC}}},wee={type:"series",name:"line",chartType:"cartesian",options:HC,create:e=>new Kb(e)},sM=class extends Yb{};sM.className="ScatterSeries";sM.type="scatter";var d8e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new sM(e),predictAxis:Y4,defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",Rb],["image",iu],["pattern",uo]]},stroke:{$palette:"stroke"},fillOpacity:.8,maxRenderedItems:1e4,label:{...Rl,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:_d()}}},Cee={type:"series",name:"scatter",chartType:"cartesian",options:z6e,create:e=>new sM(e)},Mee=class yk{constructor(t,n,s,i){this.startAngle=t,this.endAngle=n,this.innerRadius=s,this.outerRadius=i}clone(){const{startAngle:t,endAngle:n,innerRadius:s,outerRadius:i}=this;return new yk(t,n,s,i)}equals(t){return this.startAngle===t.startAngle&&this.endAngle===t.endAngle&&this.innerRadius===t.innerRadius&&this.outerRadius===t.outerRadius}[V2](t,n){return new yk(this.startAngle*(1-n)+t.startAngle*n,this.endAngle*(1-n)+t.endAngle*n,this.innerRadius*(1-n)+t.innerRadius*n,this.outerRadius*(1-n)+t.outerRadius*n)}};function jee({startAngle:e,endAngle:t,innerRadius:n,outerRadius:s}){let i=1/0,r=1/0,a=-1/0,o=-1/0;const c=(u,h)=>{i=Math.min(u,i),r=Math.min(h,r),a=Math.max(u,a),o=Math.max(h,o)};return c(n*Math.cos(e),n*Math.sin(e)),c(n*Math.cos(t),n*Math.sin(t)),c(s*Math.cos(e),s*Math.sin(e)),c(s*Math.cos(t),s*Math.sin(t)),Rh(0,e,t)&&c(s,0),Rh(Math.PI*.5,e,t)&&c(0,s),Rh(Math.PI,e,t)&&c(-s,0),Rh(Math.PI*1.5,e,t)&&c(0,-s),new Pe(i,r,a-i,o-r)}function xk(e,t,n){const s=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:i,outerRadius:r}=n;if(n.startAngle===n.endAngle||s<Math.min(i,r)||s>Math.max(i,r))return!1;const a=Tw(n.startAngle),o=Tw(n.endAngle),c=Math.atan2(t,e);return a<o?c<=o&&c>=a:c<=o&&c>=-Math.PI||c>=a&&c<=Math.PI}function h8e(e,t,n,s,i,r,a,o,c,u){if(isNaN(e)||isNaN(t))return 0;[i,s]=[s,i];const h=(u-o)/(c-a),f=o-h*a,g=Math.pow(h,2)+1,m=2*(h*(f-t)-e),y=Math.pow(e,2)+Math.pow(f-t,2)-Math.pow(n,2),b=Math.pow(m,2)-4*g*y;if(b<0)return 0;const S=(-m+Math.sqrt(b))/2/g,C=(-m-Math.sqrt(b))/2/g;let M=0;return[S,C].forEach(N=>{if(!(N>=Math.min(a,c)&&N<=Math.max(a,c)))return;const E=h*N+f,k=N-e,L=E-t,I=Math.atan2(L,k);Rh(I,s,i)&&M++}),M}function sB(e,t){const{startAngle:n,endAngle:s,innerRadius:i,outerRadius:r}=t,a={x:r*Math.cos(n),y:r*Math.sin(n)},o={x:r*Math.cos(s),y:r*Math.sin(s)},c=i===0?{x:0,y:0}:{x:i*Math.cos(n),y:i*Math.sin(n)},u=i===0?{x:0,y:0}:{x:i*Math.cos(s),y:i*Math.sin(s)};return lx(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,c.x,c.y)||lx(e.start.x,e.start.y,e.end.x,e.end.y,o.x,o.y,u.x,u.y)||h8e(0,0,r,n,s,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function f8e(e,t){const n={x:e.x,y:e.y},s={x:e.x+e.width,y:e.y},i={x:e.x,y:e.y+e.height},r={x:e.x+e.width,y:e.y+e.height};return sB({start:n,end:s},t)||sB({start:i,end:r},t)}function iB(e,t,n,s){if(n===0&&s===0)return 0;if(Math.asin(Math.abs(1*n)/(e+1*n))+Math.asin(Math.abs(1*s)/(e+1*s))-t<0)return 1;let r=0,a=1;for(let o=0;o<8;o+=1){const c=(r+a)/2;Math.asin(Math.abs(c*n)/(e+c*n))+Math.asin(Math.abs(c*s)/(e+c*s))-t<0?r=c:a=c}return r}var p8e=1e-6;function fd(e,t){return W2(e,t)<p8e?t:hi(e-t)+t}function Z1(e,t,n=0){const i=Math.abs(t-e)>=2*Math.PI?2*Math.PI:hi(t-e);return e=fd(e,n),t=e+i,{startAngle:e,endAngle:t}}function Q1(e,t,n,s,i,r){const a=Math.sin(r),o=Math.cos(r),c=e**2+t**2-n**2;let u,h,f,g;if(o>.5){const N=a/o,T=1+N**2,E=-2*(e+t*N),k=E**2-4*T*c;if(k<0)return;const L=(-E+Math.sqrt(k))/(2*T),I=(-E-Math.sqrt(k))/(2*T);u=L,h=L*N,f=I,g=I*N}else{const N=o/a,T=1+N**2,E=-2*(t+e*N),k=E**2-4*T*c;if(k<0)return;const L=(-E+Math.sqrt(k))/(2*T),I=(-E-Math.sqrt(k))/(2*T);u=L*N,h=L,f=I*N,g=I}const m=o,y=a,b=u*m+h*y,S=f*m+g*y,C=b>0?fd(Math.atan2(h-t,u-e),s):NaN,M=S>0?fd(Math.atan2(g-t,f-e),s):NaN;if(C>=s&&C<=i)return C;if(M>=s&&M<=i)return M}function X1(e,t,n,s,i,r){const a=Math.hypot(e,t),o=(a**2-n**2+r**2)/(2*a),c=a-o,u=Math.atan2(t,e),h=Math.acos(-c/n),f=fd(u+h,s),g=fd(u-h,s);if(f>=s&&f<=i)return f;if(g>=s&&g<=i)return g}var tE=class{constructor(e,t,n,s,i){this.cx=e,this.cy=t,this.r=n,this.a0=s,this.a1=i,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){e==null||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){e==null||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},Qi=class extends xi{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return jee(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;let{innerRadius:t,outerRadius:n}=this;return t=t>0?t+e:0,n=Math.max(n-e,0),{innerRadius:t,outerRadius:n}}normalizedClipSector(){const{clipSector:e}=this;if(e==null)return;const{startAngle:t,endAngle:n}=Z1(this.startAngle,this.endAngle),{innerRadius:s,outerRadius:i}=this.normalizedRadii(),r=Z1(e.startAngle,e.endAngle,t);return new Mee(Math.max(t,r.startAngle),Math.min(n,r.endAngle),Math.max(s,e.innerRadius),Math.min(i,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,n,s,i,r,a,o){if(e<=0)return;const{startAngle:c,endAngle:u}=Z1(this.startAngle,this.endAngle),{innerRadius:h,outerRadius:f}=this.normalizedRadii(),g=this.normalizedClipSector();if(o&&h<=0)return;const m=o?this.getAngleOffset(h+e):this.getAngleOffset(f-e),y=a?c+m+t:u-m-t,b=o?h+e:f-e,S=b*Math.cos(y),C=b*Math.sin(y);if(g!=null&&(!a&&!(y>=c-1e-6&&y<=g.endAngle-1e-6)||a&&!(y>=g.startAngle+1e-6&&y<=u-1e-6)||o&&b<g.innerRadius-1e-6||!o&&b>g.outerRadius+1e-6))return;const M=new tE(S,C,e,n,s);if(g!=null){o?(M.clipStart(Q1(S,C,e,n,s,g.endAngle)),M.clipEnd(Q1(S,C,e,n,s,g.startAngle))):(M.clipStart(Q1(S,C,e,n,s,g.startAngle)),M.clipEnd(Q1(S,C,e,n,s,g.endAngle)));let L,I;if(a?(L=X1(S,C,e,n,s,g.innerRadius),I=X1(S,C,e,n,s,g.outerRadius)):(L=X1(S,C,e,n,s,g.outerRadius),I=X1(S,C,e,n,s,g.innerRadius)),M.clipStart(L),M.clipEnd(I),L!=null){const{x:_,y:F}=M.pointAt(L),G=fd(Math.atan2(F,_),c);a?r?.clipStart(G):i.clipEnd(G)}if(I!=null){const{x:_,y:F}=M.pointAt(I),G=fd(Math.atan2(F,_),c);a?i.clipStart(G):r?.clipEnd(G)}}if(g!=null){const{x:L,y:I}=M.pointAt((M.a0+M.a1)/2);if(!xk(L,I,g))return}const{x:N,y:T}=M.pointAt(a===o?M.a0:M.a1),E=fd(Math.atan2(T,N),c),k=o?r:i;return a?k?.clipStart(E):k?.clipEnd(E),M}updatePath(){const{path:t,centerX:n,centerY:s,concentricEdgeInset:i,radialEdgeInset:r}=this;let{startOuterCornerRadius:a,endOuterCornerRadius:o,startInnerCornerRadius:c,endInnerCornerRadius:u}=this;const{startAngle:h,endAngle:f}=Z1(this.startAngle,this.endAngle),{innerRadius:g,outerRadius:m}=this.normalizedRadii(),y=this.normalizedClipSector(),b=f-h,S=b>=2*Math.PI-1e-6;if(t.clear(),g===0&&m===0||g>m)return;if((y?.startAngle??h)===(y?.endAngle??f))return;if(S&&this.clipSector==null&&a===0&&o===0&&c===0&&u===0){t.moveTo(n+m*Math.cos(h),s+m*Math.sin(h)),t.arc(n,s,m,h,f),g>i&&(t.moveTo(n+g*Math.cos(f),s+g*Math.sin(f)),t.arc(n,s,g,f,h,!0)),t.closePath();return}else if(this.clipSector==null&&Math.abs(g-m)<1e-6){t.arc(n,s,m,h,f,!1),t.arc(n,s,m,f,h,!0),t.closePath();return}const C=this.getAngleOffset(g),M=this.getAngleOffset(m);if(b<2*M)return;const T=(y?.innerRadius??g)>i,E=g<i||b<2*C,k=m-g,L=Math.max(a,c,o,u),I=L>0?Math.min(k/L,1):1;a*=I,o*=I,c*=I,u*=I;const _=iB(m,b-2*M,-a,-o);if(a*=_,o*=_,!E&&T){const be=iB(g,b-2*C,c,u);c*=be,u*=be}else c=0,u=0;const F=Math.max(a+c,o+u),G=F>0?Math.min(k/F,1):1;a*=G,o*=G,c*=G,u*=G;let U=0,H=0;const z=a/(m-a),$=o/(m-o);if(z>=0&&z<1-1e-6)U=Math.asin(z);else{U=b/2;const be=m/(1/Math.sin(U)+1);a=Math.min(be,a)}if($>=0&&$<1-1e-6)H=Math.asin($);else{H=b/2;const be=m/(1/Math.sin(H)+1);o=Math.min(be,o)}const P=Math.asin(c/(g+c)),B=Math.asin(u/(g+u)),Y=y?.outerRadius??m,K=this.getAngleOffset(Y),te=new tE(0,0,Y,h+K,f-K),se=y?.innerRadius??g,fe=this.getAngleOffset(se),oe=T?new tE(0,0,se,h+fe,f-fe):void 0;y!=null&&(te.clipStart(y.startAngle),te.clipEnd(y.endAngle),oe?.clipStart(y.startAngle),oe?.clipEnd(y.endAngle));const Ee=this.arc(a,U,h-Math.PI*.5,h+U,te,oe,!0,!1),ye=this.arc(o,H,f-H,f+Math.PI*.5,te,oe,!1,!1),je=this.arc(u,B,f+Math.PI*.5,f+Math.PI-B,te,oe,!1,!0),me=this.arc(c,P,h+Math.PI+P,h+Math.PI*1.5,te,oe,!0,!0);if(E){const be=b<Math.PI*.5?r*(1+Math.cos(b))/Math.sin(b):NaN;let Ae;be>0&&be<m?Ae=Math.max(Math.hypot(r,be),g):Ae=r,Ae=Math.max(Ae,g);const Te=h+b*.5;t.moveTo(n+Ae*Math.cos(Te),s+Ae*Math.sin(Te))}else if(!(me?.isValid()===!0||oe?.isValid()===!0)){const be=h+b/2,Ae=g*Math.cos(be),Te=g*Math.sin(be);t.moveTo(n+Ae,s+Te)}if(Ee?.isValid()===!0){const{cx:be,cy:Ae,r:Te,a0:Be,a1:Ge}=Ee;t.arc(n+be,s+Ae,Te,Be,Ge)}if(te.isValid()){const{r:be,a0:Ae,a1:Te}=te;t.arc(n,s,be,Ae,Te)}if(ye?.isValid()===!0){const{cx:be,cy:Ae,r:Te,a0:Be,a1:Ge}=ye;t.arc(n+be,s+Ae,Te,Be,Ge)}if(!E){if(je?.isValid()===!0){const{cx:be,cy:Ae,r:Te,a0:Be,a1:Ge}=je;t.arc(n+be,s+Ae,Te,Be,Ge)}if(oe?.isValid()===!0){const{r:be,a0:Ae,a1:Te}=oe;t.arc(n,s,be,Te,Ae,!0)}if(me?.isValid()===!0){const{cx:be,cy:Ae,r:Te,a0:Be,a1:Ge}=me;t.arc(n+be,s+Ae,Te,Be,Ge)}}t.closePath()}isPointInPath(e,t){const{startAngle:n,endAngle:s,innerRadius:i,outerRadius:r}=this.clipSector??this;return xk(e-this.centerX,t-this.centerY,{startAngle:n,endAngle:s,innerRadius:Math.min(i,r),outerRadius:Math.max(i,r)})}};Qi.className="Sector";D([Me()],Qi.prototype,"centerX",2);D([Me()],Qi.prototype,"centerY",2);D([Me()],Qi.prototype,"innerRadius",2);D([Me()],Qi.prototype,"outerRadius",2);D([Me()],Qi.prototype,"startAngle",2);D([Me()],Qi.prototype,"endAngle",2);D([Ma({})],Qi.prototype,"clipSector",2);D([Me()],Qi.prototype,"concentricEdgeInset",2);D([Me()],Qi.prototype,"radialEdgeInset",2);D([Me()],Qi.prototype,"startOuterCornerRadius",2);D([Me()],Qi.prototype,"endOuterCornerRadius",2);D([Me()],Qi.prototype,"startInnerCornerRadius",2);D([Me()],Qi.prototype,"endInnerCornerRadius",2);var Nee=class extends us{constructor(){super(...arguments),this.showInLegend=!1}};D([O],Nee.prototype,"showInLegend",2);var e3=class extends Ms{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};D([O],e3.prototype,"text",2);D([O],e3.prototype,"spacing",2);var t3=class extends mt{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};D([O],t3.prototype,"fill",2);D([O],t3.prototype,"fillOpacity",2);var Mm=class extends Ms{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};D([O],Mm.prototype,"offset",2);D([O],Mm.prototype,"minAngle",2);D([O],Mm.prototype,"minSpacing",2);D([O],Mm.prototype,"maxCollisionOffset",2);D([O],Mm.prototype,"avoidCollisions",2);var n3=class extends Ms{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};D([O],n3.prototype,"positionOffset",2);D([O],n3.prototype,"positionRatio",2);var qb=class extends mt{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};D([O],qb.prototype,"colors",2);D([O],qb.prototype,"length",2);D([O],qb.prototype,"strokeWidth",2);D([O],qb.prototype,"itemStyler",2);var Wt=class extends xo{constructor(){super(...arguments),this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=Object.values(_s),this.strokes=Object.values(jc),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new sm(e3),this.title=new Nee,this.innerCircle=new t3,this.shadow=new Yl,this.calloutLabel=new Mm,this.sectorLabel=new n3,this.calloutLine=new qb,this.tooltip=Rf()}};D([O],Wt.prototype,"angleKey",2);D([O],Wt.prototype,"angleName",2);D([O],Wt.prototype,"angleFilterKey",2);D([O],Wt.prototype,"radiusKey",2);D([O],Wt.prototype,"radiusName",2);D([O],Wt.prototype,"radiusMin",2);D([O],Wt.prototype,"radiusMax",2);D([O],Wt.prototype,"calloutLabelKey",2);D([O],Wt.prototype,"calloutLabelName",2);D([O],Wt.prototype,"sectorLabelKey",2);D([O],Wt.prototype,"sectorLabelName",2);D([O],Wt.prototype,"legendItemKey",2);D([O],Wt.prototype,"defaultColorRange",2);D([O],Wt.prototype,"defaultPatternFills",2);D([O],Wt.prototype,"fills",2);D([O],Wt.prototype,"strokes",2);D([O],Wt.prototype,"fillOpacity",2);D([O],Wt.prototype,"strokeOpacity",2);D([O],Wt.prototype,"lineDash",2);D([O],Wt.prototype,"lineDashOffset",2);D([O],Wt.prototype,"cornerRadius",2);D([O],Wt.prototype,"itemStyler",2);D([O],Wt.prototype,"rotation",2);D([O],Wt.prototype,"outerRadiusOffset",2);D([O],Wt.prototype,"outerRadiusRatio",2);D([O],Wt.prototype,"innerRadiusOffset",2);D([O],Wt.prototype,"innerRadiusRatio",2);D([O],Wt.prototype,"strokeWidth",2);D([O],Wt.prototype,"sectorSpacing",2);D([O],Wt.prototype,"hideZeroValueSectorsInLegend",2);D([O],Wt.prototype,"innerLabels",2);D([O],Wt.prototype,"title",2);D([O],Wt.prototype,"innerCircle",2);D([O],Wt.prototype,"shadow",2);D([O],Wt.prototype,"calloutLabel",2);D([O],Wt.prototype,"sectorLabel",2);D([O],Wt.prototype,"calloutLine",2);D([O],Wt.prototype,"tooltip",2);function $S(e,t,n,s){const i=[n.convert(0),n.convert(1)],r=[s.convert(0),s.convert(1)],a=Math.PI/-2+Wi(t),o=e?"initial":"update",c=({radius:y})=>({innerRadius:i[0],outerRadius:i[0]+(i[1]-i[0])*y}),u=({radius:y})=>({innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*y});return{nodes:{toFn:(y,b,S,{prevLive:C})=>{let{startAngle:M,endAngle:N,innerRadius:T,outerRadius:E}=b;const{stroke:k,fill:L}=b.sectorFormat;if(S==="removed"&&C?(M=C.datum?.endAngle,N=C.datum?.endAngle):S==="removed"&&!C&&(M=a,N=a),S==="removed"){const I=c(b);T=I.innerRadius,E=I.outerRadius}return{startAngle:M,endAngle:N,outerRadius:E,innerRadius:T,stroke:k,fill:L}},fromFn:(y,b,S,{prevFromProps:C})=>{let{startAngle:M,endAngle:N,innerRadius:T,outerRadius:E}=y,{fill:k,stroke:L}=b.sectorFormat;if(S==="updated"&&y.previousDatum==null&&(S="added"),S==="unknown"||S==="added"&&!C?(M=a,N=a,T=b.innerRadius,E=b.outerRadius):S==="added"&&C&&(M=C.endAngle??a,N=C.endAngle??a,T=C.innerRadius??b.innerRadius,E=C.outerRadius??b.outerRadius),S==="added"&&!e){const I=u(b);T=I.innerRadius,E=I.outerRadius}return S==="updated"&&(k=y.fill??k,L=(typeof y.stroke=="string"?y.stroke:void 0)??L),{startAngle:M,endAngle:N,innerRadius:T,outerRadius:E,fill:k,stroke:L,phase:o}}},innerCircle:{fromFn:(y,b)=>({size:y.previousDatum?.radius??y.size??0,phase:o}),toFn:(y,b)=>({size:b.radius??0})}}}function Aee(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,stroke:t.sectorFormat.stroke}}function Tee(e,t){const n=t.y-e.centerY,s=t.x-e.centerX,i=Math.atan2(n,s),r=e.getItemNodes();for(const a of r)if(a.datum.missing!==!0&&Rh(i,a.startAngle,a.endAngle)){const o=Math.sqrt(s*s+n*n);let c=0;return o<a.innerRadius?c=a.innerRadius-o:o>a.outerRadius&&(c=o-a.outerRadius),{datum:a.datum,distance:c}}}var Eee=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.FOREGROUND=1]="FOREGROUND",e[e.HIGHLIGHT=2]="HIGHLIGHT",e[e.LABEL=3]="LABEL",e))(Eee||{}),Dee={angle:["angleKey"],radius:["radiusKey"]},kee={angle:["angleName"],radius:["radiusName"]},s3=class extends P4{constructor({categoryKey:e,pickModes:t=[1,0],canHaveAxes:n=!1,animationResetFns:s,...i}){super({...i,categoryKey:e,pickModes:t,canHaveAxes:n}),this.directions=["angle","radius"],this.itemGroup=this.contentGroup.appendChild(new Et),this.nodeData=[],this.itemSelection=cr.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=cr.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=cr.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=s,this.animationState=new pb("empty",{empty:{update:{target:"ready",action:r=>this.animateEmptyUpdateReady(r)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:r=>this.animateReadyHighlight(r),highlightMarkers:r=>this.animateReadyHighlightMarkers(r),resize:r=>this.animateReadyResize(r),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:r=>this.animateWaitingUpdateReady(r)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:r=>this.animateClearingUpdateEmpty(r)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setZIndex(e){super.setZIndex(e),this.contentGroup.zIndex=[e,1],this.highlightGroup.zIndex=[e,2],this.labelGroup.zIndex=[e,3]}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}labelFactory(){const e=new ha;return e.pointerEvents=1,e}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",e=>this.onLegendItemClick(e)),this.ctx.eventsHub.on("legend:item-double-click",e=>this.onLegendItemDoubleClick(e)))}getInnerRadius(){return 0}computeLabelsBBox(e,t){return null}getShapeFillBBox(){const e=this.radius;return{series:new Pe(-e,-e,e*2,e*2),axis:new Pe(-e,-e,e*2,e*2)}}resetAllAnimation(){const{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&Ui([this.itemSelection,this.highlightSelection],e),t&&Ui([this.labelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){const{item:t}=this.animationResetFns??{};t&&Ui([this.highlightSelection],t)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(e){const t=this.getNodeData()?.[e.datumIndex];if(t!==void 0)return this.itemSelection.select(n=>n instanceof xi&&n.datum===t)[0]}getSeriesRange(e,t){return[NaN,NaN]}isSeriesHighlighted(e,t){const{series:n,legendItemName:s,itemId:i}=e??{},r=t?.[i];return n===this||r!=null&&r===s}},g8e=class extends yC{constructor(e,t,n,s){super(e,t,n,s),this.angleKey=s.properties.angleKey,this.radiusKey=s.properties.radiusKey,this.calloutLabelKey=s.properties.calloutLabelKey,this.sectorLabelKey=s.properties.sectorLabelKey}},Zb=class extends s3{constructor(e){super({moduleCtx:e,categoryKey:void 0,propertyKeys:{...Dee,sectorLabel:["sectorLabelKey"],calloutLabel:["calloutLabelKey"]},propertyNames:{...kee,sectorLabel:["sectorLabelName"],calloutLabel:["calloutLabelName"]},pickModes:[1,0],animationResetFns:{item:Aee,label:Of}}),this.properties=new Wt,this.phantomNodeData=void 0,this.backgroundGroup=new Yi({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new Gh,this.radiusScale=new Gh,this.phantomGroup=this.backgroundGroup.appendChild(new Et({name:"phantom"})),this.phantomSelection=cr.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new Et({name:"pieCalloutLabels"})),this.calloutLabelSelection=new cr(this.calloutLabelGroup,Et),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new Et({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new ni({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new ni({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new Et({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new Et({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=cr.select(this.innerLabelsGroup,ha),this.innerCircleSelection=cr.select(this.innerCircleGroup,()=>new ni({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=g8e,this.angleScale=new Gh,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2),this.phantomGroup.opacity=.2,this.innerLabelsGroup.pointerEvents=1}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(e,t,n){super.attachSeries(e,t,n),e?.appendChild(this.backgroundGroup)}detachSeries(e,t,n){super.detachSeries(e,t,n),e?.removeChild(this.backgroundGroup)}setZIndex(e){super.setZIndex(e),this.backgroundGroup.zIndex=[0,e]}nodeFactory(){const e=new Qi;return e.miterLimit=1e9,e}getSeriesDomain(e){return e==="angle"?this.angleScale.domain:this.radiusScale.domain}async processData(e){if(this.data==null)return;const{visible:t,id:n,ctx:{legendManager:s}}=this,{angleKey:i,angleFilterKey:r,radiusKey:a,calloutLabelKey:o,sectorLabelKey:c,legendItemKey:u}=this.properties,h=()=>(S,C)=>t&&s.getItemEnabled({seriesId:n,itemId:C})?S:0,f=!this.ctx.animationManager.isSkipped(),g=[],m=[];u?g.push(dd(u,"category",{id:"legendItemKey"})):o?g.push(dd(o,"category",{id:"calloutLabelKey"})):c&&g.push(dd(c,"category",{id:"sectorLabelKey"}));const y=this.radiusScale.type,b=this.angleScale.type;a&&m.push(IX(a,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax,missingValue:this.properties.radiusMax??1,processor:h}),qn(a,y,{id:"radiusRaw",processor:h}),LS("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),o&&m.push(qn(o,"category",{id:"calloutLabelValue"})),c&&m.push(qn(c,"category",{id:"sectorLabelValue"})),u&&m.push(qn(u,"category",{id:"legendItemValue"})),r&&m.push(ak(r,b,{id:"angleFilterValue",onlyPositive:!0,invalidValue:0,processor:h}),qn(r,b,{id:"angleFilterRaw"}),LS("angleFilterValue",[0,1],0,0)),f&&this.processedData?.reduced?.animationValidation?.uniqueKeys&&g.length>0&&m.push(BC(this.id,this.processedData)),m.push(Vb()),await this.requestDataModel(e,this.data,{props:[...g,ak(i,b,{id:"angleValue",onlyPositive:!0,invalidValue:0,processor:h}),qn(i,b,{id:"angleRaw"}),LS("angleValue",[0,1],0,0),...m]});for(const S of this.processedData?.defs?.values??[]){const{id:C,missing:M,property:N}=S,T=sQ(this,M);C!=="angleRaw"&&T>0&&Ne.warnOnce(`no value was found for the key '${String(N)}' on ${T} data element${T>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataValues(e,t){const n=e.resolveColumnById(this,"angleValue",t),s=e.resolveColumnById(this,"angleRaw",t),i=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterValue",t):void 0,r=this.properties.angleFilterKey!=null?e.resolveColumnById(this,"angleFilterRaw",t):void 0,a=this.properties.radiusKey?e.resolveColumnById(this,"radiusValue",t):void 0,o=this.properties.radiusKey?e.resolveColumnById(this,"radiusRaw",t):void 0,c=this.properties.calloutLabelKey?e.resolveColumnById(this,"calloutLabelValue",t):void 0,u=this.properties.sectorLabelKey?e.resolveColumnById(this,"sectorLabelValue",t):void 0,h=this.properties.legendItemKey?e.resolveColumnById(this,"legendItemValue",t):void 0;return{angleValues:n,angleRawValues:s,angleFilterValues:i,angleFilterRawValues:r,radiusValues:a,radiusRawValues:o,calloutLabelValues:c,sectorLabelValues:u,legendItemValues:h}}createNodeData(){const{id:e,processedData:t,dataModel:n,angleScale:s,ctx:{legendManager:i},visible:r}=this,{rotation:a,innerRadiusRatio:o}=this.properties;if(!n||t?.type!=="ungrouped")return;const c=this.getProcessedDataValues(n,t),{angleValues:u,angleRawValues:h,angleFilterValues:f,angleFilterRawValues:g,radiusValues:m,radiusRawValues:y,legendItemValues:b}=c,S=g?.some((L,I)=>L>h[I])??!1;let C=0,M=0;const N=[],T=g!=null?[]:void 0,E=t.dataSources.get(this.id)??[],k=t.invalidData?.get(this.id);return E.forEach((L,I)=>{if(k?.[I]===!0)return;const _=S?f[I]:u[I],F=g!=null&&!S?Math.sqrt(g[I]/h[I]):1,G=s.convert(C)+Wi(a);C=_,M+=_;const U=s.convert(C)+Wi(a),H=Math.abs(U-G),z=G+H/2,$=h[I],B=(m?.[I]??1)*F,Y=y?.[I],K=b?.[I],te=this.getLabels(I,L,z,H,c),se=this.getItemStyle({datum:L,datumIndex:I},!1),fe={itemId:I,series:this,datum:L,datumIndex:I,angleValue:$,midAngle:z,midCos:Math.cos(z),midSin:Math.sin(z),startAngle:G,endAngle:U,radius:B,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(B),0),sectorFormat:se,radiusValue:Y,legendItemValue:K,enabled:r&&i.getItemEnabled({seriesId:e,itemId:I}),focusable:!0,...te};N.push(fe),T?.push({...fe,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})}),this.zerosumOuterRing.visible=M===0,this.zerosumInnerRing.visible=M===0&&o!=null&&o!==1&&o>0,{itemId:e,nodeData:N,labelData:N,phantomNodeData:T}}getLabelContent(e,t,n){const{id:s,ctx:i,properties:r}=this,{formatManager:a}=i,{calloutLabel:o,sectorLabel:c,calloutLabelKey:u,sectorLabelKey:h,legendItemKey:f}=r,g=n.calloutLabelValues?.[e],m=n.sectorLabelValues?.[e],y=n.legendItemValues?.[e],b={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},S={callout:void 0,sector:void 0,legendItem:void 0};return u&&(S.callout=this.getLabelText(g,t,u,"calloutLabel",[],o,{...b,value:g})),h&&(S.sector=this.getLabelText(m,t,h,"sectorLabel",[],c,{...b,value:m})),f!=null&&y!=null&&(S.legendItem=a.format(this.callWithContext.bind(this),{type:"category",value:y,datum:t,seriesId:s,legendItemName:void 0,key:f,source:"legend-label",property:"legendItem",domain:[],boundSeries:this.getFormatterContext("legendItem")})??y),S}getLabels(e,t,n,s,i){const{properties:r}=this,{calloutLabel:a,sectorLabel:o,legendItemKey:c}=r,u=this.getLabelContent(e,t,i),h={};return a.enabled&&u.callout&&s>=Wi(a.minAngle)&&(h.calloutLabel={...this.getTextAlignment(n),text:u.callout,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),o.enabled&&u.sector&&(h.sectorLabel={text:u.sector}),c&&u.legendItem&&(h.legendItem={key:c,text:u.legendItem}),h}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"top"},{textAlign:"right",textBaseline:"middle"}],n=Tw(e),s=-.75*Math.PI,i=n-s,r=Math.floor(i/(Math.PI/2)),a=UOe(r,t.length);return t[a]}getFillParams(e,t,n){if(!(!Ho(e)||e.bounds==="item"))return{centerX:0,centerY:0,innerRadius:t,outerRadius:n}}getItemStyle({datum:e,datumIndex:t},n,s,i){const{angleKey:r,radiusKey:a,calloutLabelKey:o,sectorLabelKey:c,legendItemKey:u,fills:h,strokes:f,itemStyler:g}=this.properties,m=f[t],y=h[t],{fill:b,fillOpacity:S,stroke:C,strokeWidth:M,strokeOpacity:N,lineDash:T,lineDashOffset:E,cornerRadius:k,opacity:L}=pn(this.getHighlightStyle(n,t,s,i),{fill:y,stroke:m},this.properties);let I;return g&&(I=this.cachedDatumCallback(this.getDatumId(t)+(n?"-highlight":"-hide"),()=>this.ctx.optionsGraphService.resolvePartial(["series",`${this.declarationOrder}`],this.callWithContext(g,{datum:e,angleKey:r,radiusKey:a,calloutLabelKey:o,sectorLabelKey:c,legendItemKey:u,fill:b,fillOpacity:S,stroke:C,strokeWidth:M,strokeOpacity:N,lineDash:T,lineDashOffset:E,cornerRadius:k,highlighted:n,highlightState:this.getHighlightStateString(this.ctx.highlightManager?.getActiveHighlight(),n,t),seriesId:this.id}),{proxyPaths:{fill:["fills",`${t}`],stroke:["strokes",`${t}`]}}))),{fill:I?.fill??b,fillOpacity:I?.fillOpacity??S,stroke:I?.stroke??C,strokeWidth:I?.strokeWidth??M,strokeOpacity:I?.strokeOpacity??N,lineDash:I?.lineDash??T,lineDashOffset:I?.lineDashOffset??E,cornerRadius:I?.cornerRadius??k,opacity:L}}getCalloutLineStyle(e,t){const{properties:n}=this;let s={};if(n.calloutLine.itemStyler){const i=this.getHighlightStateString(this.ctx.highlightManager?.getActiveHighlight(),t,e.datumIndex),r={angleKey:n.angleKey,angleName:n.angleName??n.angleKey,calloutLabelKey:n.calloutLabelKey,calloutLabelName:n.calloutLabelName??n.calloutLabelKey,datum:e.datum,highlighted:t,highlightState:i,legendItemKey:n.legendItemKey,radiusKey:n.radiusKey,radiusName:n.radiusName??n.radiusKey,sectorLabelKey:n.sectorLabelKey,sectorLabelName:n.sectorLabelName??n.sectorLabelKey,seriesId:this.id};s=this.cachedCallWithContext(n.calloutLine.itemStyler,r)??{}}return{length:s.length??n.calloutLine.length,strokeWidth:s.strokeWidth??n.calloutLine.strokeWidth,color:s.color,colors:n.calloutLine.colors}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:n=0}=this.properties,s=e*t+n;return s===e||s<0?0:s}getOuterRadius(){const{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const n=s=>({...s,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(s.radius),0)});this.nodeData=this.nodeData.map(n),this.phantomNodeData=this.phantomNodeData?.map(n)}getTitleTranslationY(){const e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;const n=2+(this.properties.title?.spacing??0),s=Math.max(0,-e);return-e-n-s}update({seriesRect:e}){const{title:t}=this.properties,n={seriesRectWidth:e?.width,seriesRectHeight:e?.height},s=Yc(this.nodeDataDependencies,n)!=null;if(s&&(this._nodeDataDependencies=n),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(s),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),t){const i=this.getTitleTranslationY();t.node.y=isFinite(i)?i:0;const r=t.node.getBBox();t.node.visible=t.enabled&&isFinite(i)&&!this.bboxIntersectsSurroundingSeries(r)}for(const i of[this.zerosumInnerRing,this.zerosumOuterRing])i.fillOpacity=0,i.stroke=this.properties.calloutLabel.color,i.strokeWidth=1,i.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(e)}updateTitleNodes(){const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&this.labelGroup?.removeChild(e.node),t&&(t.node.textBaseline="bottom",this.labelGroup?.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){const e=t=>{const n=t.innerRadius+(t.outerRadius-t.innerRadius)/2;t.midPoint={x:t.midCos*Math.max(0,n),y:t.midSin*Math.max(0,n)}};this.nodeData.forEach(e),this.phantomNodeData?.forEach(e)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){const{itemSelection:e,highlightSelection:t,phantomSelection:n,calloutLabelSelection:s,labelSelection:i,innerLabelsSelection:r}=this,a=this.nodeData.map(c=>({...c,sectorFormat:{...c.sectorFormat}})),o=(c,u)=>{c.update(u,void 0,h=>this.getDatumId(h.datumIndex)),this.ctx.animationManager.isSkipped()&&c.cleanup()};o(e,this.nodeData),o(t,a),o(n,this.phantomNodeData??[]),s.update(this.calloutNodeData,c=>{const u=new ya;u.tag=0,u.pointerEvents=1,c.appendChild(u);const h=new ha;h.tag=1,h.pointerEvents=1,c.appendChild(h)}),i.update(this.nodeData),r.update(this.properties.innerLabels,c=>{c.pointerEvents=1})}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const n=this.getInnerRadius();if(n>0){const i=Math.min(n,this.getOuterRadius());t=Math.ceil(i*2+1)}const s=e?[{radius:t}]:[];this.innerCircleSelection.update(s)}updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),{visible:n,dataModel:s,processedData:i}=this;if(this.backgroundGroup.visible=n,this.contentGroup.visible=n,!s||!i)return;const{legendItemValues:r}=this.getProcessedDataValues(s,i),a=this.isSeriesHighlighted(t,r);this.highlightGroup.visible=n&&a,this.labelGroup.visible=n,this.innerCircleSelection.each((g,{radius:m})=>{g.setProperties({fill:this.properties.innerCircle?.fill,opacity:this.properties.innerCircle?.fillOpacity,size:m})});const o=this.radiusScale.range[0],c=this.radiusScale.range[1],u=this.getShapeFillBBox(),h=this.ctx.animationManager.isSkipped(),f=(g,m,y,b)=>{const S=this.getItemStyle(m,b,void 0,r);m.sectorFormat.fill=S.fill,m.sectorFormat.stroke=S.stroke,h&&(g.startAngle=m.startAngle,g.endAngle=m.endAngle,g.innerRadius=m.innerRadius,g.outerRadius=m.outerRadius),(b||h)&&(g.fill=S.fill,g.stroke=S.stroke);const C=this.getFillParams(S.fill,o,c);Rc(g,S,u,C),g.cornerRadius=S.cornerRadius,g.fillShadow=this.properties.shadow;const M=Math.max((this.properties.sectorSpacing+(S.stroke!=null?S.strokeWidth:0))/2,0);g.inset=M,g.lineJoin=this.properties.sectorSpacing>=0||M>0?"miter":"round"};this.itemSelection.each((g,m,y)=>f(g,m,y,!1)),this.highlightSelection.each((g,m,y)=>{f(g,m,y,!0),g.visible=m.itemId===t?.itemId}),this.phantomSelection.each((g,m,y)=>f(g,m,y,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{strokes:e}=this.properties,{offset:t}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(n=>{const s=n.closestDatum(),{length:i,strokeWidth:r,color:a,colors:o}=this.getCalloutLineStyle(s,!1),c=r,u=L3e(o)?o:e,{calloutLabel:h,outerRadius:f,datumIndex:g}=s;if(h?.text&&!h.hidden&&f!==0){n.visible=!0,n.strokeWidth=c,n.stroke=a??u[g%u.length],n.strokeOpacity=this.getHighlightStyle(!1,s.datumIndex).opacity??1,n.fill=void 0;const m=s.midCos*f,y=s.midSin*f;let b=s.midCos*(f+i),S=s.midSin*(f+i);if((h.collisionTextAlign??h.collisionOffsetY!==0)&&h.box!=null){const M=h.box;let N=b,T=S;b<M.x?N=M.x:b>M.x+M.width&&(N=M.x+M.width),S<M.y?T=M.y:S>M.y+M.height&&(T=M.y+M.height);const E=N-b,k=T-S,L=Math.sqrt(Math.pow(E,2)+Math.pow(k,2)),I=L-t;I>0&&(b=b+E*I/L,S=S+k*I/L)}n.x1=m,n.y1=y,n.x2=b,n.y2=S}else n.visible=!1})}getLabelOverflow(e,t,n){const s=-this.centerX,i=s+n.width,r=-this.centerY,a=r+n.height,o=1;let c=1;t.x+o<s?c=(t.x+t.width-s)/t.width:t.x+t.width-o>i&&(c=(i-t.x)/t.width);const u=t.y+o<r||t.y+t.height-o>a,h=c===1?e.length:Math.floor(e.length*c)-1,f=this.bboxIntersectsSurroundingSeries(t);return{textLength:h,hasVerticalOverflow:u,hasSurroundingSeriesOverflow:f}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(t==null)return!1;const n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],s=t**2;return n.some(i=>i.x**2+i.y**2>s)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t}=this.properties,{offset:n,minSpacing:s}=t,i=e.convert(0),r=S=>!S.calloutLabel||S.outerRadius===0,a=this.calloutNodeData,o=a.filter(S=>!r(S));if(o.forEach(S=>{const C=S.calloutLabel;C!=null&&(C.hidden=!1,C.collisionTextAlign=void 0,C.collisionOffsetY=0)}),o.length<=1)return;const c=o.filter(S=>S.midCos<0).sort((S,C)=>S.midSin-C.midSin),u=o.filter(S=>S.midCos>=0).sort((S,C)=>S.midSin-C.midSin),h=o.filter(S=>S.midSin<0&&S.calloutLabel?.textAlign==="center").sort((S,C)=>S.midCos-C.midCos),f=o.filter(S=>S.midSin>=0&&S.calloutLabel?.textAlign==="center").sort((S,C)=>S.midCos-C.midCos),g=S=>{const C=S.calloutLabel;if(C==null)return Pe.zero.clone();const M=this.getLabelStyle(S,t),N=kg(M),T=this.getCalloutLineStyle(S,!1).length,E=S.outerRadius+T+n,k=S.midCos*E,L=S.midSin*E+C.collisionOffsetY,I=C.collisionTextAlign??C.textAlign,_=C.textBaseline;return ha.computeBBox(C.text,k,L,{font:this.properties.calloutLabel,textAlign:I,textBaseline:_}).grow(N)},m=(S,C,M)=>{const N=g(S).grow(s/2),T=g(C).grow(s/2);N.x<T.x+T.width&&N.x+N.width>T.x&&(M==="to-top"?N.y<T.y+T.height:N.y+N.height>T.y)&&(C.calloutLabel.collisionOffsetY=M==="to-top"?N.y-T.y-T.height:N.y+N.height-T.y)},y=S=>{const C=S.slice().sort((N,T)=>Math.abs(N.midSin)-Math.abs(T.midSin))[0],M=S.indexOf(C);for(let N=M-1;N>=0;N--){const T=S[N+1],E=S[N];m(T,E,"to-top")}for(let N=M+1;N<S.length;N++){const T=S[N-1],E=S[N];m(T,E,"to-bottom")}},b=S=>{const C=o.some(L=>L.calloutLabel.collisionOffsetY!==0),M=S.map(L=>g(L)),N=M.map(L=>L.clone().grow(s/2));let T=!1;for(let L=0;L<N.length&&!T;L++){const I=N[L];for(let _=L+1;_<S.length;_++){const F=N[_];if(I.collidesBBox(F)){T=!0;break}}}const E=a.map(L=>{const{startAngle:I,endAngle:_,outerRadius:F}=L;return{startAngle:I,endAngle:_,innerRadius:i,outerRadius:F}}),k=M.some(L=>E.some(I=>f8e(L,I)));if(!(!T&&!C&&!k))for(const L of S){if(L.calloutLabel.textAlign!=="center")continue;const I=L.calloutLabel;L.midCos<0?I.collisionTextAlign="right":L.midCos>0?I.collisionTextAlign="left":I.collisionTextAlign="center"}};y(c),y(u),b(h),b(f)}getLabelStyle(e,t){const n=this.ctx.highlightManager?.getActiveHighlight();return Lf(this,e,this.properties,t,!1,n)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:n}=this.properties,s=new ha;this.calloutLabelSelection.selectByTag(1).forEach(i=>{const r=i.closestDatum(),a=r.calloutLabel,o=t.convert(r.radius),c=Math.max(0,o);if(!a?.text||c===0||a.hidden){i.visible=!1;return}const u=this.getLabelStyle(r,n),h=this.getCalloutLineStyle(r,!1).length,f=c+h+n.offset,g=r.midCos*f,m=r.midSin*f+a.collisionOffsetY,y={textAlign:a.collisionTextAlign??a.textAlign,textBaseline:a.textBaseline};s.text=a.text,s.x=g,s.y=m,s.setFont(u),s.setAlign(y),s.setBoxing(u);const b=s.getBBox();let S=a.text,C=!0;if(n.avoidCollisions){const{textLength:M,hasVerticalOverflow:N}=this.getLabelOverflow(a.text,b,e);S=a.text.length===M?a.text:`${a.text.substring(0,M)}`,C=!N}i.text=S,i.x=g,i.y=m,i.setFont(u),i.setAlign(y),i.setBoxing(u),i.fill=u.color,i.fillOpacity=this.getHighlightStyle(!1,r.datumIndex).opacity??1,i.visible=C})}computeLabelsBBox(e,t){const{calloutLabel:n}=this.properties,{offset:s,maxCollisionOffset:i,minSpacing:r}=n;if(!n.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const a=[],o=new ha;let c;const{title:u}=this.properties;if(u?.text&&u.enabled){const h=this.getTitleTranslationY();isFinite(h)&&(o.text=u.text,o.x=0,o.y=h,o.setFont(u),o.setAlign({textBaseline:"bottom",textAlign:"center"}),c=o.getBBox(),a.push(c))}return this.calloutNodeData.forEach(h=>{const f=h.calloutLabel;if(!f||h.outerRadius===0)return null;const g=this.getLabelStyle(h,n),m=this.getCalloutLineStyle(h,!1).length,y=h.outerRadius+m+s,b=h.midCos*y,S=h.midSin*y+f.collisionOffsetY;o.text=f.text,o.x=b,o.y=S,o.setFont(g),o.setAlign({textAlign:f.collisionTextAlign??f.textAlign,textBaseline:f.textBaseline}),o.setBoxing(g);const C=o.getBBox();if(f.box=C,Math.abs(f.collisionOffsetY)>i){f.hidden=!0;return}if(c){const M=-this.centerY,N=new Pe(c.x-r,M,c.width+2*r,c.y+c.height+r-M);if(C.collidesBBox(N)){f.hidden=!0;return}}if(e.hideWhenNecessary){const{textLength:M,hasVerticalOverflow:N,hasSurroundingSeriesOverflow:T}=this.getLabelOverflow(f.text,C,t),E=f.text.length>2&&M<2;if(N||E||T){f.hidden=!0;return}}f.hidden=!1,a.push(C)}),a.length===0?null:Pe.merge(a)}updateSectorLabelNodes(){const{properties:e}=this,{positionOffset:t,positionRatio:n}=this.properties.sectorLabel,s=this.radiusScale.convert(0),i=s<=0&&this.ctx.legendManager.getData(this.id)?.filter(o=>o.enabled).length===1,r={textAlign:"center",textBaseline:"middle"},a=(o,c)=>{const{outerRadius:u,startAngle:h,endAngle:f}=c;let g=!1;if(c.sectorLabel&&u!==0){const m=this.getLabelStyle(c,e.sectorLabel),y=s*(1-n)+u*n+t;o.fill=m.color,o.fillOpacity=this.getHighlightStyle(!1,c.datumIndex).opacity??1,o.text=c.sectorLabel.text,i?(o.x=0,o.y=0):(o.x=c.midCos*y,o.y=c.midSin*y),o.setFont(m),o.setAlign(r),o.setBoxing(m);const b=o.getBBox(),S=[[b.x,b.y],[b.x+b.width,b.y],[b.x+b.width,b.y+b.height],[b.x,b.y+b.height]],C={startAngle:h,endAngle:f,innerRadius:s,outerRadius:u};S.every(([M,N])=>xk(M,N,C))&&(g=!0)}o.visible=g};this.labelSelection.each(a)}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each((h,f)=>{const{fontStyle:g,fontWeight:m,fontSize:y,fontFamily:b,color:S}=f;h.fontStyle=g,h.fontWeight=m,h.fontSize=y,h.fontFamily=b,h.text=f.text,h.x=0,h.y=0,h.fill=S,h.textAlign="center",e.push(h.getBBox()),t.push(f.spacing)});const n=h=>h===0?0:t[h],s=h=>h===t.length-1?0:t[h],i=e.reduce((h,f)=>h<f.width?f.width:h,0),r=e.reduce((h,f,g)=>h+f.height+n(g)+s(g),0),a=this.getInnerRadius(),c=Math.sqrt(Math.pow(i/2,2)+Math.pow(r/2,2))<=(a>0?a:this.getOuterRadius()),u=[];for(let h=0,f=-r/2;h<e.length;h++){const m=e[h].height+f+n(h);u.push(m),f=m+s(h)}this.innerLabelsSelection.each((h,f,g)=>{h.visible=c,Array.isArray(h.text)?h.y=u[g]-e[g].height:h.y=u[g]})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}pickNodeClosestDatum(e){return Tee(this,e)}getTooltipContent(e){const{id:t,dataModel:n,processedData:s,properties:i,ctx:{formatManager:r}}=this,{legendItemKey:a,calloutLabelKey:o,calloutLabelName:c,sectorLabelKey:u,sectorLabelName:h,angleKey:f,angleName:g,radiusKey:m,radiusName:y,tooltip:b}=i,S=this.properties.title.node.getPlainText();if(!n||!s)return;const C=s.dataSources.get(this.id)?.[e],M=this.getProcessedDataValues(n,s),{angleRawValues:N}=M,T=N[e],E=this.getLabelContent(e,C,M),k=E.legendItem??E.callout??E.sector??g,L=n.getDomain(this,"angleRaw","value",s),I=r.format(this.callWithContext.bind(this),{type:"number",value:T,datum:C,seriesId:t,legendItemName:void 0,key:f,source:"tooltip",property:"angle",domain:L,boundSeries:this.getFormatterContext("angle"),fractionDigits:void 0})??Eg(T,3);return this.formatTooltipWithContext(b,{title:S,symbol:this.legendItemSymbol(e),data:[{label:k,fallbackLabel:f,value:I}]},{seriesId:t,datum:C,title:g,legendItemKey:a,calloutLabelKey:o,calloutLabelName:c,sectorLabelKey:u,sectorLabelName:h,angleKey:f,angleName:g,radiusKey:m,radiusName:y,...this.getItemStyle({datum:C,datumIndex:e},!1)})}legendItemSymbol(e){const t=this.processedData?.dataSources.get(this.id)?.[e],n=this.getItemStyle({datum:t,datumIndex:e},!1),{fillOpacity:s,strokeOpacity:i,strokeWidth:r,lineDash:a,lineDashOffset:o}=this.properties;let{fill:c}=n;const{stroke:u}=n;return Ho(c)&&(c={...c,gradient:"linear",rotation:0,reverse:!1}),{marker:{fill:c,stroke:u,fillOpacity:s,strokeOpacity:i,strokeWidth:r,lineDash:a,lineDashOffset:o}}}getLegendData(e){const{visible:t,processedData:n,dataModel:s,id:i,ctx:{legendManager:r}}=this;if(!s||!n||e!=="category")return[];const{angleKey:a,calloutLabelKey:o,sectorLabelKey:c,legendItemKey:u,showInLegend:h}=this.properties;if(!u&&(!o||o===a)&&(!c||c===a))return[];const f=this.getProcessedDataValues(s,n),{angleRawValues:g}=f,m=this.properties.title?.showInLegend&&this.properties.title.text,y=[],b=this.properties.hideZeroValueSectorsInLegend,S=n.dataSources.get(this.id),C=n.invalidData?.get(this.id);for(let M=0;M<n.input.count;M++){const N=S?.[M],T=g[M];if(C?.[M]===!0||b&&T===0)continue;const E=[];m&&E.push(m);const k=this.getLabelContent(M,N,f);u&&k.legendItem!==void 0?E.push(k.legendItem):o&&o!==a&&k.callout!==void 0?E.push(k.callout):c&&c!==a&&k.sector!==void 0&&E.push(k.sector),E.length!==0&&y.push({legendType:"category",id:i,datum:N,itemId:M,seriesId:i,hideToggleOtherSeries:!0,enabled:t&&r.getItemEnabled({seriesId:i,itemId:M}),label:{text:E.join(" - ")},symbol:this.legendItemSymbol(M),legendItemName:u!=null?N[u]:void 0,hideInLegend:!h})}return y}setLegendState(e){const{id:t,ctx:{legendManager:n,updateService:s}}=this;e.forEach((i,r)=>n.toggleItem(i,t,r)),n.update(),s.update(5)}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,n=$S(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);Fs(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],n.nodes,(s,i)=>this.getDatumId(i.datumIndex)),Fs(this.id,"innerCircle",t,[this.innerCircleSelection],n.innerCircle),ms(this,"callout",t,this.calloutLabelSelection),ms(this,"sector",t,this.labelSelection),ms(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){const{itemSelection:e,highlightSelection:t,phantomSelection:n,processedData:s,radiusScale:i,previousRadiusScale:r}=this,{animationManager:a}=this.ctx,o=s?.reduced?.diff?.[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const c=(o?.moved.size??0)===0,u=(s?.defs.keys.length??0)>0,h=s?.reduced?.animationValidation?.uniqueKeys??!0;(!c||!u||!h)&&this.ctx.animationManager.skipCurrentBatch();const f=!this.nodeData.some(m=>m.enabled),g=$S(!1,this.properties.rotation,i,r);Fs(this.id,"nodes",a,[e,t,n],g.nodes,(m,y)=>this.getDatumId(y.datumIndex),o),Fs(this.id,"innerCircle",a,[this.innerCircleSelection],g.innerCircle),ms(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),ms(this,"sector",this.ctx.animationManager,this.labelSelection),this.noVisibleData!==f&&(this.noVisibleData=f,ms(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:n,radiusScale:s,previousRadiusScale:i}=this,{animationManager:r}=this.ctx,a=$S(!1,this.properties.rotation,s,i);Fs(this.id,"nodes",r,[e,t,n],a.nodes,(o,c)=>this.getDatumId(c.datumIndex)),Fs(this.id,"innerCircle",r,[this.innerCircleSelection],a.innerCircle),_S(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),_S(this,"sector",this.ctx.animationManager,this.labelSelection),_S(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(e){const{dataModel:t,processedData:n}=this;if(!t||!n)return`${e}`;const{calloutLabelKey:s,sectorLabelKey:i,legendItemKey:r}=this.properties;if(!n.reduced?.animationValidation?.uniqueKeys)return`${e}`;if(r){const a=t.resolveKeysById(this,"legendItemKey",n);return ur(a[e])}else if(s){const a=t.resolveKeysById(this,"calloutLabelKey",n);return ur(a[e])}else if(i){const a=t.resolveKeysById(this,"sectorLabelKey",n);return ur(a[e])}return`${e}`}hasItemStylers(){const{itemStyler:e,calloutLabel:t,sectorLabel:n}=this.properties;return(e??t.itemStyler??n.itemStyler)!=null}};Zb.className="DonutSeries";Zb.type="donut";var bk={series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:eo.LARGE},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{...Rl,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{...Rl,enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"chartBackgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:{$value:"$1"}},{$isPattern:{$value:"$1"}},{$isImage:{$value:"$1"}}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$applyCycle:[{$cacheMax:{$size:{$path:["./data",{$path:"/data"}]}}},{$palette:"fills"},{$applySwitch:[{$path:["/type",void 0,{$value:"$1"}]},{$value:"$1"},["gradient",dX],["pattern",uo],["image",iu]]}]},strokes:{$applyCycle:[{$cacheMax:{$size:{$path:["./data",{$path:"/data"}]}}},{$palette:"strokes"}]},fillOpacity:1,strokeOpacity:1,strokeWidth:{$isUserOption:["./strokes/0",2,0]},lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:Cf,xOffset:3,yOffset:3,blur:5},highlight:_d()},legend:{enabled:!0}},m8e={...bk,series:{...bk.series,innerRadiusRatio:{$if:[{$eq:[{$path:["./innerRadiusOffset",void 0]},void 0]},.7,void 0]},innerLabels:{$apply:{...Rl,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2}},highlight:fX()}},y8e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new Zb(e),themeTemplate:m8e},x8e={type:"series",name:"donut",chartType:"polar",options:F6e,create:e=>new Zb(e)},iM=class extends Zb{};iM.className="PieSeries";iM.type="pie";var b8e={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new iM(e),themeTemplate:bk},v8e={type:"series",name:"pie",chartType:"polar",options:Af,create:e=>new iM(e)};function S8e(){El.register($J,oFe,aFe,Xze,BFe,gee,i8e,See,d8e,y8e,b8e,r8e);for(const e of[Na,fm,ou,jf,Nf,Fd])Uh.register(e.type,{moduleFactory:t=>new e(t)})}function w8e(){for(const e of El.modules){if(e.packageType==="enterprise"&&!e_e(e)&&Ne.errorOnce("Unexpected enterprise module registered: "+e.identifier),e.type==="root"&&e.themeTemplate)for(const t of e.chartTypes)UD.set(t,e.themeTemplate);if(e.type==="series"){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);Xa.register(e.identifier,e)}if(e.type==="series-option"&&e.themeTemplate)for(const t of e.seriesTypes)Xa.setThemeTemplate(t,e.themeTemplate);if(e.type==="axis-option"&&e.themeTemplate)for(const t of e.axisTypes){const n=Uh.getThemeTemplate(t),s=pn(e.themeTemplate,n);Uh.setThemeTemplate(t,s)}e.type==="axis"&&Uh.register(e.identifier,e),e.type==="legend"&&UO.register(e.identifier,e)}if(El.hasEnterpriseModules()){const e=t_e();e.length>0&&Ne.errorOnce("Enterprise modules expected but not registered: ",e)}}var Pr=Symbol("IGNORED_PROP");function oo(e,t){const n={};for(const s of Object.keys(t)){const i=t[s];i!==Pr&&Object.hasOwn(e,s)&&(n[s]=i)}return n}function Iee(e){const{enabled:t,mode:n,showArrow:s,range:i,position:r,pagination:a,delay:o,wrapping:c,interaction:u,renderer:h,...f}=e,g=oo(e,{enabled:t,showArrow:s,range:i,position:r,interaction:u,renderer:h,...f});return{chartTooltipOptions:oo(e,{enabled:Pr,showArrow:Pr,range:Pr,position:Pr,mode:n,pagination:a,delay:o,wrapping:c,...f}),seriesTooltipOptions:g}}function C8e(e){const{animation:t,background:n,container:s,contextMenu:i,context:r,footnote:a,height:o,listeners:c,locale:u,minHeight:h,minWidth:f,overrideDevicePixelRatio:g,padding:m,subtitle:y,theme:b,title:S,width:C,type:M,cursor:N,nodeClickRange:T,tooltip:E={},value:k,scale:L={},startAngle:I,endAngle:_,highlightStyle:F,highlight:G,segmentation:U,bar:H,needle:z,targets:$,outerRadius:P,innerRadius:B,outerRadiusRatio:Y,innerRadiusRatio:K,cornerRadius:te,cornerMode:se,label:fe,secondaryLabel:oe,spacing:Ee,...ye}=e,{chartTooltipOptions:je,seriesTooltipOptions:me}=Iee(E),be=oo(e,{animation:t,background:n,container:s,contextMenu:i,context:r,footnote:a,height:o,listeners:c,locale:u,minHeight:h,minWidth:f,overrideDevicePixelRatio:g,padding:m,subtitle:y,theme:b,title:S,tooltip:je,width:C}),Ae=oo(e,{needle:z!=null?{enabled:!0,...z}:Pr,startAngle:I,endAngle:_,scale:L,type:M,cursor:N,context:r,nodeClickRange:T,tooltip:me,value:k,highlightStyle:F,highlight:G,segmentation:U,bar:H,targets:$,outerRadius:P,innerRadius:B,outerRadiusRatio:Y,innerRadiusRatio:K,cornerRadius:te,cornerMode:se,label:fe,secondaryLabel:oe,spacing:Ee,...ye});return{...be,series:[Ae]}}function M8e(e){const{animation:t,background:n,container:s,contextMenu:i,context:r,footnote:a,height:o,listeners:c,locale:u,minHeight:h,minWidth:f,overrideDevicePixelRatio:g,padding:m,subtitle:y,theme:b,title:S,width:C,type:M,cursor:N,nodeClickRange:T,tooltip:E={},value:k,scale:L={},direction:I="vertical",thickness:_,highlightStyle:F,highlight:G,segmentation:U,bar:H,targets:z,cornerRadius:$,cornerMode:P,label:B,...Y}=e,{chartTooltipOptions:K,seriesTooltipOptions:te}=Iee(E),se=oo(e,{animation:t,background:n,container:s,contextMenu:i,context:r,footnote:a,height:o,listeners:c,locale:u,minHeight:h,minWidth:f,overrideDevicePixelRatio:g,padding:m,subtitle:y,theme:b,title:S,tooltip:K,width:C}),fe=oo(e,{scale:L,type:M,cursor:N,context:r,nodeClickRange:T,tooltip:te,value:k,direction:I,thickness:_,highlightStyle:F,highlight:G,segmentation:U,bar:H,targets:z,cornerRadius:$,cornerMode:P,label:B,...Y});return{...se,series:[fe]}}function rB(e,t){if(t==null)return e;const{targets:n,...s}=t;return e=pn(e,s),e.targets!=null&&n!=null&&(e.targets=zq(e.targets,n)),e}function j8e(e,t){switch(e.type){case"radial-gauge":return C8e(rB(e,t));case"linear-gauge":return M8e(rB(e,t));default:return{}}}var Ha={stroke:gs},Fi={fill:Nb},aB={color:"white",fill:gs},Cc={color:gs},Eh={color:jb,fontSize:{$rem:eo.LARGE},fontFamily:{$ref:"fontFamily"}},vk={...Eh,fontSize:{$ref:"fontSize"},color:Eb,fill:Ab,stroke:Tb,strokeWidth:1,divider:{stroke:Db,strokeWidth:1,strokeOpacity:.5}},nE={...Ha,background:{fill:ti,fillOpacity:.2},handle:{...Fi},text:{...Cc},statistics:{...vk}},N8e={line:{...Ha,handle:{...Fi},text:{...Cc}},"horizontal-line":{...Ha,handle:{...Fi},axisLabel:{...aB},text:{...Cc}},"vertical-line":{...Ha,handle:{...Fi},axisLabel:{...aB},text:{...Cc}},"disjoint-channel":{...Ha,background:{fill:ti,fillOpacity:.2},handle:{...Fi},text:{...Cc}},"parallel-channel":{...Ha,background:{fill:ti,fillOpacity:.2},handle:{...Fi},text:{...Cc}},"fibonacci-retracement":{...Ha,strokes:u0,rangeStroke:gs,handle:{...Fi},text:{...Cc,position:"center"},label:{...Eh,color:void 0,fontSize:{$rem:eo.SMALLER}}},"fibonacci-retracement-trend-based":{...Ha,strokes:u0,rangeStroke:gs,handle:{...Fi},text:{...Cc,position:"center"},label:{...Eh,color:void 0,fontSize:{$rem:eo.SMALLER}}},callout:{...Ha,...Eh,color:{$ref:"textColor"},handle:{...Fi},fill:ti,fillOpacity:.2},comment:{...Eh,color:"white",fontWeight:700,handle:{...Fi},fill:gs},note:{...Eh,color:Lb,fill:gs,stroke:{$ref:"chartBackgroundColor"},strokeWidth:1,strokeOpacity:1,handle:{...Fi},background:{fill:kb,stroke:Ib,strokeWidth:1}},text:{...Eh,handle:{...Fi}},arrow:{...Ha,handle:{...Fi},text:{...Cc}},"arrow-up":{fill:{$palette:"up.fill"},handle:{...Fi,stroke:gs}},"arrow-down":{fill:{$palette:"down.fill"},handle:{...Fi,stroke:gs}},"date-range":{...nE},"price-range":{...nE},"date-price-range":{...nE},"quick-date-price-range":{up:{...Ha,fill:ti,fillOpacity:.2,handle:{...Fi},statistics:{...vk,color:"#fff",fill:ti,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{...Ha,stroke:h0,fill:d0,fillOpacity:.2,handle:{...Fi,stroke:h0},statistics:{...vk,color:"#fff",fill:d0,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}},axesButtons:{enabled:!0}},A8e=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],T8e=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];function E8e(e,t,n){const{dateKey:s="date",highKey:i="high",openKey:r="open",lowKey:a="low",closeKey:o="close",volumeKey:c="volume",chartType:u="candlestick",navigator:h=!1,volume:f=!0,rangeButtons:g=!0,statusBar:m=!0,toolbar:y=!0,zoom:b=!0,sync:S=!1,theme:C,data:M,formatter:N,...T}=e,E=k8e(u,s,i,a,r,o),k=D8e(n,r,o,f,c),I={navigator:{enabled:h,...f?{miniChart:{enabled:h,series:[{type:"line",xKey:s,yKey:c,stroke:TC,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null}},_={annotations:{enabled:y,optionsToolbar:{enabled:y},snap:!0,toolbar:{enabled:y,buttons:T8e,padding:0},data:M,xKey:s,volumeKey:f?c:void 0}},F=m?{statusBar:{enabled:!0,data:M,highKey:i,openKey:r,lowKey:a,closeKey:o,volumeKey:f?c:void 0}}:null,G={zoom:{enabled:b,autoScaling:{enabled:!0},enableIndependentAxes:!0}},U={ranges:{enabled:g}},H=S?{sync:{enabled:S,nodeInteraction:!0,zoom:!0}}:null,z=f?[{type:"number",position:"left",keys:[c],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percent",align:"end"}}]:[];return{theme:{baseTheme:typeof C=="string"?C:"ag-financial",...pn(typeof C=="object"?C:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:6},chartToolbar:{enabled:y},annotations:{...N8e},axes:{number:{interval:{maxSpacing:45},label:{format:".2f"}}}},bar:{series:{fillOpacity:.5}},line:{series:{marker:{enabled:!1},...cB(u,{hlc:{stroke:{$palette:"altNeutral.stroke"},strokeWidth:2},line:{stroke:{$palette:"neutral.stroke"}},"step-line":{stroke:{$palette:"neutral.stroke"},interpolation:{type:"step"}}})}},candlestick:{series:{...cB(u,{"hollow-candlestick":{item:{up:{fill:"transparent"}}}})}},"range-area":{series:{fillOpacity:.3,strokeWidth:2}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[...k,...E],axes:[{type:"number",position:"right",keys:[r,o,i,a],crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percent",align:"start"}},...z,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:M,formatter:N,..._,...I,...F,...G,...U,...H,...T}}function D8e(e,t,n,s,i){return s?[{type:"bar",xKey:"date",yKey:i,tooltip:{enabled:!1},itemStyler({datum:r}){const{up:a,down:o}=e().palette;return{fill:r[t]<r[n]?a?.fill:o?.fill}},focusPriority:1,highlight:{enabled:!1}}]:[]}var oB="range-area";function k8e(e,t,n,s,i,r){const a={xKey:t,openKey:i,closeKey:r,highKey:n,lowKey:s},o={xKey:t,yKey:r},c={pickOutsideVisibleMinorAxis:!0};switch(e??"candlestick"){case"ohlc":return I8e(c,a);case"line":case"step-line":return L8e(c,o);case"hlc":return O8e(c,o,a);case"high-low":return R8e(c,a);case"candlestick":case"hollow-candlestick":return lB(c,a);default:return Ne.warnOnce(`unknown chart type: ${e}; expected one of: ${A8e.join(", ")}`),lB(c,a)}}function I8e(e,t){return[{type:"ohlc",focusPriority:0,...e,...t}]}function L8e(e,t){return[{type:"line",focusPriority:0,...e,...t}]}function O8e(e,t,{xKey:n,highKey:s,closeKey:i,lowKey:r}){return[{type:oB,focusPriority:0,...e,xKey:n,yHighKey:s,yLowKey:i,fill:wC,stroke:vC},{type:oB,focusPriority:0,...e,xKey:n,yHighKey:i,yLowKey:r,fill:CC,stroke:SC},{type:"line",...e,...t}]}function R8e(e,{xKey:t,highKey:n,lowKey:s}){return[{type:"range-bar",...e,xKey:t,yHighKey:n,yLowKey:s,fill:jC,stroke:MC,tooltip:{range:"nearest"},focusPriority:0}]}function lB(e,t){return[{type:"candlestick",focusPriority:0,...e,...t}]}function cB(e,t){return t[e]??t.default}var Lee={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:AC,lineDash:[0],label:{enabled:!1}}},sE={...Lee,nice:!1},J1={mode:"compact",position:{anchorTo:"node",placement:["right","left"]},showArrow:!1},iE={style:[{stroke:{$ref:"gridLineColor"}}],width:2},_8e={number:{gridLine:iE},time:{gridLine:iE},category:{gridLine:iE}},P8e={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},navigator:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...sE,interval:{values:[0]}},log:{...sE},time:{...sE},category:{...Lee}}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:{...J1,position:{...J1.position,anchorTo:"pointer"},range:"nearest"},axes:_8e},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3}},tooltip:J1},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4},tooltip:J1}}},Oee=Vi(z8e);function z8e(e,t){return typeof e=="string"?{...t,baseTheme:e}:e!=null?{...e,baseTheme:Oee(e.baseTheme,t)}:t}function Ree(e){if(Array.isArray(e)&&e.length!==0){const t=e.find(n=>n!=null);if(typeof t=="number")return{data:e.map((s,i)=>({x:i,y:s})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"};if(Array.isArray(t))return{data:e.map(s=>({x:s?.[0],y:s?.[1],datum:s})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}else if(e?.length===0)return{data:e,series:[{xKey:"x",yKey:"y"}],datumKey:"y"};return{data:e}}function F8e(e){switch(e?.type){case"number":{const{type:t,min:n,max:s,reverse:i}=e;return oo(e,{type:t,reverse:i,min:n,max:s})}case"time":{const{type:t,min:n,max:s,reverse:i}=e;return oo(e,{type:t,reverse:i,min:n,max:s})}case"category":default:{const{paddingInner:t,paddingOuter:n,reverse:s}=e??{};return oo({...e,type:"category"},{type:"category",reverse:s,paddingInner:t,paddingOuter:n})}}}function $8e(e,t,n){const s={};return e?.stroke!=null&&(s.style=[{stroke:e?.stroke}],s.enabled??(s.enabled=!0)),e?.strokeWidth!=null&&(s.width=e?.strokeWidth,s.enabled??(s.enabled=!0)),n.type==="bar"&&n.direction!=="horizontal"&&(s.enabled??(s.enabled=!0)),e?.visible!=null&&(s.enabled=e.visible),s.enabled??(s.enabled=t),s}var B8e=Vi((e,t,n)=>s=>{const i=s.datum[s.xKey],r=s.datum[s.yKey],a=n!=null?s.datum[n]:s.datum,o=t?.renderer?.({context:e,datum:a,xValue:i,yValue:r});if(typeof o=="string")return o;const c=o?.content??r.toFixed(2);return o?.title?{heading:void 0,title:void 0,data:[{label:o.title,value:c}]}:{heading:void 0,title:c,data:[]}});function V8e(e){const{background:t,container:n,height:s,listeners:i,locale:r,minHeight:a,minWidth:o,overrideDevicePixelRatio:c,padding:u,width:h,theme:f,data:g,crosshair:m,axis:y,min:b,max:S,tooltip:C,context:M,styleNonce:N,...T}=e,E=oo(e,{background:t,container:n,height:s,listeners:i,locale:r,minHeight:a,minWidth:o,overrideDevicePixelRatio:c,padding:u,width:h,styleNonce:N,tooltip:Pr,context:Pr,data:Pr,crosshair:Pr,axis:Pr,min:Pr,max:Pr,theme:Pr}),{data:k,series:[L]=[],datumKey:I}=Ree(g),_=T;L!=null&&Object.assign(_,L),_.tooltip={...C,renderer:B8e(M,C,I)},E.theme=Oee(f,P8e),E.data=k,E.series=[_];const F=_.type!=="bar"||_.direction!=="horizontal",[G,U]=F?["bottom","left"]:["left","bottom"],H={...F8e(y),position:G,...oo(e,{crosshair:m})},z={type:"number",gridLine:$8e(y,!1,e),position:U,...oo(e,{min:b,max:S})};return E.axes=F?[z,H]:[H,z],E}var U8e={chartType:Se("candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"),dateKey:de,openKey:de,highKey:de,lowKey:de,closeKey:de,volumeKey:de,navigator:X,volume:X,rangeButtons:X,statusBar:X,toolbar:X,zoom:X,sync:X,theme:ot,container:ot,width:ot,height:ot,minWidth:ot,minHeight:ot,listeners:ot,initialState:ot,title:ot,data:Vl,formatter:ot},Sk={theme:ot,container:ot,animation:ot,background:ot,contextMenu:ot,context:()=>!0,listeners:ot,locale:ot,width:ot,height:ot,minWidth:ot,minHeight:ot,title:ot,subtitle:ot,footnote:ot,padding:ot,tooltip:{...un,...bt.tooltip}};Sk.overrideDevicePixelRatio=vt(J);var rE=["showInLegend","showInMiniChart","grouped","stacked","stackGroup","tooltip","listeners","errorBar","xKey","yKey","type"],aE={visible:X,reverse:X,stroke:Ie,strokeWidth:J},BS={context:()=>!0,tooltip:ot,theme:ot,background:ot,container:ot,width:ot,height:ot,minWidth:ot,minHeight:ot,padding:ot,listeners:ot,locale:ot,data:ot,styleNonce:de,axis:sb({number:{...aE,min:Zn(he,Al("max")),max:Zn(he,Tl("min"))},category:{...aE,paddingInner:qe,paddingOuter:qe},time:{...aE,min:Zn(At(he,wd),Al("max")),max:Zn(At(he,wd),Tl("min"))}},"axis options","category"),min:Zn(he,Al("max")),max:Zn(he,Tl("min")),crosshair:{enabled:X,snap:X,...Ce,...Fe},xKey:de,yKey:de};BS.overrideDevicePixelRatio=vt(he);var H8e={type:"preset",name:"price-volume",enterprise:!0,options:U8e,create:E8e},G8e={type:"preset",name:"gauge-preset",enterprise:!0,options:sb({"linear-gauge":{...ke(Nd,["type"]),...Sk},"radial-gauge":{...ke(Pb,["type"]),...Sk}},"gauge options"),create:j8e},W8e={type:"preset",name:"sparkline",options:sb({area:{...BS,...ke(ZX,rE)},bar:{...BS,...ke(UC,rE)},line:{...BS,...ke(HC,rE)}},"sparkline options"),create:V8e,processData:Ree};function _ee(e){const t=new Map;for(const n of e){if(!(n instanceof Ud))continue;const i=(n.seriesGrouping?.stackCount??0)>0?n.seriesGrouping?.groupIndex:void 0;if(i==null){n.seriesBelowStackContext=void 0,n.createStackContext();continue}const r=`${n.type}-${i}`;let a=t.get(r);a==null&&(a=[],t.set(r,a)),a.push(n)}for(const n of t.values()){n.sort((i,r)=>(i.seriesGrouping?.stackIndex??0)-(r.seriesGrouping?.stackIndex??0));let s;for(const i of n)i.seriesBelowStackContext=s,s=i.createStackContext()}}var Y8e=["top","right","bottom","left"],rM=class Pee extends bC{constructor(t,n){super(t,n),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(t,n){super.onAxisChange(t,n),this.syncAxisChanges(t,n),this.ctx!=null&&this.ctx.zoomManager.updateAxes(t)}destroySeries(t){super.destroySeries(t),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(t){const{seriesRoot:n,annotationRoot:s}=this;n.setClipRect(t),s.setClipRect(t)}async processData(){await super.processData(),this.syncStatus==="init"&&(this.syncStatus="domains-calculated"),this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})}async processDomains(){await super.processDomains();for(const t of this.axes){const n=await this.getSyncedDomain(t);n!=null&&t.setDomains(n)}}performLayout(t){const{seriesRoot:n,annotationRoot:s}=this,{clipSeries:i,seriesRect:r,visible:a}=this.updateAxes(t.layoutBox);this.seriesRoot.visible=a,this.seriesRect=r,this.animationRect=t.layoutBox;const{x:o,y:c}=r;if(t.width!==this.lastLayoutWidth||t.height!==this.lastLayoutHeight)for(const m of[n,s])m.translationX=Math.floor(o),m.translationY=Math.floor(c);else{const{translationX:m,translationY:y}=n;nu(this.id,"seriesRect",this.ctx.animationManager,[n,s],{translationX:m,translationY:y},{translationX:Math.floor(o),translationY:Math.floor(c)},{phase:"update"})}this.lastLayoutWidth=t.width,this.lastLayoutHeight=t.height;const u=this.modulesManager.getModule("seriesArea"),h=r.clone().grow(u.getPadding()),f=u.clip||i?h:void 0,{lastUpdateClipRect:g}=this;this.lastUpdateClipRect=f,this.ctx.animationManager.isActive()&&g!=null?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:g,to:h,onUpdate:m=>this.setRootClipRects(m),onComplete:()=>this.setRootClipRects(f)}):this.setRootClipRects(f),this.ctx.layoutManager.emitLayoutComplete(t,{axes:this.axes.map(m=>m.getLayoutState()),series:{visible:a,rect:r,paddedRect:h},clipSeries:i}),_ee(this.series)}updateAxes(t){const{clipSeries:n,seriesRect:s,overflows:i}=this.resolveAxesLayout(t);for(const r of this.axes)r.update(),r.setCrossLinesVisible(!i),this.clipAxis(r,s,t);return{clipSeries:n,seriesRect:s,visible:!i}}resolveAxesLayout(t){let n,s,i=0;const r=10;do if(s=n??this.getDefaultState(),n=this.updateAxesPass(new Map(s.axisAreaWidths),t.clone()),i++>r){Ne.warn("Max iterations reached. Unable to stabilize axes layout.");break}while(!this.isLayoutStable(n,s));return this.lastAreaWidths=n.axisAreaWidths,n}updateAxesPass(t,n){const s=new Map,i={};let r=!1,a=!1;for(const C of Y8e){const M=this.modulesManager.getModule("seriesArea").getPadding()[C],N=this.axes.findLast(T=>T.position===C);N?N.seriesAreaPadding=M:n.shrink(M,C)}const o=(t.get("left")??0)+(t.get("right")??0),c=(t.get("top")??0)+(t.get("bottom")??0),u=this.buildCrossLinePadding(t),h=u.left+u.right,f=u.top+u.bottom;n.width<=o+h||n.height<=c+f?r=!0:n.shrink(u);const{scene:g}=this.ctx,m=n.clone().shrink(Object.fromEntries(t));for(const C of this.axes){const{position:M="left",direction:N}=C,T=N==="y";let E;this.sizeAxis(C,m,M),C.thickness==null?E=oE(T,g)*(C.maxThicknessRatio??1):E=C.thickness;const{primaryTickCount:k,bbox:L}=C.calculateLayout(C.nice?i[N]:void 0,{sizeLimit:E,padding:this.padding});i[N]??(i[N]=k),a||(a=C.dataDomain.clipped||C.visibleRange[0]>0||C.visibleRange[1]<1),C.thickness==null&&(E=Math.min(oE(T,L)??0,E)),s.set(C.id,Math.ceil(E))}const y=uO(this.axes,C=>C.position??"left"),b=new Map,S=new Map;for(const[C,M]of Uo(y)){let N=oE(C!=="left"&&C!=="right",g)%g.pixelRatio,T=0;for(const E of M??[]){S.set(E.id,N);const k=s.get(E.id)??0;T=Math.max(T,N+k),E.layoutConstraints.stacked&&(N+=k+Pee.AxesPadding)}b.set(C,Math.ceil(T))}for(const[C,M]of Uo(y))this.positionAxes({axes:M??[],position:C,axisWidths:s,axisOffsets:S,axisAreaWidths:b,axisBound:n,seriesRect:m});return{clipSeries:a,seriesRect:m,axisAreaWidths:b,overflows:r}}buildCrossLinePadding(t){const n={top:0,right:0,bottom:0,left:0};this.axes.forEach(s=>{const{position:i,label:r}=s;s.crossLines?.forEach(a=>{var o;a instanceof Mr&&(a.position=i??"top",(o=a.label).parallel??(o.parallel=r.parallel)),a.calculatePadding?.(n)})});for(const[s,i=0]of Uo(n))n[s]=Math.max(i-(t.get(s)??0),0);return n}clampToOutsideSeriesRect(t,n,s,i){const r=s==="x"?t.x:t.y,a=s==="x"?t.width:t.height;return i===1?Math.min(n,r+a):Math.max(n,r)}async getSyncedDomain(t){const n=this.modulesManager.getModule("sync");if(n?.enabled)return await n.getSyncedDomain(t)}syncAxisChanges(t,n){const s=this.modulesManager.getModule("sync");if(!s?.enabled)return;const i=new Set(n??[]);for(const r of t)i.delete(r);for(const r of i)s.removeAxis(r)}sizeAxis(t,n,s){const i=t instanceof Na,r=s==="left"||s==="right",{width:a,height:o}=n,c=r?o:a;let u=0,h=c,{min:f,max:g}=this.ctx.zoomManager.getAxisZoom(t.id);const{width:m,unit:y,align:b}=t.layoutConstraints;y==="px"?h=u+m:h=h*m/100,b==="end"&&(u=c-(h-u),h=c),r&&(i?[u,h]=[h,u]:[f,g]=[1-g,1-f]),t.range=[u,h],t.visibleRange=[f,g],t.gridLength=r?a:o}positionAxes(t){const{axes:n,axisBound:s,axisWidths:i,axisOffsets:r,axisAreaWidths:a,seriesRect:o,position:c}=t,u=a.get(c)??0;let h="x",f="y",g=1;(c==="top"||c==="bottom")&&(h="y",f="x");let m=s[h];(c==="right"||c==="bottom")&&(g=-1,m+=h==="x"?s.width:s.height);for(const y of n){const b=a.get(f==="x"?"left":"top")??0,S=i.get(y.id)??0,C=r.get(y.id)??0;y.gridPadding=u-C-S,y.translation[f]=s[f]+b,y.translation[h]=this.clampToOutsideSeriesRect(o,m+g*(C+S),h,g)}}shouldFlipXY(){return this.series.every(t=>t instanceof Ud&&t.shouldFlipXY())}getDefaultState(){const t=new Map;if(this.lastAreaWidths)for(const{position:n="left"}of this.axes){const s=this.lastAreaWidths.get(n);s!=null&&t.set(n,s)}return{axisAreaWidths:t,clipSeries:!1,overflows:!1}}isLayoutStable(t,n){if(n.overflows!==t.overflows||n.clipSeries!==t.clipSeries)return!1;for(const s of t.axisAreaWidths.keys())if(!n.axisAreaWidths.has(s))return!1;for(const[s,i]of n.axisAreaWidths.entries()){const r=t.axisAreaWidths.get(s);if((i!=null||r!=null)&&i!==r)return!1}return!0}clipAxis(t,n,s){const i=Math.ceil(t.gridLine?.width??0),r=Math.ceil(t.line?.width??0);let{width:a,height:o}=n;switch(a+=t.direction==="x"?i:r,o+=t.direction==="y"?i:r,t.clipGrid(n.x,n.y,a,o),t.position){case"left":case"right":t.clipTickLines(s.x,n.y-i,s.width+i,n.height+i*2);break;case"top":case"bottom":t.clipTickLines(n.x-i,s.y,n.width+i*2,s.height+i);break}}};rM.className="CartesianChart";rM.type="cartesian";rM.AxesPadding=15;var K8e=rM;function oE(e,t){return e?t?.width:t?.height}var aM={mode:vt(Se("integrated","standalone")),container:vq,context:()=>!0,theme:ot,series:Vl,annotations:ot,navigator:ot,initialState:{chartType:de,annotations:ot,legend:yi({visible:X,seriesId:de,itemId:de,legendItemName:de},"legend state array"),zoom:ot}},zee={...bt,...aM,axes:yf(2),data:Vl},Fee={...bt,...aM,axes:yf(2),data:Vl},q8e={...bt,...aM,data:Vl,topology:H4e},Z8e={...bt,...aM,data:Vl},Q8e=new Set(["number","log","time"]),X8e=e=>En(e)&&!Q8e.has(e.type),J8e={type:"chart",name:"cartesian",options:zee,detect:WQ,create(e,t){return new K8e(e,t)},validate(e,t,n){const s=[];e?.series?.[0]?.type==="histogram"&&e?.axes?.some(X8e)&&(s.push(new Bh("invalid","only continuous axis types when histogram series is used",e.axes,n,"axes")),e=ke(e,["axes"]));const i=or(e,t,n);return i.invalid.push(...s),i}},$ee=()=>{throw new Error("Enterprise module placeholder cannot be initialised")},e7e={type:"chart",name:"standalone",placeholder:!0,options:{},detect:KQ,create:$ee},t7e={type:"chart",name:"topology",placeholder:!0,options:{},detect:YQ,create:$ee},Pg=class extends KO{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}layoutCrossLines(){const e=this.label.getSideFlag(),t=this.hasDefinedDomain()||this.hasVisibleSeries(),{rotation:n,parallelFlipRotation:s,regularFlipRotation:i}=this.calculateRotations();this.crossLines.forEach(r=>{r.sideFlag=-e,r.direction=n===-Math.PI/2?"angle":"radius",r.parallelFlipRotation=s,r.regularFlipRotation=i,r.calculateLayout?.(t,this.reverse)})}updatePosition(){super.updatePosition();const e=Math.floor(this.translation.x),t=Math.floor(this.translation.y);this.tickLineGroup.translationX=e,this.tickLineGroup.translationY=t,this.tickLabelGroup.translationX=e,this.tickLabelGroup.translationY=t,this.crossLineRangeGroup.translationX=e,this.crossLineRangeGroup.translationY=t,this.crossLineLineGroup.translationX=e,this.crossLineLineGroup.translationY=t,this.crossLineLabelGroup.translationX=e,this.crossLineLabelGroup.translationY=t,this.tickLabelGroupSelection.each(Rw())}computeLabelsBBox(e,t){return null}computeRange(){}getAxisLinePoints(){}};D([O],Pg.prototype,"shape",2);D([O],Pg.prototype,"innerRadiusRatio",2);var i3=class extends bC{constructor(e,t){super(e,t),this.padding=new xf(40),this.ctx.axisManager.axisGroup.zIndex=8}getChartType(){return"polar"}async performLayout(e){const{layoutBox:t}=e,n=t.clone().shrink(this.modulesManager.getModule("seriesArea").getPadding());this.seriesRect=n,this.animationRect=n,this.seriesRoot.translationX=n.x,this.seriesRoot.translationY=n.y,await this.computeCircle(n),this.axes.forEach(s=>s.update()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:n,paddedRect:t}})}updateAxes(e,t,n,s){const i=this.axes.find(c=>c.direction==="angle"),r=this.axes.find(c=>c.direction==="radius");if(!(i instanceof Pg)||!(r instanceof Pg))return;const a=i.scale,o=r.innerRadiusRatio;i.innerRadiusRatio=o,i.computeRange(),i.gridLength=s,r.gridAngles=a.ticks({nice:i.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.ticks?.map(c=>a.convert(c)),r.gridRange=i.range,r.range=[s,s*o],[i,r].forEach(c=>{c.translation.x=e.x+t,c.translation.y=e.y+n,c.calculateLayout()})}async computeCircle(e){const t=this.series.filter(n7e),n=this.axes.filter(s7e),s=(u,h,f)=>{this.updateAxes(e,u,h,f),t.forEach(m=>{m.centerX=u,m.centerY=h,m.radius=f});const g=t.filter(m=>m.type==="donut"||m.type==="pie");if(g.length>1){const m=g.map(y=>{const b=y.getInnerRadius();return{series:y,innerRadius:b}}).sort((y,b)=>y.innerRadius-b.innerRadius);m.at(-1).series.surroundingRadius=void 0;for(let y=0;y<m.length-1;y++)m[y].series.surroundingRadius=m[y+1].innerRadius}},i=e.width/2,r=e.height/2,a=Math.max(0,Math.min(e.width,e.height)/2);let o=a;s(i,r,o);const c=async({hideWhenNecessary:u=!1}={})=>{const h=[];for(const m of Xp(n,t)){const y=await m.computeLabelsBBox({hideWhenNecessary:u},e);y&&h.push(y)}if(h.length===0){s(i,r,a);return}const f=Pe.merge(h),g=this.refineCircle(f,o,e);s(g.centerX,g.centerY,g.radius),o=g.radius};await c(),await c(),await c(),await c({hideWhenNecessary:!0}),await c({hideWhenNecessary:!0});for(const u of Xp(n,t))await u.computeLabelsBBox({hideWhenNecessary:!0},e);return{radius:o,centerX:i,centerY:r}}refineCircle(e,t,n){const i=-t,r=-t,a=t,o=t;let c=Math.max(0,i-e.x),u=Math.max(0,r-e.y),h=Math.max(0,e.x+e.width-a),f=Math.max(0,e.y+e.height-o);c=h=Math.max(c,h),u=f=Math.max(u,f);const g=n.width-c-h,m=n.height-u-f;let y=Math.min(g,m)/2;const b=.5*n.width/2,S=.5*n.height/2,C=Math.min(b,S);if(y<C){y=C;const T=c+h,E=u+f;if(2*y+E>n.height){const k=n.height-2*y;Math.min(u,f)*2>k?(u=k/2,f=k/2):u>f?u=k-f:f=k-u}if(2*y+T>n.width){const k=n.width-2*y;Math.min(c,h)*2>k?(c=k/2,h=k/2):c>h?c=k-h:h=k-c}}const M=c+2*y+h,N=u+2*y+f;return{centerX:(n.width-M)/2+c+y,centerY:(n.height-N)/2+u+y,radius:y}}};i3.className="PolarChart";i3.type="polar";function n7e(e){return e instanceof s3}function s7e(e){return e instanceof Pg}var i7e={type:"chart",name:"polar",options:Fee,detect:G_e,create(e,t){return new i3(e,t)},validate(e,t,n){const s=[],i=e?.series?.[0]?.type;(i==="pie"||i==="donut")&&e?.axes&&(s.push(new oO([],e.axes,n,"axes")),e=ke(e,["axes"]));const r=or(e,t,n);return r.invalid.push(...s),r}},r7e=[J8e,T6e,E6e,D6e,k6e,I6e,L6e,dee,mee,bee,vee,wee,Cee],a7e=[i7e,x8e,v8e],o7e=[...r7e,...a7e,e7e,t7e,H8e,G8e,W8e],l7e=1e3,r3=class Gu{constructor(t,n,s,i,r,a=l7e){this.name=t,this.buildItem=n,this.releaseItem=s,this.destroyItem=i,this.maxPoolSize=r,this.cleanupTimeMs=a,this.freePool=[],this.busyPool=new Set}static getPool(t,n,s,i,r){return this.pools.has(t)||this.pools.set(t,new Gu(t,n,s,i,r)),this.pools.get(t)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}hasFree(){return this.freePool.length>0}obtain(t){if(!this.hasFree()&&this.isFull())throw new Error("AG Charts - pool exhausted");let n=this.freePool.pop();return n==null?(n=this.buildItem(t),Gu.debug(()=>[`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,n])):Gu.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,n]),this.busyPool.add(n),{item:n,release:()=>this.release(n)}}obtainFree(){const t=this.freePool.pop();if(t==null)throw new Error("AG Charts - pool has no free instances");return Gu.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,t]),this.busyPool.add(t),{item:t,release:()=>this.release(t)}}release(t){if(!this.busyPool.has(t))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");Gu.debug(()=>[`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]),this.releaseItem(t),this.busyPool.delete(t),this.freePool.push(t),Gu.debug(()=>[`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]);const n=Date.now(),s=n+this.cleanupTimeMs*.5;this.cleanPoolTimer&&(this.cleanPoolDue??1/0)<s&&(clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=void 0),this.cleanPoolTimer||(this.cleanPoolDue=n+this.cleanupTimeMs,this.cleanPoolTimer=setTimeout(this.cleanPool.bind(this),this.cleanupTimeMs))}cleanPool(){const t=this.freePool.splice(0);for(const n of t)this.destroyItem(n);Gu.debug(()=>[`Pool[name=${this.name}]: Cleaned pool of ${t.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`])}destroy(){this.cleanPool();for(const t of this.busyPool.values())this.destroyItem(t);this.busyPool.clear()}};r3.pools=new Map;r3.debug=Dt.create(!0,"pool");var c7e=r3;br.registerMany(o7e,e0);var Dc=Dt.create(!0,"opts"),nd=class{static licenseCheck(t){this.licenseChecked||(this.licenseManager=hd.licenseManager?.(t),this.licenseManager?.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(t){return hd.licenseManager?.({}).getLicenseDetails(t)}static getInstance(t){return uB.getInstance(t)}static create(t,n){const s=Dt.check("scene:stats","scene:stats:verbose")?performance.now():void 0;return Dc.group("AgCharts.create()",()=>{t=Dt.inDevelopmentMode(()=>kc(xs(t)))??t,this.licenseCheck(t);const i=uB.createOrUpdate({userOptions:t,licenseManager:this.licenseManager,optionsMetadata:n,apiStartTime:s});return this.licenseManager?.isDisplayWatermark()&&this.licenseManager&&hd.injectWatermark?.(i.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()),i})}static createFinancialChart(t){return Dc.group("AgCharts.createFinancialChart()",()=>this.create(t,{presetType:"price-volume"}))}static createGauge(t){return Dc.group("AgCharts.createGauge()",()=>this.create(t,{presetType:"gauge-preset"}))}static __createSparkline(t){return Dc.group("AgCharts.__createSparkline()",()=>{const{pool:n,...s}=t;return this.create(s,{presetType:"sparkline",pool:n??!0,domMode:"minimal",withDragInterpretation:!1})})}};nd.licenseChecked=!1;var yl=class Wu{static getInstance(t){const n=bC.getInstance(t);return n?R$.chartInstances.get(n):void 0}static initialiseModules(){Wu.initialised||(S8e(),w8e(),Wu.initialised=!0)}static createOrUpdate(t){let{proxy:n}=t;const{userOptions:s,licenseManager:i,processedOverrides:r=n?.chart?.chartOptions.processedOverrides??{},specialOverrides:a=n?.chart?.chartOptions.specialOverrides??{},optionsMetadata:o=n?.chart?.chartOptions.optionMetadata??{},deltaOptions:c,data:u,stripSymbols:h=!1,apiStartTime:f}=t,g=hd.styles!=null?[["ag-charts-enterprise",hd.styles]]:[];Wu.initialiseModules(),Dc(()=>[">>> AgCharts.createOrUpdate() user options",xs(s)]);const{presetType:m}=o;let y=s;nd.optionsMutationFn&&y&&(y=nd.optionsMutationFn(xs(y,gx.OPTIONS_CLONE_OPTS_FAST),m),Dc(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",xs(y)]));const b=this.getPool(o);let S=!1,C,M=n?.chart;M==null&&b?.hasFree()&&(C=b.obtainFree(),M=C.item);const{document:N,window:T,styleContainer:E,...k}=y??{},L=M?.getChartOptions(),I=new gx(L,k,r,{...a,document:N,window:T,styleContainer:E},o,c,h,f);return(M==null||br.detectChartDefinition(I.processedOptions)!==br.detectChartDefinition(M.chartOptions.processedOptions))&&(C?.release(),C=this.getPool(I.optionMetadata)?.obtain(I),C?M=C.item:(S=!0,M=Wu.createChartInstance(I,M))),I.optionsGraph&&M.ctx.optionsGraphService.updateCallback((_,F,G)=>I.optionsGraph?.resolvePartial(_,F,G)),g.forEach(([_,F])=>{M.ctx.domManager.addStyles(_,F)}),M.ctx.fontManager.updateFonts(I.googleFonts),u!=null&&M.ctx.dataService.restoreData(u),n==null?(n=new R$(M,Wu.callbackApi,i),n.releaseChart=C?.release):(C||S)&&(n.releaseChart?.(),n.chart=M,n.releaseChart=C?.release),Dc.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[M.id]=M),M.queuedUserOptions.push(I.userOptions),M.queuedChartOptions.push(I),M.requestFactoryUpdate(_=>{Dc.group(">>>> Chart.applyOptions()",()=>{_.applyOptions(I);const F=_.queuedUserOptions.indexOf(I.userOptions)+1;_.queuedUserOptions.splice(0,F),_.queuedChartOptions.splice(0,F)})}),n}static markRemovedProperties(t,n,s=!1){if(typeof t!="object")return s;for(const i of Object.keys(t))typeof t[i]>"u"&&(Object.assign(t,{[i]:Symbol("UNSET")}),s||(s=!0));return s}static updateUserDelta(t,n,s){n=xs(n,gx.OPTIONS_CLONE_OPTS_FAST);const i=ud(n,Wu.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);Dc(()=>[">>> AgCharts.updateUserDelta() user delta",xs(n)]),Wu.createOrUpdate({proxy:t,deltaOptions:n,stripSymbols:i,apiStartTime:s})}static createChartInstance(t,n){const s=n?.destroy({keepTransferableResources:!0});return br.detectChartDefinition(t.processedOptions).create(t,s)}static getPool(t){if(t.pool===!0)return c7e.getPool(t.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};yl.caretaker=new yZ(e0);yl.initialised=!1;yl.callbackApi={caretaker:yl.caretaker,create(e,t,n,s,i){return yl.createOrUpdate({userOptions:e,processedOverrides:t,specialOverrides:n,optionsMetadata:s,data:i})},update(e,t,n,s){return yl.createOrUpdate({userOptions:e,proxy:t,specialOverrides:n,apiStartTime:s})},updateUserDelta(e,t,n){return yl.updateUserDelta(e,t,n)}};yl.detachAndClear=e=>e.detachAndClear();yl.destroy=e=>e.destroy();var uB=yl,u7e={};Ul(u7e,{Arc:()=>Kl,BBox:()=>Pe,Caption:()=>us,CategoryScale:()=>om,Group:()=>Et,Line:()=>ya,LinearScale:()=>Gh,Marker:()=>ni,Path:()=>xi,RadialColumnShape:()=>wo,Rect:()=>si,Scene:()=>tC,Sector:()=>Qi,Shape:()=>$s,TranslatableGroup:()=>Yi,getRadialColumnWidth:()=>Bee,toRadians:()=>Wi});var Kl=class extends xi{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0}get fullPie(){return Fr(hi(this.startAngle),hi(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?e.closePath():this.type===2&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new Pe(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(e,t){const n=this.getBBox();return this.type!==0&&n.containsPoint(e,t)&&this.path.isPointInPath(e,t)}};Kl.className="Arc";D([Me()],Kl.prototype,"centerX",2);D([Me()],Kl.prototype,"centerY",2);D([Me()],Kl.prototype,"radius",2);D([Me()],Kl.prototype,"startAngle",2);D([Me()],Kl.prototype,"endAngle",2);D([Me()],Kl.prototype,"counterClockwise",2);D([Me()],Kl.prototype,"type",2);function lE(e,t,n){const s=Math.sqrt(e**2+t**2),r=Math.atan2(t,e)+n;return{x:Math.cos(r)*s,y:Math.sin(r)*s}}var wo=class extends xi{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:t,columnWidth:n}=this,s=this.getRotation(),i=-n/2,r=n/2,a=-t,o=-e;let c=1/0,u=1/0,h=-1/0,f=-1/0;for(let g=0;g<4;g+=1){const{x:m,y}=lE(g%2===0?i:r,g<2?a:o,s);c=Math.min(m,c),u=Math.min(y,u),h=Math.max(m,h),f=Math.max(y,f)}return new Pe(c,u,h-c,f-u)}getRotation(){const{startAngle:e,endAngle:t}=this,n=W2(e,t);return hi(e+n/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:t,outerRadius:n,path:s}=this,i=-e/2,r=e/2,a=-n,o=-t,c=this.getRotation(),u=[[i,o],[i,a],[r,a],[r,o]].map(([h,f])=>lE(h,f,c));s.clear(!0),s.moveTo(u[0].x,u[0].y),s.lineTo(u[1].x,u[1].y),s.lineTo(u[2].x,u[2].y),s.lineTo(u[3].x,u[3].y),s.closePath()}updateBeveledPath(){const{columnWidth:e,path:t,outerRadius:n,innerRadius:s,axisInnerRadius:i,axisOuterRadius:r,isRadiusAxisReversed:a}=this,o=Fr(s,i),c=Math.asin(e/2/s),u=this.getRotation(),h=(I,_)=>lE(I,_,u),f=(I,_)=>Math.sqrt(I**2+_**2),g=(I,_)=>_>I?0:Math.sqrt(I**2-_**2),m=(I,_,F)=>F?I<_:I>_,y=o&&!isNaN(c)&&c<Math.PI/6;let b=-e/2,S=e/2;const C=-n,M=-s*(y?Math.cos(c):1),N=m(r,f(s,e/2),!a);if(N){const I=g(r,s);b=-I,S=I}t.clear(!0);const T=h(b,M);t.moveTo(T.x,T.y);const E=Fr(s,n),k=m(r,f(n,e/2),!a);if(E&&y)t.arc(0,0,s,hi(-c-Math.PI/2)+u,hi(c-Math.PI/2)+u,!1);else if(k){const I=-g(r,e/2),_=g(r,n);if(!N){const F=h(b,I);t.lineTo(F.x,F.y)}if(t.arc(0,0,r,Math.atan2(I,b)+u,Math.atan2(C,-_)+u,!1),!Fr(_,0)){const F=h(_,C);t.lineTo(F.x,F.y)}t.arc(0,0,r,Math.atan2(C,_)+u,Math.atan2(I,S)+u,!1)}else{const I=h(b,C),_=h(S,C);t.lineTo(I.x,I.y),t.lineTo(_.x,_.y)}const L=h(S,M);if(t.lineTo(L.x,L.y),y)t.arc(0,0,s,hi(c-Math.PI/2)+u,hi(-c-Math.PI/2)+u,!0);else{const I=h(b,M);t.lineTo(I.x,I.y)}t.closePath()}};wo.className="RadialColumnShape";D([Me()],wo.prototype,"isBeveled",2);D([Me()],wo.prototype,"columnWidth",2);D([Me()],wo.prototype,"startAngle",2);D([Me()],wo.prototype,"endAngle",2);D([Me()],wo.prototype,"outerRadius",2);D([Me()],wo.prototype,"innerRadius",2);D([Me()],wo.prototype,"axisInnerRadius",2);D([Me()],wo.prototype,"axisOuterRadius",2);D([Me()],wo.prototype,"isRadiusAxisReversed",2);function Bee(e,t,n,s,i){const r=W2(e,t),a=r*(1-s)/2;if(e+=a,t-=a,r<.001)return 2*n*i;if(r>=2*Math.PI){const m=e+r/2;e=m-Math.PI,t=m+Math.PI}const o=n*Math.cos(e),c=n*Math.sin(e),u=n*Math.cos(t),h=n*Math.sin(t),f=Math.floor(Math.sqrt((o-u)**2+(c-h)**2)),g=2*n*i;return Math.max(1,Math.min(g,f))}var d7e={};Ul(d7e,{ChartTheme:()=>Wo,DEFAULT_ANNOTATION_HANDLE_FILL:()=>Nb,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>Eb,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>Db,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>d0,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>h0,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>Ab,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>Tb,DEFAULT_CAPTION_ALIGNMENT:()=>td,DEFAULT_CAPTION_LAYOUT_STYLE:()=>ed,DEFAULT_FIBONACCI_STROKES:()=>u0,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>ti,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>gs,DEFAULT_GRIDLINE_ENABLED:()=>Oo,DEFAULT_POLAR_SERIES_STROKE:()=>NC,DEFAULT_SEPARATION_LINES_COLOUR:()=>Mb,DEFAULT_SHADOW_COLOUR:()=>Cf,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>AC,DEFAULT_TEXTBOX_COLOR:()=>Lb,DEFAULT_TEXTBOX_FILL:()=>kb,DEFAULT_TEXTBOX_STROKE:()=>Ib,DEFAULT_TEXT_ANNOTATION_COLOR:()=>jb,DEFAULT_TOOLBAR_POSITION:()=>Ob,IS_DARK_THEME:()=>ug,PALETTE_ALT_DOWN_FILL:()=>h4,PALETTE_ALT_DOWN_STROKE:()=>u4,PALETTE_ALT_NEUTRAL_FILL:()=>f4,PALETTE_ALT_NEUTRAL_STROKE:()=>p4,PALETTE_ALT_UP_FILL:()=>d4,PALETTE_ALT_UP_STROKE:()=>c4,PALETTE_DOWN_FILL:()=>CC,PALETTE_DOWN_STROKE:()=>SC,PALETTE_NEUTRAL_FILL:()=>jC,PALETTE_NEUTRAL_STROKE:()=>MC,PALETTE_UP_FILL:()=>wC,PALETTE_UP_STROKE:()=>vC,getChartTheme:()=>Ww,resolveOperation:()=>f7e,themeNames:()=>h7e,themeSymbols:()=>l4,themes:()=>E4});var h7e=Object.keys(E4);function f7e(e){const t=Wo.getDefaultPublicParameters(),n=Wo.getDefaultColors();return new FJ({line:{operation:e}},{series:[{type:"line"}]},t,n).resolve().operation}var p7e={};Ul(p7e,{Color:()=>Pn,interpolateColor:()=>kZ});var g7e={};Ul(g7e,{AGGREGATION_INDEX_X_MAX:()=>$r,AGGREGATION_INDEX_X_MIN:()=>rr,AGGREGATION_INDEX_Y_MAX:()=>Vr,AGGREGATION_INDEX_Y_MIN:()=>Br,AGGREGATION_SPAN:()=>wl,AbstractBarSeries:()=>hee,AbstractBarSeriesProperties:()=>Z4,ActionOnSet:()=>fr,AnchoredPopover:()=>Kee,Animation:()=>RZ,AnimationManager:()=>zZ,Arc:()=>Kl,Axis:()=>KO,AxisGroupZIndexMap:()=>xQ,AxisInterval:()=>vf,AxisLabel:()=>ts,AxisTick:()=>Sf,BASE_FONT_SIZE:()=>Tc,BBox:()=>Pe,Background:()=>xm,BackgroundModule:()=>$J,BandScale:()=>tu,BarSeries:()=>Wb,BarSeriesModule:()=>gee,BaseModuleInstance:()=>B2,BaseProperties:()=>mt,BaseToolbar:()=>h3,Border:()=>kf,ButtonWidget:()=>cb,CallbackCache:()=>iZ,Caption:()=>us,CartesianAxis:()=>wb,CartesianSeries:()=>Ud,CartesianSeriesNodeEvent:()=>z4,CartesianSeriesProperties:()=>cu,CategoryAxis:()=>fm,CategoryScale:()=>om,ChangeDetectableProperties:()=>R4,Chart:()=>bC,ChartAxisDirection:()=>Q2,ChartOptions:()=>gx,ChartUpdateType:()=>dx,CollapseMode:()=>JJ,Color:()=>Pn,ColorScale:()=>nm,ConicGradient:()=>Kq,ContextMenuBuiltins:()=>FZ,ContextMenuRegistry:()=>$Z,ContinuousScale:()=>jn,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>Sm,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>wm,DEFAULT_POLAR_DIRECTION_KEYS:()=>Dee,DEFAULT_POLAR_DIRECTION_NAMES:()=>kee,DEFAULT_TOOLTIP_CLASS:()=>Ci,DEFAULT_TOOLTIP_DARK_CLASS:()=>nX,DIRECTION_SWAP_AXES:()=>uX,DOMManager:()=>jZ,DataController:()=>aQ,DataModel:()=>rQ,DataModelSeries:()=>P4,DataService:()=>nC,Debug:()=>Dt,Deprecated:()=>m7e,DeprecatedAndRenamedTo:()=>y7e,DiscreteTimeAxis:()=>HX,DiscreteTimeScale:()=>el,DragInterpreter:()=>GZ,DraggablePopover:()=>qee,DropShadow:()=>Yl,ExtendedPath2D:()=>jg,FILL_GRADIENT_BLANK_DEFAULTS:()=>kPe,FILL_GRADIENT_CONIC_SERIES_DEFAULTS:()=>_Pe,FILL_GRADIENT_LINEAR_DEFAULTS:()=>Rd,FILL_GRADIENT_LINEAR_HIERARCHY_DEFAULTS:()=>IPe,FILL_GRADIENT_LINEAR_SHADED_DEFAULTS:()=>OPe,FILL_GRADIENT_LINEAR_SINGLE_DEFAULTS:()=>LPe,FILL_GRADIENT_RADIAL_DEFAULTS:()=>EC,FILL_GRADIENT_RADIAL_REVERSED_DEFAULTS:()=>Rb,FILL_GRADIENT_RADIAL_REVERSED_SERIES_DEFAULTS:()=>dX,FILL_GRADIENT_RADIAL_SERIES_DEFAULTS:()=>RPe,FILL_IMAGE_BLANK_DEFAULTS:()=>$Pe,FILL_IMAGE_DEFAULTS:()=>iu,FILL_PATTERN_BLANK_DEFAULTS:()=>zPe,FILL_PATTERN_DEFAULTS:()=>uo,FILL_PATTERN_HIERARCHY_DEFAULTS:()=>FPe,FILL_PATTERN_SINGLE_DEFAULTS:()=>PPe,FONT_SIZE:()=>NO,FONT_SIZE_RATIO:()=>eo,FillGradientDefaults:()=>Od,FillImageDefaults:()=>eu,FillPatternDefaults:()=>ii,FloatingToolbar:()=>e9e,FormatManager:()=>Dg,Gradient:()=>K2,Group:()=>Et,GroupedCategoryAxis:()=>jf,HdpiCanvas:()=>_O,HierarchyNode:()=>R7e,HierarchySeries:()=>_7e,HierarchySeriesProperties:()=>Hd,HighlightManager:()=>BZ,HighlightProperties:()=>Jc,HighlightState:()=>VZ,HighlightStyle:()=>hb,Image:()=>jm,InteractionManager:()=>PZ,InteractionState:()=>_Z,InterpolationProperties:()=>Cm,Invalidating:()=>ob,LABEL_BOXING_DEFAULTS:()=>Rl,LARGEST_KEY_INTERVAL:()=>OX,LEGEND_CONTAINER_THEME:()=>pX,Label:()=>Ms,LayoutElement:()=>BO,LayoutManager:()=>XZ,LegendMarkerLabel:()=>So,Line:()=>ya,LineSeries:()=>Kb,LineSeriesModule:()=>See,LinearGradient:()=>qq,LinearScale:()=>Gh,LogScale:()=>S4,LonLatBBox:()=>P7e,MIN_CATEGORY_SPACING:()=>Gy,Marker:()=>ni,Menu:()=>q7e,MenuItemRadioWidget:()=>c3,MenuItemWidget:()=>cM,MenuWidget:()=>u3,MercatorScale:()=>z7e,ModuleRegistry:()=>br,Motion:()=>zD,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>zo,NativeWidget:()=>Tg,NewAreaSeriesModule:()=>dee,NewBarSeriesModule:()=>mee,NewBubbleSeriesModule:()=>bee,NewHistogramSeriesModule:()=>vee,NewLineSeriesModule:()=>wee,NewScatterSeriesModule:()=>Cee,NiceMode:()=>fQ,Node:()=>Gc,NumberAxis:()=>Na,ObserveChanges:()=>Ld,OrdinalTimeScale:()=>cg,PHASE_METADATA:()=>s0,PHASE_ORDER:()=>Rp,PREV_NEXT_KEYS:()=>ux,Padding:()=>xf,ParallelStateMachine:()=>c_e,Path:()=>xi,PointerEvents:()=>Hq,PolarAxis:()=>Pg,PolarSeries:()=>s3,PolarZIndexMap:()=>Eee,Popover:()=>d3,PropertiesArray:()=>sm,Property:()=>O,ProxyInteractionService:()=>TZ,ProxyOnWrite:()=>W3e,ProxyProperty:()=>hr,ProxyPropertyOnWrite:()=>Is,QUICK_TRANSITION:()=>Iw,QuadtreeNearest:()=>GJ,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>Kw,RadialColumnShape:()=>wo,Range:()=>Gl,Rect:()=>si,RepeatType:()=>OZ,Rotatable:()=>im,RotatableGroup:()=>F3e,RotatableText:()=>dZ,SAFE_FILLS_OPERATION:()=>EPe,SAFE_FILL_OPERATION:()=>TPe,SAFE_RANGE2_OPERATION:()=>DPe,SAFE_STROKE_FILL_OPERATION:()=>TC,SEGMENTATION_DEFAULTS:()=>DC,SKIP_JS_BUILTINS:()=>xO,SMALLEST_KEY_INTERVAL:()=>LX,SORT_DOMAIN_GROUPS:()=>RX,Scalable:()=>q2,ScalableGroup:()=>z3e,ScaleAlignment:()=>Yq,Scene:()=>tC,SceneArrayChangeDetection:()=>vO,SceneChangeDetection:()=>Me,SceneObjectChangeDetection:()=>Ma,SceneRefChangeDetection:()=>G2,Sector:()=>Qi,SectorBox:()=>Mee,SegmentOptions:()=>Jo,Segmentation:()=>db,SegmentedPath:()=>_4,Selection:()=>cr,Series:()=>xC,SeriesContentZIndexMap:()=>ZQ,SeriesGroupingChangedEvent:()=>Fw,SeriesItemHighlightStyle:()=>Xc,SeriesMarker:()=>jr,SeriesNodeEvent:()=>yC,SeriesNodePickMode:()=>JQ,SeriesProperties:()=>xo,SeriesTooltip:()=>lu,SeriesZIndexMap:()=>qQ,Shape:()=>$s,SliderWidget:()=>RO,StateMachine:()=>pb,StateMachineProperty:()=>l_e,StopProperties:()=>SO,SvgPath:()=>Wee,TIME_AXIS_KEYS:()=>lee,TRIPLE_EQ:()=>Bq,Text:()=>ha,ThemeConstants:()=>hZ,ThemeSymbols:()=>l4,TimeAxisParentLevel:()=>gm,TimeScale:()=>Og,Toolbar:()=>X7e,ToolbarButtonProperties:()=>Qb,ToolbarButtonWidget:()=>Zee,ToolbarWidget:()=>eC,Tooltip:()=>vo,TooltipManager:()=>Lw,TooltipPosition:()=>wf,Transformable:()=>vs,TransformableGroup:()=>Op,TransformableText:()=>Ng,Translatable:()=>rm,TranslatableGroup:()=>Yi,TranslatableSvgPath:()=>W7e,UnitTimeScale:()=>Ju,UpdateService:()=>JZ,Vec2:()=>Up,Vec4:()=>a0,WIDGET_HTML_EVENTS:()=>jO,Widget:()=>Hl,WidgetEventUtil:()=>Oc,ZIndexMap:()=>EZ,ZoomManager:()=>QZ,accumulateGroup:()=>_X,accumulatedValue:()=>jX,accumulativeValueProperty:()=>ak,addEscapeEventListener:()=>TO,addHitTestersToQuadtree:()=>eM,addMouseCloseListener:()=>xZ,addOverrideFocusVisibleEventListener:()=>SZ,addTouchCloseListener:()=>bZ,adjustLabelPlacement:()=>VJ,aggregationDomain:()=>Rg,aggregationIndexForXRatio:()=>KC,aggregationRangeFittingPoints:()=>YC,aggregationXRatioForDatumIndex:()=>_g,aggregationXRatioForXValue:()=>ho,angleBetween:()=>W2,angleCategoryAxisOptionsDefs:()=>C4,angleNumberAxisOptionsDefs:()=>GX,angularPadding:()=>OD,animationValidation:()=>Vb,annotationCalloutStylesDefs:()=>lJ,annotationChannelStyleDefs:()=>A4,annotationChannelTextDefs:()=>iJ,annotationCommentStylesDefs:()=>cJ,annotationCrossLineStyleDefs:()=>lk,annotationDisjointChannelStyleDefs:()=>aJ,annotationFibonacciStylesDefs:()=>ck,annotationLineStyleDefs:()=>Gw,annotationLineTextDefs:()=>GC,annotationMeasurerStylesDefs:()=>OS,annotationNoteStylesDefs:()=>uJ,annotationOptionsDef:()=>ym,annotationParallelChannelStyleDefs:()=>oJ,annotationQuickMeasurerStylesDefs:()=>dJ,annotationShapeStylesDefs:()=>uk,annotationTextStylesDef:()=>Ub,applyShapeFillBBox:()=>XQ,applyShapeStyle:()=>Rc,areScalingEqual:()=>Wh,area:()=>rk,autoSizedLabelOptionsDefs:()=>jd,axisLabelsOverlap:()=>QD,bezier2DDistance:()=>eZ,bezier2DExtrema:()=>Jq,boxPlotHighlightStyleOptionsDef:()=>dk,boxPlotSeriesThemeableOptionsDef:()=>hJ,boxPlotStyleOptionsDef:()=>T4,buildResetPathFn:()=>W4,calculateDataDiff:()=>pee,calculateLabelRotation:()=>BQ,calculateLabelTranslation:()=>B7e,calculatePlacement:()=>eX,calculateSegments:()=>XC,callWithContext:()=>Go,candlestickSeriesThemeableOptionsDef:()=>fJ,cartesianAxisBandHighlightOptions:()=>Bb,cartesianAxisCrosshairOptions:()=>Pd,cartesianAxisLabelOptionsDefs:()=>Fb,cartesianAxisOptionsDefs:()=>au,cartesianChartOptionsDefs:()=>zee,cartesianCrossLineOptionsDefs:()=>Nc,cartesianNumericAxisLabel:()=>m4,cartesianTimeAxisLabel:()=>$b,cartesianTimeAxisParentLevel:()=>zC,checkCrisp:()=>fee,chordSeriesThemeableOptionsDef:()=>pJ,clampArray:()=>r0,clippedRoundRect:()=>TS,collapsedStartingBarPosition:()=>C0,commonAxisIntervalOptionsDefs:()=>y4,commonAxisLabelOptionsDefs:()=>ru,commonAxisOptionsDefs:()=>Mf,commonChartOptionsDefs:()=>bt,commonCrossLineLabelOptionsDefs:()=>af,commonCrossLineOptionsDefs:()=>Sl,commonSeriesOptionsDefs:()=>sl,commonSeriesThemeableOptionsDefs:()=>Zt,compactAggregationIndices:()=>y0,compareDates:()=>s4,computeBarFocusBounds:()=>X4,computeMarkerFocusBounds:()=>ZC,coneFunnelSeriesThemeableOptionsDef:()=>gJ,continuousAxisOptions:()=>dm,countExpandingSearch:()=>HZ,createAggregationIndices:()=>m0,createButton:()=>V7e,createCheckbox:()=>U7e,createDatumId:()=>ur,createDeprecationWarning:()=>a3,createIcon:()=>Gee,createIdsGenerator:()=>a4,createSelect:()=>H7e,createTextArea:()=>G7e,dateToNumber:()=>Hi,dateTruncationForDomain:()=>n4,datesSortOrder:()=>i4,datumKeys:()=>Ow,datumStylerProperties:()=>aC,deconstructSelectionsOrNodes:()=>sC,deepClone:()=>xs,deepFreeze:()=>kc,diff:()=>BC,discreteTimeAxisIntervalOptionsDefs:()=>x4,drawCorner:()=>By,drawMarkerUnitPolygon:()=>Uy,durationDay:()=>rf,durationHour:()=>Hh,durationMinute:()=>Xu,durationMonth:()=>ZO,durationSecond:()=>lg,durationWeek:()=>vQ,durationYear:()=>o0,easing:()=>zD,enterpriseModule:()=>hd,errorBarOptionsDefs:()=>LC,errorBarThemeableOptionsDefs:()=>_b,estimateTickCount:()=>DQ,evaluateBezier:()=>Mg,expandLegendPosition:()=>RS,extent:()=>zd,extractDecoratedProperties:()=>Pq,fillsOptionsDef:()=>f0,findMinMax:()=>pi,findQuadtreeMatch:()=>tM,findRangeExtent:()=>sf,fixNumericExtent:()=>Gr,focusCursorAtEnd:()=>B3e,formatNumber:()=>AZ,formatObjectValidator:()=>xX,formatPercent:()=>NZ,formatTicks:()=>_Q,formatValue:()=>Eg,fromToMotion:()=>Fs,funnelSeriesThemeableOptionsDef:()=>mJ,generateTicks:()=>VQ,getAngleRatioRadians:()=>Gq,getColorStops:()=>Xq,getCrossLineValue:()=>dQ,getDateTicksForInterval:()=>r4,getDatumRefPoint:()=>PO,getElementBBox:()=>rZ,getIconClassNames:()=>Z2,getItemStyles:()=>zO,getItemStylesPerItemId:()=>cRe,getLabelStyles:()=>Lf,getLastFocus:()=>DO,getMarkerStyles:()=>QC,getMissCount:()=>sQ,getPath:()=>yO,getPathComponents:()=>iQ,getRadialColumnWidth:()=>Bee,getSequentialColors:()=>ja,getShapeFill:()=>QQ,getShapeStyle:()=>ek,getTextAlign:()=>$Q,getTextBaseline:()=>FQ,getTimeIntervalTicks:()=>PQ,groupAccumulativeValueProperty:()=>p0,groupAverage:()=>MX,groupCount:()=>ik,groupSum:()=>CX,hasNoModifiers:()=>lb,heatmapSeriesThemeableOptionsDef:()=>yJ,highlightStates:()=>iC,initRovingTabIndex:()=>S5e,interpolatePoints:()=>xx,interpolationOptionsDefs:()=>OC,intervalCeil:()=>SQ,intervalEpoch:()=>l0,intervalExtent:()=>XO,intervalFloor:()=>Ja,intervalHierarchy:()=>bb,intervalMilliseconds:()=>Hr,intervalNext:()=>QO,intervalPrevious:()=>wQ,intervalRange:()=>co,intervalRangeCount:()=>JO,intervalRangeStartIndex:()=>e4,intervalStep:()=>Md,intervalUnit:()=>Kc,isAgStandaloneChartOptions:()=>KQ,isAgTopologyChartOptions:()=>YQ,isBetweenAngles:()=>Rh,isButtonClickEvent:()=>EO,isChartAxisDirection:()=>p5e,isContinuous:()=>lC,isDecoratedObject:()=>H2,isDenseInterval:()=>Lg,isGradientFill:()=>Ho,isGradientOrPatternFill:()=>O3e,isImageFill:()=>tf,isInputPending:()=>aZ,isObjectWithProperty:()=>$q,isObjectWithStringProperty:()=>c3e,isPatternFill:()=>Cd,isProperties:()=>Vh,isScaleValid:()=>b0,jsonApply:()=>cx,jsonDiff:()=>Yc,jsonPropertyCompare:()=>oZ,jsonWalk:()=>ud,keyProperty:()=>dd,legendSymbolSvg:()=>tX,lineDistanceSquared:()=>Ew,linearGaugeSeriesOptionsDef:()=>Nd,linearGaugeSeriesThemeableOptionsDef:()=>Vw,linearGaugeTargetOptionsDef:()=>RC,listDecoratedProperties:()=>cd,lowestGranularityForInterval:()=>vb,lowestGranularityUnitForTicks:()=>t4,lowestGranularityUnitForValue:()=>dC,makeAccessibleClickListener:()=>w5e,makeSeriesTooltip:()=>Rf,mapLineBackgroundSeriesThemeableOptionsDef:()=>vJ,mapLineSeriesThemeableOptionsDef:()=>bJ,mapMarkerSeriesThemeableOptionsDef:()=>SJ,mapShapeBackgroundSeriesThemeableOptionsDef:()=>CJ,mapShapeSeriesThemeableOptionsDef:()=>wJ,mapValues:()=>Fq,markerEnabled:()=>H4,markerFadeInAnimation:()=>S0,markerOptionsDefs:()=>Yo,markerScaleInAnimation:()=>oee,markerStyleOptionsDefs:()=>IC,markerSwipeScaleInAnimation:()=>U4,memo:()=>t0,merge:()=>Xx,mergeArrayDefaults:()=>zq,mergeDefaults:()=>pn,midpointStartingBarPosition:()=>HFe,minimumTimeAxisDatumGranularity:()=>VX,moduleRegistry:()=>El,motion:()=>n9e,multiSeriesHighlightStyle:()=>_d,nearestSquared:()=>U2,nearestSquaredInContainer:()=>r3e,nextPowerOf2:()=>WZ,nightingaleSeriesThemeableOptionsDef:()=>MJ,normaliseGroupTo:()=>$C,normalisePropertyTo:()=>LS,normalisedExtentWithMetadata:()=>b4,normalizeAngle180:()=>Tw,normalizeAngle360:()=>hi,normalizeAngle360FromDegrees:()=>Wc,normalizeAngle360Inclusive:()=>m3e,normalizeContinuousDomains:()=>FO,numberFormatValidator:()=>nl,objectsEqual:()=>Cr,objectsEqualWith:()=>mO,ohlcSeriesThemeableOptionsDef:()=>xJ,ordinalTimeAxisOptionsDefs:()=>Vp,pairUpSpans:()=>yx,partialAssign:()=>ID,pathFadeInAnimation:()=>qw,pathMotion:()=>Yw,pathSwipeInAnimation:()=>G4,pick:()=>jS,pickByMatchingAngle:()=>Tee,plotAreaPathFill:()=>iee,plotInterpolatedAreaSeriesFillSpans:()=>zS,plotInterpolatedLinePathStroke:()=>PS,plotLinePathStroke:()=>$4,pointsEq:()=>v0,polarChartOptionsDefs:()=>Fee,predictCartesianAxis:()=>Y4,predictCartesianTimeAxis:()=>Gb,predictTimeAxisType:()=>K4,prepareAreaFillAnimationFns:()=>ree,prepareAreaPathAnimation:()=>aee,prepareAxisAnimationContext:()=>pQ,prepareAxisAnimationFunctions:()=>gQ,prepareBarAnimationFunctions:()=>M0,prepareLinePathAnimation:()=>see,prepareLinePathPropertyAnimation:()=>V4,prepareLinePathStrokeAnimationFns:()=>B4,preparePieSeriesAnimationFunctions:()=>$S,previousPowerOf2:()=>$D,processedDataIsAnimatable:()=>pm,pyramidSeriesThemeableOptionsDef:()=>jJ,radarAreaSeriesThemeableOptionsDef:()=>NJ,radarLineSeriesThemeableOptionsDef:()=>AJ,radialBarSeriesThemeableOptionsDef:()=>TJ,radialColumnSeriesThemeableOptionsDef:()=>EJ,radialGaugeSeriesOptionsDef:()=>Pb,radialGaugeSeriesThemeableOptionsDef:()=>Uw,radialGaugeTargetOptionsDef:()=>_C,radiusCategoryAxisOptionsDefs:()=>YX,radiusNumberAxisOptionsDefs:()=>WX,range:()=>fC,rangeAreaSeriesThemeableOptionsDef:()=>DJ,rangeBarSeriesThemeableOptionsDef:()=>kJ,rangeValidator:()=>kC,rangedValueProperty:()=>IX,resetAxisFillSelectionFn:()=>yQ,resetAxisGroupFn:()=>mQ,resetAxisLabelSelectionFn:()=>Rw,resetAxisLineSelectionFn:()=>YD,resetBarSelectionsFn:()=>j0,resetLabelFn:()=>Of,resetMarkerFn:()=>qC,resetMarkerPositionFn:()=>w0,resetMotion:()=>Ui,resetPieSelectionsFn:()=>Aee,rowCountProperty:()=>DX,sankeySeriesThemeableOptionsDef:()=>IJ,scale:()=>wi,sectorBox:()=>jee,seriesLabelFadeInAnimation:()=>ms,seriesLabelFadeOutAnimation:()=>_S,seriesLabelOptionsDefs:()=>Ln,setElementBBox:()=>kw,setPath:()=>bO,shadowOptionsDefs:()=>Wl,shallowClone:()=>MO,simpleMemorize:()=>Vi,simpleMemorize2:()=>ub,singleSeriesHighlightStyle:()=>fX,solveBezier:()=>Dw,sortAndUniqueDates:()=>KD,splitBezier2D:()=>Jx,stackCartesianSeries:()=>_ee,standaloneChartOptionsDefs:()=>Z8e,staticFromToMotion:()=>nu,stopPageScrolling:()=>wZ,sum:()=>t6e,sumValues:()=>FC,sunburstSeriesThemeableOptionsDef:()=>LJ,textOrSegments:()=>um,tickFormat:()=>C_e,ticksEqual:()=>XD,ticksSpacing:()=>RQ,timeInterval:()=>PC,timeIntervalMaxLabelSize:()=>zQ,timeIntervalUnit:()=>zb,toDegrees:()=>y3e,toHighlightString:()=>am,toRadians:()=>Wi,toolbarButtonOptionsDefs:()=>Ph,tooltipContentAriaLabel:()=>iX,tooltipHtml:()=>aX,tooltipOptionsDefs:()=>un,topologyChartOptionsDefs:()=>q8e,trailingAccumulatedValue:()=>NX,trailingAccumulatedValueProperty:()=>a6e,treemapSeriesThemeableOptionsDef:()=>OJ,updateClipPath:()=>Zw,updateLabelNode:()=>BJ,validateCrossLineValue:()=>hQ,valueProperty:()=>qn,visibleRangeIndices:()=>i0,waterfallSeriesThemeableOptionsDef:()=>RJ,withTemporaryDomain:()=>o4,without:()=>ke});function a3(){return(e,t)=>{const n=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");Ne.warnOnce(n)}}function m7e(e,t){const n=a3(),s=t?.default;return ef((i,r,a)=>(a!==s&&n(r.toString(),e),a))}function y7e(e,t){const n=a3();return ef((s,i,r)=>(r!==s[e]&&(n(i.toString(),`Use [${e}] instead.`),bO(s,e,t?t(r):r)),kD),(s,i)=>(n(i.toString(),`Use [${e}] instead.`),yO(s,e)))}var Up={add:x7e,angle:M7e,apply:L7e,equal:k7e,distance:S7e,distanceSquared:w7e,from:I7e,gradient:N7e,intercept:A7e,intersectAtX:E7e,intersectAtY:T7e,length:l3,lengthSquared:v7e,multiply:b7e,normalized:C7e,origin:Vee,required:O7e,rotate:j7e,round:D7e,sub:o3};function x7e(e,t){return typeof t=="number"?{x:e.x+t,y:e.y+t}:{x:e.x+t.x,y:e.y+t.y}}function o3(e,t){return typeof t=="number"?{x:e.x-t,y:e.y-t}:{x:e.x-t.x,y:e.y-t.y}}function b7e(e,t){return typeof t=="number"?{x:e.x*t,y:e.y*t}:{x:e.x*t.x,y:e.y*t.y}}function l3(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function v7e(e){return e.x*e.x+e.y*e.y}function S7e(e,t){const n=o3(e,t);return Math.sqrt(n.x*n.x+n.y*n.y)}function w7e(e,t){const n=o3(e,t);return n.x*n.x+n.y*n.y}function C7e(e){const t=l3(e);return{x:e.x/t,y:e.y/t}}function M7e(e,t){return t==null?Math.atan2(e.y,e.x):Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)}function j7e(e,t,n=Vee()){const s=l3(e);return{x:n.x+s*Math.cos(t),y:n.y+s*Math.sin(t)}}function N7e(e,t,n){const s=t.x-e.x;return(n==null?t.y-e.y:n-t.y-(n-e.y))/s}function A7e(e,t,n){return(n==null?e.y:n-e.y)-t*e.x}function T7e(e,t,n=0,s){return{x:e===1/0?1/0:(n-t)/e,y:s==null?n:s-n}}function E7e(e,t,n=0,s){const i=e===1/0?1/0:e*n+t;return{x:n,y:s==null?i:s-i}}function D7e(e,t=2){return{x:s9(e.x,t),y:s9(e.y,t)}}function k7e(e,t){return e.x===t.x&&e.y===t.y}function I7e(e,t){if(typeof e=="number")return{x:e,y:t};if("currentX"in e)return{x:e.currentX,y:e.currentY};if("offsetWidth"in e)return{x:e.offsetWidth,y:e.offsetHeight};if("width"in e)return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y+e.height}];if("x1"in e)return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(e)}] [${t}]`)}function L7e(e,t){return e.x=t.x,e.y=t.y,e}function O7e(e){return{x:e?.x??0,y:e?.y??0}}function Vee(){return{x:0,y:0}}var Uee=class VS{constructor(t,n,s,i,r,a,o,c,u,h){this.series=t,this.datumIndex=n,this.datum=s,this.sizeValue=i,this.colorValue=r,this.sumSize=a,this.depth=o,this.parent=c,this.children=u,this.style=h,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(t,n=VS.Walk.PreOrder){n===VS.Walk.PreOrder&&t(this),this.children.forEach(s=>{s.walk(t,n)}),n===VS.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const t of this.children)yield*t}};Uee.Walk={PreOrder:0,PostOrder:1};var R7e=Uee,_7e=class extends xC{constructor(e){super({moduleCtx:e,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new nm,this.animationState=new pb("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}processData(){const{NodeClass:e}=this,{childrenKey:t,sizeKey:n,colorKey:s,colorRange:i}=this.properties;let r=0,a=1/0,o=-1/0;const c=(g,m,y)=>{const b=y.depth!=null?y.depth+1:0,S=t!=null?g[t]:void 0,C=S==null||S.length===0;let M=n!=null?g[n]:void 0;Number.isFinite(M)?M=Math.max(M,0):M=C?1:0;const N=M;r=Math.max(r,b);const T=s!=null?g[s]:void 0;typeof T=="number"&&(a=Math.min(a,T),o=Math.max(o,T));const E=this.getItemStyle({datumIndex:m,datum:g,depth:b,colorValue:T},C,!1);return u(new e(this,m,g,M,T,N,b,y,[],E),S)},u=(g,m)=>{const{datumIndex:y}=g;return m?.forEach((b,S)=>{const C=c(b,y.concat(S),g);g.children.push(C),g.sumSize+=C.sumSize}),g},h=u(new e(this,[],void 0,0,void 0,0,void 0,void 0,[],{}),this.data),f=[a,o];this.colorScale.domain=a<o?[a,o]:[0,1],this.colorScale.range=i??["black"],this.colorScale.update(),this.rootNode=h,this.maxDepth=r,this.colorDomain=f}update({seriesRect:e}){this.updateSelections(),this.updateNodes();const t=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",t),this.animationState.transition("update",t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}dataCount(){return NaN}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorRange:n}=this.properties,{id:s,ctx:{legendManager:i},visible:r}=this;return e==="gradient"&&t!=null&&n!=null?[{legendType:"gradient",enabled:r&&i.getItemEnabled({seriesId:s}),seriesId:s,series:this.getFormatterContext("color"),colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return e.datumIndex.join(":")}getDatumId(e){return this.getDatumIdFromData(e)}removeMeIndexPathForIndex(e){return this.datumSelection.at(e+1)?.datum.datumIndex??[]}removeMeIndexForIndexPath(e){for(const{index:t,datum:n}of this.datumSelection)if(Lc(n.datumIndex,e))return t-1;return 0}pickFocus(e){if(!this.rootNode?.children.length)return;const t=wt(0,e.datumIndex-e.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:n,otherIndexDelta:s}=e;let i=this.removeMeIndexPathForIndex(t);const r=i.reduce((c,u)=>c.children[u],this.rootNode);if(s>0&&r.hasChildren)i=[...i,0];else if(s<0&&i.length>1)i=i.slice(0,-1);else if(s===0&&n!==0){const c=r.parent.children.length-1;i=i.slice(),i[i.length-1]=wt(0,i[i.length-1]+n,c)}const a=i.reduce((c,u)=>c.children[u],this.rootNode),o=this.computeFocusBounds(this.datumSelection.at(t+1));if(o!=null)return{datum:a,datumIndex:this.removeMeIndexForIndexPath(i),otherIndex:a.depth,bounds:o,clipFocusBox:!0}}getDatumAriaText(e,t){if(!(e instanceof this.NodeClass)){Ne.error(`datum is not HierarchyNode: ${JSON.stringify(e)}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t})}getCategoryValue(e){}datumIndexForCategoryValue(e){}},Hd=class extends xo{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(_s),this.strokes=Object.values(jc)}};D([O],Hd.prototype,"childrenKey",2);D([O],Hd.prototype,"sizeKey",2);D([O],Hd.prototype,"colorKey",2);D([O],Hd.prototype,"colorName",2);D([O],Hd.prototype,"fills",2);D([O],Hd.prototype,"strokes",2);D([O],Hd.prototype,"colorRange",2);var P7e=class Hee{constructor(t,n,s,i){this.lon0=t,this.lat0=n,this.lon1=s,this.lat1=i}extend(t,n,s,i){return this.lon0=Math.min(this.lon0,t),this.lat0=Math.min(this.lat0,n),this.lon1=Math.max(this.lon1,s),this.lat1=Math.max(this.lat1,i),this}merge(t){return this.extend(t.lon0,t.lat0,t.lon1,t.lat1)}static extend(t,n,s,i,r){return t?t.extend(n,s,i,r):new Hee(n,s,i,r)}},oM=Math.PI/180,cE=e=>e*oM,uE=e=>-Math.log(Math.tan(Math.PI*.25+e*oM*.5)),dE=e=>e/oM,hE=e=>(Math.atan(Math.exp(-e))-Math.PI*.25)/(oM*.5),z7e=class wk extends Y2{constructor(t,n){super(),this.domain=t,this.range=n,this.type="mercator",this.defaultTickCount=0,this.bounds=wk.bounds(t)}static bounds(t){const[[n,s],[i,r]]=t,a=cE(n),o=uE(s),c=cE(i),u=uE(r);return new Pe(Math.min(a,c),Math.min(o,u),Math.abs(c-a),Math.abs(u-o))}static fixedScale(){return new wk([[dE(0),hE(0)],[dE(1),hE(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(...t){let n=-1/0,s=1/0,i=-1/0,r=1/0;for(const a of t)for(const[o,c]of a)n=Math.min(o,n),s=Math.max(o,s),i=Math.min(c,i),r=Math.max(c,r);return{domain:[[n,i],[s,r]],animatable:!0}}convert([t,n]){const[[s,i],[r,a]]=this.range,o=(r-s)/this.bounds.width,c=(a-i)/this.bounds.height;return[(cE(t)-this.bounds.x)*o+s,(uE(n)-this.bounds.y)*c+i]}invert([t,n]){const[[s,i],[r,a]]=this.range,o=(r-s)/this.bounds.width,c=(a-i)/this.bounds.height;return[dE((t-s)/o+this.bounds.x),hE((n-i)/c+this.bounds.y)]}},F7e={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},$7e={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function B7e({yDirection:e,padding:t=0,position:n="top",bbox:s}){const i=e?F7e:$7e,{xTranslationDirection:r,yTranslationDirection:a}=i[n],o=r*(t+s.width/2),c=a*(t+s.height/2);return{xTranslation:o,yTranslation:c}}function V7e(e,t){const n=Ot("button",lM("ag-charts-input ag-charts-button",t));return e.label!==void 0?n.append(e.label):(n.append(Gee(e.icon)),n.ariaLabel=e.altText),n.addEventListener("click",e.onPress),Cg(n,t),n}function U7e(e,t){const n=Ot("input",lM("ag-charts-input ag-charts-checkbox",t));return n.type="checkbox",n.checked=e.checked,n.addEventListener("change",s=>e.onChange(n.checked,s)),n.addEventListener("keydown",s=>{EO(s)&&(s.preventDefault(),n.click())}),Cg(n,t),n}function H7e(e,t){const n=Ot("select",lM("ag-charts-input ag-charts-select",t));return n.append(...e.options.map(s=>{const i=Ot("option");return i.value=s.value,i.textContent=s.label,i})),nn(n,"data-preventdefault",!1),n.value=e.value,n.addEventListener("change",s=>e.onChange(n.value,s)),Cg(n,t),n}function G7e(e,t){const n=Ot("textarea",lM("ag-charts-input ag-charts-textarea",t));return n.value=e.value,n.addEventListener("input",s=>e.onChange(n.value,s)),Cg(n,t),nn(n,"data-preventdefault",!1),n}function Gee(e){const t=Ot("span",`ag-charts-icon ag-charts-icon-${e}`);return nn(t,"aria-hidden",!0),t}function lM(e,t){return t==null?e:`${e} ${t.class}`}var Wee=class extends xi{constructor(e=""){super(),this._d="",this.d=e}get d(){return this._d}set d(e){e!==this._d&&(this._d=e,this.path.clear(),this.path.appendSvg(e),this.checkPathDirty())}},W7e=class extends rm(Wee){isPointInPath(e,t){return super.isPointInPath(e-this.translationX,t-this.translationY)}},jm=class extends Gc{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(e){const{ctx:t}=e,n=this.sourceImage;n&&(t.globalAlpha=this.opacity,t.drawImage(n,0,0,n.width,n.height,this.x,this.y,this.width,this.height)),super.render(e)}};D([Me()],jm.prototype,"x",2);D([Me()],jm.prototype,"y",2);D([Me()],jm.prototype,"width",2);D([Me()],jm.prototype,"height",2);D([Me()],jm.prototype,"opacity",2);var Y7e={};Ul(Y7e,{ButtonWidget:()=>cb,MenuItemRadioWidget:()=>c3,MenuItemWidget:()=>cM,MenuWidget:()=>u3,NativeWidget:()=>Tg,SliderWidget:()=>RO,ToolbarWidget:()=>eC,WIDGET_HTML_EVENTS:()=>jO,Widget:()=>Hl,WidgetEventUtil:()=>Oc});var cM=class extends IO{constructor(){super(Ot("div"),"menuitem")}},c3=class extends IO{constructor(){super(Ot("div"),"menuitemradio")}setChecked(e){nn(this.elem,"aria-checked",e)}},K7e=["Escape","ArrowLeft"],u3=class Yee extends LO{constructor(t="vertical"){super(t,"menu"),this.handleMouseEnter=(n,s)=>{s.hasPopup()||this.expandSubMenu(n,void 0)},this.handleMouseMove=(n,s)=>{s.focus({preventScroll:!0})}}destructor(){this.collapse({mode:"2"})}addSeparator(){const t=Ll().createElement("div");return nn(t,"role","separator"),this.elem.appendChild(t),t}onChildAdded(t){super.onChildAdded(t),t.addListener("mouseenter",this.handleMouseEnter),t.addListener("mousemove",this.handleMouseMove)}onChildRemoved(t){super.onChildRemoved(t),t.removeListener("mouseenter",this.handleMouseEnter),t.removeListener("mousemove",this.handleMouseMove)}addSubMenu(){const t=new cM,n=new Yee(this.orientation);n.id=jw();const s=()=>{this.collapseExpandedSubMenu(n),t.expandControlled()},i=r=>{lb(r.sourceEvent)&&r.sourceEvent.code==="ArrowRight"&&(this.collapseExpandedSubMenu(n),t.expandControlled())};return t.setControlled(n),t.setAriaHasPopup("menu"),t.addListener("click",s),t.addListener("mouseenter",s),t.addListener("keydown",i),this.addChild(t),{subMenuButton:t,subMenu:n}}expandSubMenu(t,n){const{expansionScope:s}=this;s&&(this.collapseExpandedSubMenu(n),n?.expand(t))}collapseExpandedSubMenu(t){const{expansionScope:n}=this;n&&(n.expandedSubMenu?.collapse({mode:"4"}),n.expandedSubMenu=t)}expand(t){if(this.expansionScope!=null)return;this.expansionScope={lastFocus:DO(t.sourceEvent),expandedSubMenu:void 0,abort:()=>this.collapse({mode:"1"}),close:()=>this.collapse({mode:"0"}),removers:new Cs};const n=this.expansionScope,s=this.children.map(i=>i.getElement());nn(n.lastFocus,"aria-expanded",!0),n.removers.register(xZ(this.elem,n.abort),bZ(this.elem,n.abort),...this.children.map(i=>TO(i.getElement(),n.close,K7e)),t?.overrideFocusVisible&&SZ(this.elem,s,t.overrideFocusVisible)),this.internalListener?.dispatch("expand-widget",this,{type:"expand-widget"}),this.children[0]?.focus({preventScroll:!0})}collapse(t){const{mode:n="0"}=t??{};if(this.expansionScope===void 0)return;const{lastFocus:s,removers:i,expandedSubMenu:r}=this.expansionScope;this.expansionScope=void 0,r?.collapse({mode:"3"}),nn(s,"aria-expanded",!1),n==="0"&&s?.focus({preventScroll:!0}),i.flush(),this.internalListener?.dispatch("collapse-widget",this,{type:"collapse-widget",mode:n})}},dB="canvas-overlay",d3=class extends B2{constructor(e,t,n){super(),this.ctx=e,this.hideFns=[],this.setOwnedWidget=(()=>{let s;return i=>{s?.destroy(),s=i}})(),this.moduleId=`popover-${t}`,n?.detached?this.element=Ot("div"):this.element=e.domManager.addChild(dB,this.moduleId),this.element.setAttribute("role","presentation"),this.hideFns.push(()=>this.setOwnedWidget(void 0)),this.cleanup.register(()=>e.domManager.removeChild(dB,this.moduleId))}attachTo(e){this.element.parentElement||e.element.append(this.element)}hide(e){const{lastFocus:t=this.lastFocus}=e??{};this.element.children.length!==0&&(this.hideFns.forEach(n=>n()),t?.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}initPopoverElement(e,t){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");return e??(e=Ot("div","ag-charts-popover")),e.classList.toggle("ag-charts-popover",!0),t.ariaLabel!=null&&e.setAttribute("aria-label",t.ariaLabel),t.class!=null&&e.classList.add(t.class),this.element.replaceChildren(e),e}showWidget(e,t,n){this.setOwnedWidget(t),this.initPopoverElement(t.getElement(),n),t.addListener("collapse-widget",()=>{e.setControlled(void 0),this.setOwnedWidget(void 0)}),e.setControlled(t),e.expandControlled()}showWithChildren(e,t){const n=this.initPopoverElement(void 0,t);if(n.replaceChildren(...e),this.hideFns.push(()=>this.removeChildren()),t.onHide&&this.hideFns.push(t.onHide),t.initialFocus&&t.sourceEvent){const s=DO(t.sourceEvent);s!==void 0&&(this.lastFocus=s,this.initialFocus=t.initialFocus)}return n}getPopoverElement(){return this.element.firstElementChild}updatePosition(e){const t=this.getPopoverElement();t&&(t.style.setProperty("right","unset"),t.style.setProperty("bottom","unset"),e.x!=null&&t.style.setProperty("left",`${Math.floor(e.x)}px`),e.y!=null&&t.style.setProperty("top",`${Math.floor(e.y)}px`),this.initialFocus?.focus(),this.initialFocus=void 0)}},Kee=class extends d3{setAnchor(e,t){this.anchor=e,this.fallbackAnchor=t,this.updatePosition(e),this.repositionWithinBounds()}updateAnchor(e){const t=e.anchor??this.anchor,n=e.fallbackAnchor??this.fallbackAnchor;t&&this.setAnchor(t,n)}showWidget(e,t,n){super.showWidget(e,t,n),this.updateAnchor(n)}showWithChildren(e,t){const n=super.showWithChildren(e,t);return this.updateAnchor(t),Nn().requestAnimationFrame(()=>{this.repositionWithinBounds()}),n}repositionWithinBounds(){const{anchor:e,ctx:t,fallbackAnchor:n}=this,s=this.getPopoverElement();if(!e||!s)return;const i=t.domManager.getBoundingClientRect(),{offsetWidth:r,offsetHeight:a}=s;let o=wt(0,e.x,i.width-r),c=wt(0,e.y,i.height-a);o!==e.x&&n?.x!=null&&(o=wt(0,n.x-r,i.width-r)),c!==e.y&&n?.y!=null&&(c=wt(0,n.y-a,i.height-a)),this.updatePosition({x:o,y:c})}},q7e=class extends Kee{show(e,t){const n=new u3("vertical");for(const s of t.items)n.addChild(this.createRow(t,s,n));n.addClass("ag-charts-menu"),this.showWidget(e,n,t)}allocRow(e,t){if(e.menuItemRole==null||e.menuItemRole==="menuitem")return new cM;{e.menuItemRole;const n=new c3;return n.setChecked(e.value===t.value),n}}createRow(e,t,n){const s=t.value===e.value,i=this.allocRow(e,t);if(i.addClass("ag-charts-menu__row"),i.toggleClass("ag-charts-menu__row--active",s),typeof t.value=="string"&&(i.getElement().dataset.popoverId=t.value),t.icon!=null){const a=Ot("span",`ag-charts-menu__icon ${Z2(t.icon)}`);i.getElement().appendChild(a)}const r=t.strokeWidth!=null;if(r&&(i.toggleClass("ag-charts-menu__row--stroke-width-visible",r),i.setCSSVariable("--strokeWidth",r?`${t.strokeWidth}px`:null)),t.label!=null){const a=Ot("span","ag-charts-menu__label");a.textContent=this.ctx.localeManager.t(t.label),i.getElement().appendChild(a)}return"altText"in t&&i.setAriaLabel(this.ctx.localeManager.t(t.altText)),i.addListener("click",({sourceEvent:a})=>{e.onPress?.(t),a.preventDefault(),a.stopPropagation(),n.collapse()}),i}},qee=class extends d3{constructor(){super(...arguments),this.dragged=!1}setDragHandle(e){e.addListener("drag-start",t=>{e.addClass(this.dragHandleDraggingClass),this.onDragStart(t)}),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",()=>{e.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(e){const t=this.getPopoverElement();t&&(e.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:Up.from(e.clientX,e.clientY),position:Up.from(Number(t.style.getPropertyValue("left").replace("px","")),Number(t.style.getPropertyValue("top").replace("px","")))})}onDragMove(e){const{dragStartState:t}=this,n=this.getPopoverElement();if(!t||!n)return;const s=Up.sub(Up.from(e.clientX,e.clientY),t.client),i=Up.add(t.position,s),r=this.ctx.domManager.getBoundingClientRect(),a={};i.x>=0&&i.x+n.offsetWidth<=r.width&&(a.x=i.x),i.y>=0&&i.y+n.offsetHeight<=r.height&&(a.y=i.y),this.updatePosition(a)}onDragEnd(){this.dragStartState=void 0}},Qb=class extends mt{};D([O],Qb.prototype,"icon",2);D([O],Qb.prototype,"label",2);D([O],Qb.prototype,"ariaLabel",2);D([O],Qb.prototype,"tooltip",2);var Z7e={"disjoint-channel":"false","fibonacci-menu":"menu","fibonacci-retracement":"false","fibonacci-retracement-trend-based":"false","fill-color":"dialog","horizontal-line":"false","line-color":"dialog","line-menu":"menu","line-stroke-width":"menu","line-style-type":"menu","measurer-menu":"menu","pan-end":"false","pan-left":"false","pan-right":"false","pan-start":"false","parallel-channel":"false","shape-menu":"menu","text-color":"dialog","text-menu":"menu","text-size":"menu","vertical-line":"false","zoom-in":"false","zoom-out":"false",callout:"false",clear:"false",comment:"false",delete:"false",line:"false",lock:"false",menu:"menu",note:"false",reset:"false",settings:"dialog",text:"false"};function Q7e(e){return typeof e!="string"?"false":Z7e[e]}var Zee=class extends cb{constructor(e){super(),this.localeManager=e}update(e){const{localeManager:t}=this;e.tooltip&&(this.elem.title=t.t(e.tooltip));let n="";if(e.icon!=null&&(n=`<span class="${Z2(e.icon)} ag-charts-toolbar__icon"></span>`),e.label!=null){const i=t.t(e.label);n=`${n}<span class="ag-charts-toolbar__label">${i}</span>`}const s=Q7e(e.value);s=="false"?(this.setAriaHasPopup(void 0),this.setAriaExpanded(void 0)):(this.setAriaHasPopup(s),this.setAriaExpanded(!1)),this.elem.innerHTML=n}setChecked(e){nn(this.elem,"aria-checked",e)}},hB="ag-charts-toolbar__button--active",h3=class extends eC{constructor({eventsHub:e,localeManager:t},n,s){super(s),this.ariaLabelId=n,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new DZ,this.hasPrefix=!1,this.buttonWidgets=[],this.updateAriaLabel=()=>this.setAriaLabel(this.localeManager.t(this.ariaLabelId)),this.eventsHub=e,this.localeManager=t,this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal",s==="horizontal"),this.toggleClass("ag-charts-toolbar--vertical",s==="vertical"),this.eventsHub.on("locale:change",this.updateAriaLabel),this.updateAriaLabel()}setAriaLabelId(e){this.ariaLabelId=e,this.updateAriaLabel()}addToolbarListener(e,t){return this.events.addListener(e,t)}clearButtons(){this.expanded?.collapse({mode:"2"});for(const e of this.buttonWidgets)e.destroy();this.buttonWidgets.splice(0)}updateButtons(e){const{buttonWidgets:t}=this;for(const[n,s]of e.entries())(this.buttonWidgets.at(n)??this.createButton(n,s)).update(s);for(let n=e.length;n<t.length;n++)this.buttonWidgets.at(n)?.destroy();this.buttonWidgets.splice(e.length),this.refreshButtonClasses()}updateButtonByIndex(e,t){this.buttonWidgets.at(e)?.update(t)}clearActiveButton(){for(const e of this.buttonWidgets)e.toggleClass(hB,!1)}toggleActiveButtonByIndex(e){if(e!==-1)for(const[t,n]of this.buttonWidgets.entries())n.toggleClass(hB,e!=null&&e===t)}toggleButtonEnabledByIndex(e,t){e!==-1&&this.buttonWidgets.at(e)?.setEnabled(t)}toggleSwitchCheckedByIndex(e,t){e!==-1&&this.buttonWidgets.at(e)?.setChecked(t)}getButtonBounds(){return this.buttonWidgets.map(e=>this.getButtonWidgetBounds(e))}setButtonHiddenByIndex(e,t){this.buttonWidgets.at(e)?.setHidden(t)}getButtonWidgetBounds(e){const t=this.getBounds(),n=e.getBounds();return new Pe(n.x+t.x,n.y+t.y,n.width,n.height)}refreshButtonClasses(){const{buttonWidgets:e,hasPrefix:t}=this;let n,s,i;for(const[r,a]of e.entries())n=!t&&r===0||i!=a.section,s=r===e.length-1||a.section!=e.at(r+1)?.section,a.toggleClass("ag-charts-toolbar__button--first",n),a.toggleClass("ag-charts-toolbar__button--last",s),a.toggleClass("ag-charts-toolbar__button--gap",r>0&&n),i=a.section}createButton(e,t){const n=this.createButtonWidget();return n.addClass("ag-charts-toolbar__button"),n.addListener("click",s=>{const i={index:e,...t instanceof mt?t.toJson():t},r=this.getButtonWidgetBounds(n),a={event:s,button:i,buttonBounds:r,buttonWidget:n};this.events.dispatch("button-pressed",a)}),n.addListener("focus",()=>{const s={button:{index:e}};this.events.dispatch("button-focused",s)}),n.addListener("expand-controlled-widget",s=>{this.expanded?.collapse({mode:"4"}),this.expanded=s.controlled;const i=this.expanded.addListener("collapse-widget",()=>{this.expanded=void 0,i()})}),t.section&&(n.section=t.section),this.buttonWidgets.push(n),this.addChild(n),n}},X7e=class extends h3{createButtonWidget(){return new Zee(this.localeManager)}},J7e=class extends qee{constructor(e,t,n){super(e,t),this.onPopoverMoved=n,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(e,t={}){this.showWithChildren(e,{...t,class:"ag-charts-floating-toolbar"})}hide(){this.dragged=!1,super.hide()}getBounds(){const e=this.getPopoverElement();return new Pe(e?.offsetLeft??0,e?.offsetTop??0,e?.offsetWidth??0,e?.offsetHeight??0)}hasBeenDragged(){return this.dragged}setAnchor(e,t,n){const s=this.getPopoverElement();if(!s)return;const i=e.position??"above",{offsetWidth:r,offsetHeight:a}=s;let o=e.y-a-n,c=e.x-r/2;i==="below"?o=e.y+n:i==="right"?(o=e.y-a/2,c=e.x+t):i==="above-left"&&(c=e.x),this.updatePosition({x:c,y:o})}ignorePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="none")}capturePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="unset")}updatePosition(e){const t=this.getBounds(),n=this.ctx.domManager.getBoundingClientRect();e.x=Math.floor(wt(0,e.x,n.width-t.width)),e.y=Math.floor(wt(0,e.y,n.height-t.height)),super.updatePosition(e),this.onPopoverMoved()}},e9e=class extends h3{constructor(e,t,n){super(e,t,"horizontal"),this.hasPrefix=!0,this.popover=new J7e(e,n,this.onPopoverMoved.bind(this)),this.dragHandle=new t9e(e.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}destroy(){super.destroy(),this.popover.destroy()}show(e={}){this.popover.show([this.dragHandle.getElement(),this.getElement()],e)}hide(){this.popover.hide()}setAnchor(e){this.popover.setAnchor(e,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){const e=this.popover.getBounds();if(this.popoverBounds?.equals(e))return;this.popoverBounds=e.clone();const t=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:e,buttonBounds:t})}getButtonWidgetBounds(e){const t=this.popover.getBounds(),n=super.getButtonWidgetBounds(e),s=this.dragHandle.getBounds();return new Pe(n.x+t.x-s.width,n.y+t.y,n.width,n.height)}},t9e=class extends Tg{constructor(e){super(Ot("div","ag-charts-floating-toolbar__drag-handle"));const t=new Tg(Ot("span",`${Z2("drag-handle")} ag-charts-toolbar__icon`));t.setAriaHidden(!0),this.addChild(t),this.elem.title=e}},n9e={...lQ,...cQ};nd.create.bind(nd),nd.__createSparkline.bind(nd);function fB(e,t){return{...e,container:t.current}}function s9e(e,t){const n=w.forwardRef(function(i,r){const{options:a,style:o,className:c}=i,u=w.useRef(null),h=w.useRef();w.useLayoutEffect(()=>{const g=e(fB(a,u));return h.current=g,()=>{g.destroy()}},[]);const f=h.current===void 0;return w.useEffect(()=>{f||h.current?.update(fB(a,u)).catch(g=>console.error(g))},[a]),w.useImperativeHandle(r,()=>h.current,[]),w.useMemo(()=>w.createElement("div",{ref:u,style:o,className:c}),[o,c])});return n.displayName=t,n}var i9e=s9e(e=>nd.create(e),"AgCharts");const r9e=e=>{const t=Number(e.slice(0,4)),n=Number(e.slice(4,6))-1;return new Date(Date.UTC(t,n)).toLocaleString("en-US",{month:"short",year:"2-digit",timeZone:"UTC"})},a9e=e=>{const t=new Date,n=`${t.getFullYear()}${String(t.getMonth()+1).padStart(2,"0")}`;return e===n},Qee=({className:e,hoverSlug:t,isLoading:n,items:s})=>{const{organizationId:i}=He(),r=new Set;s.forEach(u=>{Object.keys(u.count).forEach(h=>{r.add(h)})});const a=Array.from(r).sort();a.sort((u,h)=>u.localeCompare(h));const o=a.map(u=>({month:r9e(u)+(a9e(u)?" (incomplete)":""),...s.reduce((h,f)=>(h[f.slug]=f.count[u]??0,h),{})})),c={legend:{enabled:!1},theme:{overrides:{common:{title:{fontFamily:"inherit"},axes:{number:{gridLine:{style:[{stroke:"#f1f5f9"}]},label:{fontFamily:"sans-serif",fontSize:13,color:"#94a3b8",formatter:u=>$e(u.value)}},category:{line:{enabled:!1},label:{fontFamily:"sans-serif",fontSize:13,color:"#94a3b8"}}}},line:{series:{interpolation:{type:"linear"}}}}},tooltip:{enabled:!0},padding:{top:8,right:8,bottom:8,left:12},axes:[{type:"number",position:"right",min:0},{type:"category",position:"bottom"}],data:o,overlays:{noData:{renderer:()=>"<div class='text-slate-400 relative -top-[2rem] -left-[1.2rem]'>No items selected</div>"}},series:s.map(u=>({type:"line",xKey:"month",yKey:u.slug,yName:u.name,marker:{size:12,fill:u.color,fillOpacity:!t||t===u.slug?1:.2,stroke:u.color,strokeWidth:2},highlightStyle:{series:{dimOpacity:.2,strokeWidth:4,stroke:u.color},item:{stroke:u.color,strokeWidth:3}},strokeWidth:t===u.slug?4:2,strokeOpacity:!t||t===u.slug?1:.2,stroke:u.color,tooltip:{showArrow:!1,renderer:h=>({title:"",fontFamily:"sans-serif",content:`<div class="text-white px-3 py-1 rounded-lg" style="background-color: ${u.color}">${h.title} (${h.datum.month})<br/>${$e(h.datum[h.yKey])} ${u.type==="tech"?"job posts":"people"}</div>`})},listeners:{seriesNodeClick:()=>{window.open(`/orgs/${i}/${u.type==="job_function_people"?"people":"jobs"}?as=${encodeURIComponent(`{"operator": "AND", "children":[{"operator": "OR", "fields":{"${u.type==="tech"?"technology":"job_function"}":{"include":["${u.type==="tech"?u.slug:u.name}"]}}}]}`)}`,"_blank")}}}))};return l.jsx("div",{className:"relative",children:n?l.jsx("div",{className:"w-full h-[26rem] flex items-center justify-center",children:l.jsx(Yr,{className:"w-8! h-8!"})}):l.jsxs(l.Fragment,{children:[l.jsx(i9e,{options:c,className:e}),s.length===0&&l.jsx("div",{className:"bg-white w-full h-3 absolute bottom-5"})]})})},Jp=["#EA580C","#16A34A","#9333EA","#0284C7","#DB2778","#0D9488","#D97700","#BE123C","#3F6214","#0369A1","#047857"],o9e=({isLoading:e,isPlaceholderData:t,itemName:n,items:s,onHover:i,showAllItems:r,toggleOnName:a,toggleSelection:o,type:c})=>{const{organizationId:u}=He(),h=r&&!e&&!t?999:10,f=s.slice(0,h),g=Math.max(...f.map(C=>C.count)),[m,y]=w.useState(null),b=C=>{const M=window.setTimeout(()=>{i?.[0](C)},250);y(M)},S=()=>{m&&(clearTimeout(m),y(null)),i?.[1]()};return l.jsx("div",{className:"flex flex-col gap-[2px]",children:e?l.jsxs(l.Fragment,{children:[...Array(10).fill("").map((C,M)=>l.jsx("div",{className:"bg-slate-50 h-[2.2rem] rounded-xl animate-pulse border-4 border-white ",style:{width:`${80-M*5}%`}},M))]}):f.map(C=>{const M=C.count/g*.9*100;return l.jsxs("div",{className:`h-[2.2rem] w-full flex flex-row relative cursor-pointer ${C.selected?"bg-slate-100":""} hover:bg-slate-50 rounded-xl`,onClick:()=>o(a?C.name:C.slug),onMouseEnter:C.selected?()=>b(C.slug):void 0,onMouseLeave:S,children:[l.jsxs("div",{className:"relative flex-1 truncate select-none",children:[l.jsx("div",{className:"font-medium relative leading-[2.25rem] px-3.5 truncate max-md:max-w-[60vw] text-slate-600",children:C.name}),l.jsx("div",{className:`z-1 ${C.selected?"":"bg-slate-200 "}
                                  font-medium absolute top-[5px] left-[5px] bottom-[5px] max-md:max-w-[60vw] rounded-md px-[0.51rem] pt-[0.0rem] ${C.selected?"text-white":"text-slate-600"} overflow-hidden`,style:{backgroundColor:C.selected?C.color:"",width:`${M>5?M:5}%`},children:C.name})]}),l.jsx(Ht,{description:`View all ${c==="job_function_people"?"people":"jobs"} for ${C.name}`,children:l.jsxs(Re,{to:`/orgs/${u}/${c==="job_function_people"?"people":"jobs"}?as=${encodeURIComponent(`{"operator":"AND","children":[{"operator":"OR","fields":{"${c==="tech"?"technology":"job_function"}":{"include":["${a?C.name:C.slug}"]}}}]}`)}`,doNotPassQuery:!0,className:"hover:text-green-600 flex-none w-[10rem] leading-[2.25rem] text-slate-400 tabular-nums text-right mr-2 flex items-center justify-end gap-1",onClick:N=>N.stopPropagation(),target:"_blank",children:[$e(C.count)," ",n,C.count===1||c==="job_function_people"?"":"s"," ",l.jsx(ls,{className:"w-4 h-4"})]})})]},C.slug)})})},l9e=({techs:e,job_functions:t,tech_categories:n,token:s})=>{const i=new URLSearchParams;return e.forEach(r=>i.append("techs",r)),t.forEach(r=>i.append("job_functions",r)),n.forEach(r=>i.append("tech_categories",r)),s&&i.append("token",s),`/signals/org/trends?${i.toString()}`},c9e=e=>{const t=l9e(e);return nt({url:t,queryKey:["signalsOrgTrends",t]})},u9e=({signal:e})=>{const t={organization_slug:"organization_slug"in e&&e.organization_slug||"",job_functions:e.alert_type==="job_function_trends"?e.matched_job_functions||[]:[],techs:e.alert_type==="technology_trends"?(e.matched_technologies||[]).map(a=>typeof a=="string"?a:a.slug||a.name||a):[],tech_categories:[],token:e.token||""},{data:n,isLoading:s}=c9e(t),i=n?e.alert_type==="job_function_trends"?n.job_functions_people.map((a,o)=>({name:a.name,slug:a.slug,count:a.month_counts,color:Jp[o%Jp.length],type:"job_function"})):e.alert_type==="technology_trends"?n.technologies.map((a,o)=>({name:a.name,slug:a.slug,count:a.month_counts,color:Jp[o%Jp.length],type:"tech"})):[]:[],r=()=>{const a="organization_name"in e?e.organization_name:"this organization";return e.alert_type==="job_function_trends"&&e.matched_job_functions?.length?`Headcount for ${e.matched_job_functions.join(", ")} over last 12 months at ${a}`:e.alert_type==="technology_trends"&&e.matched_technologies?.length?`Job posts for ${e.matched_technologies.map(c=>c.name).join(", ")} over last 12 months at ${a}`:"Trend Analysis"};return l.jsxs("div",{className:"flex flex-col gap-4 border-2 border-slate-100 rounded-xl p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:r()}),l.jsx(Qee,{isLoading:s,items:i,className:"w-full h-[20rem]"})]})},d9e=({organization_slug:e,function_name:t,pageToken:n,options:s})=>{const i=`/people/${e}/advanced`,r=[t?`job_function_names=${encodeURIComponent(t)}`:"",n?.next_page_token?`skip=${n.next_page_token}`:"",n?.previous_page_token?`skip=${n.previous_page_token}`:"",s?.q?`q=${s?.q}`:"",...(s?.levels||[]).map(a=>`levels=${a}`),...(s?.exclude_levels||[]).map(a=>`exclude_levels=${a}`),...(s?.locations||[]).map(a=>`loc=${a}`),"use_filters_for_match=true"].filter(Boolean).join("&");return`${i}${r?`?${r}`:""}`},Xee=e=>{const{advSearch:t}=ze(),n=d9e(e);return nt({url:n,method:"POST",contentType:"application/json",body:e.skipAdvSearch?'{"operator":"NOOP"}':Ai(t),queryKey:["functionPeople",n,e.skipAdvSearch?"skip":JSON.stringify(t)]})},h9e=({signal:e,orgSlug:t})=>{const n=e.matched_job_functions?.[0],{data:s,isLoading:i,isPlaceholderData:r}=Xee({organization_slug:t,function_name:n,pageToken:{next_page_token:null,previous_page_token:null},options:{},skipAdvSearch:!0}),a=s?.people?.slice(0,5)||[],o=`/orgs/${t}/people?f=${encodeURIComponent(n||"")}`;return n?l.jsx(QL,{title:`${n} contacts`,sortDescription:"Ordered by seniority level, most senior to junior.",sortShortDescription:"Sorted by seniority",signalId:e.alert_id,people:a,isLoading:i||r,orgSlug:t,viewAllLink:o,totalCount:s?.page_info.results_count??0,viewAllEventName:"signals_job_function_people_view_all_click"}):null},f9e=e=>{const t=`/people/${e.organization_slug}/advanced`,n={operator:"AND",children:[{field:"technology",operator:"IN",values:e.tech_slugs}]};return nt({url:t,method:"POST",contentType:"application/json",body:JSON.stringify(n),queryKey:["techPeople",e.organization_slug,e.tech_slugs.join()],enabled:!!e.organization_slug&&e.tech_slugs.length>0})},p9e=({signal:e,orgSlug:t})=>{const n=e.matched_technologies?.map(h=>h.slug)||[],{data:s,isLoading:i,isPlaceholderData:r}=f9e({organization_slug:t,tech_slugs:n}),a=s?.people?.slice(0,5)||[],o=e.matched_technologies?.map(h=>typeof h=="string"?h:h.name)||[],c=o.length>1?`${o.slice(0,-1).join(", ")} & ${o[o.length-1]}`:o[0],u=`/orgs/${t}/people?${n.map(h=>`tec=${encodeURIComponent(h)}`).join("&")}`;return n.length===0?null:l.jsx(QL,{title:`${c} contacts`,sortDescription:"Ordered by seniority level, most senior to junior.",sortShortDescription:"Sorted by seniority",people:a,signalId:e.alert_id,isLoading:i||r,orgSlug:t,viewAllLink:u,totalCount:s?.page_info.results_count??0,viewAllEventName:"signals_tech_people_view_all_click"})},Jee=()=>{const e="/account/feeds/set-useful",t=yt();return It({mutationFn:async({signals:i})=>{const r={signals:i.map(o=>({alert_id:o.alertId,is_useful:o.isUseful,is_useful_reason:o.isUsefulReason??void 0,is_favorite:o.isFavorite??void 0}))};return{data:(await Ue({url:e,method:"POST",body:JSON.stringify(r),contentType:"application/json"})).data,signals:i}},mutationKey:["signalsUseful"],onMutate:async({signals:i})=>{const r=i.map(a=>({alertId:a.alertId,fieldName:"is_useful",value:a.isUseful}));return await GG(t,r)},onError:(i,r,a)=>{a?.previousFeedData&&WG(t,a.previousFeedData,a.previousSignalData)},onSuccess:({signals:i})=>{const r=i.map(a=>a.alertId);t.invalidateQueries({queryKey:["profile_feed"]}),r.forEach(a=>{t.invalidateQueries({queryKey:["signal",`us${a.toString()}`]})})}})},g9e=e=>{const t="/account/feeds",n=qr(e);return n?`${t}?${n}`:t},m9e=({organization_slug:e,tech:t,job_function:n,priority:s,account_list:i,signal_config:r,is_useful:a,is_favorite:o,count_as_last_visit:c})=>{const{pageToken:u}=w.useContext(R0),h=yt(),f=w.useMemo(()=>g9e({organization_slug:e,tech:t,job_function:n,priority:s,account_list:i,signal_config:r,is_useful:a,is_favorite:o,next_page_token:u,count_as_last_visit:c}),[e,t,n,s,i,r,a,o,u,c]),g=cf({queryKey:["profile_feed",f],queryFn:async()=>await Ue({url:f}),placeholderData:Mx,staleTime:Zi(),refetchOnWindowFocus:"always"});return w.useEffect(()=>{g.isSuccess&&c&&setTimeout(()=>{h.invalidateQueries({queryKey:["profile"]})},5e3)},[g.isSuccess]),g},y9e=({domains:e})=>nt({url:"/organizations/domains",queryKey:["organizationDomains",JSON.stringify(e.sort())],enabled:!!e.length,method:"POST",body:[...e]}),x9e=()=>{const[e,t]=Ut("s_tec",Qa),[n,s]=Ut("s_jf",Qa),[i,r]=Ut("s_org",Qa),[a,o]=Ut("s_pri",Qa),[c,u]=Ut("s_list",Qa),[h,f]=Ut("s_config",Qa),[g,m]=Ut("s_useful",rd),[y,b]=Ut("s_fav",rd),S=(P,B)=>{const Y=P||[];return Y.includes(B)?Y.filter(K=>K!==B):[...Y,B]},C=()=>t([]),M=()=>s([]),N=()=>r([]),T=()=>o([]),E=()=>u([]),k=()=>f([]),L=()=>m(void 0),I=()=>b(void 0),_=P=>t(B=>S(B,P)),F=P=>s(B=>S(B,P)),G=P=>r(B=>S(B,P)),U=P=>o(B=>S(B,P)),H=P=>u(B=>S(B,P)),z=P=>f(B=>S(B,P));return{hasFiltersSet:(i??[]).length>0||(e??[]).length>0||(n??[]).length>0||(a??[]).length>0||(c??[]).length>0||(h??[]).length>0||g!==void 0||y!==void 0,signalTechs:e,toggleSignalTechs:_,signalJobFunctions:n,toggleSignalJobFunctions:F,signalOrganizations:i,toggleSignalOrganizations:G,signalPriorities:a,toggleSignalPriorities:U,signalAccountLists:c,toggleSignalAccountLists:H,signalConfigs:h,toggleSignalConfigs:z,signalIsUseful:g,setSignalIsUseful:m,signalIsFavorite:y,setSignalIsFavorite:b,resetSignalTechs:C,resetSignalJobFunctions:M,resetSignalOrganizations:N,resetSignalPriorities:T,resetSignalAccountLists:E,resetSignalConfigs:k,resetSignalIsUseful:L,resetSignalIsFavorite:I}},b9e=e=>(("organization_slug"in e?e.organization_slug:null)||("new_organization_slug"in e?e.new_organization_slug:null))??null,ete=w.createContext(void 0),v9e=({children:e})=>{const t=Qt(),{data:n}=Gt(),s=x9e(),{data:i,isLoading:r,isPlaceholderData:a}=m9e({organization_slug:s.signalOrganizations,tech:s.signalTechs,job_function:s.signalJobFunctions,priority:s.signalPriorities,account_list:s.signalAccountLists,signal_config:s.signalConfigs,is_useful:s.signalIsUseful,is_favorite:s.signalIsFavorite,count_as_last_visit:!0}),o=w.useMemo(()=>Array.from(new Set(i?.feed_items.map(b9e).filter(m=>m!=null))),[i?.feed_items]),{data:c}=y9e({domains:o}),u=w.useCallback(m=>{if(!i?.feed_items||i.feed_items.length===0)return null;const y=i.feed_items.findIndex(C=>String(C.alert_id)===m);let b;y===-1||y===i.feed_items.length-1?b=0:b=y+1;const S=i.feed_items[b];return{signalId:String(S.alert_id),type:"us"}},[i?.feed_items]),h=w.useCallback((m,y)=>{t(`/signals/${y}/${m}${window.location.search}`,{viewTransition:!0})},[t]),f=!!(n&&!n.subscribed_to_signals),g=w.useMemo(()=>({feedData:i,domains:c,isLoading:r,isPlaceholderData:a,signalParams:s,getNextSignalId:u,navigateToSignal:h,isNotSubscribedToAlerts:f}),[i,c,r,a,s,u,h,f]);return l.jsx(ete.Provider,{value:g,children:e})},Xb=()=>{const e=w.useContext(ete);if(e===void 0)throw new Error("useSignalsContext must be used within a SignalsProvider");return e},S9e=({className:e,isOpen:t,setIsOpen:n,children:s,backdropClassName:i})=>l.jsx(m2,{children:t&&l.jsxs(N0,{open:t,onClose:()=>n(!1),static:!0,children:[l.jsx("div",{className:"fixed inset-0 z-10 flex items-end w-screen justify-center p-16",children:l.jsx(Bo.div,{initial:{y:"100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"100%",opacity:0},transition:{type:"spring",damping:30,stiffness:300,duration:.3},className:"",children:l.jsx(A0,{className:`bg-white border border-slate-100 p-8 rounded-lg flex flex-col gap-3 w-[90vw] mx-auto shadow-xl ${e}`,children:s})})}),l.jsx(Bo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:l.jsx(f2,{className:i})})]})}),w9e=({isOpen:e,onClose:t,onSubmit:n,reason:s,onReasonChange:i})=>{const r=w.useRef(null);return w.useEffect(()=>{if(e&&r.current){const a=setTimeout(()=>{r.current?.focus()},400);return()=>clearTimeout(a)}},[e]),l.jsxs(S9e,{isOpen:e,setIsOpen:t,className:"max-w-[60rem] gap-6",backdropClassName:"bg-slate-400/60! backdrop-blur-none!",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold",children:"Why wasn't this signal useful?"}),l.jsx("p",{className:"text-slate-400",children:"We use your feedback to tune the alerts."})]}),l.jsx("textarea",{ref:r,placeholder:"Enter your feedback here  even a few words help us improve.",className:"h-[6rem] border w-full border-slate-200 rounded-lg placeholder:text-slate-400!",value:s,onChange:a=>i(a.target.value)}),l.jsx("div",{children:l.jsx("button",{className:"bg-green-600 text-white font-medium px-5 py-2 rounded-lg hover:bg-green-700 disabled:opacity-50",disabled:s.trim().length===0,onClick:a=>{a.stopPropagation(),a.preventDefault(),n(s)},children:"Send feedback"})})]})},Yu=(e,t,n)=>({label:e,value:t,contextText:n}),C9e=[e=>e.organization_name?Yu("Not my account","org_not_account",e.organization_name):null,e=>(e.location||e.country_code)&&e.organization_name?Yu("Not my geography","geography_mismatch",e.location??e.country_code):null,e=>e.matched_technologies?.length?Yu("Not a relevant tech","tech_not_relevant",e.matched_technologies[0].name):e.matched_projects?.length?Yu("Not a relevant project","project_not_relevant",e.matched_projects[0].name):null,e=>{const t=e.title||e.job_function;return t?Yu("Not a target persona","persona_not_target",di(t,!0)):null},e=>e.teams?.length&&e.teams[0].name?Yu("Not a target team","team_not_target",e.teams[0].name):null,e=>{const t=e.alert_display_type||e.alert_type;return t?Yu("Not a useful signal type","signal_type_not_relevant",t.replace(/\[.*?\]/g,"")):null}],M9e=e=>w.useMemo(()=>{if(!e)return[];const t=C9e.map(n=>n(e)).filter(n=>n!==null);return t.push(Yu("Other ...","other")),t},[e]),tte=()=>{const{mutate:e}=N2();return{editOrgSignalRules:n=>{const{id:s,level:i,values:r,organizationName:a}=n;e({settings_id:s,settings_level:i,values:r},{onSuccess:()=>{r.include_in_signals===!1&&a?Tt.success(`We've excluded ${a} from Signals from now on.`,{duration:4e3}):r.include_in_signals===!0&&a?Tt.success(`We've included ${a} in Signals from now on.`,{duration:4e3}):Tt.success("Signals settings updated successfully")},onError:()=>{a?Tt.error(`Failed to update rule for ${a}`):Tt.error("Failed to update signals settings")}})}}},j9e=({signalId:e,onReasonSelected:t,onShowTextDialog:n,renderButton:s,onOpenChange:i})=>{const{data:r}=ZL(e),{sendEvent:a}=zn(),o=M9e(r),{data:c}=$l(r?.organization_slug),{editOrgSignalRules:u}=tte(),h=(g,m,y)=>{if(g==="other")a("signal_feedback_other_selected",{}),n();else if(g==="org_not_account"&&c?.id&&r?.organization_name){u({id:c.id,level:"organization",values:{include_in_signals:!1},organizationName:r.organization_name}),a(`signal_feedback_${g}`,{reason:g,organization:r?.organization_name});const b=y?`${m} (${y})`:m;t(g,b)}else{a(`signal_feedback_${g}`,{reason:g,organization:r?.organization_name});const b=y?`${m} (${y})`:m;t(g,b)}},f=[{items:o.map(g=>({label:g.label,count:g.contextText,onClick:()=>h(g.value,g.label,g.contextText)}))}];return l.jsx(K0,{sections:f,anchor:"bottom end",buttonClassName:"flex-1 flex flex-row",title:"Why is this not relevant?",children:s||(g=>(i?.(g),null))})},N9e=({alertId:e,isUseful:t,onLoadingChange:n})=>{const[s,i]=w.useState(!1),[r,a]=w.useState(""),[o,c]=w.useState(!1),u=jG(s),h=w.useRef(null),{signalId:f}=He(),{getNextSignalId:g,navigateToSignal:m}=Xb(),{mutate:y,isPending:b}=Jee(),{sendEvent:S}=zn();w.useEffect(()=>{f&&(h.current=g(f))},[f,g]),w.useEffect(()=>{n?.(b)},[b,n]),w.useEffect(()=>{u===!0&&s===!1&&(y({signals:[{alertId:e,isUseful:!1,isUsefulReason:r!==""?r:void 0}]},{onSuccess:()=>{h.current&&m(h.current.signalId,h.current.type)}}),a(""))},[s,u,y,m]);const C=()=>{S("signal_feedback_useful",{}),y({signals:[{alertId:e,isUseful:t?null:!0}]},{onSuccess:()=>{h.current&&m(h.current.signalId,h.current.type)}})},M=(T,E)=>{y({signals:[{alertId:e,isUseful:!1,isUsefulReason:E}]},{onSuccess:()=>{h.current&&m(h.current.signalId,h.current.type)}})},N=T=>{S("signal_feedback_text_sent",{}),a(T),i(!1)};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"-mt-10 grid grid-cols-2 gap-4 flex-none max-md:pt-4 md:w-[17rem] leading-[1.3] h-[8rem] font-semibold",children:[l.jsxs(Bo.button,{onClick:C,disabled:b,className:`p-4 border-2 border-slate-200 hover:border-slate-300! rounded-xl flex flex-col items-center justify-between disabled:opacity-50 ${t===!0?"bg-green-50!":""} ${o?"opacity-25":""}`,whileTap:{scale:.98},transition:{duration:.02,ease:"easeOut"},children:[l.jsx("div",{className:"flex-1 flex items-center pb-4",children:l.jsx(ar,{className:"w-8 h-8 text-green-700"})}),l.jsx("div",{children:t===!0?`Marked as
actioned`:`Mark as
actioned`})]}),f?l.jsx(j9e,{signalId:f,onReasonSelected:M,onShowTextDialog:()=>i(!0),onOpenChange:c,renderButton:T=>l.jsxs(Bo.button,{disabled:b||t===!1,className:`flex-1 p-4 border-2 border-slate-200 hover:border-slate-300! rounded-xl flex flex-col items-center justify-between disabled:opacity-50 ${t===!1?"bg-red-50":""} ${T?"!border-slate-400":""}`,whileTap:{scale:.98},transition:{duration:.02,ease:"easeOut"},children:[l.jsx("div",{className:"flex-1 flex items-center pb-4",children:l.jsx(gd,{className:"w-8 h-8 text-red-700"})}),l.jsxs("div",{children:["Not",l.jsx("br",{}),"relevant"]})]})}):l.jsxs(Bo.button,{disabled:b||t===!1,className:`p-4 border-2 border-slate-200 hover:border-slate-300! rounded-xl flex flex-col items-center justify-between disabled:opacity-50 ${t===!1?"bg-red-50":""}`,whileTap:{scale:.97},transition:{duration:.1,ease:"easeOut"},children:[l.jsx("div",{className:"flex-1 flex items-center pb-4",children:l.jsx(gd,{className:"w-8 h-8 text-red-700"})}),l.jsxs("div",{children:["Not",l.jsx("br",{}),"relevant"]})]})]}),l.jsx(w9e,{isOpen:s,onClose:()=>i(!1),onSubmit:N,reason:r,onReasonChange:a})]})},A9e=e=>nt({url:`/organizations/${e}/lists`,queryKey:["organizationAccountLists",e??""],enabled:!!e}),T9e={ORG:"bg-slate-100 text-slate-600",TECH:"bg-green-100 text-green-800",FUNC:"bg-blue-100 text-blue-900/80",TEAM:"bg-blue-100 text-blue-800",LIST:"bg-yellow-100 text-yellow-800",CONFIG:"bg-lime-100 text-lime-800"},Eo=(e,t)=>l.jsxs("div",{className:"flex flex-row items-center gap-6",children:[e,l.jsx("span",{className:"ml-auto",children:t})]}),E9e=(e,t,n,s,i)=>{const[r,a]=Ni(),o=(c,u)=>{const h=new URLSearchParams(r);h.set(c,u),a(h)};if(e==="ORG"&&n)return[{items:[{label:Eo(`Filter signals to ${t}`,l.jsx(Ip,{className:"size-5 text-slate-300"})),onClick:()=>o("s_org",n)},{label:Eo("Open on Sumble",l.jsx(ls,{className:"size-5 text-slate-300"})),onClick:()=>window.open(`/orgs/${n}`,"_blank")}]},{items:[{label:Eo(`Stop showing me ${t} signals`,l.jsx(yde,{className:"size-5 text-slate-300"})),onClick:()=>o("removeOrg",n)}]}];if(e==="TECH"&&n)return[{items:[{label:Eo(`Filter signals to ${t}`,l.jsx(Ip,{className:"size-5 text-slate-300"})),onClick:()=>o("s_tec",n)},{label:Eo(`What is ${t}?`,l.jsx(ls,{className:"size-5 text-slate-300"})),onClick:()=>o("tech-info",n)}]}];if(e==="TEAM"&&n&&s)return[{items:[{label:Eo("Open on Sumble",l.jsx(ls,{className:"size-5 text-slate-300"})),onClick:()=>window.open(`/orgs/${s}/teams/${n}`,"_blank")}]}];if(e==="FUNC"&&s&&t){const c=fa("job_function",[t]);return[{items:[{label:Eo(`Filter signals to ${t}`,l.jsx(Ip,{className:"size-5 text-slate-300"})),onClick:()=>o("s_jf",t)},{label:Eo(`See all ${t} people at ${i||"this org"}`,l.jsx(ls,{className:"size-5 text-slate-300"})),onClick:()=>window.open(`/orgs/${s}/people?${c}`,"_blank")}]}]}return e==="LIST"&&n?[{items:[{label:Eo(`Filter signals to ${t}`,l.jsx(Ip,{className:"size-5 text-slate-300"})),onClick:()=>o("s_list",n)},{label:Eo("Open account list",l.jsx(ls,{className:"size-5 text-slate-300"})),onClick:()=>window.open(`/account-lists/${n}`,"_blank")}]}]:e==="CONFIG"&&n?[{items:[{label:Eo(`Filter signals to ${t}`,l.jsx(Ip,{className:"size-5 text-slate-300"})),onClick:()=>o("s_config",n)}]}]:[]},Ep=({type:e,text:t,slug:n,orgSlug:s,orgName:i,dontShowTitle:r})=>{const a=E9e(e,t,n,s,i),o=l.jsxs("div",{className:`flex flex-row items-center gap-1 ${T9e[e]} px-3 rounded-full h-7 whitespace-nowrap cursor-pointer hover:opacity-80`,children:[e==="CONFIG"?l.jsx(Bk,{className:"h-4 w-auto pr-[2px] opacity-50"}):l.jsx("div",{className:"font-semibold text-xs relative top-[0.5px] opacity-50",children:e}),l.jsx("div",{className:"font-medium",children:t}),l.jsx("div",{children:l.jsx(Kr,{className:"size-5 opacity-30  -mr-1"})})]});return a.length===0?o:l.jsx(K0,{sections:a,anchor:"bottom start",title:r?void 0:t,children:o})},D9e=({id:e})=>{const{data:t}=ZL(String(e)),{data:n}=A9e(t?.organization_slug??void 0);return t?l.jsxs("div",{className:"flex flex-col gap-4 border-2 border-slate-100 rounded-xl py-4 pb-6 p-8",children:[l.jsx("div",{className:"text-slate-400 font-medium h-7 flex items-center",children:"Matches"}),l.jsxs("div",{className:"flex-1 flex flex-wrap gap-3",children:[t.signal_config_name&&l.jsx(Ep,{type:"CONFIG",text:t.signal_config_name,slug:t.signal_config_slug}),t.organization_name&&l.jsx(Ep,{type:"ORG",text:t.organization_name,slug:t.organization_slug}),t.teams?.map(s=>s.name&&l.jsx(Ep,{type:"TEAM",text:s.name,slug:s.slug,orgSlug:t.organization_slug},s.id)),t.matched_technologies?.map(s=>l.jsx(Ep,{type:"TECH",text:s.name,slug:s.slug},s.id)),t.matched_job_functions?.map((s,i)=>l.jsx(Ep,{type:"FUNC",text:s,orgSlug:t.organization_slug,orgName:t.organization_name},i)),n?.map(s=>l.jsx(Ep,{type:"LIST",text:s.name,slug:String(s.id),dontShowTitle:!0},s.id))]})]}):null},k9e=()=>{const[e,t]=Ni(),n=e.get("removeOrg"),{data:s}=$l(n||void 0),{editOrgSignalRules:i}=tte(),r=()=>{const o=new URLSearchParams(e);o.delete("removeOrg"),t(o)},a=()=>{s?.id&&s?.name&&i({id:s.id,level:"organization",values:{include_in_signals:!1},organizationName:s.name}),r()};return n?l.jsx($o,{isAlert:!0,title:`Create a rule to exclude ${s?.name||"organization"} signals?`,description:"You won't see any more signals about this organization. You can remove this rule from your Signals settings later.",confirmLabel:"Create rule",setIsShowingConfirmModal:r,handleConfirm:a}):null},I9e=e=>e.split(`
`).map(t=>t.trim().replace(/^[]/,"").trim()).map(t=>t.trim()?`${t.trim()}`:""),L9e=()=>{const{signalId:e}=He(),{data:t,isPlaceholderData:n}=ZL(e),s=KG(t),i=w.useRef(null),[r,a]=w.useState(!1),[o,c]=w.useState(!1),{sendEvent:u}=zn();w.useEffect(()=>{i.current&&(i.current.scrollTop=0)},[e]),w.useEffect(()=>{const C=()=>{i.current&&a(i.current.scrollTop>0)},M=i.current;if(M)return M.addEventListener("scroll",C),()=>M.removeEventListener("scroll",C)},[]);const h=t&&"organization_slug"in t?t.organization_slug:!1,f=t&&"id"in t&&t.teams&&t.teams.length>0?t.teams[0].slug:"other-team-not-mentioned",g=h&&t&&"id"in t?`/orgs/${h}/teams/${f}/jobs/${t.id}`:void 0,m=HG(t),y=!!t?.person_name&&m?.display_type!=="Champion Alert",b=["trend","hire"],S=g&&t&&"alert_type"in t&&!b.some(C=>t?.alert_type?.includes(C));return t&&m?l.jsxs("div",{ref:i,className:`min-:px-16! overflow-auto flex-1 flex flex-col gap-4 items-center transition-opacity duration-150 ${n||o?"opacity-25":"opacity-100"}`,style:{viewTransitionName:"signal-container"},children:[l.jsx(Re,{className:"md:hidden h-28 bg-slate-100 w-full flex items-center p-5 px-6 text-slate-500",to:"/signals/",children:" Back to all Signals"}),l.jsx("div",{className:`md:sticky md:top-0 w-full flex flex-col items-center bg-white z-[2]  border-slate-50 transition-all ${r?"border-b-2 border-slate-100!":"border-b-0"}`,children:l.jsxs("div",{className:"w-full max-w-[70rem] px-5 md:px-10 flex flex-col gap-6 ",children:[l.jsxs("div",{className:"h-13 flex items-center gap-3",children:[s&&l.jsx(Ht,{description:`${di(t.alert_priority??"")} priority`,children:s}),l.jsx("div",{children:m.display_type}),l.jsxs("div",{className:"text-slate-400",children:[Pl(t.datetime_pulled)," ago"]})]}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-12 justify-between pb-8",children:[l.jsx("div",{className:"flex flex-col gap-4",children:l.jsxs("div",{className:"flex flex-row items-start gap-2",children:[l.jsx("div",{className:"pt-1.5",children:l.jsx(uD,{signal:t})}),l.jsx("h1",{className:"text-2xl font-semibold",children:m.title})]})}),l.jsx(N9e,{alertId:t.alert_id,isUseful:t.is_useful,onLoadingChange:c})]})]})}),l.jsxs("div",{className:"max-w-[70rem] px-5 md:px-10 flex flex-col gap-6 w-full pb-24",children:[m.explanation&&l.jsxs("div",{className:"flex flex-col gap-4 border-2 border-slate-100 rounded-xl p-6",children:[l.jsx("div",{className:"flex flex-row justify-between items-start",children:l.jsx("h2",{className:"text-slate-400 font-medium pb-4 flex flex-row items-center gap-2 justify-between",children:"Explanation"})}),l.jsx("ul",{className:"pl-7! text-[1.15rem]! text-slate-700 ",children:m.explanation!==""&&I9e(m.explanation??"").map((C,M)=>l.jsxs("li",{className:"list-none pb-2 relative",children:[C,l.jsx(Bce,{className:"absolute -left-7 top-1 size-5 text-slate-300"})]},M))})]}),l.jsx(D9e,{id:t.alert_id}),"alert_type"in t&&t?.alert_type?.includes("trend")&&l.jsx(u9e,{signal:t}),t.alert_type==="champion_alert"&&t.linkedin_slug&&l.jsx("div",{className:"flex flex-row gap-4 border-2 border-slate-100 rounded-xl p-6",children:l.jsxs(Re,{to:`https://www.linkedin.com/in/${t.linkedin_slug}`,target:"_blank",className:"flex flex-row gap-1 items-center border border-slate-300 rounded-xl px-5 py-3 pl-4 font-medium text-slate-400 hover:border-slate-400! transition-colors",onClick:()=>u("signals_single_linkedin_click",{category:"Signals"}),children:[l.jsx(Ux,{className:"size-4 mr-3"}),"Open ",t.person_name," on LinkedIn"," ",l.jsx(ls,{className:"size-4"})]})}),y&&"id"in t&&t.id!==null?l.jsx(NOe,{id:"id"in t?t.id:void 0,orgSlug:"organization_slug"in t?t.organization_slug:t.new_organization_slug??""}):null,S&&l.jsx(pOe,{id:"id"in t?t.id:void 0,item:t,jobPostLink:g}),S&&"id"in t&&t.id?l.jsx(jOe,{token:t.token?t.token:"",signalId:t.alert_id,jobPostLink:g,orgSlug:h||""}):null,t.alert_type==="job_function_trends"&&h&&l.jsx(h9e,{signal:t,orgSlug:h}),t.alert_type==="technology_trends"&&h&&l.jsx(p9e,{signal:t,orgSlug:h}),l.jsx(n9,{slug:t.new_organization_slug?t.new_organization_slug:t.organization_slug?t.organization_slug:"",team:"teams"in t&&t.teams.length>0?t.teams[0]:void 0}),"old_organization_slug"in t&&t.old_organization_slug&&l.jsx(n9,{slug:t.old_organization_slug,team:void 0})]}),l.jsx(k9e,{})]}):null},O9e=({hasAlerts:e})=>{const[t,n]=Ni();return l.jsxs("div",{className:"flex flex-col bg-amber-100 mb-5 mx-5 p-5 rounded-md gap-4",children:[l.jsxs("div",{className:"flex flex-row items-center justify-between",children:[l.jsx("div",{className:"bg-amber-200 px-3 py-0.5 rounded-lg uppercase tracking-wide font-semibold text-amber-900/50",children:"Preview"}),l.jsx("div",{className:"text-sm font-medium text-amber-900/60",children:"7 preview signals/week"})]}),l.jsxs("div",{className:"font-normal text-amber-950/60",children:[e?`This is a small sample of the alerts you can receive with
                    Sumble Signals. `:"Check back in a few days to see your first sample of alerts from Sumble Signals. ","We identify key changes inside accounts so you can generate qualified pipeline, close deals, and grow existing customers."]}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("button",{onClick:()=>{n(s=>(s.set("showPricing","1"),s))},className:"w-full rounded-2xl border border-amber-300/50! px-4 py-2 text-center text-amber-950/70! hover:border-amber-300!",children:"Upgrade to Pro"}),l.jsxs("div",{className:"mt-2 text-center text-sm text-amber-900/60",children:["up to 20 signals/day",l.jsx("br",{}),"tailored to your activity"]})]}),l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("a",{href:"https://calendly.com/d/cnzk-sjk-q38/sumble",className:"w-full rounded-2xl border border-amber-300/50! px-4 py-2 text-center text-amber-950/70! hover:border-amber-300!",children:"Enterprise?"}),l.jsxs("div",{className:"mt-2 text-center text-sm text-amber-900/60",children:["Highly targeted signals",l.jsx("br",{}),"for your whole team"]})]})]})]})},R9e=e=>{const t="/account/feeds/summary",n=qr(e);return n?`${t}?${n}`:t},_9e=({organization_slug:e,tech:t,job_function:n,priority:s,signal_config:i})=>{const r=w.useMemo(()=>R9e({organization_slug:e,tech:t,job_function:n,priority:s,signal_config:i}),[e,t,n,s,i]);return cf({queryKey:["profile_feed_summary",r],queryFn:async()=>await Ue({url:r}),placeholderData:Mx,staleTime:Zi(),refetchOnWindowFocus:"always"})},Hp=({defaultText:e,items:t,reset:n,selectedSlugs:s,toggleItem:i})=>{const r=(s??[]).length>0,a=r?t.filter(o=>(s??[]).includes(o.slug)).map(o=>o.title).join(", "):e;return l.jsx(gi,{children:({open:o})=>l.jsxs(l.Fragment,{children:[l.jsxs(qi,{className:"w-full flex flex-row gap-4 items-center justify-between text-slate-700 hover:bg-slate-100 hover:outline-6 hover:outline-slate-100 rounded-sm disabled:opacity-50 disabled:pointer-events-none",disabled:t.length===0,children:[l.jsx("div",{className:`font-regular max-w-[20rem] truncate ${r?"font-bold":""}`,children:a!==""?a:e}),(s??[]).length>0?l.jsx("div",{className:"truncate h-5 px-1.5 font-bold text-sm bg-green-600 text-white flex items-center justify-center rounded-full",children:(s??[]).length}):l.jsx(Uue,{className:"h-5 w-5 text-slate-500"})]}),o&&l.jsx(l.Fragment,{children:l.jsx(Ca,{anchor:"right start",className:"ml-4 -mt-[1.05rem]",children:l.jsx("div",{className:"overflow-auto w-full md:w-[28rem] rounded-md shadow-lg border border-slate-200 bg-white  mb-[1px] relative max-h-[30rem]",children:l.jsxs("div",{className:"pt-0 pb-4 flex flex-col",children:[l.jsxs("div",{className:"sticky top-0 pt-4 z-10 bg-white px-6 pr-4 pb-4 mb-2 border-b border-slate-100 flex flex-row items-center justify-between",children:[l.jsxs("div",{className:"text-slate-400",children:[(s??[]).length," ","filter",(s??[]).length!==1?"s":""," ","selected"]}),(s??[]).length>0&&l.jsx("button",{onClick:n,className:"text-red-700 hover:text-red-800",children:"Reset"})]}),t.map(c=>l.jsx("div",{className:`px-6 pr-4 w-full h-8 flex flex-row items-center justify-between group hover:bg-slate-100 focus:outline-0 focus:ring-4 focus:ring-inset focus:ring-indigo-100 ${s?.includes(c.slug)?"bg-slate-200 hover:bg-slate-100":""}`,children:l.jsxs("button",{onClick:u=>{u.stopPropagation(),i(c.slug)},className:`h-8 flex flex-row items-center justify-between font-medium w-full group relative
                                                            `,children:[l.jsx("div",{className:"truncate",children:c.title}),l.jsx("div",{className:"relative flex flex-row items-center gap-1 font-normal text-slate-400 text-sm whitespace-nowrap pl-2",children:c.count})]})},c.slug))]})})})})]})})},P9e=({selectedAccountLists:e,toggleAccountList:t,resetAccountLists:n})=>{const{data:s,isLoading:i}=qo();if(i)return l.jsx("div",{className:"h-12 bg-slate-50 rounded-lg animate-pulse flex items-center px-3",children:l.jsx("div",{className:"text-slate-400",children:"Loading account lists..."})});if(!s||s.length===0)return null;const r=s.map(a=>({slug:String(a.id),title:a.name,count:void 0}));return l.jsx(Hp,{defaultText:"Account List",items:r,selectedSlugs:e??[],reset:n,toggleItem:t})},pB={high:0,medium:1,low:2},z9e=()=>{const{signalParams:e}=Xb(),{data:t,isLoading:n}=_9e({organization_slug:e.signalOrganizations,tech:e.signalTechs,job_function:e.signalJobFunctions,priority:e.signalPriorities,signal_config:e.signalConfigs}),{data:s}=qo();if(n)return l.jsx("div",{className:"ml-auto",children:l.jsx(Yr,{})});const i=(e.signalOrganizations?.length??0)+(e.signalTechs?.length??0)+(e.signalJobFunctions?.length??0)+(e.signalPriorities?.length??0)+(e.signalAccountLists?.length??0)+(e.signalConfigs?.length??0),r=i>0,a=()=>{if(e.signalOrganizations?.length===1)return t?.organizations?.find(u=>u.slug===e.signalOrganizations?.[0])?.name||e.signalOrganizations[0];if(e.signalTechs?.length===1)return t?.technologies?.find(u=>u.slug===e.signalTechs?.[0])?.name||e.signalTechs[0];if(e.signalJobFunctions?.length===1)return e.signalJobFunctions[0];if(e.signalPriorities?.length===1)return di(e.signalPriorities[0]??"",!0);if(e.signalAccountLists?.length===1){const c=e.signalAccountLists[0];return s?.find(h=>String(h.id)===c)?.name||`List ${c}`}return e.signalConfigs?.length===1?t?.signal_configs?.find(u=>u.slug===e.signalConfigs?.[0])?.name||e.signalConfigs[0]:null},o=()=>r?i===1?a()||"1 filter":`${i} filter${i!==1?"s":""}`:"Filter";return l.jsx(gi,{className:"ml-auto ",children:({open:c})=>l.jsxs(l.Fragment,{children:[l.jsxs(qi,{className:`-mr-6 px-3 py-1.5 rounded-lg flex flex-row gap-2 items-center justify-center text-slate-500 hover:text-slate-600 ${r?"bg-green-100 hover:bg-green-200 text-green-800/80!":""}`,children:[r?l.jsx(phe,{className:"size-4 flex-none "}):l.jsx(Ip,{className:"size-4 flex-none "}),l.jsxs("div",{className:"truncate flex-1 font-medium",children:[o().slice(0,15),o().length>15?"":""]})]}),c&&l.jsxs(l.Fragment,{children:[l.jsx(Ca,{anchor:"bottom end",className:"mt-2",children:l.jsx("div",{className:"overflow-auto font-medium w-[25rem] rounded-md shadow-lg border border-slate-200 bg-white mb-[1px] relative max-h-[40rem]",children:l.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(Hp,{defaultText:"Signal Config",items:(t?.signal_configs??[]).map(u=>({slug:u.slug??"",title:u.name,count:u.count})),selectedSlugs:e.signalConfigs??[],reset:e.resetSignalConfigs,toggleItem:e.toggleSignalConfigs}),l.jsx(Hp,{defaultText:"Organization",items:(t?.organizations??[]).map(u=>({slug:u.slug??"",title:u.name,count:u.count})),selectedSlugs:e.signalOrganizations??[],reset:e.resetSignalOrganizations,toggleItem:e.toggleSignalOrganizations}),l.jsx(P9e,{selectedAccountLists:e.signalAccountLists??[],toggleAccountList:e.toggleSignalAccountLists,resetAccountLists:e.resetSignalAccountLists}),l.jsx(Hp,{defaultText:"Technology",items:(t?.technologies??[]).map(u=>({slug:u.slug??"",title:u.name,count:u.count})),reset:e.resetSignalTechs,selectedSlugs:e.signalTechs??[],toggleItem:e.toggleSignalTechs}),l.jsx(Hp,{defaultText:"Job Function",items:(t?.job_functions??[]).map(u=>({slug:u.name,title:u.name,count:u.count})),selectedSlugs:e.signalJobFunctions??[],reset:e.resetSignalJobFunctions,toggleItem:e.toggleSignalJobFunctions}),l.jsx(Hp,{defaultText:"Priority",items:([...t?.priorities??[]].sort((u,h)=>(pB[u.name]??99)-(pB[h.name]??99))??[]).map(u=>({slug:u.name,title:di(u.name,!0),count:u.count})),selectedSlugs:e.signalPriorities??[],reset:e.resetSignalPriorities,toggleItem:e.toggleSignalPriorities})]}),e.hasFiltersSet&&l.jsx("div",{className:"pt-2 border-t border-slate-100",children:l.jsx("button",{className:"w-full bg-red-100/50 font-medium text-red-700/70 rounded-full h-[2.6rem] flex flex-row items-center justify-center hover:bg-red-100/75 hover:text-red-700",onClick:()=>{e.resetSignalOrganizations(),e.resetSignalTechs(),e.resetSignalJobFunctions(),e.resetSignalPriorities(),e.resetSignalAccountLists(),e.resetSignalConfigs()},children:"Reset all filters"})})]})})}),l.jsx(Xw,{className:"fixed inset-0 max-md:backdrop-blur-lg bg-white/50 z-10"})]})]})})},F9e=({selectedSignals:e,clearSelection:t})=>{const{mutate:n,isPending:s}=Jee(),i=YG(),{signalParams:r,feedData:a}=Xb(),o=u=>{const h=Array.from(e).map(f=>({alertId:f,isUseful:u}));t(),n({signals:h})},c=()=>{if(!a?.feed_items)return;const u=a.feed_items.filter(m=>e.has(m.alert_id)),f=u.filter(m=>m.is_favorite).length<u.length,g=u.map(m=>({alertId:m.alert_id,isFavorite:f}));i.mutate({signals:g}),t()};return es("f",c,[e]),l.jsxs("div",{className:"flex flex-row gap-4 items-center justify-between w-full",children:[l.jsxs("div",{className:"text-slate-700 font-medium",children:[e.size," signals selected"]}),l.jsxs("div",{className:"flex flex-row gap-2",children:[l.jsx(Ht,{description:"Toggle favorite on all",hotkey:"F",children:l.jsxs("button",{className:"border hover:border-slate-400! border-slate-300 text-slate-600 px-2 py-2 rounded-lg flex flex-row gap-2 items-center",onClick:c,children:[l.jsx(Fc,{className:"h-5 w-5 text-green-500",fill:"currentColor"}),l.jsx("div",{className:"text-slate-400 font-semibold text-sm",children:"F"})]})}),l.jsxs(K0,{triggerHotkey:"m",sections:[{items:[{label:l.jsxs("div",{className:"flex flex-row gap-2 items-center justify-between",children:[l.jsx(ar,{className:"h-5 w-5 text-green-500"}),l.jsx("div",{className:"flex-1",children:"Actioned"})]}),onClick:()=>o(!0),disabled:s,hotkey:"A"},{label:l.jsxs("div",{className:"flex flex-row gap-2 items-center justify-between",children:[l.jsx(gd,{className:"h-5 w-5 text-red-500"}),l.jsx("div",{className:"flex-1",children:"Not relevant"})]}),onClick:()=>o(!1),disabled:s,hotkey:"N"}]},...r.signalIsUseful!==void 0?[{items:[{label:l.jsxs("div",{className:"flex flex-row gap-2 items-center justify-between",children:[l.jsx(DV,{className:"h-5 w-5 text-slate-300"}),l.jsx("div",{className:"flex-1",children:"Unmark selected"})]}),hotkey:"U",onClick:()=>o(null),disabled:s}]}]:[]],buttonClassName:"flex items-center flex-row gap-4 rounded-lg border hover:border-slate-400! border-slate-300 text-slate-600 px-3 py-1.5",children:[l.jsx("div",{children:"Mark all as "}),l.jsx("div",{className:"text-slate-400 font-semibold text-sm",children:"M"})]})]})]})},$9e=({selectedSignals:e,clearSelection:t})=>{const{signalParams:n}=Xb();return l.jsx("div",{className:"max-md:pt-2 px-7 pb-2 sticky top-0 bg-white z-[3] border-b border-slate-100",children:l.jsx("div",{className:"flex flex-row w-full items-center space-x-1 bg-white p-1 h-[2.8rem]",children:e.size>0?l.jsx(F9e,{selectedSignals:e,clearSelection:t}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{n.setSignalIsUseful(void 0),n.setSignalIsFavorite(void 0)},className:`px-2 py-1.5 font-medium rounded-md transition-colors ${n.signalIsUseful===void 0&&n.signalIsFavorite===void 0?"bg-slate-100 text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"New"}),l.jsx("button",{onClick:()=>{n.setSignalIsUseful(!0),n.setSignalIsFavorite(void 0)},className:`px-4 py-1.5 font-medium rounded-md transition-colors ${n.signalIsUseful===!0?"bg-slate-100 text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:"Actioned"}),l.jsx("button",{onClick:()=>{n.setSignalIsFavorite(!0),n.setSignalIsUseful(void 0)},className:`px-4 py-1.5 font-medium rounded-md transition-colors ${n.signalIsFavorite===!0?"bg-slate-100 text-slate-900 shadow-sm":"text-slate-600 hover:text-slate-900"}`,children:l.jsx(Fc,{className:"size-5",fill:"currentColor"})}),l.jsx(z9e,{})]})})})},B9e=()=>{const e=Rt(),[t,n]=w.useState(new Set),s=w.useCallback(()=>n(new Set),[]),i=w.useCallback((r,a,o,c)=>{const u=r.alert_id;if(t.size>0){if(t.has(u)){c(`/signals/us/${r.alert_id}`);return}const h=o.map(m=>m.alert_id),f=h.indexOf(u),g=Array.from(t).map(m=>h.indexOf(m)).filter(m=>m!==-1);if(g.length>0&&f!==-1){const m=Math.min(...g),y=Math.max(...g),b=Math.abs(f-m),S=Math.abs(f-y);let C,M;b<=S?(C=Math.min(m,f),M=y):(C=m,M=Math.max(y,f));const N=h.slice(C,M+1);n(new Set(N))}else n(new Set([...t,u]))}else if(!a)n(new Set([u]));else{const h=Number(a),f=o.map(b=>b.alert_id),g=f.indexOf(h),m=f.indexOf(u),y=g===-1||m===-1?[u]:f.slice(Math.min(g,m),Math.max(g,m)+1);n(new Set(y))}c(`/signals/us/${r.alert_id}${e.search}`)},[t,e.search]);return{selectedSignals:t,handleShiftClick:i,handleNormalClick:s,clearSelection:s}},V9e=()=>{const{feedData:e,domains:t,isLoading:n,isPlaceholderData:s,isNotSubscribedToAlerts:i,signalParams:r}=Xb(),{signalId:a}=He(),o=Qt(),{sendEvent:c}=zn(),u=G0(),{data:h}=Gt(),{selectedSignals:f,handleShiftClick:g,handleNormalClick:m,clearSelection:y}=B9e(),b=w.useMemo(()=>{if(!e?.feed_items)return[];const C=e.feed_items,M=r.signalIsUseful;return M===void 0?C.filter(N=>N.is_useful!==!0&&N.is_useful!==!1):C.filter(N=>N.is_useful===M)},[e?.feed_items,r.signalIsUseful]);w.useEffect(()=>{u>768&&!a&&b.length>0&&o(`/signals/us/${b[0].alert_id}`)},[b,a,o,u]);const S=!i;return l.jsx("div",{className:"w-[100vw] md:w-[30rem] flex-none border-r-2 border-slate-100 h-[100vh] flex flex-col relative",children:n?l.jsx("div",{className:"flex flex-1 items-center justify-center animate-pulse text-slate-400",children:"Loading"}):l.jsxs("div",{className:"overflow-auto z-[1] md:pt-16 pb-16 ",children:[l.jsxs("div",{className:"px-10 h-13 absolute top-0 flex flex-row gap-2 items-center text-slate-300 font-medium z-[3] w-full justify-between",children:[l.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[l.jsx("a",{className:"text-slate-500 hover:text-slate-600",href:"/signals",onClick:()=>c("signals_browser_header_click",{category:"Signals"}),children:"Signals"}),l.jsx("div",{children:""})]}),l.jsx("div",{className:"relative top-1",children:l.jsx(FG,{buttonText:l.jsx(Ht,{description:"View and edit your Signals configuration",children:l.jsx(Yk,{className:"size-5 text-slate-500 hover:text-slate-600"})})})})]}),l.jsx("div",{className:`max-md:hidden top-0 left-0 right-4.5! absolute bg-gradient-to-b from-white from-70%! to-white/0 to-100% z-[2] ${S?"h-[8rem]":"h-[4rem]"} flex-none`}),S&&l.jsx($9e,{selectedSignals:f,clearSelection:y}),!i&&e&&b.length===0&&!n&&!s&&l.jsx("div",{className:"text-slate-400 pt-8 px-12",children:"No signals found"}),h&&h.subscription.tier===ei.free&&l.jsx(O9e,{hasAlerts:!!e?.feed_items.length}),l.jsx("div",{className:`${s?"opacity-30":""}`,children:e&&b.length>0&&l.jsx(m2,{mode:"popLayout",children:b.map(C=>{const M=("organization_slug"in C?C.organization_slug:null)||("new_organization_slug"in C?C.new_organization_slug:null);return l.jsxs(Bo.div,{layout:!0,initial:!1,animate:{opacity:1},exit:{opacity:0,y:-20,transition:{duration:.1}},children:[l.jsx("div",{className:"h-[1px] bg-slate-100"}),l.jsx(hwe,{domain:t?.[M||""]??void 0,item:C,isSelected:f.has(C.alert_id),onShiftClick:N=>{N.preventDefault(),g(C,a,b,o)},onNormalClick:m})]},C.alert_id)})},r.signalIsUseful?.toString()||"undefined")})]})})},U9e=()=>{const{isLoggedIn:e,isLoading:t}=w.useContext(go),{signalId:n}=He(),s=G0();return!e||t?l.jsx(l.Fragment,{}):l.jsx(v9e,{children:l.jsxs(M2,{children:[l.jsx(Zr,{title:"Signals"}),s>768||!n?l.jsx(V9e,{}):null,l.jsx(sd,{})]})})},H9e=e=>{const t=`/people/profile/${e}`;return nt({url:t,queryKey:["personProfile",t],enabled:!!e})},G9e=()=>{const{personId:e}=He(),{data:t,isLoading:n}=H9e(e??"");return l.jsxs(l.Fragment,{children:[n&&l.jsx("div",{className:"flex-1 flex text-slate-400 font-medium animate-pulse pt-4 px-4 md:px-10",children:"Loading..."}),!n&&t&&l.jsx(bG,{people:[t],source:"people"})]})},W9e=()=>{const e=yt(),t=()=>{const M=yt(),N=!!localStorage.getItem("AdminAuthorization"),T="/admin/alerts/alert-prompts";return nt({url:T,admin:!0,queryKey:["alertPrompts",T],transform:E=>(N&&M.invalidateQueries().catch(k=>console.log(k)),E)})},{data:n,isLoading:s}=t(),[i,r]=w.useState(null),[a,o]=w.useState(""),[c,u]=w.useState(""),[h,f]=w.useState(!1),g=w.useRef(!1);w.useEffect(()=>{if(s||!n||n.length===0||g.current)return;const M=n.find(T=>T.id===1)||n[0];r(M);const N=M.customer_highlight||"";o(N),u(N),g.current=!0},[s,n]);const m=M=>{const N=Number(M.target.value),T=n?.find(E=>E.id===N)||null;if(T){r(T);const E=T.customer_highlight||"";o(E),u(E)}},y=It({mutationFn:async()=>{if(!i)throw new Error("No alert selected");try{return(await Ue({url:`/admin/alerts/${i.id}/alert-prompts`,method:"PATCH",body:{customer_highlight:a}}))?.customer_highlight===a?{success:!0}:{success:!1}}catch(M){throw console.error("Error in mutation:",M),M}},onSuccess:()=>{console.log("Alert updated successfully"),e.invalidateQueries({queryKey:["alertPrompts"]}),u(a),console.log("Original text updated to current text")}}),b=()=>{i&&y.mutate()},S=a!==c,C=()=>{f(!0)};return l.jsxs("div",{className:"alert-prompts-editor",children:[l.jsxs("div",{className:"user-selector",children:[l.jsx("label",{htmlFor:"userDropdown",children:"Select User: "}),l.jsx("select",{id:"userDropdown",onChange:m,value:i?.id||"",disabled:s,children:s?l.jsx("option",{children:"Loading..."}):[...n||[]].sort((M,N)=>M.customer_name.localeCompare(N.customer_name)).map(M=>l.jsx("option",{value:M.id,children:`${M.customer_name} - ${M.domain} (${M.id})`},M.id))})]}),s?l.jsx("div",{children:"Loading..."}):l.jsxs("div",{className:"editor-container",style:{marginTop:"1rem"},"data-color-mode":"light",children:[l.jsx("textarea",{value:a,onChange:M=>o(M.target.value),style:{width:"100%",minHeight:"400px",fontSize:"1rem",fontFamily:"inherit",padding:"1rem",borderRadius:"0.5rem",border:"1px solid #d1d5db",background:"#f9fafb",resize:"vertical"},placeholder:"Enter plain text..."}),l.jsxs("div",{className:"actions",style:{marginTop:"1rem"},children:[l.jsx("button",{style:{backgroundColor:y.isPending?"#16a34a":S?"#f97316":"#cccccc"},className:"font-semibold px-4 py-2 transition-colors rounded-md",onClick:()=>{S&&!y.isPending&&C()},children:y.isPending?"Saving...":S?"Save Changes":"No Changes"}),h&&l.jsx($o,{isAlert:!0,setIsShowingConfirmModal:M=>{M||f(!1)},handleConfirm:()=>{b(),f(!1)},title:"Update Alert Prompt",description:l.jsx(l.Fragment,{children:l.jsxs("div",{children:["This will update the alert prompt for"," ",l.jsx("strong",{children:i?.customer_name}),". Are you sure you want to proceed?"]})})})]})]})]})},Y9e=e=>cf({queryKey:["admin","signal-slack-blocks",e],queryFn:async()=>{if(!e)throw new Error("No signal ID provided");return await Ue({url:`/admin/dev/signal-slack-blocks/${e}`,admin:!0})},enabled:!!e}),gB=()=>{const{blockId:e}=He(),t=Qt(),[n,s]=w.useState(e||""),{data:i,isLoading:r,error:a}=Y9e(e||null),o=u=>{u.preventDefault(),n.trim()&&t(`/admin/slack-blocks/${n.trim()}`)},c=i?JSON.stringify(i,null,2):"";return l.jsxs("div",{className:"px-6 overflow-auto pb-24",children:[l.jsx("form",{onSubmit:o,className:"mb-6",children:l.jsxs("div",{className:"flex gap-3 items-end",children:[l.jsx("div",{className:"flex flex-row flex-1",children:l.jsx("input",{type:"text",id:"signalId",value:n,onChange:u=>s(u.target.value),placeholder:"Enter user_signal ID",className:"w-full h-10 border border-slate-300 rounded-md focus:outline-none focus:ring-0"})}),l.jsx("button",{type:"submit",disabled:!n.trim()||r,className:"px-4 h-10 bg-green-600 text-white rounded-md disabled:bg-slate-400! disabled:cursor-not-allowed",children:r?"Loading...":"Fetch Blocks"})]})}),a&&l.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md",children:l.jsxs("p",{className:"text-red-800",children:["Error: ",a?.detail||a.message]})}),i&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-lg font-medium",children:"Slack Blocks JSON"}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[l.jsx(Uc,{textToCopy:c,itemType:"JSON"}),l.jsx("a",{href:"https://app.slack.com/block-kit-builder/",target:"_blank",rel:"noopener noreferrer",className:"text-slate-500 hover:text-green-800",children:"Block Kit Builder "})]})]}),l.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg overflow-auto",children:l.jsx("pre",{className:"p-4 text-sm font-mono",children:c})})]}),!i&&!a&&e&&!r&&l.jsxs("div",{className:"text-center py-8 text-gray-500",children:["No data available for signal ID: ",e]})]})},K9e=()=>null,q9e=({name:e})=>l.jsx("div",{className:"w-full flex flex-row gap-2 px-4 md:px-10 pt-[0.1rem] pb-6 bg-green-600 text-white",children:l.jsx("h2",{className:"text-xl md:text-[1.5rem] font-semibold leading-[1.2] col-span-3 tracking-[0.0125rem]",children:e})}),Z9e=(e,t)=>{const{advSearch:n}=ze(),s=qr({job_function_names:t,use_filters_for_match:!0}),i=`/people/${e}/advanced/filter-counts?${s}`;return nt({url:i,method:"POST",contentType:"application/json",body:Ai(n),queryKey:["functionPeopleFilters",i,JSON.stringify(n)]})},Q9e=({organization_slug:e,job_function_slug:t})=>{const n=`/job_functions/${e}/${t}`;return nt({url:n,queryKey:["jobFunction",n]})},X9e=({peopleCount:e,jobsCount:t})=>{const n=Rt(),s=[{name:"People",link:"../people",count:e},{name:"Job Posts",link:"../jobs",count:t}],i=n.pathname.split("/").slice(-2,-1)[0]==="jobs",r=n.pathname.split("/").slice(-2,-1)[0]==="people",a=n.pathname.replace(/\/$/,""),o=i?"jobs":r?"people":a.split("/").pop();return l.jsxs(UK,{children:[i&&l.jsx("div",{className:"self-end mb-3",children:l.jsx(Re,{className:"bg-green-700/40 py-1 px-3 rounded-lg text-white/90 font-medium hover:bg-green-700/60",to:"../jobs",children:" back to all Jobs"})}),r&&l.jsx("div",{className:"self-end mb-3",children:l.jsx(Re,{className:"bg-green-700/40 py-1 px-3 rounded-lg text-white/90 font-medium hover:bg-green-700/60",to:"../people",children:" back to all People"})}),!i&&!r&&s.map(c=>l.jsx(HK,{tab:c,currentTab:o},c.name))]})},J9e=()=>{const{jobId:e}=He();return e?l.jsx(QK,{}):l.jsx(e$e,{})},e$e=()=>{const{jobQ:e}=ze(),{organizationId:t,functionId:n}=He(),s=w.useRef(n),[i,r]=w.useState();w.useEffect(()=>{r(null)},[n]),w.useEffect(()=>{s.current=n},[i]);const{data:a,isLoading:o,isPlaceholderData:c}=Zc({organization_slug:t,pageToken:i??void 0,q:e??void 0,job_function_slug:n});return l.jsx(tq,{data:a,isLoading:o,isPlaceholderData:c,setPageToken:r})},t$e=()=>{const{organizationId:e,rootOrganizationId:t,functionId:n}=He(),s=t??e,[i,r]=w.useState({next_page_token:null,previous_page_token:null}),[a,o]=w.useState(0),c=Qt(),{locations:u,levels:h,excludeLevels:f,resetLevel:g,resetLocation:m,peopleQ:y}=ze(),{data:b,isLoading:S}=$l(s),{data:C,isLoading:M}=Q9e({organization_slug:s??"",job_function_slug:n??""}),{data:N,isLoading:T,isPlaceholderData:E,error:k,isError:L}=Xee({organization_slug:s,function_name:C?.name,pageToken:i,options:{locations:u,levels:h,exclude_levels:f,q:y}}),{data:I}=Z9e(s??"",C?.name??""),{data:_}=Zc({organization_slug:s,job_function_slug:n}),F=`/orgs/${s}/job-functions`,G=zl(N?.page_info.results_count??0,N?.people.length??0,N?.page_info.next_page_token??"");return w.useEffect(()=>{r({next_page_token:null,previous_page_token:null})},[s,n]),w.useEffect(()=>()=>{g(),m()},[]),l.jsxs(FI,{dispelAction:()=>c({pathname:F,search:window.location.search}),children:[l.jsxs("div",{className:"sticky top-0 z-20",children:[l.jsx(GK,{breadcrumbs:[{text:b?.name??"Loading...",link:`/orgs/${s}/job-functions`}],isLoading:S,closeUrl:F}),l.jsx(q9e,{name:T||M||E||!C?.name?"Loading...":C.name})]}),l.jsx(X9e,{peopleCount:N?.page_info.results_count??void 0,jobsCount:_?.page_info.results_count??void 0}),l.jsxs(Pc,{children:[l.jsx(rn,{path:"people/:personId",element:l.jsx(S2,{})}),l.jsx(rn,{path:"people",element:l.jsxs(l.Fragment,{children:[l.jsx(sq,{isLoading:T||M,count:N?.page_info.results_count??void 0,allLevels:I?.levels??[],allLocations:I?.countries??[]}),l.jsx(KL,{currentRange:G,people:N?.people??[],isLoading:T||M,isPreviousData:E,totalPeople:N?.page_info.results_count??0,previousPageToken:N?.page_info.previous_page_token??null,nextPageToken:N?.page_info.next_page_token??null,scrollPosition:a,setPageToken:r,setScrollPosition:o,showTeams:!0,location:"job_function",error:k,isError:L,createLink:U=>s!==U.org_slug?`/orgs/${s}/subsidiaries/${U.org_slug}/job-functions/${n}/people/${U.id}`:`${U.id}`})]})}),l.jsx(rn,{path:"jobs/:jobId?",element:l.jsx(J9e,{})}),l.jsx(rn,{path:"*",element:l.jsx(Wa,{to:"../people",replace:!0})})]})]})},fE=(e,t="/",n)=>{if(!e)return"";if(typeof e=="string")return e;const s=e.length;return s===0?"":s===1?e[0]:s===2?`${e[0]} ${t} ${e[1]}`:`${e.slice(0,-1).join(" / ")} ${t} ${e.slice(-1)}`},n$e=({organizationName:e,organizationUrl:t,organizationId:n,organizationEditId:s,tabLinks:i,type:r})=>{const a=Gn("country"),o=Gn("technology"),c=Gn("job_function"),u=gg({slugs:o,fetching_selected_technologies:!0}),{data:h}=Gt(),{data:f}=wK(),g=Qt(),m=C=>{if(r==="job")return`${C} job functions`;const M=r==="teams"?"teams":"job posts",N=u?.data?.technologies.length?`mentioning ${fE(u?.data?.technologies?.map(k=>k.name))}`:"",T=c?.length?` hiring for ${fE(c)}`:"",E=a?.length?` in ${fE(a)}`:"";return`${C} ${M} ${N}${T}${E}`},[y,b]=qI("hiding_org_summary"),S=[];return t&&f&&(f.useable_for_enrich&&S.push({endpoint:"/v2/organizations/enrich",body:{organization:{domain:t},filters:{query:f.representation}},label:"Get Org Enrichment"}),S.push({endpoint:"/v2/jobs/find",body:{organization:{domain:t},filters:{query:f.representation},limit:10},label:"Get Org Jobs"}),S.push({endpoint:"/v2/people/find",body:{organization:{domain:t},filters:{query:f.representation},limit:10},label:"Get Org People"})),l.jsxs(l.Fragment,{children:[l.jsx(Zr,{title:m(e)}),l.jsx("meta",{name:"description",content:`Gain account intelligence on ${e} with rich technographic data, org structure information, and headcount breakdown.`}),l.jsxs("div",{className:"pb-0 md:border-b-2 md:border-slate-100",children:[l.jsxs("div",{className:"px-4 md:px-10 max-md:pt-4 max-md:pb-0 pb-4 pt-2 flex flex-row gap-2 items-center",children:[l.jsx("div",{className:"md:pr-2",children:l.jsx(jK,{orgId:String(s),orgName:e,orgSlug:n})}),l.jsx(Wg,{url:t,orgName:e}),l.jsxs("h1",{className:"text-xl md:text-[1.5rem] font-semibold truncate flex flex-row items-center",children:[l.jsxs(Re,{to:`/orgs/${n}`,className:"flex items-center",children:[e!==""?e:l.jsx("div",{className:"h-6 bg-slate-200 animate-pulse rounded-full",style:{width:`calc(${n.length}rem * 0.75)`}})," ",""]}),e!==""&&l.jsx(l.Fragment,{children:l.jsx(Uc,{className:"text-slate-400",textToCopy:e,itemType:"organization name",iconClassName:"w-5 h-5"})})]})]}),l.jsx(iq,{organizationId:n}),l.jsxs("div",{className:"px-10 max-md:hidden flex flex-row justify-between",children:[l.jsxs("div",{className:"flex flex-row items-center",children:[l.jsx(Ht,{description:`${y?"Show":"Hide"} organization information`,placement:"bottom-start",children:l.jsx("button",{className:"w-6 mr-3.5!",onClick:()=>b(!y),children:l.jsx(que,{className:`w-6 h-6 text-slate-600 hover:text-slate-800 transition-transform ${y?"transform rotate-180!":""}`})})}),l.jsx("div",{className:"flex flex-row gap-4",children:i.map(C=>l.jsx(CK,{item:C},C.to))})]}),l.jsx("div",{className:"relative bottom-2",children:l.jsxs("div",{className:"flex flex-row gap-2",children:[s&&h&&h.email.endsWith("@sumble.com")&&l.jsxs("div",{className:"max-md:hidden bg-slate-100 rounded-lg px-5 pl-4 font-medium hover:bg-slate-200 py-1.5 flex flex-row items-center gap-2 cursor-pointer",onClick:()=>g(`/admin/orgs/${s}`),children:[l.jsx(i2,{className:"w-5 h-5"}),"Edit"]}),l.jsx(VK,{}),l.jsx(SK,{endpoints:S}),l.jsx(VL,{})]})})]})]})]})},s$e=Xe.memo(function({organization_slug:t,team:n,uniqueProjects:s,uniqueTechnologies:i,uniqueJobFunctions:r,uniqueJobLevels:a}){const o=w.useMemo(()=>{const c=new Set(i.map(S=>S.slug)),u=new Set(r.map(S=>S.slug)),h=new Map,f=new Map;n.technologies.forEach(S=>{h.set(S.slug,S)}),(n.job_functions??[]).forEach(S=>{f.set(S.name,S)});const g=(i??[]).map(S=>{const M=c.has(S.slug)?h.get(S.slug):null,N=M?.count??0,T=`${$e(N)} matching jobs`;return{type:"techs",matched:!!M&&N>0,count:N,item:S,tooltip:T,organization_slug:t}}),m=(s??[]).map(S=>{const C=n.projects.find(M=>M.slug===S.slug);return{type:"projects",matched:!!(C&&C.jobs_count>0),count:C?.jobs_count??0,item:C??S,tooltip:`${$e(C?.jobs_count??0)} matching jobs`,organization_slug:t}}),y=(r??[]).map(S=>{const M=u.has(S.slug)?f.get(S.name):null,N=M?.count??0,T=`${$e(N)} matching jobs`;return{type:"job_functions",matched:!!M&&N>0,count:N,item:S,tooltip:T,organization_slug:t}}),b=(a??[]).map(S=>{const C=n.job_levels.find(M=>M.name===S.name);return{type:"job_levels",matched:!!(C&&C.count>0),count:C?.count??0,item:C??S,tooltip:`${$e(C?.count??0)} matching jobs`,organization_slug:t}});return[...m,...g,...y,...b]},[i,s,r,a,n.technologies,n.projects,n.job_functions,n.job_levels,t]);return l.jsx(DK,{items:o,isLoading:!1})}),i$e=Xe.memo(function({teamQ:t,teamName:n,row:s,handleTeamToggle:i,type:r}){return s.original.scrollEvent&&(s.original.scrollEvent(),s.original.scrollEvent=void 0),l.jsx(HL,{row:s,action:()=>i(s.original.id),children:l.jsx(Ht,{description:r===1?"Subsidiary organization (opens in new tab)":"",children:l.jsxs("div",{className:"flex flex-row items-center gap-1",children:[r===1&&l.jsx(AV,{className:"text-slate-400 size-6 mr-1"}),l.jsx("span",{className:"font-medium text-slate-700",children:l.jsx(ad,{highlightClassName:"font-bold bg-transparent text-slate-700",searchWord:t??"",textToHighlight:n,sanitize:a=>$h(a)})}),r===1&&l.jsx(ls,{className:"text-slate-400 size-4"})]})})})}),r$e=Xe.memo(function({value:t,jobs_link:n}){return t?l.jsx("div",{className:"flex-1 flex justify-end",children:l.jsx(gt,{text:l.jsxs(l.Fragment,{children:[$e(t)," job",t>1?"s":""]}),type:"general",href:n,tooltip:"View jobs matched to this team that match your filters"})}):null}),a$e=Xe.memo(function({value:t,jobs_link:n}){return t?l.jsx("div",{className:"text-slate-400 md:text-slate-500 flex-1 flex justify-end",children:l.jsx(gt,{type:"general",text:l.jsxs("span",{className:"text-slate-400",children:[Pl(t)," ",l.jsx("span",{className:"max-md:hidden",children:"ago"})]}),href:n,tooltip:"View most recent job(s) that matches your filters"})}):null}),o$e=Xe.memo(function({hasProjects:t,hasTechs:n,hasJobFunctions:s,hasJobLevels:i,organization_slug:r,team:a,uniqueProjects:o,uniqueTechnologies:c,uniqueJobFunctions:u,uniqueJobLevels:h}){if(t||n||s||i)return l.jsx(s$e,{organization_slug:r,team:a,uniqueProjects:o,uniqueTechnologies:c,uniqueJobFunctions:u,uniqueJobLevels:h});const f=a.technologies;return l.jsxs(l.Fragment,{children:[f.filter(g=>g.name!=="Other").slice(0,3).map(g=>l.jsx(gt,{classNameTooltip:"inline-block mr-1 h-[1.45rem]",className:"bg-slate-100 text-slate-500 hover:bg-slate-200 hover:text-slate-600",text:g.name,count:g.count,hideArrow:!0,item:g,type:"techs",organization_slug:r,tooltip:`View jobs that use ${g.name}`},g.slug)),f.length>3&&l.jsx("div",{className:"truncate inline-block text-sm text-slate-300 h-[1.45rem] leading-[1.45rem]",children:`+${f.length-3} more`})]})}),_y=yo(),l$e=({handleTeamToggle:e,organization_slug:t,uniqueProjects:n,uniqueTechnologies:s,uniqueJobFunctions:i,uniqueJobLevels:r,autoResizeWidths:a})=>{const o=(s??[]).length>0,c=(n??[]).length>0,u=(i??[]).length>0,h=(r??[]).length>0;return[_y.accessor("name",{header:"Name",id:"Name",enableHiding:!1,cell:f=>{const{teamQ:g}=ze();return l.jsx(i$e,{teamQ:g??"",teamName:f.getValue(),row:f.row,handleTeamToggle:e,type:f.row.original.type??-1})},meta:{fullWidthOnMobile:!0,colClass:"max-md:col-span-6"},minSize:400,size:500}),_y.accessor("jobs_count",{id:"Tech jobs",header:()=>l.jsxs("div",{children:[l.jsx("span",{className:"max-md:hidden",children:"Tech "}),"jobs"]}),cell:f=>l.jsx(r$e,{value:f.getValue(),jobs_link:f.row.original.jobs_link}),meta:{colClass:"md:w-28 md:flex-none max-md:col-span-1",sortFlipOrder:!0,sortMessage:["largest  smallest","smallest  largest"]},size:160,minSize:160}),_y.accessor("last_activity_time",{id:"Last job post",header:"Last job post",cell:f=>l.jsx(a$e,{value:f.getValue(),jobs_link:f.row.original.jobs_link}),meta:{colClass:"md:w-24 md:flex-none max-md:col-span-1",sortMessage:["recent  oldest","oldest  recent"],sortFlipOrder:!0},sortingFn:(f,g)=>{const m=f.original.last_activity_time??0,y=g.original.last_activity_time??0;return m>y?1:m<y?-1:0},size:120,enableSorting:!0,minSize:120}),_y.accessor("first_activity_time",{header:"First job post",id:"First job post",cell:NK,meta:{colClass:"text-slate-400",sortMessage:["recent  oldest","oldest  recent"],sortFlipOrder:!0},sortingFn:(f,g)=>{const m=f.original.first_activity_time??0,y=g.original.first_activity_time??0;return m>y?1:m<y?-1:0},enableResizing:!0,size:150}),_y.accessor("technologies",{id:"Filters",header:u||c||h?"Filters":"Technologies",cell:f=>l.jsx(o$e,{hasProjects:c,hasTechs:o,hasJobFunctions:u,hasJobLevels:h,organization_slug:t,team:f.row.original,uniqueProjects:n??[],uniqueTechnologies:s??[],uniqueJobFunctions:i??[],uniqueJobLevels:r??[]}),meta:{autoSize:u||c||h||o},size:u||c||h||o?a.Filters:700,enableResizing:!(u||c||h||o),enableSorting:!1})]},nte=e=>e.reduce((t,n)=>t+1+nte(n.children??[]),0),c$e=()=>{const{organizationId:e}=He(),{data:t,isLoading:n,isPlaceholderData:s}=qL({organization_slug:e??""}),{advSearch:i}=ze(),r=i.children.length>0,a=(t??[]).length>0?nte(t??[]):0;return l.jsxs("div",{className:"flex flex-1 items-center justify-center border-t-2 border-slate-100 text-slate-400 flex-col text-[1.1rem] gap-4 pb-24",children:[l.jsxs("div",{className:"text-center",children:["We didn't find any teams",r?" with the current filters.":" for this organization."," ",l.jsx("br",{}),"Try exploring this organization by job"," ",a>0?"function":"post"," instead."]}),l.jsx(Re,{className:"bg-green-600 hover:bg-green-700 text-white font-semibold px-6 items-center justify-center min-w-[20rem] h-[2.6rem] py-2 rounded-lg flex flex-row gap-2 transition-all",to:`/orgs/${e}/${a>0?"job-functions":"jobs"}`,children:n||s?l.jsx(Yr,{className:"w-4 h-4 mr-0"}):a===0?l.jsxs(l.Fragment,{children:["See matching job posts"," ",l.jsx(qS,{className:"w-4 h-4"})]}):l.jsxs(l.Fragment,{children:["See ",a," ",r&&"matching"," Job Function",a>1&&"s"," ",l.jsx(qS,{className:"w-4 h-4"})]})})]})},u$e=()=>{const{advSearch:e}=ze();return w.useMemo(()=>e?.children?e.children.flatMap(n=>n?.fields?.technology?.include||[]):[],[e])},d$e=(e,t)=>{let n={link:`${e.slug}`,...e};if(t&&t.length>0){const s=n.technologies.filter(r=>t.includes(r.slug)).sort((r,a)=>(a.count??0)-(r.count??0)).map(r=>({...r,isSelected:!0})),i=n.technologies.filter(r=>!t.includes(r.slug)).sort((r,a)=>(a.count??0)-(r.count??0));n={...n,technologies:[...s,...i]}}return n},h$e=()=>{const[e,t]=w.useState([]),{rootOrganizationId:n,organizationId:s}=He(),i=n??s,r=u$e(),{advSearch:a,q:o}=ze(),c=GL({organization_slug:i??"",children:e}),u=w.useCallback(g=>{t(m=>m.some(b=>b.id===g)?m.filter(b=>b.id!==g):[...m,{id:g,index:0}])},[]),h=w.useCallback(g=>{const m=d$e(g,r),y=e.map((b,S)=>({index:S+1,matches:b.id===g.id})).filter(b=>b.matches).map(b=>b.index);return y.length>0&&(m.children=[],y.forEach(b=>{const S=c[b]?.data?.teams??[];m.isLoadingChildren=!c[b]?.data;const C=c[b]?.data?.page_info.next_page_token,M=S.map(N=>h(N));if(m.children&&m.children.push(...M),m.children&&C){const N=Math.floor(m.children.length/2);N>=0&&N<m.children.length&&(m.children[N].scrollEvent=()=>{const T=e[b-1].index+1;if(!e.some(k=>k.id===g.id&&k.index===T)){const k={id:g.id,index:T,token:C};setTimeout(()=>{t(L=>[...L,k])},100)}})}})),m},[r,e,c]),f=w.useMemo(()=>(c[0]?.data?.teams??[]).map(m=>h(m)),[c,h]);return w.useEffect(()=>{t([])},[i,a,o]),{teamsTableData:f,handleTeamToggle:u}},f$e=({setIs404:e})=>{const{organizationId:t}=He(),n=w.useRef(null),{setSavedSearchId:s,teamPageToken:i,setTeamPageToken:r}=ze(),{hideColumnByDefault:a,autoResizeWidths:o}=w.useContext(_l),c=Gn("technology"),u=Gn("technology_category"),h=Gn("job_function"),f=Gn("job_level"),g=w.useMemo(()=>[],[]),m=GL({organization_slug:t??"",children:g}),{data:y,error:b,isError:S,isLoading:C,isPlaceholderData:M,error:N}=m[0],T=y?.teams??[],E=y?.page_info??void 0;w.useEffect(()=>{N?.message.includes("Error 404")&&e(!0)},[N]);const k=(u?.length??0)>0,{data:L}=$0({enabled:k}),I=L?.technology_categories??[],_=w.useMemo(()=>[...new Set((I??[]).filter(({slug:be})=>(u??[]).includes(be)).flatMap(({techs:be})=>be.map(({slug:Ae})=>Ae)))],[I,u]),F=w.useMemo(()=>[...c??[],..._],[c,_]),{data:G}=gg({fetching_selected_technologies:!0,slugs:F}),{sendEvent:U}=zn(),{teamId:H}=He(),{teamsTableData:z,handleTeamToggle:$}=h$e(),P=w.useRef(i),B=w.useRef(T),Y=y?.subscription_id??null;w.useEffect(()=>{P?.current?.token!==i?.token&&(P.current=i,n?.current?.scrollTo({top:0,left:0}))},[i]),w.useEffect(()=>{B?.current.length!==T.length&&(B.current=T,n?.current?.scrollTo({top:0,left:0}))},[y]),w.useEffect(()=>{["First job post"].map(be=>a("TEAM",be))},[]),w.useEffect(()=>{U("Organization Teams Loaded",{event_category:"Organization",event_label:"Organization Teams Loaded"})},[]);const K=w.useMemo(()=>zl(E?.results_count??0,T.length||0,E?.next_page_token??""),[E?.results_count,T.length,E?.next_page_token]),te=w.useMemo(()=>(G?.technologies??[]).map(be=>({name:be.name,slug:be.slug,id:be.id})),[G,z]),se=w.useMemo(()=>{const be=z.flatMap(Ae=>Ae.projects??[]);return be.length>0?Array.from(new Map(be.map(Ae=>[Ae.slug,Ae])).values()):[]},[z]),fe=w.useMemo(()=>(h??[]).map(be=>({name:be,slug:p2(be,{lower:!0}),type:"job_function"})),[h]),oe=w.useMemo(()=>(f??[]).map(be=>({name:be,slug:be,type:"job_level"})),[f]),Ee=w.useMemo(()=>l$e({handleTeamToggle:$,uniqueTechnologies:te,uniqueProjects:se,uniqueJobFunctions:fe,uniqueJobLevels:oe,autoResizeWidths:o,organization_slug:t}),[$,te,se,fe,oe,t,o]);w.useEffect(()=>(s(Y),()=>s(null)),[Y]);const ye=!C&&!S&&!M&&T.length===0,je=w.useCallback(()=>{E?.next_page_token&&r({type:"next",token:E.next_page_token})},[E?.next_page_token,r]),me=w.useCallback(()=>{E?.previous_page_token&&r({type:"previous",token:E.previous_page_token})},[E?.previous_page_token,r]);return l.jsx(l.Fragment,{children:ye?l.jsx(c$e,{}):l.jsxs(l.Fragment,{children:[l.jsx(Qo,{canExpand:!0,className:"border-t-2 border-slate-100",collapseOnFilterChange:!0,columns:Ee,columnsName:"TEAM",data:z,disallowSorting:!0,isLoading:C,isError:S,error:b,isPreviousData:M,itemPlural:"teams",pinColumns:1,matchRow:H?{key:"slug",value:H}:void 0}),E&&l.jsx(Zo,{totalResults:E.results_count||0,caption:"top-level teams and subsidiaries",currentRange:K,currentResults:T.length,hasNext:!!E.next_page_token,hasPrevious:!!E.previous_page_token,next:je,previous:me})]})})},p$e=({type:e})=>{const{teamQ:t,setTeamQ:n}=ze(),s=_2({type:e}),[i,r]=w.useState(t),a=ba(i,500),o=w.useRef(!1);w.useEffect(()=>{o.current||r(t),o.current=!1},[t]),w.useEffect(()=>{a!==t&&n(a)},[a,n,t]),w.useEffect(()=>()=>{n(null)},[]);const c=e==="hiring",u=i??"";return l.jsx(Fl,{hidden:c,placeholderText:s,value:u,onChange:h=>{o.current=!0,r(h.target.value||"")}})},eS=yo(),g$e=e=>e==="United States"?"USA":e==="United Kingdom"?"UK":e,m$e=[eS.accessor("name",{id:"Name",header:({table:e})=>l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:t=>{t.stopPropagation(),e.getToggleAllRowsExpandedHandler()(t)},className:"opacity-50 w-4 h-4 self-center",children:l.jsx(TK,{isExpanded:e.getIsAllRowsExpanded()})}),"Job function"]}),meta:{},size:600,minSize:400,enableHiding:!1,cell:({row:e,getValue:t})=>{const{organizationId:n}=He(),{mutate:s}=ff();return l.jsx(HL,{row:e,action:()=>{e.getIsExpanded()||s({activity_type:"job_function_expand_function",content:{organization_slug:n,job_function_id:e.original.id,job_function_slug:e.original.slug}})},children:l.jsx("span",{className:`${e.original.isMatch?"font-semibold":"font-medium"}`,children:t()})})}}),eS.accessor("count",{id:"Count",header:({table:e})=>{const t=e.getCoreRowModel().rows.reduce((n,s)=>n+s.original.count,0);return l.jsxs("div",{className:"flex gap-4",children:["People (",$e(t),")"]})},size:200,minSize:160,meta:{sortFlipOrder:!0,sortMessage:["largest  smallest","smallest  largest"]},cell:e=>{const{organizationId:t}=He(),n=Gn("job_function");return l.jsx("div",{className:"w-full text-right tabular-nums -tracking-[0.02em] flex justify-end",children:l.jsx(gt,{className:(n??[]).includes(e.row.original.name)?"bg-blue-100!":"",text:$e(e.getValue()),type:"general",tooltip:"View all people in this job function",href:`/orgs/${t}/job-functions/${e.row.original.slug}`})})}}),eS.accessor("jobs_count",{id:"Jobs",header:()=>"Matching jobs",meta:{sortFlipOrder:!0,sortMessage:["largest  smallest","smallest  largest"]},size:130,minSize:130,sortingFn:(e,t)=>{const[n,s]=[e.original,t.original];return!n.jobs_count&&!s.jobs_count?0:n.jobs_count?s.jobs_count?n.jobs_count-s.jobs_count:1:-1},cell:e=>{const t=e.getValue(),n=e.row.original.total_jobs_count;let s=(t??0)/(n??0)*(100-3*e.row.getParentRows().length);return s=s>2?s:2,t&&n?l.jsxs("div",{className:"w-full text-right tabular-nums -tracking-[0.02em] flex justify-end gap-1",children:[l.jsx("div",{className:"z-1 absolute h-1/2 bg-green-200/80 bottom-0 left-1",style:{width:`${s}%`,opacity:`${100-e.row.getParentRows().length*10}%`,left:`${e.row.getParentRows().length*3}%`}}),l.jsx(gt,{className:"z-2 relative",text:l.jsxs("div",{className:"flex flex-row gap-1",children:[l.jsx("div",{className:" ",children:$e(t)}),l.jsxs("div",{className:"text-slate-300",children:["/ ",$e(n)]})]}),type:"general",href:`${e.row.original.slug}/jobs`,tooltip:`${$e(t)} of ${$e(n)} ${e.row.original.name} jobs match your selected technologies.`})]}):l.jsx("span",{className:"text-slate-200 text-right w-full",children:""})}}),eS.accessor("countries",{id:"Countries",header:"Countries",meta:{},size:700,minSize:400,enableSorting:!1,cell:e=>{const t=e.getValue(),{organizationId:n}=He(),s=G0();let i=s>480?4:3;i=s>1440?5:i,i=s>1920?7:i;const r=t.slice(0,i),a=t.slice(i).length,o=t.slice(i).reduce((c,u)=>c+u.count,0);return l.jsxs("div",{className:"flex flex-row gap-1 flex-wrap",children:[r.map(c=>c.name!==null&&l.jsx(gt,{text:g$e(c.name),item:{name:c.name,slug:c.code},count:c.count,selected:c.isSelected||!1,organization_slug:n,type:"country"},c.code)),a>0&&l.jsxs("div",{className:"h-[1.5rem] text-slate-400",children:["+",a," more"," ",l.jsx("span",{className:"text-xs font-semibold text-slate-300",children:$e(o)})]})]})}})],ste=e=>!e||!Array.isArray(e)?[]:e.map(t=>{const n={...t,link:`${t.slug}`};return n.countries=n.countries.sort((s,i)=>i.count-s.count),t.children&&(n.children=ste(t.children)),n}),ite=e=>!e||!Array.isArray(e)?[]:e.map(t=>{const n={...t,countries:t.countries.map(s=>({...s,isSelected:!1}))};return t.children&&(n.children=ite(t.children)),n}),y$e=e=>{let t=e?ste(e):[];t=ite(t);const n=t.findIndex(s=>s.name==="Other");if(n>-1){const s=t.splice(n,1)[0];t.push(s)}return t},rte=(e,t)=>{if(!e||!Array.isArray(e))return[];const n=[];return e.forEach(s=>{const i=t?s.name.toLowerCase().includes(t.toLowerCase()):!0;let r=[];if(s.children&&(r=rte(s.children,t)),i||r.length>0){const a={...s,children:r};i&&(a.isMatch=!0),n.push(a)}}),n},x$e=()=>{const{jobFunctionQ:e}=ze(),{organizationId:t,rootOrganizationId:n,functionId:s}=He(),i=n??t,{sendEvent:r}=zn(),{data:a,error:o,isError:c,isLoading:u,isPlaceholderData:h}=qL({organization_slug:i??""}),f=a?y$e(a):[];let g=[];const m=!!(e&&e!=="");m&&(g=rte(f,e));const y=w.useMemo(()=>f.some(C=>C.jobs_count!==null),[f]),b=m$e.filter(C=>y||C.id!=="Jobs");w.useEffect(()=>{r("Organization JobFunctions Loaded",{event_category:"Organization",event_label:"Organization JobFunctions Loaded"})},[]);const S=m?g:f;return l.jsx(Qo,{canExpand:!0,className:"border-t-2 border-slate-100",columnsName:"JF",columns:b,data:S,disallowSorting:!0,getRowId:C=>C.id.toString(),isExpanded:m,isLoading:u,isError:c,error:o,isPreviousData:h,itemPlural:"job functions",matchRow:s?{key:"slug",value:s}:void 0})},pE=Xe.memo(function({children:t,className:n,count:s,isSelected:i,link:r}){const a=l.jsxs(l.Fragment,{children:[t,s&&s>0&&l.jsx("span",{className:"dont-bubble opacity-50 text-xs font-semibold ml-1",children:$e(s)})]}),o=`rounded-md px-2.5 text-[0.95rem] h-[1.5rem] rounded-full ${i?"bg-green-100 text-green-700 ":"bg-slate-100 text-slate-400 md:text-slate-600"} ${r?"cursor-pointer hover:bg-slate-200 ":""}${n}`;return r?r.startsWith("http")||r.startsWith("mailto")||r.startsWith("tel")?l.jsx("a",{className:o,onClick:c=>{c.stopPropagation()},href:r,target:"_blank",rel:"noreferrer",children:a}):l.jsx(Re,{className:o,to:r,children:a}):l.jsx("div",{className:o,children:a})}),Mh=yo(),b$e=e=>{if(/^\d{4}$/.test(e))return e;const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleDateString("en-US",{year:"numeric",month:"short"})},mB=({oldItem:e,newItem:t})=>{if(!e)return{isAMove:!1,isNewOrg:!1};const n=e&&e.title!==t.title&&/^[* ,&/\-()+.|:#@']*$/.test(e.title)===!1,s=e&&e.organization_name!==t.organization_name;return{isAMove:n,isNewOrg:s}},v$e=[Mh.accessor("datetime_pulled",{header:"Time",id:"Time",cell:e=>l.jsx("div",{className:"w-[3rem] text-slate-400 max-md:absolute max-md:right-0",style:{color:KY(e.getValue())},children:Pl(e.getValue())}),sortingFn:(e,t)=>e.original.datetime_pulled<t.original.datetime_pulled?1:-1,meta:{headClass:"max-md:hidden",colClass:"max-md:col-span-8 "},size:100,enableResizing:!1}),Mh.accessor("person_name",{id:"Name",header:"Name",meta:{colClass:"max-md:col-span-8 max-md:px-4 max-md:text-slate-800",headClass:"max-md:hidden "},cell:e=>l.jsx("span",{className:"font-medium",children:e.getValue()}),size:200,minSize:100,enableHiding:!1}),Mh.accessor("new",{id:"Title",header:"Title",meta:{colClass:"max-md:col-span-8 max-md:px-4 max-md:text-slate-700",headClass:"max-md:hidden"},size:400,cell:e=>{const t=e.row.original.old,{isAMove:n,isNewOrg:s}=mB({oldItem:t,newItem:e.row.original.new});return n&&t?l.jsx(Sr,{placement:"bottom-start",content:l.jsxs("div",{className:"bg-slate-700 text-white mt-2 -left-3 relative px-3 rounded-md py-1 text-white/90",children:["Previously"," ",l.jsx("span",{className:"font-medium",children:t.title}),s?` @ ${t.organization_name}`:""]}),children:e.getValue().title}):l.jsx("span",{children:e.getValue().title})}}),Mh.display({id:"Type",header:"Type",meta:{colClass:" max-md:hidden",headClass:"max-md:hidden"},size:100,enableResizing:!1,cell:e=>{const t=e.row.original,{isAMove:n,isNewOrg:s}=mB({oldItem:t.old,newItem:t.new}),i=n&&!s;return l.jsx(pE,{className:i?"bg-amber-100/75!":"bg-green-100/75!",children:i?"Move":"New"})}}),Mh.display({id:"Function",header:"Function / Level",meta:{colClass:"md:flex-none w-[19rem] max-md:hidden",headClass:"max-md:hidden"},size:300,minSize:200,cell:e=>{const t=e.row.original,n=[],s=t.new.job_function_name,i=t.new.job_level;return l.jsxs("div",{className:"flex flex-row flex-wrap gap-2",children:[s&&l.jsx(pE,{isSelected:n?.includes(s),children:s}),i&&l.jsx(pE,{children:i})]})}}),Mh.accessor("country",{id:"Country",header:"Country",meta:{colClass:"max-md:col-span-8 max-md:px-4",headClass:"max-md:hidden"},cell:e=>l.jsx("span",{className:"text-slate-500",children:e.getValue()}),size:200,minSize:100}),Mh.accessor("date_from",{id:"Started",header:"Started",cell:e=>l.jsx("div",{className:"text-slate-500",children:b$e(e.getValue())}),sortingFn:(e,t)=>new Date(e.original.date_from).toTimeString()<new Date(t.original.date_from).toTimeString()?1:-1,meta:{headClass:"max-md:hidden",colClass:" max-md:hidden"},size:150,minSize:100})],S$e=e=>Hg(()=>"/people/movements/advanced",t=>({job_functions:t.jobFunctions,organization_slug:e.organization_slug,loc:t.locations,q:e.q}),"MOVEMENT"),w$e=e=>{const{suffix:t}=S$e(e);return nt({url:t,queryKey:["peopleMovements",t],enabled:!e.skip})},C$e=({organizationId:e})=>{const{data:t,error:n,isError:s,isPlaceholderData:i,isLoading:r}=w$e({organization_slug:e}),a=t?.movement_items.map(u=>({...u,link:u.linkedin_url}))??[],o=t?.page_info,c=zl(o?.results_count??0,a.length??0,o?.next_page_token??"");return l.jsxs(l.Fragment,{children:[l.jsx(Qo,{canExpand:!0,className:"border-t-2 border-slate-100",columnsName:"MOVEMENT",columns:v$e,data:a,disallowSorting:!0,isLoading:r,isError:s,error:n,isPreviousData:i,itemPlural:"job changes"}),o&&a&&l.jsx(Zo,{totalResults:o.results_count||0,currentResults:a.length||0,currentRange:c,hasNext:!!o.next_page_token,hasPrevious:!!o.previous_page_token,next:()=>{o.next_page_token},previous:()=>{o.previous_page_token}})]})},M$e=({children:e,className:t})=>l.jsx("div",{className:`max-md:hidden bg-slate-50 px-10 py-2 flex items-start gap-2 flex-row relative z-1 text-[0.85rem] font-semibold text-slate-500 md:whitespace-nowrap ${t}`,children:e});function j$e({techsString:e,jfs:t}){const n=e.split(",").sort().join(","),{advSearch:s,setAdvSearch:i}=ze(),r=()=>{const a=s.children.map(o=>{const c=o.fields.technology?.include??[];return c.length>0&&c.sort().join(",")===n&&(o.fields.job_function={include:[...o.fields.job_function?.include??[],...t.map(h=>h.name)],exclude:o.fields.job_function?.exclude??[]},o.fields.technology={include:[],exclude:o.fields.technology?.exclude??[]}),o});i({...s,children:a})};return l.jsx(Ht,{description:"Click to customise this selection",className:"text-[0.85rem]",children:l.jsxs("button",{className:"bg-blue-100 text-blue-900 rounded-full px-2.5 hover:bg-blue-200/75",onClick:r,children:[e.replaceAll(",",", "),":"," ",l.jsx("span",{className:"font-medium",children:t.map(a=>a.name).join(", ")})]})})}const N$e=()=>{const[e,t]=w.useState(!1),{organizationId:n}=He(),{data:s,isLoading:i,isPlaceholderData:r}=tm({organization_slug:n??""});if(i||!s||!s.job_functions_by_techs||Object.values(s.job_functions_by_techs).length===0)return null;const a=Object.entries(s.job_functions_by_techs),o=Object.values(s.job_functions_by_techs).reduce((u,h)=>(u=u+h.length,u),0),c=$e(s?.inferred_match_count??0);return l.jsxs(M$e,{className:r?"opacity-40":"",children:[l.jsxs("div",{className:"pr-2 ",children:["Inferring ",o," job functions from selected techs for"," ",c," inferred people"]}),e?l.jsx("div",{className:"flex flex-wrap flex-row gap-2",children:a.map((u,h)=>l.jsx(j$e,{techsString:u[0],jfs:u[1]},u[0]+h))}):l.jsx("button",{className:"text-[0.85rem] font-semibold text-green-600 hover:text-green-700",onClick:()=>t(!0),children:"See details"})]})},A$e=()=>{const{organizationId:e,rootOrganizationId:t}=He(),n=t??e,{setPeoplePageToken:s,peoplePageToken:i}=ze(),{data:r,isLoading:a,isPlaceholderData:o,error:c,isError:u}=tm({organization_slug:n??""}),h=b=>{if(typeof b=="function"){const S=b(i??{next_page_token:null,previous_page_token:null});s(S)}else s(b)},f=r?.people?.length??0,g=i?.next_page_token?Number(i.next_page_token):i?.previous_page_token?Number(i.previous_page_token):0,m=g+f,y=[g,m];return w.useEffect(()=>()=>{s({next_page_token:null,previous_page_token:null})},[]),l.jsxs(l.Fragment,{children:[l.jsx(N$e,{}),l.jsx(KL,{className:"border-t-2 border-slate-100",currentRange:y,people:r?.people??[],isFullPage:!0,isLoading:a,isPreviousData:o,totalPeople:r?.page_info.results_count??0,previousPageToken:r?.page_info.previous_page_token??null,nextPageToken:r?.page_info.next_page_token??null,sendToLinkedIn:!1,setPageToken:h,scrollPosition:0,setScrollPosition:()=>{},showJobFunctions:!0,showTeams:!0,location:"organization",error:c,isError:u,createLink:b=>n!==b.org_slug?`/orgs/${n}/subsidiaries/${b.org_slug}/people/${b.id}`:`${b.id}`})]})},T$e=({type:e,placeholderOverride:t})=>{const{jobFunctionQ:n,setJobFunctionQ:s}=ze(),i=_2({type:e}),[r,a]=w.useState(n),o=ba(r,500),c=w.useRef(!1);w.useEffect(()=>{c.current||a(n),c.current=!1},[n]),w.useEffect(()=>{o!==n&&s(o)},[o,s,n]),w.useEffect(()=>()=>{s(null)},[]);const u=r??"";return l.jsx(Fl,{hidden:!1,placeholderText:t??i,value:u,onChange:h=>{c.current=!0,a(h.target.value||"")}})},E$e=({organization_slug:e,techs:t,job_functions:n,tech_categories:s})=>{const i=new URLSearchParams;return t.forEach(r=>i.append("techs",r)),n.forEach(r=>i.append("job_functions",r)),s.forEach(r=>i.append("tech_categories",r)),`/organizations/${e}/trends?${i.toString()}`},f3=e=>{const t=E$e(e);return nt({url:t,queryKey:["orgTrends",t]})},p3=({isLoading:e,isPlaceholderData:t,items:n,matchOnName:s,showAllItems:i,slugsToPreselect:r,subtitle:a,title:o,type:c})=>{const[u,h]=w.useState(void 0),[f,g]=w.useState([]);w.useEffect(()=>{r.length>0?g(r):g(n.slice(0,3).map(M=>s?M.name:M.slug))},[r]);const m=M=>{g(N=>N.includes(M)?N.filter(T=>T!==M):[...N,M])},y=M=>{g([M])},b=n.map((M,N)=>({...M,count:M.total_count,selected:f.includes(s?M.name:M.slug),color:Jp[N%Jp.length]})),S=b.filter(M=>M.selected),C=S.map(M=>({name:M.name,slug:M.slug,count:M.month_counts,color:M.color,type:c}));return l.jsx("div",{className:"py-8 md:py-12 max-md:px-4 md:mx-10",children:l.jsxs("div",{className:"grid md:grid-cols-5 max-md:gap-10",children:[l.jsxs("div",{className:"md:col-span-2 md:pr-16",children:[l.jsx("h2",{className:"text-[1.25rem] font-semibold text-slate-600 mb-6 md:mb-14",children:o}),l.jsx("div",{children:l.jsx(o9e,{isLoading:e,isPlaceholderData:t,items:b,itemName:c==="job_function_people"?"people":"job",toggleSelection:m,toggleOnName:s,showAllItems:i,onHover:[M=>h(M),()=>h(void 0)],type:c})})]}),l.jsxs("div",{className:"md:col-span-3",children:[l.jsxs("h2",{className:"text-[1.25rem] font-semibold text-slate-600 line-clamp-2 h-[3.75rem] mb-10",children:[S.length>0&&` ${a} `,b.map(M=>M.selected&&l.jsxs(w.Fragment,{children:[l.jsx(Ht,{className:"inline",description:`Show me only ${M.name} on chart`,children:l.jsx("button",{onMouseEnter:()=>h(M.slug),onMouseLeave:()=>h(void 0),onClick:()=>y(s?M.name:M.slug),children:l.jsx("span",{className:"border-b-2",style:{borderBottomColor:M.color},children:M.name})})}),l.jsx("span",{className:"last:hidden",children:", "})]},M.slug))]}),l.jsx("div",{children:l.jsx(Qee,{isLoading:e,items:C,className:"w-full h-[20rem] md:h-[26rem]",hoverSlug:u})})]})]})})},D$e=()=>{const{organizationId:e}=He(),t=Gn("technology")||[],n=Gn("technology_category")||[],{data:s,error:i,isError:r,isLoading:a,isPlaceholderData:o}=f3({organization_slug:e??"",techs:t,tech_categories:n,job_functions:[]});return r&&i?.response?.status?l.jsx(Q0,{message:"Trends are available for Pro users only",className:"flex-1 h-[40vh] border border-slate-200 mx-10 rounded-2xl"}):l.jsx(p3,{title:"Key Technologies",subtitle:"Job Posts mentioning",isLoading:a,isPlaceholderData:o,items:s?.technologies.sort((c,u)=>u.total_count-c.total_count)??[],slugsToPreselect:t??[],showAllItems:t.length>0,type:"tech"})},k$e=()=>{const{organizationId:e}=He(),t=Gn("job_function")||[],{data:n,error:s,isError:i,isLoading:r,isPlaceholderData:a}=f3({organization_slug:e??"",techs:[],tech_categories:[],job_functions:t});return i&&s?.response?.status?l.jsx(Q0,{message:"Trends are available for Pro users only",className:"flex-1 h-[40vh] border border-slate-200 mx-10 rounded-2xl"}):l.jsx(p3,{isLoading:r,isPlaceholderData:a,title:"Key Job Functions",subtitle:"Job Posts for",items:n?.job_functions.sort((o,c)=>c.total_count-o.total_count)??[],slugsToPreselect:t,matchOnName:!0,showAllItems:t.length>0,type:"job_function"})},I$e=()=>{const{organizationId:e}=He(),t=Gn("job_function")||[],{data:n,error:s,isError:i,isLoading:r,isPlaceholderData:a}=f3({organization_slug:e??"",techs:[],tech_categories:[],job_functions:t});return i&&s?.response?.status?l.jsx(Q0,{message:"Trends are available for Pro users only",className:"flex-1 h-[40vh] border border-slate-200 mx-10 rounded-2xl"}):l.jsx(p3,{isLoading:r,isPlaceholderData:a,title:"Key Job Functions",subtitle:"People for",items:n?.job_functions_people.sort((o,c)=>c.total_count-o.total_count)??[],slugsToPreselect:t,matchOnName:!0,showAllItems:t.length>0,type:"job_function_people"})},L$e=({item:e})=>{const{sendEvent:t}=zn();return l.jsxs("div",{className:"flex flex-col items-center justify-start",children:[l.jsx(Re,{to:e.to,className:`relative h-10 flex items-center rounded-xl transition-colors bg-slate-100 text-slate-400 px-5 font-semibold ${e.isActive?"bg-slate-200 text-slate-600 ":"hover:bg-slate-200"}`,"data-testid":`tab-${e.children}`,onClick:()=>{e.eventName&&t("Tab Click",{event_category:"Navigation",event_label:e.eventName})},children:e.children}),e.isActive&&l.jsx("span",{className:"w-0! h-0! border-l-6! border-r-6! border-t-6! border-l-transparent! border-r-transparent! border-slate-200"})]})},O$e=({tabLinks:e,type:t})=>l.jsxs("div",{className:"flex flex-row px-4 md:px-10 gap-4",children:[l.jsx(Zr,{title:t==="JOB_FUNCTIONS_PEOPLE"?"Job Functions by People ":t==="JOB_FUNCTIONS"?"Job Functions by Job Posts":"Technologies by Job Posts"}),e.map(n=>l.jsx(L$e,{item:n},n.to))]}),R$e=({type:e})=>{const{organizationId:t}=He(),n=[{to:`/orgs/${t}/trends/job_functions_people`,isActive:e==="job_functions_people",eventName:"organization-trends-job_functions_people",children:"Job Functions by People"},{to:`/orgs/${t}/trends/job_functions`,isActive:e==="job_functions",eventName:"organization-trends-job_functions",children:"Job Functions by Job Posts"},{to:`/orgs/${t}/trends/technologies`,isActive:e==="technologies",eventName:"organization-trends-technologies",children:"Technologies by Job Posts"}];return l.jsxs("div",{className:"pt-10 flex-1 flex flex-col gap-4 border-t-2 border-slate-100 overflow-auto",children:[l.jsx(O$e,{tabLinks:n,type:e==="job_functions_people"?"JOB_FUNCTIONS_PEOPLE":e==="job_functions"?"JOB_FUNCTIONS":"TECHNOLOGIES"}),l.jsxs("div",{className:"pb-32",children:[e==="job_functions_people"&&l.jsx(I$e,{}),e==="job_functions"&&l.jsx(k$e,{}),e==="technologies"&&l.jsx(D$e,{})]})]})},_$e=()=>l.jsx("div",{children:l.jsx(Fl,{hidden:!0,placeholderText:"Search not available",onChange:()=>{},value:""})}),yB=({type:e})=>{const[t,n]=w.useState(!1),{teamId:s,rootOrganizationId:i,organizationId:r,personId:a,summaryType:o}=He(),c=i??r,{data:u,error:h}=$l(c),{setCurrentOrg:f,setShowSaveSearch:g}=ze(),{sendEvent:m}=zn(),{mutate:y}=ff();uU(),w.useEffect(()=>{f(c||""),n(!1)},[c]),w.useEffect(()=>{t||(e==="summary"?y({activity_type:"organization_overview",content:{organization_slug:c}}):e==="teams"?y({activity_type:"team_listing",content:{organization_slug:c}}):e==="feed"?y({activity_type:"job_post_listing",content:{organization_slug:c}}):e==="hiring"?y({activity_type:"people_movement_feed",content:{organization_slug:c}}):e==="job"?y({activity_type:"job_function_listing",content:{organization_slug:c}}):e==="people"&&y({activity_type:"organization_people",content:{organization_slug:c}}))},[e,t]),w.useEffect(()=>{u&&m("Organization loaded",{category:"Web UI",organization_id:c})},[u]),w.useEffect(()=>{h?.message.includes("Error 404")&&n(!0)},[h]);const[b]=em(),S=[];return S.push({to:`/orgs/${c}/teams`,isActive:e==="teams",eventName:"organization-teams",children:"Team"}),S.push({to:`/orgs/${c}/people`,isActive:e==="people",eventName:"organization-people",children:"People",isNotPlural:!0}),S.push({to:`/orgs/${c}/job-functions`,isActive:e==="job",children:"Job Function",eventName:"organization-job_functions"}),S.push({to:`/orgs/${c}/jobs`,isActive:e==="feed",eventName:"organization-jobs",children:"Job Post"}),S.push({to:`/orgs/${c}/trends/job_functions_people`,isActive:e==="trend",eventName:"organization-trends",children:"Trend"}),w.useEffect(()=>(g(!0),()=>g(!1)),[e]),t?l.jsx(xg,{title:"Organization not found",subtitle:"Sorry, we couldn't find that organization."}):l.jsxs(l.Fragment,{children:[l.jsx(n$e,{organizationName:u===void 0?"":u.name,organizationUrl:u?.url??void 0,organizationId:c??"",organizationEditId:u?.id,type:e,tabLinks:S}),l.jsx("div",{className:"flex flex-row flex-1 h-[calc(100%-14rem)]",children:l.jsxs("div",{className:"flex-1 flex flex-col max-md:w-full",children:[l.jsx(rx.Provider,{value:e==="people"?"person":"job",children:l.jsx(vK,{tabLinks:S,searchType:e==="people"?l.jsx(nq,{type:e}):e==="feed"?l.jsx(eq,{type:e}):e==="trend"?l.jsx(_$e,{}):e==="job"?l.jsx(T$e,{type:e}):l.jsx(p$e,{type:e})})}),b&&e==="feed"&&l.jsx(_K,{}),b&&e==="people"&&l.jsx(PL,{export_type:"ORG_PEOPLE"}),e==="teams"&&l.jsx(f$e,{setIs404:n}),e==="feed"&&l.jsx(ZY,{organizationId:c}),e==="people"&&l.jsx(A$e,{}),e==="job"&&l.jsxs(l.Fragment,{children:[l.jsx(x$e,{}),l.jsx(sd,{})]}),e==="hiring"&&l.jsx(C$e,{organizationId:c}),e==="trend"&&l.jsx(R$e,{type:o??"job_functions_people"})]})}),s&&l.jsx(sd,{context:{teamId:s,type:e}}),a&&l.jsx(sd,{context:{personId:a}})]})},ko=e=>[{index:!0,element:e},{path:"*",element:e}],P$e=[["/orgs/:organizationId/teams","teams"],["/orgs/:rootOrganizationId/subsidiaries/:organizationId/teams","teams"],["/orgs/:organizationId/jobs","feed"],["/orgs/:rootOrganizationId/subsidiaries/:organizationId/jobs","feed"],["/orgs/:organizationId/people","people"],["/orgs/:rootOrganizationId/subsidiaries/:organizationId/people","people"],["/orgs/:organizationId/job-functions","job"],["/orgs/:rootOrganizationId/subsidiaries/:organizationId/job-functions","job"],["/orgs/:organizationId/trends","trend"],["/orgs/:organizationId/trends/:summaryType","trend"]],z$e={people:{path:":personId",element:l.jsx(eD,{closeContext:"org-people"})},teams:{path:":teamId",element:l.jsx(xw,{})},feed:{path:":teamId",element:l.jsx(xw,{})},job:{path:":functionId",element:l.jsx(t$e,{})},trend:void 0},F$e=([e,t])=>{const n=z$e[t],s={path:e,element:l.jsx(yB,{type:t}),children:[]};return n&&s.children.push({path:n.path,children:ko(n.element)}),s.children.push({path:"*",element:l.jsx(yB,{type:t})}),s},$$e=({onClose:e})=>l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-center",children:["Your"," ",l.jsx("strong",{className:"font-semibold",children:"30 day trial of Sumble Pro is active from today"}),". Use all the features of the free plan, plus:"]}),l.jsxs("div",{className:"flex flex-col gap-1.5 px-4",children:[l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(ar,{className:"w-5 h-5 text-slate-500"}),l.jsx("span",{children:"Find people in organizations"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(ar,{className:"w-5 h-5 text-slate-500"}),l.jsx("span",{children:"2,000 credits a month"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(ar,{className:"w-5 h-5 text-slate-500"}),l.jsx("span",{children:"Up to 20 signals a day"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(ar,{className:"w-5 h-5 text-slate-500"}),l.jsx("span",{children:"10 pages of results"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(ar,{className:"w-5 h-5 text-slate-500"}),l.jsx("span",{children:"Advanced full-text & project-based search filters"})]})]}),l.jsx("p",{className:"text-center px-12",children:"After 30 days, youll drop to Free unless you choose to subscribe to Pro for $99/month."}),l.jsx("div",{className:"flex flex-row justify-center",children:l.jsx("button",{onClick:e,className:"w-[20rem] bg-green-600 hover:bg-green-500 text-white font-semibold py-4 px-6 rounded-2xl transition-colors duration-200",children:"Ok, let's go"})})]}),B$e=({onClose:e})=>l.jsxs(l.Fragment,{children:[l.jsxs("p",{className:"text-center",children:["Want a free trial of Sumble Pro?"," ",l.jsx("strong",{children:"Sign in with your corporate account (the one you use at work) to get 30 days free on us, no credit card required."})," "]}),l.jsx("p",{className:"text-center",children:"Use all the features of the free plan, plus:"}),l.jsxs("div",{className:"flex flex-col gap-1.5 px-4",children:[l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(ar,{className:"w-5 h-5 text-slate-500"}),l.jsx("span",{children:"Find people in organizations"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(ar,{className:"w-5 h-5 text-slate-500"}),l.jsx("span",{children:"2,000 credits a month"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(ar,{className:"w-5 h-5 text-slate-500"}),l.jsx("span",{children:"Up to 20 signals a day"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(ar,{className:"w-5 h-5 text-slate-500"}),l.jsx("span",{children:"10 pages of results"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(ar,{className:"w-5 h-5 text-slate-500"}),l.jsx("span",{children:"Advanced full-text & project-based search filters"})]})]}),l.jsxs("div",{className:"flex flex-col justify-center items-center gap-4",children:[l.jsx(Td,{to:"/account/logout",className:"w-[24rem] text-center bg-green-600 hover:bg-green-500 text-white font-semibold py-4 px-6 rounded-2xl transition-colors duration-200",children:"Sign in with my corporate email instead"}),l.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-600 text-sm",children:"No thanks, I'll stay on the Free plan "})]})]}),V$e=()=>{const{data:e,isLoading:t}=Gt(),{mutate:n}=Z0(),s=w.useMemo(()=>{if(t||!e||e.subscription.tier===ei.enterprise)return!1;const r=e.onboarding?.has_seen_trial_popup,a=e.subscription.tier===ei.pro,o=e.subscription.trial_start,c=e.subscription.trial_end,u=Date.now(),h=!!(o&&c&&u<c*1e3),f=e.is_eligible_for_trial;return!r&&(a&&h||!f)},[e,t]),i=r=>{n([{field:"has_seen_trial_popup",value:"true"}])};return s?l.jsx(U$e,{onClose:()=>i(),dialogToShow:e&&e.is_eligible_for_trial?"activated":"not-eligible"}):null},U$e=({onClose:e,dialogToShow:t})=>{const{mutate:n}=w2();return l.jsxs(N0,{open:!0,onClose:e,children:[l.jsx(Mk,{className:"fixed inset-0 bg-slate-100/90 backdrop-blur-xs transition-opacity duration-300"}),l.jsx("div",{className:"z-10 fixed inset-0 flex w-full h-[100dvh] flex-col md:items-center md:justify-center p-4 overflow-auto",children:l.jsxs(A0,{className:"text-slate-600 flex flex-col gap-8 p-10 bg-white border border-slate-200/70! rounded-3xl shadow-2xl w-full max-w-[32rem] overflow-hidden",children:[l.jsx("h2",{className:"font-next text-center text-4xl tracking-[0.05rem] font-semibold text-green-600",children:"Sumble Pro"}),t==="activated"?l.jsxs(l.Fragment,{children:[l.jsx($$e,{onClose:e}),l.jsxs("div",{className:"max-w-[25rem] text-center text-slate-400 pt-10",children:["Already sold on Pro? Your first months still free",l.jsx("br",{}),"add your payment details in"," ",l.jsx("button",{onClick:()=>{n()},className:"text-green-600 hover:text-green-500 disabled:text-slate-400!",children:"Billing "})]})]}):l.jsx(B$e,{onClose:e})]})})]})},H$e=()=>{const e=yt(),t=Rt();return w.useEffect(()=>{const n=new URLSearchParams(t.search);if(n.get("stripe-return")){e.invalidateQueries(),localStorage.removeItem("REACT_QUERY_OFFLINE_CACHE"),n.delete("stripe-return");const i=n.toString(),r=`${window.location.pathname}${i?`?${i}`:""}`;window.history.replaceState({},"",r),window.location.reload()}},[e,t.search]),null},G$e=e=>nt({url:()=>{if(e)return`/admin/config/signal-configs/${e}`},admin:!0,enabled:!!e,queryKey:["admin","signal-config",e?.toString()||""]});function W$e(e){const{url:t,admin:n=!1,method:s="POST",contentType:i,transformBody:r,transformResponse:a,onSuccess:o,onError:c}=e;return It({mutationFn:async u=>{const h=typeof t=="function"?t(u):t,f=r?r(u):u,g=await Ue({url:h,admin:n,method:s,body:f,contentType:i});return a?a(g):g},onSuccess:o,onError:c})}const Y$e=()=>{const e=yt();return W$e({url:t=>`/admin/config/signal-configs/${t.id}`,method:"PATCH",admin:!0,transformBody:t=>{const n={...t.updates};if(typeof n.filter_advanced_query=="string")if(n.filter_advanced_query.trim()==="")n.filter_advanced_query=null;else try{n.filter_advanced_query=JSON.parse(n.filter_advanced_query)}catch{throw new Error("Advanced Query must be valid JSON.")}return n},onSuccess:(t,n)=>{e.invalidateQueries({queryKey:["admin","signal-configs"]}),e.invalidateQueries({queryKey:["admin","signal-config",n.id.toString()]}),Tt.success("Signal config updated successfully")},onError:t=>{console.error("Failed to update signal config:",t),t.detail?Tt.error(t.detail):t.message?Tt.error(t.message):Tt.error("Failed to update signal config")}})},K$e=()=>{const e=yt();return It({mutationFn:async({values:t})=>{const n={...t};if(delete n.id,typeof n.filter_advanced_query=="string")if(n.filter_advanced_query.trim()==="")n.filter_advanced_query=null;else try{n.filter_advanced_query=JSON.parse(n.filter_advanced_query)}catch{throw new Error("Advanced Query must be valid JSON.")}return await Ue({url:"/admin/config/signal-configs",method:"POST",body:n})},onSuccess:()=>{e.invalidateQueries({queryKey:["admin","signal-configs"]}),Tt.success("Signal config created successfully")},onError:t=>{console.error("Failed to create signal config:",t),t.detail?Tt.error(t.detail):t.message?Tt.error(t.message):Tt.error("Failed to create signal config")}})},q$e=Object.keys(tL),Z$e=["advanced_query","customer_people"],Q$e=e=>{w.useEffect(()=>{const n=s=>{e&&(s.preventDefault(),s.returnValue="")};return window.addEventListener("beforeunload",n),()=>window.removeEventListener("beforeunload",n)},[e]);const t=kre(({currentLocation:n,nextLocation:s})=>e&&n.pathname!==s.pathname);return w.useEffect(()=>{t.state==="blocked"&&(window.confirm("You have unsaved changes. Are you sure you want to leave?")?t.proceed():t.reset())},[t]),t},X$e=(e,t)=>({[e]:e==="customer_id"?parseInt(t):t,slug:"new_signal_config_"+Math.random().toString(36).substring(2,7),sort_order:null,days:7,name:"New signal config",signal_type:q$e[0],id_cols:null,priority:"high",job_level:null,llm_model:null,sales_play:null,increasing:null,filter_filter_by:Z$e[0],filter_people_filter:null,filter_advanced_query:null}),J$e=({signalId:e})=>{const[t]=Ni(),n=Qt(),s=e==="new",{data:i}=G$e(!s&&e?Number(e):void 0),r=Y$e(),a=K$e(),[o,c]=w.useState({});w.useEffect(()=>{if(s){const y=t.get("type"),b=t.get("value");if(!y||!b){n(-1);return}c(X$e(y,b))}else i&&c({...i})},[i,s,t,n]);const u=(y,b)=>{c(S=>({...S,[y]:b}))},h=w.useMemo(()=>s?!!o.name:JSON.stringify(o)!==JSON.stringify(i),[o,i,s]),f=()=>{if(s)a.mutate({values:o},{onSuccess:()=>{n(-1)}});else{if(!i?.id)return;r.mutate({id:i.id,updates:o})}},g=()=>{s?n(-1):i&&c({...i})};Q$e(h);const m=s?a.isPending:r.isPending;return{formValues:o,updateField:u,handleSave:f,handleRevert:g,isPending:m,isDirty:h,isCreating:s,data:i}},eBe=({name:e,onChange:t})=>{const[n,s]=w.useState(!1);return l.jsx("div",{className:"pb-10 mt-4",children:n?l.jsx("input",{type:"text",value:e,onChange:t,onBlur:()=>s(!1),autoFocus:!0,className:"text-2xl p-0! bg-slate-100! m-0! border-0! w-full focus:ring-slate-200! focus:border-0"}):l.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[l.jsx("div",{className:"text-2xl",onClick:()=>s(!0),children:e}),l.jsx("button",{className:"text-slate-400 hover:text-slate-600",onClick:()=>s(!0),children:l.jsx(i2,{})})]})})},tBe=({isCreating:e,isDirty:t,isPending:n,onSave:s,onRevert:i})=>{const r=Qt(),a=n?e?"Creating...":"Saving...":e?"Create":"Save",o=e?"Cancel":"Revert changes";return l.jsxs("div",{className:"flex flex-row justify-between items-center sticky top-0 bg-white border-b border-slate-100 -mx-10 px-10 py-4",children:[l.jsxs("button",{onClick:()=>r(-1),className:"text-left text-slate-400 flex flex-row gap-2 items-center",children:[l.jsx(jV,{className:"size-4"}),"Back"]}),l.jsxs("div",{className:"flex flex-row gap-2",children:[l.jsx("button",{onClick:s,disabled:!t||n,className:"w-[8rem] bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:a}),l.jsx("button",{onClick:i,disabled:!t,className:"bg-slate-100 hover:bg-slate-200 text-slate-800 font-semibold px-4 py-2 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:o})]})]})},nBe=({label:e,description:t,value:n,onChange:s,type:i,options:r})=>l.jsxs("div",{className:"flex flex-row gap-4 items-center",children:[l.jsxs("div",{className:"flex-none w-[12em] flex flex-col",children:[l.jsx("div",{className:"text-slate-600",children:e}),l.jsx("div",{className:"text-slate-400",children:t})]}),l.jsxs("div",{className:"flex-1",children:[i==="filter"&&l.jsx("textarea",{rows:n&&typeof n=="string"?n.split(`
`).length+1:4,value:n??"",onChange:s,className:"w-full border border-slate-300 rounded-lg p-2 px-3 whitespace-pre font-mono! text-sm"}),i==="string"&&l.jsx("input",{type:"text",value:n??"",onChange:s,className:"w-full border border-slate-300 rounded-lg p-2 px-3"}),i==="number"&&l.jsx("input",{type:"number",value:n??"",onChange:s,className:"w-full border border-slate-300 rounded-lg p-2 px-3"}),i==="select"&&r&&l.jsx("select",{value:n,onChange:s,className:"w-full border border-slate-300 rounded-lg p-2 px-3",children:Object.entries(r).map(([a,o])=>l.jsx("option",{value:a,children:o},a))}),i==="radio"&&l.jsx("div",{className:"flex flex-col gap-1",children:r&&Object.entries(r).map(([a,o])=>l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"radio",value:a,checked:n===a,onChange:s,className:"form-radio"}),l.jsx("span",{className:"ml-4 text-slate-500 font-medium",children:o})]},a))})]})]}),ate=({fields:e,formValues:t,updateField:n})=>{const s=i=>{if(i.visible&&!i.visible(t))return null;const r=t[i.key],a=i.valueTransform?i.valueTransform(r):r,o=c=>{const u=i.onChangeTransform?i.onChangeTransform(c.target.value):c.target.value;n(i.key,u)};return l.jsx(nBe,{label:i.label,description:i.description,value:a,onChange:o,type:i.type,options:i.options},i.key)};return l.jsx(l.Fragment,{children:e.map(i=>s(i))})},sBe=[{key:"signal_type",label:"Signal event type",description:"",type:"select",options:tL},{key:"filter_advanced_query",label:"Filter",description:"",type:"filter",visible:e=>e.filter_filter_by==="advanced_query",valueTransform:e=>typeof e=="string"?e:JSON.stringify(e,null,2),onChangeTransform:e=>e},{key:"increasing",label:"Track increasing or decreasing trend",description:"",type:"radio",options:{true:"Increasing",false:"Decreasing"},visible:e=>e.signal_type==="job_function_trends"||e.signal_type==="technology_trends",valueTransform:e=>e?"true":"false",onChangeTransform:e=>e==="true"},{key:"job_level",label:"Minimum job level",description:"",type:"select",options:yK.reduce((e,t)=>(e[t.name]=t.name,e),{}),visible:e=>e.signal_type==="job_function_trends"||e.signal_type==="job_function_recent_hires"},{key:"priority",label:"Priority",description:"",type:"select",options:{high:" High",medium:" Medium",low:" Low"}},{key:"sales_play",label:"Sales play",description:"",type:"string"},{key:"days",label:"Days to look back",description:"",type:"number"}],iBe=[{key:"slug",label:"Slug",description:"",type:"string"},{key:"id_cols",label:"ID Columns",description:"",type:"string",valueTransform:e=>Array.isArray(e)?e.join(", "):e??"",onChangeTransform:e=>e?e.split(",").map(t=>t.trim()):null},{key:"llm_model",label:"LLM Model",description:"",type:"string"},{key:"filter_filter_by",label:"People Filter",description:"",type:"select",options:{advanced_query:"Advanced Query (most configs)",customer_people:"Customer People (champion alerts)"}},{key:"filter_people_filter",label:"People Filter",description:"",type:"select",options:{salesforce_contact:"Salesforce Contact",user:"User"}}],rBe=({formValues:e,updateField:t,isCreating:n,configId:s})=>l.jsxs("div",{className:"bg-red-50 border-2 border-red-100/30! mt-10 -mr-5 -ml-5 p-5 flex flex-col rounded-xl gap-6",children:[l.jsxs("div",{className:"flex pb-12 flex-row justify-between text-red-900",children:[l.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[l.jsx(Jce,{}),"Sumble Admins only"]}),!n&&s&&l.jsxs("div",{children:["ID: ",s]})]}),l.jsx(ate,{fields:iBe,formValues:e,updateField:t})]}),aBe=()=>{const{signalId:e}=He(),{data:t}=Gt(),{formValues:n,updateField:s,handleSave:i,handleRevert:r,isPending:a,isDirty:o,isCreating:c,data:u}=J$e({signalId:e});return!c&&!u?null:l.jsxs("div",{className:"grid grid-cols-2 flex-1 h-full",children:[l.jsx("div",{className:"overflow-auto px-10 pb-24",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsx(tBe,{isCreating:c,isDirty:o,isPending:a,onSave:i,onRevert:r}),l.jsx(eBe,{name:n.name??"",onChange:h=>s("name",h.target.value)}),l.jsx("div",{className:"flex flex-col gap-6",children:l.jsx(ate,{fields:sBe,formValues:n,updateField:s})}),t&&t.is_admin&&l.jsx(rBe,{formValues:n,updateField:s,isCreating:c,configId:u?.id})]})}),l.jsx("div",{className:"overflow-auto bg-slate-200 flex items-center justify-center",children:l.jsx("div",{className:"text-slate-400",children:"Preview coming soon"})})]})},oBe=()=>l.jsx("div",{className:"flex-1 w-full md:-mt-13 h-[100vh] z-20 overflow-auto bg-white",children:l.jsx(aBe,{})}),lBe=()=>{const e=Rt(),t=w.useMemo(()=>`${window.location.origin}${e.pathname}`,[e.pathname]);return l.jsx("link",{rel:"canonical",href:t})},ote=[{path:"/",errorElement:l.jsx(rOe,{}),element:l.jsxs("div",{className:"flex flex-row max-md:flex-col max-md:h-[calc(100dvh)]",children:[l.jsx(q0e,{}),l.jsx("div",{className:"flex-1 flex flex-col md:h-[calc(100dvh)] overflow-y-hidden md:min-w-[1024px]",children:l.jsx(Ofe,{adapter:Hfe,options:{updateType:"replaceIn",removeDefaultsFromUrl:!0,enableBatching:!0},children:l.jsx(Xse,{children:l.jsx(Kfe,{children:l.jsx(ipe,{children:l.jsx(qfe,{children:l.jsxs(cpe,{children:[l.jsx(x8,{}),l.jsx(Qpe,{}),l.jsx("div",{className:"flex-1 flex flex-col overflow-hidden md:pt-13",children:l.jsx(sd,{})}),l.jsx(dbe,{}),l.jsx(upe,{}),l.jsx(hpe,{}),l.jsx(pbe,{}),l.jsx(Cve,{}),l.jsx(V$e,{}),l.jsx(bDe,{}),l.jsx(lBe,{}),l.jsx(K9e,{}),l.jsx(H$e,{})]})})})})})})})]}),children:[{index:!0,element:l.jsx(Wa,{to:"/orgs",allowedParams:["loom","as"],replace:!0})},{path:"home/orgs",element:l.jsx(Wa,{to:"/orgs",replace:!0})},{path:"orgs",element:l.jsxs(l.Fragment,{children:[l.jsx(x8,{}),l.jsx(rx.Provider,{value:"job_or_person",children:l.jsx(ST,{type:"orgs"})})]})},{path:"jobs",element:l.jsx(rx.Provider,{value:"job",children:l.jsx(ST,{type:"feed"})}),children:[{path:":organizationId/:teamId",children:ko(l.jsx(xw,{}))}]},{path:"people",element:l.jsx(rx.Provider,{value:"person",children:l.jsx(ST,{type:"people"})}),children:[{path:":organizationId/:personId",children:ko(l.jsx(eD,{closeContext:"people"}))}]},{path:"person/:personId",children:ko(l.jsx(G9e,{}))},{path:"home/feed",element:l.jsx(Wa,{to:"/signals",replace:!0})},{path:"pricing",element:l.jsx(hOe,{})},{path:"signals",element:l.jsx(U9e,{}),children:[{path:"us/:signalId",element:l.jsx(L9e,{})},{path:"orgs/:organizationId/teams/:teamId",children:ko(l.jsx(xw,{}))},{path:"orgs/:organizationId/people/:personId",children:ko(l.jsx(eD,{closeContext:"signals"}))}]},{path:"feed",children:ko(l.jsx(fOe,{to:"/signals",replace:!0}))},{path:"home/searches",element:l.jsx(Wa,{to:"/searches",replace:!0})},{path:"searches",children:[{index:!0,element:l.jsx("div",{className:"px-6",children:l.jsx(vU,{})})},{path:":searchId",element:l.jsx(Gpe,{})}]},{path:"account",children:ko(l.jsx(v1e,{}))},{path:"/l/:shortlinkType/:shortlinkId/*",element:l.jsx(Z7,{})},{path:"/l/:shortlinkId",element:l.jsx(Z7,{})},{path:"s/:organizationId",element:l.jsx(Wa,{to:"/orgs/:organizationId",replace:!0})},{path:"f/:organizationId",element:l.jsx(Wa,{to:"/orgs/:organizationId/jobs",replace:!0})},{path:"j/:organizationId",element:l.jsx(Wa,{to:"/orgs/:organizationId/job-functions",replace:!0})},{path:"o/:organizationId",element:l.jsx(Wa,{to:"/orgs/:organizationId/teams",replace:!0})},{path:"orgs/:organizationId",element:l.jsx(Wa,{to:"/orgs/:organizationId/teams",replace:!0})},...P$e.map(F$e),{path:"upload",children:ko(l.jsx(iOe,{}))},{path:"unsubscribe",element:l.jsx(cOe,{})},{path:"lists/:listId?",element:l.jsx(rDe,{})},{path:"account-lists/:listId?",element:l.jsx(owe,{})},{path:"team-docs/:organizationId?",element:l.jsx(dOe,{})},{path:"admin",children:[{index:!0,element:l.jsx(fEe,{})},{path:"users",children:[{index:!0,element:l.jsx(jEe,{})},{path:":userId/credits",element:l.jsx(SEe,{})},{path:":userId/download-limit",element:l.jsx(CEe,{})}]},{path:"orgs",children:[{index:!0,element:l.jsx(xEe,{})},{path:":organizationId",element:l.jsx(yEe,{})}]},{path:"env",element:l.jsx(aOe,{})},{path:"traffic",children:[{path:"rules",element:l.jsx(lOe,{})}]},{path:"slack-blocks",children:[{index:!0,element:l.jsx(gB,{})},{path:":blockId",element:l.jsx(gB,{})}]},{path:"configs",children:[{path:"signals",children:[{index:!0,element:l.jsx(ONe,{})},{path:":signalId",element:l.jsx(oBe,{})}]}]},{path:"customers",children:[{path:"docs",element:l.jsx(hEe,{})}]},{path:"alert-prompts",element:l.jsx(W9e,{})}]},{path:"privacy",element:l.jsx(BIe,{})},{path:"about",element:l.jsx(Mve,{})},{path:"terms-of-service",element:l.jsx(BLe,{})},{path:"subprocessors",element:l.jsx(sLe,{})},{path:"browse",element:l.jsx(of,{to:"/",replace:!0})},{path:"integrations/slack",children:ko(l.jsx(nLe,{}))},{path:"integrations/salesforce",children:ko(l.jsx(WIe,{}))},{path:"request-blocked",element:l.jsx(xg,{title:"Request blocked",numberCode:403,subtitle:"Your request was blocked, please contact support@sumble.com to help us troubleshoot this issue."})},{path:"*",element:l.jsx(xg,{title:"Page not found",subtitle:"We couldn't find the page you were looking for."})}]}],cBe=cae(ote),uBe=()=>l.jsx(lfe,{router:cBe}),dBe="G-EYN7X8VWHD";Gp.initialize(dBe);const lte="REACT_QUERY_OFFLINE_CACHE",g3=new Ghe({defaultOptions:{queries:{gcTime:Zi(),retry:(e,t)=>t.response?.status===400||t.response?.status===402||t.response?.status===403||t.response?.status===406||t.response?.status===417||t.response?.status===429||t.response?.status===504&&!t.response?.headers.get("x-retry")||t&&t.message&&(t.message==="NeedsLogIn"||t.message==="NeedsCaptcha"||t.message==="BlockedRequest"||t?.message?.startsWith("Error 404"))?!1:e<3}},queryCache:new BV({onError:e=>{e&&e.message&&(e.message==="NeedsLogIn"?g3.invalidateQueries({queryKey:["profile"]}):e.message==="BlockedRequest"&&window.location.pathname!=="/request-blocked"?window.location.href="/request-blocked":e.message==="NeedsCaptcha"&&(localStorage.removeItem(lte),document.cookie="show_captcha=1; max-age=10; path=/",window.location.pathname.startsWith("/account/login")?window.location.href="/":window.location.reload()))}})}),hBe=afe({key:lte,storage:window.localStorage});rfe({queryClient:g3,persister:hBe});const fBe=()=>l.jsx("div",{className:"h-[calc(100dvh)] w-full fixed top-0 left-0 overflow-x-auto overflow-y-hidden",children:l.jsxs(yV,{title:"Sumble",children:[l.jsx("meta",{name:"description",content:"Sumble provides account intelligence data, enabling sales teams to do deep research. Use it to better inform your targeting and outreach."}),l.jsxs(Whe,{client:g3,children:[l.jsx(yoe,{iconProps:{strokeWidth:1.75},children:l.jsxs(efe,{children:[l.jsx(uBe,{}),l.jsx(doe,{position:"bottom-center",toastOptions:{className:"font-semibold! text-lg border! border-slate-300! shadow-lg! z-100",style:{}}})]})}),l.jsx(tfe,{initialIsOpen:!1,buttonPosition:"bottom-right"})]}),l.jsx(JV,{})]})}),pBe=window?.location?.hostname,gBe="2025.10.20-61cbdb3",mBe=pBe==="sumble.com"?"production":"development";Jse({dsn:"https://67711a6eef5b455e9d5dbaf8942844b1@o4505073025220608.ingest.sentry.io/4505073026334720",environment:mBe,allowUrls:[/https?:\/\/(dev\.)?sumble\.com/],release:gBe,replaysSessionSampleRate:0,replaysOnErrorSampleRate:1,integrations:[eie({}),tie(),nie({useEffect:Xe.useEffect,useLocation:Rt,useNavigationType:xre,createRoutesFromChildren:WS,matchRoutes:Ec})],tracesSampleRate:1});const yBe=lie.createRoot(document.getElementById("root"));yBe.render(l.jsx(fBe,{}));
//# sourceMappingURL=index-CvMf0Kxv.js.map
